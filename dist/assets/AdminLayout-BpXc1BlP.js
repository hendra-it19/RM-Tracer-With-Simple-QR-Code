import{r,j as e,L as y}from"./index-CSak_wTG.js";import{N as b}from"./index-BeZcMjBn.js";import{u as j}from"./AuthContext-Bg7guHVU.js";import{u as f,O as g}from"./index-jxamHYc2.js";import{X as v}from"./x-DpsTIIWE.js";import{c as l}from"./createLucideIcon-6Q1StMY_.js";import{Q as k}from"./qr-code-C8MP7_mu.js";import{F as N}from"./file-text--9lyR9Wh.js";import{U as o}from"./users-CqfQCxuk.js";import{A as L}from"./activity-Be37ljIH.js";import{L as w}from"./log-out-DOrjjtQE.js";const O=l("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const z=l("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Q=()=>{const{profile:i,signOut:c}=j(),d=f(),[a,n]=r.useState(!1),[m,x]=r.useState(!1),p=async()=>{confirm("Apakah Anda yakin ingin keluar aplikasi?")&&(x(!0),await new Promise(s=>setTimeout(s,800)),await c(),d("/login"))},h=[{path:"/admin",icon:O,label:"Dashboard",end:!0},{path:"/admin/patients",icon:N,label:"Pasien & Berkas"},{path:"/admin/users",icon:o,label:"Manajemen User"},{path:"/admin/logs",icon:L,label:"Log Aktivitas"},{path:"/admin/profile",icon:o,label:"Profil Saya"}],u=s=>s?s.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2):"U";return e.jsxs("div",{className:"app-layout",children:[m&&e.jsx(y,{}),e.jsx("button",{className:"btn btn-icon btn-ghost no-print",onClick:()=>n(!a),style:{position:"fixed",top:"1rem",left:"1rem",zIndex:250,display:"none"},id:"mobile-menu-btn",children:a?e.jsx(v,{size:24}):e.jsx(z,{size:24})}),e.jsxs("aside",{className:`sidebar ${a?"open":""}`,children:[e.jsx("div",{className:"sidebar-header",children:e.jsxs("div",{className:"sidebar-logo",children:[e.jsx(k,{size:28}),e.jsx("span",{children:"RM Tracer"})]})}),e.jsx("nav",{className:"sidebar-nav",children:h.map(s=>e.jsxs(b,{to:s.path,end:s.end,className:({isActive:t})=>`nav-item ${t?"active":""}`,onClick:()=>n(!1),children:[e.jsx(s.icon,{className:"nav-item-icon",size:20}),e.jsx("span",{children:s.label})]},s.path))}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("div",{className:"user-info",children:[e.jsx("div",{className:"user-avatar",children:u(i?.nama)}),e.jsxs("div",{className:"user-details",children:[e.jsx("div",{className:"user-name",children:i?.nama||"User"}),e.jsx("div",{className:"user-role",children:i?.role||"Admin"})]})]}),e.jsxs("button",{className:"btn btn-ghost btn-block mt-sm",onClick:p,style:{justifyContent:"flex-start"},children:[e.jsx(w,{size:18}),e.jsx("span",{children:"Keluar"})]})]})]}),a&&e.jsx("div",{className:"no-print",style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",zIndex:199,display:"none"},id:"sidebar-overlay",onClick:()=>n(!1)}),e.jsx("main",{className:"main-content",children:e.jsx(g,{})}),e.jsx("style",{children:`
        @media (max-width: 1024px) {
          #mobile-menu-btn {
            display: flex !important;
          }
          #sidebar-overlay {
            display: block !important;
          }
        }
      `})]})};export{Q as default};
