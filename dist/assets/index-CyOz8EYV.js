function ix(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var RT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ng={exports:{}},Oh={},Ag={exports:{}},Vt={};var z1;function ax(){if(z1)return Vt;z1=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.iterator;function y(K){return K===null||typeof K!="object"?null:(K=m&&K[m]||K["@@iterator"],typeof K=="function"?K:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,k={};function N(K,O,Y){this.props=K,this.context=O,this.refs=k,this.updater=Y||g}N.prototype.isReactComponent={},N.prototype.setState=function(K,O){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,O,"setState")},N.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function P(){}P.prototype=N.prototype;function L(K,O,Y){this.props=K,this.context=O,this.refs=k,this.updater=Y||g}var T=L.prototype=new P;T.constructor=L,_(T,N.prototype),T.isPureReactComponent=!0;var j=Array.isArray,D=Object.prototype.hasOwnProperty,Q={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function H(K,O,Y){var ee,oe={},ce=null,ye=null;if(O!=null)for(ee in O.ref!==void 0&&(ye=O.ref),O.key!==void 0&&(ce=""+O.key),O)D.call(O,ee)&&!U.hasOwnProperty(ee)&&(oe[ee]=O[ee]);var _e=arguments.length-2;if(_e===1)oe.children=Y;else if(1<_e){for(var Ae=Array(_e),Te=0;Te<_e;Te++)Ae[Te]=arguments[Te+2];oe.children=Ae}if(K&&K.defaultProps)for(ee in _e=K.defaultProps,_e)oe[ee]===void 0&&(oe[ee]=_e[ee]);return{$$typeof:n,type:K,key:ce,ref:ye,props:oe,_owner:Q.current}}function W(K,O){return{$$typeof:n,type:K.type,key:O,ref:K.ref,props:K.props,_owner:K._owner}}function ae(K){return typeof K=="object"&&K!==null&&K.$$typeof===n}function I(K){var O={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(Y){return O[Y]})}var q=/\/+/g;function ne(K,O){return typeof K=="object"&&K!==null&&K.key!=null?I(""+K.key):O.toString(36)}function re(K,O,Y,ee,oe){var ce=typeof K;(ce==="undefined"||ce==="boolean")&&(K=null);var ye=!1;if(K===null)ye=!0;else switch(ce){case"string":case"number":ye=!0;break;case"object":switch(K.$$typeof){case n:case e:ye=!0}}if(ye)return ye=K,oe=oe(ye),K=ee===""?"."+ne(ye,0):ee,j(oe)?(Y="",K!=null&&(Y=K.replace(q,"$&/")+"/"),re(oe,O,Y,"",function(Te){return Te})):oe!=null&&(ae(oe)&&(oe=W(oe,Y+(!oe.key||ye&&ye.key===oe.key?"":(""+oe.key).replace(q,"$&/")+"/")+K)),O.push(oe)),1;if(ye=0,ee=ee===""?".":ee+":",j(K))for(var _e=0;_e<K.length;_e++){ce=K[_e];var Ae=ee+ne(ce,_e);ye+=re(ce,O,Y,Ae,oe)}else if(Ae=y(K),typeof Ae=="function")for(K=Ae.call(K),_e=0;!(ce=K.next()).done;)ce=ce.value,Ae=ee+ne(ce,_e++),ye+=re(ce,O,Y,Ae,oe);else if(ce==="object")throw O=String(K),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return ye}function ve(K,O,Y){if(K==null)return K;var ee=[],oe=0;return re(K,ee,"","",function(ce){return O.call(Y,ce,oe++)}),ee}function be(K){if(K._status===-1){var O=K._result;O=O(),O.then(function(Y){(K._status===0||K._status===-1)&&(K._status=1,K._result=Y)},function(Y){(K._status===0||K._status===-1)&&(K._status=2,K._result=Y)}),K._status===-1&&(K._status=0,K._result=O)}if(K._status===1)return K._result.default;throw K._result}var he={current:null},$={transition:null},ie={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:$,ReactCurrentOwner:Q};function le(){throw Error("act(...) is not supported in production builds of React.")}return Vt.Children={map:ve,forEach:function(K,O,Y){ve(K,function(){O.apply(this,arguments)},Y)},count:function(K){var O=0;return ve(K,function(){O++}),O},toArray:function(K){return ve(K,function(O){return O})||[]},only:function(K){if(!ae(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Vt.Component=N,Vt.Fragment=t,Vt.Profiler=i,Vt.PureComponent=L,Vt.StrictMode=r,Vt.Suspense=u,Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Vt.act=le,Vt.cloneElement=function(K,O,Y){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var ee=_({},K.props),oe=K.key,ce=K.ref,ye=K._owner;if(O!=null){if(O.ref!==void 0&&(ce=O.ref,ye=Q.current),O.key!==void 0&&(oe=""+O.key),K.type&&K.type.defaultProps)var _e=K.type.defaultProps;for(Ae in O)D.call(O,Ae)&&!U.hasOwnProperty(Ae)&&(ee[Ae]=O[Ae]===void 0&&_e!==void 0?_e[Ae]:O[Ae])}var Ae=arguments.length-2;if(Ae===1)ee.children=Y;else if(1<Ae){_e=Array(Ae);for(var Te=0;Te<Ae;Te++)_e[Te]=arguments[Te+2];ee.children=_e}return{$$typeof:n,type:K.type,key:oe,ref:ce,props:ee,_owner:ye}},Vt.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:s,_context:K},K.Consumer=K},Vt.createElement=H,Vt.createFactory=function(K){var O=H.bind(null,K);return O.type=K,O},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(K){return{$$typeof:l,render:K}},Vt.isValidElement=ae,Vt.lazy=function(K){return{$$typeof:d,_payload:{_status:-1,_result:K},_init:be}},Vt.memo=function(K,O){return{$$typeof:h,type:K,compare:O===void 0?null:O}},Vt.startTransition=function(K){var O=$.transition;$.transition={};try{K()}finally{$.transition=O}},Vt.unstable_act=le,Vt.useCallback=function(K,O){return he.current.useCallback(K,O)},Vt.useContext=function(K){return he.current.useContext(K)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(K){return he.current.useDeferredValue(K)},Vt.useEffect=function(K,O){return he.current.useEffect(K,O)},Vt.useId=function(){return he.current.useId()},Vt.useImperativeHandle=function(K,O,Y){return he.current.useImperativeHandle(K,O,Y)},Vt.useInsertionEffect=function(K,O){return he.current.useInsertionEffect(K,O)},Vt.useLayoutEffect=function(K,O){return he.current.useLayoutEffect(K,O)},Vt.useMemo=function(K,O){return he.current.useMemo(K,O)},Vt.useReducer=function(K,O,Y){return he.current.useReducer(K,O,Y)},Vt.useRef=function(K){return he.current.useRef(K)},Vt.useState=function(K){return he.current.useState(K)},Vt.useSyncExternalStore=function(K,O,Y){return he.current.useSyncExternalStore(K,O,Y)},Vt.useTransition=function(){return he.current.useTransition()},Vt.version="18.3.1",Vt}var W1;function a0(){return W1||(W1=1,Ag.exports=ax()),Ag.exports}var q1;function ox(){if(q1)return Oh;q1=1;var n=a0(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,h){var d,m={},y=null,g=null;h!==void 0&&(y=""+h),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(g=u.ref);for(d in u)r.call(u,d)&&!s.hasOwnProperty(d)&&(m[d]=u[d]);if(l&&l.defaultProps)for(d in u=l.defaultProps,u)m[d]===void 0&&(m[d]=u[d]);return{$$typeof:e,type:l,key:y,ref:g,props:m,_owner:i.current}}return Oh.Fragment=t,Oh.jsx=o,Oh.jsxs=o,Oh}var H1;function lx(){return H1||(H1=1,Ng.exports=ox()),Ng.exports}var b=lx(),de=a0();const Gi=sx(de),cx=ix({__proto__:null,default:Gi},[de]);var cf={},Pg={exports:{}},$i={},Cg={exports:{}},Eg={};var $1;function ux(){return $1||($1=1,(function(n){function e($,ie){var le=$.length;$.push(ie);e:for(;0<le;){var K=le-1>>>1,O=$[K];if(0<i(O,ie))$[K]=ie,$[le]=O,le=K;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ie=$[0],le=$.pop();if(le!==ie){$[0]=le;e:for(var K=0,O=$.length,Y=O>>>1;K<Y;){var ee=2*(K+1)-1,oe=$[ee],ce=ee+1,ye=$[ce];if(0>i(oe,le))ce<O&&0>i(ye,oe)?($[K]=ye,$[ce]=le,K=ce):($[K]=oe,$[ee]=le,K=ee);else if(ce<O&&0>i(ye,le))$[K]=ye,$[ce]=le,K=ce;else break e}}return ie}function i($,ie){var le=$.sortIndex-ie.sortIndex;return le!==0?le:$.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var u=[],h=[],d=1,m=null,y=3,g=!1,_=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T($){for(var ie=t(h);ie!==null;){if(ie.callback===null)r(h);else if(ie.startTime<=$)r(h),ie.sortIndex=ie.expirationTime,e(u,ie);else break;ie=t(h)}}function j($){if(k=!1,T($),!_)if(t(u)!==null)_=!0,be(D);else{var ie=t(h);ie!==null&&he(j,ie.startTime-$)}}function D($,ie){_=!1,k&&(k=!1,P(H),H=-1),g=!0;var le=y;try{for(T(ie),m=t(u);m!==null&&(!(m.expirationTime>ie)||$&&!I());){var K=m.callback;if(typeof K=="function"){m.callback=null,y=m.priorityLevel;var O=K(m.expirationTime<=ie);ie=n.unstable_now(),typeof O=="function"?m.callback=O:m===t(u)&&r(u),T(ie)}else r(u);m=t(u)}if(m!==null)var Y=!0;else{var ee=t(h);ee!==null&&he(j,ee.startTime-ie),Y=!1}return Y}finally{m=null,y=le,g=!1}}var Q=!1,U=null,H=-1,W=5,ae=-1;function I(){return!(n.unstable_now()-ae<W)}function q(){if(U!==null){var $=n.unstable_now();ae=$;var ie=!0;try{ie=U(!0,$)}finally{ie?ne():(Q=!1,U=null)}}else Q=!1}var ne;if(typeof L=="function")ne=function(){L(q)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ve=re.port2;re.port1.onmessage=q,ne=function(){ve.postMessage(null)}}else ne=function(){N(q,0)};function be($){U=$,Q||(Q=!0,ne())}function he($,ie){H=N(function(){$(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){_||g||(_=!0,be(D))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function($){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var le=y;y=ie;try{return $()}finally{y=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,ie){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var le=y;y=$;try{return ie()}finally{y=le}},n.unstable_scheduleCallback=function($,ie,le){var K=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?K+le:K):le=K,$){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=le+O,$={id:d++,callback:ie,priorityLevel:$,startTime:le,expirationTime:O,sortIndex:-1},le>K?($.sortIndex=le,e(h,$),t(u)===null&&$===t(h)&&(k?(P(H),H=-1):k=!0,he(j,le-K))):($.sortIndex=O,e(u,$),_||g||(_=!0,be(D))),$},n.unstable_shouldYield=I,n.unstable_wrapCallback=function($){var ie=y;return function(){var le=y;y=ie;try{return $.apply(this,arguments)}finally{y=le}}}})(Eg)),Eg}var V1;function hx(){return V1||(V1=1,Cg.exports=ux()),Cg.exports}var G1;function dx(){if(G1)return $i;G1=1;var n=a0(),e=hx();function t(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,c){o(a,c),o(a+"Capture",c)}function o(a,c){for(i[a]=c,a=0;a<c.length;a++)r.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},m={};function y(a){return u.call(m,a)?!0:u.call(d,a)?!1:h.test(a)?m[a]=!0:(d[a]=!0,!1)}function g(a,c,f,v){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return v?!1:f!==null?!f.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function _(a,c,f,v){if(c===null||typeof c>"u"||g(a,c,f,v))return!0;if(v)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function k(a,c,f,v,S,C,F){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=v,this.attributeNamespace=S,this.mustUseProperty=f,this.propertyName=a,this.type=c,this.sanitizeURL=C,this.removeEmptyString=F}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){N[a]=new k(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];N[c]=new k(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){N[a]=new k(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){N[a]=new k(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){N[a]=new k(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){N[a]=new k(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){N[a]=new k(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){N[a]=new k(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){N[a]=new k(a,5,!1,a.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function L(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(P,L);N[c]=new k(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(P,L);N[c]=new k(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(P,L);N[c]=new k(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){N[a]=new k(a,1,!1,a.toLowerCase(),null,!1,!1)}),N.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){N[a]=new k(a,1,!1,a.toLowerCase(),null,!0,!0)});function T(a,c,f,v){var S=N.hasOwnProperty(c)?N[c]:null;(S!==null?S.type!==0:v||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(_(c,f,S,v)&&(f=null),v||S===null?y(c)&&(f===null?a.removeAttribute(c):a.setAttribute(c,""+f)):S.mustUseProperty?a[S.propertyName]=f===null?S.type===3?!1:"":f:(c=S.attributeName,v=S.attributeNamespace,f===null?a.removeAttribute(c):(S=S.type,f=S===3||S===4&&f===!0?"":""+f,v?a.setAttributeNS(v,c,f):a.setAttribute(c,f))))}var j=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),Q=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),I=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),$=Symbol.iterator;function ie(a){return a===null||typeof a!="object"?null:(a=$&&a[$]||a["@@iterator"],typeof a=="function"?a:null)}var le=Object.assign,K;function O(a){if(K===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);K=c&&c[1]||""}return`
`+K+a}var Y=!1;function ee(a,c){if(!a||Y)return"";Y=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Ce){var v=Ce}Reflect.construct(a,[],c)}else{try{c.call()}catch(Ce){v=Ce}a.call(c.prototype)}else{try{throw Error()}catch(Ce){v=Ce}a()}}catch(Ce){if(Ce&&v&&typeof Ce.stack=="string"){for(var S=Ce.stack.split(`
`),C=v.stack.split(`
`),F=S.length-1,se=C.length-1;1<=F&&0<=se&&S[F]!==C[se];)se--;for(;1<=F&&0<=se;F--,se--)if(S[F]!==C[se]){if(F!==1||se!==1)do if(F--,se--,0>se||S[F]!==C[se]){var pe=`
`+S[F].replace(" at new "," at ");return a.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",a.displayName)),pe}while(1<=F&&0<=se);break}}}finally{Y=!1,Error.prepareStackTrace=f}return(a=a?a.displayName||a.name:"")?O(a):""}function oe(a){switch(a.tag){case 5:return O(a.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return a=ee(a.type,!1),a;case 11:return a=ee(a.type.render,!1),a;case 1:return a=ee(a.type,!0),a;default:return""}}function ce(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case U:return"Fragment";case Q:return"Portal";case W:return"Profiler";case H:return"StrictMode";case ne:return"Suspense";case re:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case I:return(a.displayName||"Context")+".Consumer";case ae:return(a._context.displayName||"Context")+".Provider";case q:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ve:return c=a.displayName||null,c!==null?c:ce(a.type)||"Memo";case be:c=a._payload,a=a._init;try{return ce(a(c))}catch{}}return null}function ye(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(c);case 8:return c===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function _e(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ae(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Te(a){var c=Ae(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),v=""+a[c];if(!a.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var S=f.get,C=f.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return S.call(this)},set:function(F){v=""+F,C.call(this,F)}}),Object.defineProperty(a,c,{enumerable:f.enumerable}),{getValue:function(){return v},setValue:function(F){v=""+F},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function Ue(a){a._valueTracker||(a._valueTracker=Te(a))}function Ve(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var f=c.getValue(),v="";return a&&(v=Ae(a)?a.checked?"true":"false":a.value),a=v,a!==f?(c.setValue(a),!0):!1}function He(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function lt(a,c){var f=c.checked;return le({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??a._wrapperState.initialChecked})}function X(a,c){var f=c.defaultValue==null?"":c.defaultValue,v=c.checked!=null?c.checked:c.defaultChecked;f=_e(c.value!=null?c.value:f),a._wrapperState={initialChecked:v,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function $e(a,c){c=c.checked,c!=null&&T(a,"checked",c,!1)}function Mt(a,c){$e(a,c);var f=_e(c.value),v=c.type;if(f!=null)v==="number"?(f===0&&a.value===""||a.value!=f)&&(a.value=""+f):a.value!==""+f&&(a.value=""+f);else if(v==="submit"||v==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?De(a,c.type,f):c.hasOwnProperty("defaultValue")&&De(a,c.type,_e(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function mt(a,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var v=c.type;if(!(v!=="submit"&&v!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,f||c===a.value||(a.value=c),a.defaultValue=c}f=a.name,f!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,f!==""&&(a.name=f)}function De(a,c,f){(c!=="number"||He(a.ownerDocument)!==a)&&(f==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+f&&(a.defaultValue=""+f))}var dt=Array.isArray;function Ge(a,c,f,v){if(a=a.options,c){c={};for(var S=0;S<f.length;S++)c["$"+f[S]]=!0;for(f=0;f<a.length;f++)S=c.hasOwnProperty("$"+a[f].value),a[f].selected!==S&&(a[f].selected=S),S&&v&&(a[f].defaultSelected=!0)}else{for(f=""+_e(f),c=null,S=0;S<a.length;S++){if(a[S].value===f){a[S].selected=!0,v&&(a[S].defaultSelected=!0);return}c!==null||a[S].disabled||(c=a[S])}c!==null&&(c.selected=!0)}}function gt(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function ft(a,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(t(92));if(dt(f)){if(1<f.length)throw Error(t(93));f=f[0]}c=f}c==null&&(c=""),f=c}a._wrapperState={initialValue:_e(f)}}function Qt(a,c){var f=_e(c.value),v=_e(c.defaultValue);f!=null&&(f=""+f,f!==a.value&&(a.value=f),c.defaultValue==null&&a.defaultValue!==f&&(a.defaultValue=f)),v!=null&&(a.defaultValue=""+v)}function Wt(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function Lt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qt(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?Lt(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ut,rt=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,v,S){MSApp.execUnsafeLocalFunction(function(){return a(c,f,v,S)})}:a})(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(Ut=Ut||document.createElement("div"),Ut.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Ut.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function At(a,c){if(c){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=c;return}}a.textContent=c}var nt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$n=["Webkit","ms","Moz","O"];Object.keys(nt).forEach(function(a){$n.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),nt[c]=nt[a]})});function Kt(a,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||nt.hasOwnProperty(a)&&nt[a]?(""+c).trim():c+"px"}function Bt(a,c){a=a.style;for(var f in c)if(c.hasOwnProperty(f)){var v=f.indexOf("--")===0,S=Kt(f,c[f],v);f==="float"&&(f="cssFloat"),v?a.setProperty(f,S):a[f]=S}}var zt=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bn(a,c){if(c){if(zt[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(t(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(t(61))}if(c.style!=null&&typeof c.style!="object")throw Error(t(62))}}function pt(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cn=null;function vt(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ct=null,on=null,Ot=null;function yt(a){if(a=hl(a)){if(typeof Ct!="function")throw Error(t(280));var c=a.stateNode;c&&(c=oc(c),Ct(a.stateNode,a.type,c))}}function Zt(a){on?Ot?Ot.push(a):Ot=[a]:on=a}function ma(){if(on){var a=on,c=Ot;if(Ot=on=null,yt(a),c)for(a=0;a<c.length;a++)yt(c[a])}}function Pr(a,c){return a(c)}function ys(){}var Ei=!1;function wt(a,c,f){if(Ei)return a(c,f);Ei=!0;try{return Pr(a,c,f)}finally{Ei=!1,(on!==null||Ot!==null)&&(ys(),ma())}}function gi(a,c){var f=a.stateNode;if(f===null)return null;var v=oc(f);if(v===null)return null;f=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(a=a.type,v=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!v;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(t(231,c,typeof f));return f}var Xi=!1;if(l)try{var Ir={};Object.defineProperty(Ir,"passive",{get:function(){Xi=!0}}),window.addEventListener("test",Ir,Ir),window.removeEventListener("test",Ir,Ir)}catch{Xi=!1}function ji(a,c,f,v,S,C,F,se,pe){var Ce=Array.prototype.slice.call(arguments,3);try{c.apply(f,Ce)}catch(Be){this.onError(Be)}}var _n=!1,Vn=null,tr=!1,Us=null,va={onError:function(a){_n=!0,Vn=a}};function Qi(a,c,f,v,S,C,F,se,pe){_n=!1,Vn=null,ji.apply(va,arguments)}function ws(a,c,f,v,S,C,F,se,pe){if(Qi.apply(this,arguments),_n){if(_n){var Ce=Vn;_n=!1,Vn=null}else throw Error(t(198));tr||(tr=!0,Us=Ce)}}function Cr(a){var c=a,f=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(f=c.return),a=c.return;while(a)}return c.tag===3?f:null}function Li(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function mi(a){if(Cr(a)!==a)throw Error(t(188))}function Ga(a){var c=a.alternate;if(!c){if(c=Cr(a),c===null)throw Error(t(188));return c!==a?null:a}for(var f=a,v=c;;){var S=f.return;if(S===null)break;var C=S.alternate;if(C===null){if(v=S.return,v!==null){f=v;continue}break}if(S.child===C.child){for(C=S.child;C;){if(C===f)return mi(S),a;if(C===v)return mi(S),c;C=C.sibling}throw Error(t(188))}if(f.return!==v.return)f=S,v=C;else{for(var F=!1,se=S.child;se;){if(se===f){F=!0,f=S,v=C;break}if(se===v){F=!0,v=S,f=C;break}se=se.sibling}if(!F){for(se=C.child;se;){if(se===f){F=!0,f=C,v=S;break}if(se===v){F=!0,v=C,f=S;break}se=se.sibling}if(!F)throw Error(t(189))}}if(f.alternate!==v)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?a:c}function Zi(a){return a=Ga(a),a!==null?ya(a):null}function ya(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=ya(a);if(c!==null)return c;a=a.sibling}return null}var Ka=e.unstable_scheduleCallback,Ya=e.unstable_cancelCallback,qo=e.unstable_shouldYield,ah=e.unstable_requestPaint,kn=e.unstable_now,Hc=e.unstable_getCurrentPriorityLevel,Ho=e.unstable_ImmediatePriority,vi=e.unstable_UserBlockingPriority,wa=e.unstable_NormalPriority,$c=e.unstable_LowPriority,$o=e.unstable_IdlePriority,Ja=null,yi=null;function Vc(a){if(yi&&typeof yi.onCommitFiberRoot=="function")try{yi.onCommitFiberRoot(Ja,a,void 0,(a.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:rr,Vo=Math.log,oh=Math.LN2;function rr(a){return a>>>=0,a===0?32:31-(Vo(a)/oh|0)|0}var Xa=64,wi=4194304;function bs(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Qa(a,c){var f=a.pendingLanes;if(f===0)return 0;var v=0,S=a.suspendedLanes,C=a.pingedLanes,F=f&268435455;if(F!==0){var se=F&~S;se!==0?v=bs(se):(C&=F,C!==0&&(v=bs(C)))}else F=f&~S,F!==0?v=bs(F):C!==0&&(v=bs(C));if(v===0)return 0;if(c!==0&&c!==v&&(c&S)===0&&(S=v&-v,C=c&-c,S>=C||S===16&&(C&4194240)!==0))return c;if((v&4)!==0&&(v|=f&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=v;0<c;)f=31-nr(c),S=1<<f,v|=a[f],c&=~S;return v}function Ti(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fr(a,c){for(var f=a.suspendedLanes,v=a.pingedLanes,S=a.expirationTimes,C=a.pendingLanes;0<C;){var F=31-nr(C),se=1<<F,pe=S[F];pe===-1?((se&f)===0||(se&v)!==0)&&(S[F]=Ti(se,c)):pe<=c&&(a.expiredLanes|=se),C&=~se}}function es(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function ql(){var a=Xa;return Xa<<=1,(Xa&4194240)===0&&(Xa=64),a}function Hl(a){for(var c=[],f=0;31>f;f++)c.push(a);return c}function Za(a,c,f){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-nr(c),a[c]=f}function _s(a,c){var f=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var v=a.eventTimes;for(a=a.expirationTimes;0<f;){var S=31-nr(f),C=1<<S;c[S]=0,v[S]=-1,a[S]=-1,f&=~C}}function Go(a,c){var f=a.entangledLanes|=c;for(a=a.entanglements;f;){var v=31-nr(f),S=1<<v;S&c|a[v]&c&&(a[v]|=c),f&=~S}}var Xt=0;function eo(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var ba,$l,Gc,Kc,Ko,Yo=!1,ei=[],xs=null,ti=null,Oi=null,to=new Map,xt=new Map,Ss=[],lh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yc(a,c){switch(a){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":to.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":xt.delete(c.pointerId)}}function bi(a,c,f,v,S,C){return a===null||a.nativeEvent!==C?(a={blockedOn:c,domEventName:f,eventSystemFlags:v,nativeEvent:C,targetContainers:[S]},c!==null&&(c=hl(c),c!==null&&$l(c)),a):(a.eventSystemFlags|=v,c=a.targetContainers,S!==null&&c.indexOf(S)===-1&&c.push(S),a)}function zs(a,c,f,v,S){switch(c){case"focusin":return xs=bi(xs,a,c,f,v,S),!0;case"dragenter":return ti=bi(ti,a,c,f,v,S),!0;case"mouseover":return Oi=bi(Oi,a,c,f,v,S),!0;case"pointerover":var C=S.pointerId;return to.set(C,bi(to.get(C)||null,a,c,f,v,S)),!0;case"gotpointercapture":return C=S.pointerId,xt.set(C,bi(xt.get(C)||null,a,c,f,v,S)),!0}return!1}function Jc(a){var c=La(a.target);if(c!==null){var f=Cr(c);if(f!==null){if(c=f.tag,c===13){if(c=Li(f),c!==null){a.blockedOn=c,Ko(a.priority,function(){Gc(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Jo(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var f=io(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(f===null){f=a.nativeEvent;var v=new f.constructor(f.type,f);cn=v,f.target.dispatchEvent(v),cn=null}else return c=hl(f),c!==null&&$l(c),a.blockedOn=f,!1;c.shift()}return!0}function no(a,c,f){Jo(a)&&f.delete(c)}function Vl(){Yo=!1,xs!==null&&Jo(xs)&&(xs=null),ti!==null&&Jo(ti)&&(ti=null),Oi!==null&&Jo(Oi)&&(Oi=null),to.forEach(no),xt.forEach(no)}function ts(a,c){a.blockedOn===c&&(a.blockedOn=null,Yo||(Yo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vl)))}function ro(a){function c(S){return ts(S,a)}if(0<ei.length){ts(ei[0],a);for(var f=1;f<ei.length;f++){var v=ei[f];v.blockedOn===a&&(v.blockedOn=null)}}for(xs!==null&&ts(xs,a),ti!==null&&ts(ti,a),Oi!==null&&ts(Oi,a),to.forEach(c),xt.forEach(c),f=0;f<Ss.length;f++)v=Ss[f],v.blockedOn===a&&(v.blockedOn=null);for(;0<Ss.length&&(f=Ss[0],f.blockedOn===null);)Jc(f),f.blockedOn===null&&Ss.shift()}var ni=j.ReactCurrentBatchConfig,Xo=!0;function Gl(a,c,f,v){var S=Xt,C=ni.transition;ni.transition=null;try{Xt=1,Qo(a,c,f,v)}finally{Xt=S,ni.transition=C}}function Kl(a,c,f,v){var S=Xt,C=ni.transition;ni.transition=null;try{Xt=4,Qo(a,c,f,v)}finally{Xt=S,ni.transition=C}}function Qo(a,c,f,v){if(Xo){var S=io(a,c,f,v);if(S===null)ic(a,c,v,Ri,f),Yc(a,v);else if(zs(S,a,c,f,v))v.stopPropagation();else if(Yc(a,v),c&4&&-1<lh.indexOf(a)){for(;S!==null;){var C=hl(S);if(C!==null&&ba(C),C=io(a,c,f,v),C===null&&ic(a,c,v,Ri,f),C===S)break;S=C}S!==null&&v.stopPropagation()}else ic(a,c,v,null,f)}}var Ri=null;function io(a,c,f,v){if(Ri=null,a=vt(v),a=La(a),a!==null)if(c=Cr(a),c===null)a=null;else if(f=c.tag,f===13){if(a=Li(c),a!==null)return a;a=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return Ri=a,null}function so(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hc()){case Ho:return 1;case vi:return 4;case wa:case $c:return 16;case $o:return 536870912;default:return 16}default:return 16}}var Mi=null,Ws=null,_a=null;function Yl(){if(_a)return _a;var a,c=Ws,f=c.length,v,S="value"in Mi?Mi.value:Mi.textContent,C=S.length;for(a=0;a<f&&c[a]===S[a];a++);var F=f-a;for(v=1;v<=F&&c[f-v]===S[C-v];v++);return _a=S.slice(a,1<v?1-v:void 0)}function ao(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Ii(){return!0}function ks(){return!1}function Dr(a){function c(f,v,S,C,F){this._reactName=f,this._targetInst=S,this.type=v,this.nativeEvent=C,this.target=F,this.currentTarget=null;for(var se in a)a.hasOwnProperty(se)&&(f=a[se],this[se]=f?f(C):C[se]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Ii:ks,this.isPropagationStopped=ks,this}return le(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),c}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zo=Dr(Di),x=le({},Di,{view:0,detail:0}),M=Dr(x),te,ue,we,Oe=le({},x,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==we&&(we&&a.type==="mousemove"?(te=a.screenX-we.screenX,ue=a.screenY-we.screenY):ue=te=0,we=a),te)},movementY:function(a){return"movementY"in a?a.movementY:ue}}),Ie=Dr(Oe),Qe=le({},Oe,{dataTransfer:0}),st=Dr(Qe),Pt=le({},x,{relatedTarget:0}),Tt=Dr(Pt),Jt=le({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),Mn=Dr(Jt),ir=le({},Di,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),xn=Dr(ir),pr=le({},Di,{data:0}),Gn=Dr(pr),Er={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ns={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hs(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=ns[a])?!!c[a]:!1}function oo(){return Hs}var el=le({},x,{key:function(a){if(a.key){var c=Er[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=ao(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?qs[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(a){return a.type==="keypress"?ao(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ao(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),xa=Dr(el),lo=le({},Oe,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sa=Dr(lo),ka=le({},x,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),jr=Dr(ka),co=le({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),uo=Dr(co),Jl=le({},Oe,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Xl=Dr(Jl),Vr=[9,13,27,32],rs=l&&"CompositionEvent"in window,Ns=null;l&&"documentMode"in document&&(Ns=document.documentMode);var Xc=l&&"TextEvent"in window&&!Ns,_i=l&&(!rs||Ns&&8<Ns&&11>=Ns),Na=" ",tl=!1;function nl(a,c){switch(a){case"keyup":return Vr.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $s(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Fi=!1;function xi(a,c){switch(a){case"compositionend":return $s(c);case"keypress":return c.which!==32?null:(tl=!0,Na);case"textInput":return a=c.data,a===Na&&tl?null:a;default:return null}}function Si(a,c){if(Fi)return a==="compositionend"||!rs&&nl(a,c)?(a=Yl(),_a=Ws=Mi=null,Fi=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return _i&&c.locale!=="ko"?null:c.data;default:return null}}var Aa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function As(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!Aa[a.type]:c==="textarea"}function Vs(a,c,f,v){Zt(v),c=nu(c,"onChange"),0<c.length&&(f=new Zo("onChange","change",null,f,v),a.push({event:f,listeners:c}))}var Gs=null,Ps=null;function Kn(a){nc(a,0)}function ho(a){var c=xo(a);if(Ve(c))return a}function Cs(a,c){if(a==="change")return c}var is=!1;if(l){var fo;if(l){var po="oninput"in document;if(!po){var rl=document.createElement("div");rl.setAttribute("oninput","return;"),po=typeof rl.oninput=="function"}fo=po}else fo=!1;is=fo&&(!document.documentMode||9<document.documentMode)}function il(){Gs&&(Gs.detachEvent("onpropertychange",Ks),Ps=Gs=null)}function Ks(a){if(a.propertyName==="value"&&ho(Ps)){var c=[];Vs(c,Ps,a,vt(a)),wt(Kn,c)}}function Pa(a,c,f){a==="focusin"?(il(),Gs=c,Ps=f,Gs.attachEvent("onpropertychange",Ks)):a==="focusout"&&il()}function Ca(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ho(Ps)}function go(a,c){if(a==="click")return ho(c)}function Ea(a,c){if(a==="input"||a==="change")return ho(c)}function mo(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Bn=typeof Object.is=="function"?Object.is:mo;function ri(a,c){if(Bn(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var f=Object.keys(a),v=Object.keys(c);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var S=f[v];if(!u.call(c,S)||!Bn(a[S],c[S]))return!1}return!0}function en(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function un(a,c){var f=en(a);a=0;for(var v;f;){if(f.nodeType===3){if(v=a+f.textContent.length,a<=c&&v>=c)return{node:f,offset:c-a};a=v}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=en(f)}}function Un(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?Un(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function sr(){for(var a=window,c=He();c instanceof a.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)a=c.contentWindow;else break;c=He(a.document)}return c}function ss(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function Ql(a){var c=sr(),f=a.focusedElem,v=a.selectionRange;if(c!==f&&f&&f.ownerDocument&&Un(f.ownerDocument.documentElement,f)){if(v!==null&&ss(f)){if(c=v.start,a=v.end,a===void 0&&(a=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(a,f.value.length);else if(a=(c=f.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var S=f.textContent.length,C=Math.min(v.start,S);v=v.end===void 0?C:Math.min(v.end,S),!a.extend&&C>v&&(S=v,v=C,C=S),S=un(f,C);var F=un(f,v);S&&F&&(a.rangeCount!==1||a.anchorNode!==S.node||a.anchorOffset!==S.offset||a.focusNode!==F.node||a.focusOffset!==F.offset)&&(c=c.createRange(),c.setStart(S.node,S.offset),a.removeAllRanges(),C>v?(a.addRange(c),a.extend(F.node,F.offset)):(c.setEnd(F.node,F.offset),a.addRange(c)))}}for(c=[],a=f;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)a=c[f],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var sl=l&&"documentMode"in document&&11>=document.documentMode,Ys=null,Qc=null,al=null,Zc=!1;function ch(a,c,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Zc||Ys==null||Ys!==He(v)||(v=Ys,"selectionStart"in v&&ss(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),al&&ri(al,v)||(al=v,v=nu(Qc,"onSelect"),0<v.length&&(c=new Zo("onSelect","select",null,c,f),a.push({event:c,listeners:v}),c.target=Ys)))}function Zl(a,c){var f={};return f[a.toLowerCase()]=c.toLowerCase(),f["Webkit"+a]="webkit"+c,f["Moz"+a]="moz"+c,f}var vo={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionend:Zl("Transition","TransitionEnd")},yo={},uh={};l&&(uh=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function ec(a){if(yo[a])return yo[a];if(!vo[a])return a;var c=vo[a],f;for(f in c)if(c.hasOwnProperty(f)&&f in uh)return yo[a]=c[f];return a}var hh=ec("animationend"),dh=ec("animationiteration"),fh=ec("animationstart"),ph=ec("transitionend"),gh=new Map,mh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Es(a,c){gh.set(a,c),s(c,[a])}for(var ol=0;ol<mh.length;ol++){var Gr=mh[ol],Bi=Gr.toLowerCase(),eu=Gr[0].toUpperCase()+Gr.slice(1);Es(Bi,"on"+eu)}Es(hh,"onAnimationEnd"),Es(dh,"onAnimationIteration"),Es(fh,"onAnimationStart"),Es("dblclick","onDoubleClick"),Es("focusin","onFocus"),Es("focusout","onBlur"),Es(ph,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cd=new Set("cancel close invalid load scroll toggle".split(" ").concat(ja));function tc(a,c,f){var v=a.type||"unknown-event";a.currentTarget=f,ws(v,c,void 0,a),a.currentTarget=null}function nc(a,c){c=(c&4)!==0;for(var f=0;f<a.length;f++){var v=a[f],S=v.event;v=v.listeners;e:{var C=void 0;if(c)for(var F=v.length-1;0<=F;F--){var se=v[F],pe=se.instance,Ce=se.currentTarget;if(se=se.listener,pe!==C&&S.isPropagationStopped())break e;tc(S,se,Ce),C=pe}else for(F=0;F<v.length;F++){if(se=v[F],pe=se.instance,Ce=se.currentTarget,se=se.listener,pe!==C&&S.isPropagationStopped())break e;tc(S,se,Ce),C=pe}}}if(tr)throw a=Us,tr=!1,Us=null,a}function fn(a,c){var f=c[si];f===void 0&&(f=c[si]=new Set);var v=a+"__bubble";f.has(v)||(rc(c,a,2,!1),f.add(v))}function tu(a,c,f){var v=0;c&&(v|=4),rc(f,a,v,c)}var ll="_reactListening"+Math.random().toString(36).slice(2);function wo(a){if(!a[ll]){a[ll]=!0,r.forEach(function(f){f!=="selectionchange"&&(Cd.has(f)||tu(f,!1,a),tu(f,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[ll]||(c[ll]=!0,tu("selectionchange",!1,c))}}function rc(a,c,f,v){switch(so(c)){case 1:var S=Gl;break;case 4:S=Kl;break;default:S=Qo}f=S.bind(null,c,f,a),S=void 0,!Xi||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(S=!0),v?S!==void 0?a.addEventListener(c,f,{capture:!0,passive:S}):a.addEventListener(c,f,!0):S!==void 0?a.addEventListener(c,f,{passive:S}):a.addEventListener(c,f,!1)}function ic(a,c,f,v,S){var C=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var F=v.tag;if(F===3||F===4){var se=v.stateNode.containerInfo;if(se===S||se.nodeType===8&&se.parentNode===S)break;if(F===4)for(F=v.return;F!==null;){var pe=F.tag;if((pe===3||pe===4)&&(pe=F.stateNode.containerInfo,pe===S||pe.nodeType===8&&pe.parentNode===S))return;F=F.return}for(;se!==null;){if(F=La(se),F===null)return;if(pe=F.tag,pe===5||pe===6){v=C=F;continue e}se=se.parentNode}}v=v.return}wt(function(){var Ce=C,Be=vt(f),ze=[];e:{var Fe=gh.get(a);if(Fe!==void 0){var Ke=Zo,et=a;switch(a){case"keypress":if(ao(f)===0)break e;case"keydown":case"keyup":Ke=xa;break;case"focusin":et="focus",Ke=Tt;break;case"focusout":et="blur",Ke=Tt;break;case"beforeblur":case"afterblur":Ke=Tt;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ke=Ie;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ke=st;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ke=jr;break;case hh:case dh:case fh:Ke=Mn;break;case ph:Ke=uo;break;case"scroll":Ke=M;break;case"wheel":Ke=Xl;break;case"copy":case"cut":case"paste":Ke=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ke=Sa}var it=(c&4)!==0,vr=!it&&a==="scroll",ke=it?Fe!==null?Fe+"Capture":null:Fe;it=[];for(var me=Ce,Pe;me!==null;){Pe=me;var We=Pe.stateNode;if(Pe.tag===5&&We!==null&&(Pe=We,ke!==null&&(We=gi(me,ke),We!=null&&it.push(sc(me,We,Pe)))),vr)break;me=me.return}0<it.length&&(Fe=new Ke(Fe,et,null,f,Be),ze.push({event:Fe,listeners:it}))}}if((c&7)===0){e:{if(Fe=a==="mouseover"||a==="pointerover",Ke=a==="mouseout"||a==="pointerout",Fe&&f!==cn&&(et=f.relatedTarget||f.fromElement)&&(La(et)||et[Fr]))break e;if((Ke||Fe)&&(Fe=Be.window===Be?Be:(Fe=Be.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,Ke?(et=f.relatedTarget||f.toElement,Ke=Ce,et=et?La(et):null,et!==null&&(vr=Cr(et),et!==vr||et.tag!==5&&et.tag!==6)&&(et=null)):(Ke=null,et=Ce),Ke!==et)){if(it=Ie,We="onMouseLeave",ke="onMouseEnter",me="mouse",(a==="pointerout"||a==="pointerover")&&(it=Sa,We="onPointerLeave",ke="onPointerEnter",me="pointer"),vr=Ke==null?Fe:xo(Ke),Pe=et==null?Fe:xo(et),Fe=new it(We,me+"leave",Ke,f,Be),Fe.target=vr,Fe.relatedTarget=Pe,We=null,La(Be)===Ce&&(it=new it(ke,me+"enter",et,f,Be),it.target=Pe,it.relatedTarget=vr,We=it),vr=We,Ke&&et)t:{for(it=Ke,ke=et,me=0,Pe=it;Pe;Pe=bo(Pe))me++;for(Pe=0,We=ke;We;We=bo(We))Pe++;for(;0<me-Pe;)it=bo(it),me--;for(;0<Pe-me;)ke=bo(ke),Pe--;for(;me--;){if(it===ke||ke!==null&&it===ke.alternate)break t;it=bo(it),ke=bo(ke)}it=null}else it=null;Ke!==null&&Ed(ze,Fe,Ke,it,!1),et!==null&&vr!==null&&Ed(ze,vr,et,it,!0)}}e:{if(Fe=Ce?xo(Ce):window,Ke=Fe.nodeName&&Fe.nodeName.toLowerCase(),Ke==="select"||Ke==="input"&&Fe.type==="file")var ot=Cs;else if(As(Fe))if(is)ot=Ea;else{ot=Ca;var bt=Pa}else(Ke=Fe.nodeName)&&Ke.toLowerCase()==="input"&&(Fe.type==="checkbox"||Fe.type==="radio")&&(ot=go);if(ot&&(ot=ot(a,Ce))){Vs(ze,ot,f,Be);break e}bt&&bt(a,Fe,Ce),a==="focusout"&&(bt=Fe._wrapperState)&&bt.controlled&&Fe.type==="number"&&De(Fe,"number",Fe.value)}switch(bt=Ce?xo(Ce):window,a){case"focusin":(As(bt)||bt.contentEditable==="true")&&(Ys=bt,Qc=Ce,al=null);break;case"focusout":al=Qc=Ys=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,ch(ze,f,Be);break;case"selectionchange":if(sl)break;case"keydown":case"keyup":ch(ze,f,Be)}var _t;if(rs)e:{switch(a){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else Fi?nl(a,f)&&(Et="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(Et="onCompositionStart");Et&&(_i&&f.locale!=="ko"&&(Fi||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Fi&&(_t=Yl()):(Mi=Be,Ws="value"in Mi?Mi.value:Mi.textContent,Fi=!0)),bt=nu(Ce,Et),0<bt.length&&(Et=new Gn(Et,a,null,f,Be),ze.push({event:Et,listeners:bt}),_t?Et.data=_t:(_t=$s(f),_t!==null&&(Et.data=_t)))),(_t=Xc?xi(a,f):Si(a,f))&&(Ce=nu(Ce,"onBeforeInput"),0<Ce.length&&(Be=new Gn("onBeforeInput","beforeinput",null,f,Be),ze.push({event:Be,listeners:Ce}),Be.data=_t))}nc(ze,c)})}function sc(a,c,f){return{instance:a,listener:c,currentTarget:f}}function nu(a,c){for(var f=c+"Capture",v=[];a!==null;){var S=a,C=S.stateNode;S.tag===5&&C!==null&&(S=C,C=gi(a,f),C!=null&&v.unshift(sc(a,C,S)),C=gi(a,c),C!=null&&v.push(sc(a,C,S))),a=a.return}return v}function bo(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Ed(a,c,f,v,S){for(var C=c._reactName,F=[];f!==null&&f!==v;){var se=f,pe=se.alternate,Ce=se.stateNode;if(pe!==null&&pe===v)break;se.tag===5&&Ce!==null&&(se=Ce,S?(pe=gi(f,C),pe!=null&&F.unshift(sc(f,pe,se))):S||(pe=gi(f,C),pe!=null&&F.push(sc(f,pe,se)))),f=f.return}F.length!==0&&a.push({event:c,listeners:F})}var Bp=/\r\n?/g,Up=/\u0000|\uFFFD/g;function jd(a){return(typeof a=="string"?a:""+a).replace(Bp,`
`).replace(Up,"")}function ru(a,c,f){if(c=jd(c),jd(a)!==c&&f)throw Error(t(425))}function cl(){}var ac=null,_o=null;function vh(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var yh=typeof setTimeout=="function"?setTimeout:void 0,Ld=typeof clearTimeout=="function"?clearTimeout:void 0,Td=typeof Promise=="function"?Promise:void 0,zp=typeof queueMicrotask=="function"?queueMicrotask:typeof Td<"u"?function(a){return Td.resolve(null).then(a).catch(Wp)}:yh;function Wp(a){setTimeout(function(){throw a})}function wh(a,c){var f=c,v=0;do{var S=f.nextSibling;if(a.removeChild(f),S&&S.nodeType===8)if(f=S.data,f==="/$"){if(v===0){a.removeChild(S),ro(c);return}v--}else f!=="$"&&f!=="$?"&&f!=="$!"||v++;f=S}while(f);ro(c)}function Kr(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function Ui(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return a;c--}else f==="/$"&&c++}a=a.previousSibling}return null}var ii=Math.random().toString(36).slice(2),js="__reactFiber$"+ii,ul="__reactProps$"+ii,Fr="__reactContainer$"+ii,si="__reactEvents$"+ii,qp="__reactListeners$"+ii,Hp="__reactHandles$"+ii;function La(a){var c=a[js];if(c)return c;for(var f=a.parentNode;f;){if(c=f[Fr]||f[js]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(a=Ui(a);a!==null;){if(f=a[js])return f;a=Ui(a)}return c}a=f,f=a.parentNode}return null}function hl(a){return a=a[js]||a[Fr],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function xo(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function oc(a){return a[ul]||null}var bh=[],Js=-1;function as(a){return{current:a}}function ln(a){0>Js||(a.current=bh[Js],bh[Js]=null,Js--)}function hn(a,c){Js++,bh[Js]=a.current,a.current=c}var Ta={},Lr=as(Ta),ai=as(!1),So=Ta;function dl(a,c){var f=a.type.contextTypes;if(!f)return Ta;var v=a.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===c)return v.__reactInternalMemoizedMaskedChildContext;var S={},C;for(C in f)S[C]=c[C];return v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=S),S}function oi(a){return a=a.childContextTypes,a!=null}function iu(){ln(ai),ln(Lr)}function Od(a,c,f){if(Lr.current!==Ta)throw Error(t(168));hn(Lr,c),hn(ai,f)}function _h(a,c,f){var v=a.stateNode;if(c=c.childContextTypes,typeof v.getChildContext!="function")return f;v=v.getChildContext();for(var S in v)if(!(S in c))throw Error(t(108,ye(a)||"Unknown",S));return le({},f,v)}function ko(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ta,So=Lr.current,hn(Lr,a),hn(ai,ai.current),!0}function Rd(a,c,f){var v=a.stateNode;if(!v)throw Error(t(169));f?(a=_h(a,c,So),v.__reactInternalMemoizedMergedChildContext=a,ln(ai),ln(Lr),hn(Lr,a)):ln(ai),hn(ai,f)}var Xs=null,lc=!1,p=!1;function w(a){Xs===null?Xs=[a]:Xs.push(a)}function A(a){lc=!0,w(a)}function E(){if(!p&&Xs!==null){p=!0;var a=0,c=Xt;try{var f=Xs;for(Xt=1;a<f.length;a++){var v=f[a];do v=v(!0);while(v!==null)}Xs=null,lc=!1}catch(S){throw Xs!==null&&(Xs=Xs.slice(a+1)),Ka(Ho,E),S}finally{Xt=c,p=!1}}return null}var R=[],B=0,z=null,V=0,G=[],J=0,fe=null,Se=1,Z="";function ge(a,c){R[B++]=V,R[B++]=z,z=a,V=c}function xe(a,c,f){G[J++]=Se,G[J++]=Z,G[J++]=fe,fe=a;var v=Se;a=Z;var S=32-nr(v)-1;v&=~(1<<S),f+=1;var C=32-nr(c)+S;if(30<C){var F=S-S%5;C=(v&(1<<F)-1).toString(32),v>>=F,S-=F,Se=1<<32-nr(c)+S|f<<S|v,Z=C+a}else Se=1<<C|f<<S|v,Z=a}function Le(a){a.return!==null&&(ge(a,1),xe(a,1,0))}function Ne(a){for(;a===z;)z=R[--B],R[B]=null,V=R[--B],R[B]=null;for(;a===fe;)fe=G[--J],G[J]=null,Z=G[--J],G[J]=null,Se=G[--J],G[J]=null}var Ee=null,je=null,Re=!1,Me=null;function at(a,c){var f=Ms(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=a,c=a.deletions,c===null?(a.deletions=[f],a.flags|=16):c.push(f)}function Ye(a,c){switch(a.tag){case 5:var f=a.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,Ee=a,je=Kr(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,Ee=a,je=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=fe!==null?{id:Se,overflow:Z}:null,a.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=Ms(18,null,null,0),f.stateNode=c,f.return=a,a.child=f,Ee=a,je=null,!0):!1;default:return!1}}function Rt(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Ze(a){if(Re){var c=je;if(c){var f=c;if(!Ye(a,c)){if(Rt(a))throw Error(t(418));c=Kr(f.nextSibling);var v=Ee;c&&Ye(a,c)?at(v,f):(a.flags=a.flags&-4097|2,Re=!1,Ee=a)}}else{if(Rt(a))throw Error(t(418));a.flags=a.flags&-4097|2,Re=!1,Ee=a}}}function $t(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Ee=a}function zn(a){if(a!==Ee)return!1;if(!Re)return $t(a),Re=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!vh(a.type,a.memoizedProps)),c&&(c=je)){if(Rt(a))throw It(),Error(t(418));for(;c;)at(a,c),c=Kr(c.nextSibling)}if($t(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"){if(c===0){je=Kr(a.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}a=a.nextSibling}je=null}}else je=Ee?Kr(a.stateNode.nextSibling):null;return!0}function It(){for(var a=je;a;)a=Kr(a.nextSibling)}function Je(){je=Ee=null,Re=!1}function qe(a){Me===null?Me=[a]:Me.push(a)}var Yn=j.ReactCurrentBatchConfig;function kt(a,c,f){if(a=f.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var v=f.stateNode}if(!v)throw Error(t(147,a));var S=v,C=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===C?c.ref:(c=function(F){var se=S.refs;F===null?delete se[C]:se[C]=F},c._stringRef=C,c)}if(typeof a!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,a))}return a}function Ht(a,c){throw a=Object.prototype.toString.call(c),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function Sn(a){var c=a._init;return c(a._payload)}function xr(a){function c(ke,me){if(a){var Pe=ke.deletions;Pe===null?(ke.deletions=[me],ke.flags|=16):Pe.push(me)}}function f(ke,me){if(!a)return null;for(;me!==null;)c(ke,me),me=me.sibling;return null}function v(ke,me){for(ke=new Map;me!==null;)me.key!==null?ke.set(me.key,me):ke.set(me.index,me),me=me.sibling;return ke}function S(ke,me){return ke=xl(ke,me),ke.index=0,ke.sibling=null,ke}function C(ke,me,Pe){return ke.index=Pe,a?(Pe=ke.alternate,Pe!==null?(Pe=Pe.index,Pe<me?(ke.flags|=2,me):Pe):(ke.flags|=2,me)):(ke.flags|=1048576,me)}function F(ke){return a&&ke.alternate===null&&(ke.flags|=2),ke}function se(ke,me,Pe,We){return me===null||me.tag!==6?(me=wg(Pe,ke.mode,We),me.return=ke,me):(me=S(me,Pe),me.return=ke,me)}function pe(ke,me,Pe,We){var ot=Pe.type;return ot===U?Be(ke,me,Pe.props.children,We,Pe.key):me!==null&&(me.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===be&&Sn(ot)===me.type)?(We=S(me,Pe.props),We.ref=kt(ke,me,Pe),We.return=ke,We):(We=ef(Pe.type,Pe.key,Pe.props,null,ke.mode,We),We.ref=kt(ke,me,Pe),We.return=ke,We)}function Ce(ke,me,Pe,We){return me===null||me.tag!==4||me.stateNode.containerInfo!==Pe.containerInfo||me.stateNode.implementation!==Pe.implementation?(me=bg(Pe,ke.mode,We),me.return=ke,me):(me=S(me,Pe.children||[]),me.return=ke,me)}function Be(ke,me,Pe,We,ot){return me===null||me.tag!==7?(me=mc(Pe,ke.mode,We,ot),me.return=ke,me):(me=S(me,Pe),me.return=ke,me)}function ze(ke,me,Pe){if(typeof me=="string"&&me!==""||typeof me=="number")return me=wg(""+me,ke.mode,Pe),me.return=ke,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case D:return Pe=ef(me.type,me.key,me.props,null,ke.mode,Pe),Pe.ref=kt(ke,null,me),Pe.return=ke,Pe;case Q:return me=bg(me,ke.mode,Pe),me.return=ke,me;case be:var We=me._init;return ze(ke,We(me._payload),Pe)}if(dt(me)||ie(me))return me=mc(me,ke.mode,Pe,null),me.return=ke,me;Ht(ke,me)}return null}function Fe(ke,me,Pe,We){var ot=me!==null?me.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return ot!==null?null:se(ke,me,""+Pe,We);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case D:return Pe.key===ot?pe(ke,me,Pe,We):null;case Q:return Pe.key===ot?Ce(ke,me,Pe,We):null;case be:return ot=Pe._init,Fe(ke,me,ot(Pe._payload),We)}if(dt(Pe)||ie(Pe))return ot!==null?null:Be(ke,me,Pe,We,null);Ht(ke,Pe)}return null}function Ke(ke,me,Pe,We,ot){if(typeof We=="string"&&We!==""||typeof We=="number")return ke=ke.get(Pe)||null,se(me,ke,""+We,ot);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case D:return ke=ke.get(We.key===null?Pe:We.key)||null,pe(me,ke,We,ot);case Q:return ke=ke.get(We.key===null?Pe:We.key)||null,Ce(me,ke,We,ot);case be:var bt=We._init;return Ke(ke,me,Pe,bt(We._payload),ot)}if(dt(We)||ie(We))return ke=ke.get(Pe)||null,Be(me,ke,We,ot,null);Ht(me,We)}return null}function et(ke,me,Pe,We){for(var ot=null,bt=null,_t=me,Et=me=0,qr=null;_t!==null&&Et<Pe.length;Et++){_t.index>Et?(qr=_t,_t=null):qr=_t.sibling;var sn=Fe(ke,_t,Pe[Et],We);if(sn===null){_t===null&&(_t=qr);break}a&&_t&&sn.alternate===null&&c(ke,_t),me=C(sn,me,Et),bt===null?ot=sn:bt.sibling=sn,bt=sn,_t=qr}if(Et===Pe.length)return f(ke,_t),Re&&ge(ke,Et),ot;if(_t===null){for(;Et<Pe.length;Et++)_t=ze(ke,Pe[Et],We),_t!==null&&(me=C(_t,me,Et),bt===null?ot=_t:bt.sibling=_t,bt=_t);return Re&&ge(ke,Et),ot}for(_t=v(ke,_t);Et<Pe.length;Et++)qr=Ke(_t,ke,Et,Pe[Et],We),qr!==null&&(a&&qr.alternate!==null&&_t.delete(qr.key===null?Et:qr.key),me=C(qr,me,Et),bt===null?ot=qr:bt.sibling=qr,bt=qr);return a&&_t.forEach(function(Sl){return c(ke,Sl)}),Re&&ge(ke,Et),ot}function it(ke,me,Pe,We){var ot=ie(Pe);if(typeof ot!="function")throw Error(t(150));if(Pe=ot.call(Pe),Pe==null)throw Error(t(151));for(var bt=ot=null,_t=me,Et=me=0,qr=null,sn=Pe.next();_t!==null&&!sn.done;Et++,sn=Pe.next()){_t.index>Et?(qr=_t,_t=null):qr=_t.sibling;var Sl=Fe(ke,_t,sn.value,We);if(Sl===null){_t===null&&(_t=qr);break}a&&_t&&Sl.alternate===null&&c(ke,_t),me=C(Sl,me,Et),bt===null?ot=Sl:bt.sibling=Sl,bt=Sl,_t=qr}if(sn.done)return f(ke,_t),Re&&ge(ke,Et),ot;if(_t===null){for(;!sn.done;Et++,sn=Pe.next())sn=ze(ke,sn.value,We),sn!==null&&(me=C(sn,me,Et),bt===null?ot=sn:bt.sibling=sn,bt=sn);return Re&&ge(ke,Et),ot}for(_t=v(ke,_t);!sn.done;Et++,sn=Pe.next())sn=Ke(_t,ke,Et,sn.value,We),sn!==null&&(a&&sn.alternate!==null&&_t.delete(sn.key===null?Et:sn.key),me=C(sn,me,Et),bt===null?ot=sn:bt.sibling=sn,bt=sn);return a&&_t.forEach(function(rx){return c(ke,rx)}),Re&&ge(ke,Et),ot}function vr(ke,me,Pe,We){if(typeof Pe=="object"&&Pe!==null&&Pe.type===U&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case D:e:{for(var ot=Pe.key,bt=me;bt!==null;){if(bt.key===ot){if(ot=Pe.type,ot===U){if(bt.tag===7){f(ke,bt.sibling),me=S(bt,Pe.props.children),me.return=ke,ke=me;break e}}else if(bt.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===be&&Sn(ot)===bt.type){f(ke,bt.sibling),me=S(bt,Pe.props),me.ref=kt(ke,bt,Pe),me.return=ke,ke=me;break e}f(ke,bt);break}else c(ke,bt);bt=bt.sibling}Pe.type===U?(me=mc(Pe.props.children,ke.mode,We,Pe.key),me.return=ke,ke=me):(We=ef(Pe.type,Pe.key,Pe.props,null,ke.mode,We),We.ref=kt(ke,me,Pe),We.return=ke,ke=We)}return F(ke);case Q:e:{for(bt=Pe.key;me!==null;){if(me.key===bt)if(me.tag===4&&me.stateNode.containerInfo===Pe.containerInfo&&me.stateNode.implementation===Pe.implementation){f(ke,me.sibling),me=S(me,Pe.children||[]),me.return=ke,ke=me;break e}else{f(ke,me);break}else c(ke,me);me=me.sibling}me=bg(Pe,ke.mode,We),me.return=ke,ke=me}return F(ke);case be:return bt=Pe._init,vr(ke,me,bt(Pe._payload),We)}if(dt(Pe))return et(ke,me,Pe,We);if(ie(Pe))return it(ke,me,Pe,We);Ht(ke,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"?(Pe=""+Pe,me!==null&&me.tag===6?(f(ke,me.sibling),me=S(me,Pe),me.return=ke,ke=me):(f(ke,me),me=wg(Pe,ke.mode,We),me.return=ke,ke=me),F(ke)):f(ke,me)}return vr}var ar=xr(!0),In=xr(!1),gr=as(null),Sr=null,En=null,Gt=null;function tn(){Gt=En=Sr=null}function jn(a){var c=gr.current;ln(gr),a._currentValue=c}function nn(a,c,f){for(;a!==null;){var v=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),a===f)break;a=a.return}}function Wn(a,c){Sr=a,Gt=En=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(Wi=!0),a.firstContext=null)}function qn(a){var c=a._currentValue;if(Gt!==a)if(a={context:a,memoizedValue:c,next:null},En===null){if(Sr===null)throw Error(t(308));En=a,Sr.dependencies={lanes:0,firstContext:a}}else En=En.next=a;return c}var pn=null;function Br(a){pn===null?pn=[a]:pn.push(a)}function dn(a,c,f,v){var S=c.interleaved;return S===null?(f.next=f,Br(c)):(f.next=S.next,S.next=f),c.interleaved=f,gn(a,v)}function gn(a,c){a.lanes|=c;var f=a.alternate;for(f!==null&&(f.lanes|=c),f=a,a=a.return;a!==null;)a.childLanes|=c,f=a.alternate,f!==null&&(f.childLanes|=c),f=a,a=a.return;return f.tag===3?f.stateNode:null}var or=!1;function Tr(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function li(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Jn(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function Xn(a,c,f){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,(rn&2)!==0){var S=v.pending;return S===null?c.next=c:(c.next=S.next,S.next=c),v.pending=c,gn(a,f)}return S=v.interleaved,S===null?(c.next=c,Br(v)):(c.next=S.next,S.next=c),v.interleaved=c,gn(a,f)}function Ur(a,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var v=c.lanes;v&=a.pendingLanes,f|=v,c.lanes=f,Go(a,f)}}function mn(a,c){var f=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var S=null,C=null;if(f=f.firstBaseUpdate,f!==null){do{var F={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};C===null?S=C=F:C=C.next=F,f=f.next}while(f!==null);C===null?S=C=c:C=C.next=c}else S=C=c;f={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:C,shared:v.shared,effects:v.effects},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=c}function zr(a,c,f,v){var S=a.updateQueue;or=!1;var C=S.firstBaseUpdate,F=S.lastBaseUpdate,se=S.shared.pending;if(se!==null){S.shared.pending=null;var pe=se,Ce=pe.next;pe.next=null,F===null?C=Ce:F.next=Ce,F=pe;var Be=a.alternate;Be!==null&&(Be=Be.updateQueue,se=Be.lastBaseUpdate,se!==F&&(se===null?Be.firstBaseUpdate=Ce:se.next=Ce,Be.lastBaseUpdate=pe))}if(C!==null){var ze=S.baseState;F=0,Be=Ce=pe=null,se=C;do{var Fe=se.lane,Ke=se.eventTime;if((v&Fe)===Fe){Be!==null&&(Be=Be.next={eventTime:Ke,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var et=a,it=se;switch(Fe=c,Ke=f,it.tag){case 1:if(et=it.payload,typeof et=="function"){ze=et.call(Ke,ze,Fe);break e}ze=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=it.payload,Fe=typeof et=="function"?et.call(Ke,ze,Fe):et,Fe==null)break e;ze=le({},ze,Fe);break e;case 2:or=!0}}se.callback!==null&&se.lane!==0&&(a.flags|=64,Fe=S.effects,Fe===null?S.effects=[se]:Fe.push(se))}else Ke={eventTime:Ke,lane:Fe,tag:se.tag,payload:se.payload,callback:se.callback,next:null},Be===null?(Ce=Be=Ke,pe=ze):Be=Be.next=Ke,F|=Fe;if(se=se.next,se===null){if(se=S.shared.pending,se===null)break;Fe=se,se=Fe.next,Fe.next=null,S.lastBaseUpdate=Fe,S.shared.pending=null}}while(!0);if(Be===null&&(pe=ze),S.baseState=pe,S.firstBaseUpdate=Ce,S.lastBaseUpdate=Be,c=S.shared.interleaved,c!==null){S=c;do F|=S.lane,S=S.next;while(S!==c)}else C===null&&(S.shared.lanes=0);dc|=F,a.lanes=F,a.memoizedState=ze}}function zi(a,c,f){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var v=a[c],S=v.callback;if(S!==null){if(v.callback=null,v=f,typeof S!="function")throw Error(t(191,S));S.call(v)}}}var os={},kr=as(os),Qn=as(os),Oa=as(os);function Qs(a){if(a===os)throw Error(t(174));return a}function fl(a,c){switch(hn(Oa,c),hn(Qn,a),hn(kr,os),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:qt(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=qt(c,a)}ln(kr),hn(kr,c)}function Ls(){ln(kr),ln(Qn),ln(Oa)}function Md(a){Qs(Oa.current);var c=Qs(kr.current),f=qt(c,a.type);c!==f&&(hn(Qn,a),hn(kr,f))}function xh(a){Qn.current===a&&(ln(kr),ln(Qn))}var Nn=as(0);function ls(a){for(var c=a;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Sh=[];function kh(){for(var a=0;a<Sh.length;a++)Sh[a]._workInProgressVersionPrimary=null;Sh.length=0}var su=j.ReactCurrentDispatcher,au=j.ReactCurrentBatchConfig,Ts=0,Ln=null,lr=null,Zn=null,pl=!1,Zs=!1,gl=0,$p=0;function mr(){throw Error(t(321))}function ou(a,c){if(c===null)return!1;for(var f=0;f<c.length&&f<a.length;f++)if(!Bn(a[f],c[f]))return!1;return!0}function cc(a,c,f,v,S,C){if(Ts=C,Ln=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,su.current=a===null||a.memoizedState===null?E_:j_,a=f(v,S),Zs){C=0;do{if(Zs=!1,gl=0,25<=C)throw Error(t(301));C+=1,Zn=lr=null,c.updateQueue=null,su.current=L_,a=f(v,S)}while(Zs)}if(su.current=Ud,c=lr!==null&&lr.next!==null,Ts=0,Zn=lr=Ln=null,pl=!1,c)throw Error(t(300));return a}function Os(){var a=gl!==0;return gl=0,a}function cs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?Ln.memoizedState=Zn=a:Zn=Zn.next=a,Zn}function ki(){if(lr===null){var a=Ln.alternate;a=a!==null?a.memoizedState:null}else a=lr.next;var c=Zn===null?Ln.memoizedState:Zn.next;if(c!==null)Zn=c,lr=a;else{if(a===null)throw Error(t(310));lr=a,a={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},Zn===null?Ln.memoizedState=Zn=a:Zn=Zn.next=a}return Zn}function uc(a,c){return typeof c=="function"?c(a):c}function lu(a){var c=ki(),f=c.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=a;var v=lr,S=v.baseQueue,C=f.pending;if(C!==null){if(S!==null){var F=S.next;S.next=C.next,C.next=F}v.baseQueue=S=C,f.pending=null}if(S!==null){C=S.next,v=v.baseState;var se=F=null,pe=null,Ce=C;do{var Be=Ce.lane;if((Ts&Be)===Be)pe!==null&&(pe=pe.next={lane:0,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),v=Ce.hasEagerState?Ce.eagerState:a(v,Ce.action);else{var ze={lane:Be,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null};pe===null?(se=pe=ze,F=v):pe=pe.next=ze,Ln.lanes|=Be,dc|=Be}Ce=Ce.next}while(Ce!==null&&Ce!==C);pe===null?F=v:pe.next=se,Bn(v,c.memoizedState)||(Wi=!0),c.memoizedState=v,c.baseState=F,c.baseQueue=pe,f.lastRenderedState=v}if(a=f.interleaved,a!==null){S=a;do C=S.lane,Ln.lanes|=C,dc|=C,S=S.next;while(S!==a)}else S===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function Ra(a){var c=ki(),f=c.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=a;var v=f.dispatch,S=f.pending,C=c.memoizedState;if(S!==null){f.pending=null;var F=S=S.next;do C=a(C,F.action),F=F.next;while(F!==S);Bn(C,c.memoizedState)||(Wi=!0),c.memoizedState=C,c.baseQueue===null&&(c.baseState=C),f.lastRenderedState=C}return[C,v]}function Id(){}function Nh(a,c){var f=Ln,v=ki(),S=c(),C=!Bn(v.memoizedState,S);if(C&&(v.memoizedState=S,Wi=!0),v=v.queue,hu(Fd.bind(null,f,v,a),[a]),v.getSnapshot!==c||C||Zn!==null&&Zn.memoizedState.tag&1){if(f.flags|=2048,Ni(9,Ah.bind(null,f,v,S,c),void 0,null),Wr===null)throw Error(t(349));(Ts&30)!==0||Dd(f,c,S)}return S}function Dd(a,c,f){a.flags|=16384,a={getSnapshot:c,value:f},c=Ln.updateQueue,c===null?(c={lastEffect:null,stores:null},Ln.updateQueue=c,c.stores=[a]):(f=c.stores,f===null?c.stores=[a]:f.push(a))}function Ah(a,c,f,v){c.value=f,c.getSnapshot=v,ml(c)&&cu(a)}function Fd(a,c,f){return f(function(){ml(c)&&cu(a)})}function ml(a){var c=a.getSnapshot;a=a.value;try{var f=c();return!Bn(a,f)}catch{return!0}}function cu(a){var c=gn(a,1);c!==null&&ia(c,a,1,-1)}function hc(a){var c=cs();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:a},c.queue=a,a=a.dispatch=C_.bind(null,Ln,a),[c.memoizedState,a]}function Ni(a,c,f,v){return a={tag:a,create:c,destroy:f,deps:v,next:null},c=Ln.updateQueue,c===null?(c={lastEffect:null,stores:null},Ln.updateQueue=c,c.lastEffect=a.next=a):(f=c.lastEffect,f===null?c.lastEffect=a.next=a:(v=f.next,f.next=a,a.next=v,c.lastEffect=a)),a}function ea(){return ki().memoizedState}function us(a,c,f,v){var S=cs();Ln.flags|=a,S.memoizedState=Ni(1|c,f,void 0,v===void 0?null:v)}function No(a,c,f,v){var S=ki();v=v===void 0?null:v;var C=void 0;if(lr!==null){var F=lr.memoizedState;if(C=F.destroy,v!==null&&ou(v,F.deps)){S.memoizedState=Ni(c,f,C,v);return}}Ln.flags|=a,S.memoizedState=Ni(1|c,f,C,v)}function uu(a,c){return us(8390656,8,a,c)}function hu(a,c){return No(2048,8,a,c)}function Bd(a,c){return No(4,2,a,c)}function du(a,c){return No(4,4,a,c)}function fu(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function B0(a,c,f){return f=f!=null?f.concat([a]):null,No(4,4,fu.bind(null,c,a),f)}function Vp(){}function U0(a,c){var f=ki();c=c===void 0?null:c;var v=f.memoizedState;return v!==null&&c!==null&&ou(c,v[1])?v[0]:(f.memoizedState=[a,c],a)}function z0(a,c){var f=ki();c=c===void 0?null:c;var v=f.memoizedState;return v!==null&&c!==null&&ou(c,v[1])?v[0]:(a=a(),f.memoizedState=[a,c],a)}function W0(a,c,f){return(Ts&21)===0?(a.baseState&&(a.baseState=!1,Wi=!0),a.memoizedState=f):(Bn(f,c)||(f=ql(),Ln.lanes|=f,dc|=f,a.baseState=!0),c)}function A_(a,c){var f=Xt;Xt=f!==0&&4>f?f:4,a(!0);var v=au.transition;au.transition={};try{a(!1),c()}finally{Xt=f,au.transition=v}}function q0(){return ki().memoizedState}function P_(a,c,f){var v=bl(a);if(f={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null},H0(a))$0(c,f);else if(f=dn(a,c,f,v),f!==null){var S=Pi();ia(f,a,v,S),V0(f,c,v)}}function C_(a,c,f){var v=bl(a),S={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null};if(H0(a))$0(c,S);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=c.lastRenderedReducer,C!==null))try{var F=c.lastRenderedState,se=C(F,f);if(S.hasEagerState=!0,S.eagerState=se,Bn(se,F)){var pe=c.interleaved;pe===null?(S.next=S,Br(c)):(S.next=pe.next,pe.next=S),c.interleaved=S;return}}catch{}f=dn(a,c,S,v),f!==null&&(S=Pi(),ia(f,a,v,S),V0(f,c,v))}}function H0(a){var c=a.alternate;return a===Ln||c!==null&&c===Ln}function $0(a,c){Zs=pl=!0;var f=a.pending;f===null?c.next=c:(c.next=f.next,f.next=c),a.pending=c}function V0(a,c,f){if((f&4194240)!==0){var v=c.lanes;v&=a.pendingLanes,f|=v,c.lanes=f,Go(a,f)}}var Ud={readContext:qn,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},E_={readContext:qn,useCallback:function(a,c){return cs().memoizedState=[a,c===void 0?null:c],a},useContext:qn,useEffect:uu,useImperativeHandle:function(a,c,f){return f=f!=null?f.concat([a]):null,us(4194308,4,fu.bind(null,c,a),f)},useLayoutEffect:function(a,c){return us(4194308,4,a,c)},useInsertionEffect:function(a,c){return us(4,2,a,c)},useMemo:function(a,c){var f=cs();return c=c===void 0?null:c,a=a(),f.memoizedState=[a,c],a},useReducer:function(a,c,f){var v=cs();return c=f!==void 0?f(c):c,v.memoizedState=v.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},v.queue=a,a=a.dispatch=P_.bind(null,Ln,a),[v.memoizedState,a]},useRef:function(a){var c=cs();return a={current:a},c.memoizedState=a},useState:hc,useDebugValue:Vp,useDeferredValue:function(a){return cs().memoizedState=a},useTransition:function(){var a=hc(!1),c=a[0];return a=A_.bind(null,a[1]),cs().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,f){var v=Ln,S=cs();if(Re){if(f===void 0)throw Error(t(407));f=f()}else{if(f=c(),Wr===null)throw Error(t(349));(Ts&30)!==0||Dd(v,c,f)}S.memoizedState=f;var C={value:f,getSnapshot:c};return S.queue=C,uu(Fd.bind(null,v,C,a),[a]),v.flags|=2048,Ni(9,Ah.bind(null,v,C,f,c),void 0,null),f},useId:function(){var a=cs(),c=Wr.identifierPrefix;if(Re){var f=Z,v=Se;f=(v&~(1<<32-nr(v)-1)).toString(32)+f,c=":"+c+"R"+f,f=gl++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=$p++,c=":"+c+"r"+f.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},j_={readContext:qn,useCallback:U0,useContext:qn,useEffect:hu,useImperativeHandle:B0,useInsertionEffect:Bd,useLayoutEffect:du,useMemo:z0,useReducer:lu,useRef:ea,useState:function(){return lu(uc)},useDebugValue:Vp,useDeferredValue:function(a){var c=ki();return W0(c,lr.memoizedState,a)},useTransition:function(){var a=lu(uc)[0],c=ki().memoizedState;return[a,c]},useMutableSource:Id,useSyncExternalStore:Nh,useId:q0,unstable_isNewReconciler:!1},L_={readContext:qn,useCallback:U0,useContext:qn,useEffect:hu,useImperativeHandle:B0,useInsertionEffect:Bd,useLayoutEffect:du,useMemo:z0,useReducer:Ra,useRef:ea,useState:function(){return Ra(uc)},useDebugValue:Vp,useDeferredValue:function(a){var c=ki();return lr===null?c.memoizedState=a:W0(c,lr.memoizedState,a)},useTransition:function(){var a=Ra(uc)[0],c=ki().memoizedState;return[a,c]},useMutableSource:Id,useSyncExternalStore:Nh,useId:q0,unstable_isNewReconciler:!1};function ta(a,c){if(a&&a.defaultProps){c=le({},c),a=a.defaultProps;for(var f in a)c[f]===void 0&&(c[f]=a[f]);return c}return c}function Gp(a,c,f,v){c=a.memoizedState,f=f(v,c),f=f==null?c:le({},c,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var zd={isMounted:function(a){return(a=a._reactInternals)?Cr(a)===a:!1},enqueueSetState:function(a,c,f){a=a._reactInternals;var v=Pi(),S=bl(a),C=Jn(v,S);C.payload=c,f!=null&&(C.callback=f),c=Xn(a,C,S),c!==null&&(ia(c,a,S,v),Ur(c,a,S))},enqueueReplaceState:function(a,c,f){a=a._reactInternals;var v=Pi(),S=bl(a),C=Jn(v,S);C.tag=1,C.payload=c,f!=null&&(C.callback=f),c=Xn(a,C,S),c!==null&&(ia(c,a,S,v),Ur(c,a,S))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var f=Pi(),v=bl(a),S=Jn(f,v);S.tag=2,c!=null&&(S.callback=c),c=Xn(a,S,v),c!==null&&(ia(c,a,v,f),Ur(c,a,v))}};function G0(a,c,f,v,S,C,F){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,C,F):c.prototype&&c.prototype.isPureReactComponent?!ri(f,v)||!ri(S,C):!0}function K0(a,c,f){var v=!1,S=Ta,C=c.contextType;return typeof C=="object"&&C!==null?C=qn(C):(S=oi(c)?So:Lr.current,v=c.contextTypes,C=(v=v!=null)?dl(a,S):Ta),c=new c(f,C),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=zd,a.stateNode=c,c._reactInternals=a,v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=S,a.__reactInternalMemoizedMaskedChildContext=C),c}function Y0(a,c,f,v){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,v),c.state!==a&&zd.enqueueReplaceState(c,c.state,null)}function Kp(a,c,f,v){var S=a.stateNode;S.props=f,S.state=a.memoizedState,S.refs={},Tr(a);var C=c.contextType;typeof C=="object"&&C!==null?S.context=qn(C):(C=oi(c)?So:Lr.current,S.context=dl(a,C)),S.state=a.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(Gp(a,c,C,f),S.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(c=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),c!==S.state&&zd.enqueueReplaceState(S,S.state,null),zr(a,f,S,v),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308)}function pu(a,c){try{var f="",v=c;do f+=oe(v),v=v.return;while(v);var S=f}catch(C){S=`
Error generating stack: `+C.message+`
`+C.stack}return{value:a,source:c,stack:S,digest:null}}function Yp(a,c,f){return{value:a,source:null,stack:f??null,digest:c??null}}function Jp(a,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var T_=typeof WeakMap=="function"?WeakMap:Map;function J0(a,c,f){f=Jn(-1,f),f.tag=3,f.payload={element:null};var v=c.value;return f.callback=function(){Kd||(Kd=!0,hg=v),Jp(a,c)},f}function X0(a,c,f){f=Jn(-1,f),f.tag=3;var v=a.type.getDerivedStateFromError;if(typeof v=="function"){var S=c.value;f.payload=function(){return v(S)},f.callback=function(){Jp(a,c)}}var C=a.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(f.callback=function(){Jp(a,c),typeof v!="function"&&(yl===null?yl=new Set([this]):yl.add(this));var F=c.stack;this.componentDidCatch(c.value,{componentStack:F!==null?F:""})}),f}function Q0(a,c,f){var v=a.pingCache;if(v===null){v=a.pingCache=new T_;var S=new Set;v.set(c,S)}else S=v.get(c),S===void 0&&(S=new Set,v.set(c,S));S.has(f)||(S.add(f),a=V_.bind(null,a,c,f),c.then(a,a))}function Z0(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function e1(a,c,f,v,S){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=Jn(-1,1),c.tag=2,Xn(f,c,1))),f.lanes|=1),a):(a.flags|=65536,a.lanes=S,a)}var O_=j.ReactCurrentOwner,Wi=!1;function Ai(a,c,f,v){c.child=a===null?In(c,null,f,v):ar(c,a.child,f,v)}function t1(a,c,f,v,S){f=f.render;var C=c.ref;return Wn(c,S),v=cc(a,c,f,v,C,S),f=Os(),a!==null&&!Wi?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~S,Ao(a,c,S)):(Re&&f&&Le(c),c.flags|=1,Ai(a,c,v,S),c.child)}function n1(a,c,f,v,S){if(a===null){var C=f.type;return typeof C=="function"&&!yg(C)&&C.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=C,r1(a,c,C,v,S)):(a=ef(f.type,null,v,c,c.mode,S),a.ref=c.ref,a.return=c,c.child=a)}if(C=a.child,(a.lanes&S)===0){var F=C.memoizedProps;if(f=f.compare,f=f!==null?f:ri,f(F,v)&&a.ref===c.ref)return Ao(a,c,S)}return c.flags|=1,a=xl(C,v),a.ref=c.ref,a.return=c,c.child=a}function r1(a,c,f,v,S){if(a!==null){var C=a.memoizedProps;if(ri(C,v)&&a.ref===c.ref)if(Wi=!1,c.pendingProps=v=C,(a.lanes&S)!==0)(a.flags&131072)!==0&&(Wi=!0);else return c.lanes=a.lanes,Ao(a,c,S)}return Xp(a,c,f,v,S)}function i1(a,c,f){var v=c.pendingProps,S=v.children,C=a!==null?a.memoizedState:null;if(v.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},hn(mu,hs),hs|=f;else{if((f&1073741824)===0)return a=C!==null?C.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,hn(mu,hs),hs|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=C!==null?C.baseLanes:f,hn(mu,hs),hs|=v}else C!==null?(v=C.baseLanes|f,c.memoizedState=null):v=f,hn(mu,hs),hs|=v;return Ai(a,c,S,f),c.child}function s1(a,c){var f=c.ref;(a===null&&f!==null||a!==null&&a.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function Xp(a,c,f,v,S){var C=oi(f)?So:Lr.current;return C=dl(c,C),Wn(c,S),f=cc(a,c,f,v,C,S),v=Os(),a!==null&&!Wi?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~S,Ao(a,c,S)):(Re&&v&&Le(c),c.flags|=1,Ai(a,c,f,S),c.child)}function a1(a,c,f,v,S){if(oi(f)){var C=!0;ko(c)}else C=!1;if(Wn(c,S),c.stateNode===null)qd(a,c),K0(c,f,v),Kp(c,f,v,S),v=!0;else if(a===null){var F=c.stateNode,se=c.memoizedProps;F.props=se;var pe=F.context,Ce=f.contextType;typeof Ce=="object"&&Ce!==null?Ce=qn(Ce):(Ce=oi(f)?So:Lr.current,Ce=dl(c,Ce));var Be=f.getDerivedStateFromProps,ze=typeof Be=="function"||typeof F.getSnapshotBeforeUpdate=="function";ze||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(se!==v||pe!==Ce)&&Y0(c,F,v,Ce),or=!1;var Fe=c.memoizedState;F.state=Fe,zr(c,v,F,S),pe=c.memoizedState,se!==v||Fe!==pe||ai.current||or?(typeof Be=="function"&&(Gp(c,f,Be,v),pe=c.memoizedState),(se=or||G0(c,f,se,v,Fe,pe,Ce))?(ze||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(c.flags|=4194308)):(typeof F.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=pe),F.props=v,F.state=pe,F.context=Ce,v=se):(typeof F.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{F=c.stateNode,li(a,c),se=c.memoizedProps,Ce=c.type===c.elementType?se:ta(c.type,se),F.props=Ce,ze=c.pendingProps,Fe=F.context,pe=f.contextType,typeof pe=="object"&&pe!==null?pe=qn(pe):(pe=oi(f)?So:Lr.current,pe=dl(c,pe));var Ke=f.getDerivedStateFromProps;(Be=typeof Ke=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(se!==ze||Fe!==pe)&&Y0(c,F,v,pe),or=!1,Fe=c.memoizedState,F.state=Fe,zr(c,v,F,S);var et=c.memoizedState;se!==ze||Fe!==et||ai.current||or?(typeof Ke=="function"&&(Gp(c,f,Ke,v),et=c.memoizedState),(Ce=or||G0(c,f,Ce,v,Fe,et,pe)||!1)?(Be||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(v,et,pe),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(v,et,pe)),typeof F.componentDidUpdate=="function"&&(c.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof F.componentDidUpdate!="function"||se===a.memoizedProps&&Fe===a.memoizedState||(c.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||se===a.memoizedProps&&Fe===a.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=et),F.props=v,F.state=et,F.context=pe,v=Ce):(typeof F.componentDidUpdate!="function"||se===a.memoizedProps&&Fe===a.memoizedState||(c.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||se===a.memoizedProps&&Fe===a.memoizedState||(c.flags|=1024),v=!1)}return Qp(a,c,f,v,C,S)}function Qp(a,c,f,v,S,C){s1(a,c);var F=(c.flags&128)!==0;if(!v&&!F)return S&&Rd(c,f,!1),Ao(a,c,C);v=c.stateNode,O_.current=c;var se=F&&typeof f.getDerivedStateFromError!="function"?null:v.render();return c.flags|=1,a!==null&&F?(c.child=ar(c,a.child,null,C),c.child=ar(c,null,se,C)):Ai(a,c,se,C),c.memoizedState=v.state,S&&Rd(c,f,!0),c.child}function o1(a){var c=a.stateNode;c.pendingContext?Od(a,c.pendingContext,c.pendingContext!==c.context):c.context&&Od(a,c.context,!1),fl(a,c.containerInfo)}function l1(a,c,f,v,S){return Je(),qe(S),c.flags|=256,Ai(a,c,f,v),c.child}var Zp={dehydrated:null,treeContext:null,retryLane:0};function eg(a){return{baseLanes:a,cachePool:null,transitions:null}}function c1(a,c,f){var v=c.pendingProps,S=Nn.current,C=!1,F=(c.flags&128)!==0,se;if((se=F)||(se=a!==null&&a.memoizedState===null?!1:(S&2)!==0),se?(C=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(S|=1),hn(Nn,S&1),a===null)return Ze(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(F=v.children,a=v.fallback,C?(v=c.mode,C=c.child,F={mode:"hidden",children:F},(v&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=F):C=tf(F,v,0,null),a=mc(a,v,f,null),C.return=c,a.return=c,C.sibling=a,c.child=C,c.child.memoizedState=eg(f),c.memoizedState=Zp,a):tg(c,F));if(S=a.memoizedState,S!==null&&(se=S.dehydrated,se!==null))return R_(a,c,F,v,se,S,f);if(C){C=v.fallback,F=c.mode,S=a.child,se=S.sibling;var pe={mode:"hidden",children:v.children};return(F&1)===0&&c.child!==S?(v=c.child,v.childLanes=0,v.pendingProps=pe,c.deletions=null):(v=xl(S,pe),v.subtreeFlags=S.subtreeFlags&14680064),se!==null?C=xl(se,C):(C=mc(C,F,f,null),C.flags|=2),C.return=c,v.return=c,v.sibling=C,c.child=v,v=C,C=c.child,F=a.child.memoizedState,F=F===null?eg(f):{baseLanes:F.baseLanes|f,cachePool:null,transitions:F.transitions},C.memoizedState=F,C.childLanes=a.childLanes&~f,c.memoizedState=Zp,v}return C=a.child,a=C.sibling,v=xl(C,{mode:"visible",children:v.children}),(c.mode&1)===0&&(v.lanes=f),v.return=c,v.sibling=null,a!==null&&(f=c.deletions,f===null?(c.deletions=[a],c.flags|=16):f.push(a)),c.child=v,c.memoizedState=null,v}function tg(a,c){return c=tf({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function Wd(a,c,f,v){return v!==null&&qe(v),ar(c,a.child,null,f),a=tg(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function R_(a,c,f,v,S,C,F){if(f)return c.flags&256?(c.flags&=-257,v=Yp(Error(t(422))),Wd(a,c,F,v)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(C=v.fallback,S=c.mode,v=tf({mode:"visible",children:v.children},S,0,null),C=mc(C,S,F,null),C.flags|=2,v.return=c,C.return=c,v.sibling=C,c.child=v,(c.mode&1)!==0&&ar(c,a.child,null,F),c.child.memoizedState=eg(F),c.memoizedState=Zp,C);if((c.mode&1)===0)return Wd(a,c,F,null);if(S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var se=v.dgst;return v=se,C=Error(t(419)),v=Yp(C,v,void 0),Wd(a,c,F,v)}if(se=(F&a.childLanes)!==0,Wi||se){if(v=Wr,v!==null){switch(F&-F){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(v.suspendedLanes|F))!==0?0:S,S!==0&&S!==C.retryLane&&(C.retryLane=S,gn(a,S),ia(v,a,S,-1))}return vg(),v=Yp(Error(t(421))),Wd(a,c,F,v)}return S.data==="$?"?(c.flags|=128,c.child=a.child,c=G_.bind(null,a),S._reactRetry=c,null):(a=C.treeContext,je=Kr(S.nextSibling),Ee=c,Re=!0,Me=null,a!==null&&(G[J++]=Se,G[J++]=Z,G[J++]=fe,Se=a.id,Z=a.overflow,fe=c),c=tg(c,v.children),c.flags|=4096,c)}function u1(a,c,f){a.lanes|=c;var v=a.alternate;v!==null&&(v.lanes|=c),nn(a.return,c,f)}function ng(a,c,f,v,S){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:S}:(C.isBackwards=c,C.rendering=null,C.renderingStartTime=0,C.last=v,C.tail=f,C.tailMode=S)}function h1(a,c,f){var v=c.pendingProps,S=v.revealOrder,C=v.tail;if(Ai(a,c,v.children,f),v=Nn.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&u1(a,f,c);else if(a.tag===19)u1(a,f,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}v&=1}if(hn(Nn,v),(c.mode&1)===0)c.memoizedState=null;else switch(S){case"forwards":for(f=c.child,S=null;f!==null;)a=f.alternate,a!==null&&ls(a)===null&&(S=f),f=f.sibling;f=S,f===null?(S=c.child,c.child=null):(S=f.sibling,f.sibling=null),ng(c,!1,S,f,C);break;case"backwards":for(f=null,S=c.child,c.child=null;S!==null;){if(a=S.alternate,a!==null&&ls(a)===null){c.child=S;break}a=S.sibling,S.sibling=f,f=S,S=a}ng(c,!0,f,null,C);break;case"together":ng(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function qd(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function Ao(a,c,f){if(a!==null&&(c.dependencies=a.dependencies),dc|=c.lanes,(f&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(t(153));if(c.child!==null){for(a=c.child,f=xl(a,a.pendingProps),c.child=f,f.return=c;a.sibling!==null;)a=a.sibling,f=f.sibling=xl(a,a.pendingProps),f.return=c;f.sibling=null}return c.child}function M_(a,c,f){switch(c.tag){case 3:o1(c),Je();break;case 5:Md(c);break;case 1:oi(c.type)&&ko(c);break;case 4:fl(c,c.stateNode.containerInfo);break;case 10:var v=c.type._context,S=c.memoizedProps.value;hn(gr,v._currentValue),v._currentValue=S;break;case 13:if(v=c.memoizedState,v!==null)return v.dehydrated!==null?(hn(Nn,Nn.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?c1(a,c,f):(hn(Nn,Nn.current&1),a=Ao(a,c,f),a!==null?a.sibling:null);hn(Nn,Nn.current&1);break;case 19:if(v=(f&c.childLanes)!==0,(a.flags&128)!==0){if(v)return h1(a,c,f);c.flags|=128}if(S=c.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),hn(Nn,Nn.current),v)break;return null;case 22:case 23:return c.lanes=0,i1(a,c,f)}return Ao(a,c,f)}var d1,rg,f1,p1;d1=function(a,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)a.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},rg=function(){},f1=function(a,c,f,v){var S=a.memoizedProps;if(S!==v){a=c.stateNode,Qs(kr.current);var C=null;switch(f){case"input":S=lt(a,S),v=lt(a,v),C=[];break;case"select":S=le({},S,{value:void 0}),v=le({},v,{value:void 0}),C=[];break;case"textarea":S=gt(a,S),v=gt(a,v),C=[];break;default:typeof S.onClick!="function"&&typeof v.onClick=="function"&&(a.onclick=cl)}bn(f,v);var F;f=null;for(Ce in S)if(!v.hasOwnProperty(Ce)&&S.hasOwnProperty(Ce)&&S[Ce]!=null)if(Ce==="style"){var se=S[Ce];for(F in se)se.hasOwnProperty(F)&&(f||(f={}),f[F]="")}else Ce!=="dangerouslySetInnerHTML"&&Ce!=="children"&&Ce!=="suppressContentEditableWarning"&&Ce!=="suppressHydrationWarning"&&Ce!=="autoFocus"&&(i.hasOwnProperty(Ce)?C||(C=[]):(C=C||[]).push(Ce,null));for(Ce in v){var pe=v[Ce];if(se=S?.[Ce],v.hasOwnProperty(Ce)&&pe!==se&&(pe!=null||se!=null))if(Ce==="style")if(se){for(F in se)!se.hasOwnProperty(F)||pe&&pe.hasOwnProperty(F)||(f||(f={}),f[F]="");for(F in pe)pe.hasOwnProperty(F)&&se[F]!==pe[F]&&(f||(f={}),f[F]=pe[F])}else f||(C||(C=[]),C.push(Ce,f)),f=pe;else Ce==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,se=se?se.__html:void 0,pe!=null&&se!==pe&&(C=C||[]).push(Ce,pe)):Ce==="children"?typeof pe!="string"&&typeof pe!="number"||(C=C||[]).push(Ce,""+pe):Ce!=="suppressContentEditableWarning"&&Ce!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ce)?(pe!=null&&Ce==="onScroll"&&fn("scroll",a),C||se===pe||(C=[])):(C=C||[]).push(Ce,pe))}f&&(C=C||[]).push("style",f);var Ce=C;(c.updateQueue=Ce)&&(c.flags|=4)}},p1=function(a,c,f,v){f!==v&&(c.flags|=4)};function Ph(a,c){if(!Re)switch(a.tailMode){case"hidden":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function ci(a){var c=a.alternate!==null&&a.alternate.child===a.child,f=0,v=0;if(c)for(var S=a.child;S!==null;)f|=S.lanes|S.childLanes,v|=S.subtreeFlags&14680064,v|=S.flags&14680064,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)f|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=v,a.childLanes=f,c}function I_(a,c,f){var v=c.pendingProps;switch(Ne(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ci(c),null;case 1:return oi(c.type)&&iu(),ci(c),null;case 3:return v=c.stateNode,Ls(),ln(ai),ln(Lr),kh(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(a===null||a.child===null)&&(zn(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Me!==null&&(pg(Me),Me=null))),rg(a,c),ci(c),null;case 5:xh(c);var S=Qs(Oa.current);if(f=c.type,a!==null&&c.stateNode!=null)f1(a,c,f,v,S),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!v){if(c.stateNode===null)throw Error(t(166));return ci(c),null}if(a=Qs(kr.current),zn(c)){v=c.stateNode,f=c.type;var C=c.memoizedProps;switch(v[js]=c,v[ul]=C,a=(c.mode&1)!==0,f){case"dialog":fn("cancel",v),fn("close",v);break;case"iframe":case"object":case"embed":fn("load",v);break;case"video":case"audio":for(S=0;S<ja.length;S++)fn(ja[S],v);break;case"source":fn("error",v);break;case"img":case"image":case"link":fn("error",v),fn("load",v);break;case"details":fn("toggle",v);break;case"input":X(v,C),fn("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!C.multiple},fn("invalid",v);break;case"textarea":ft(v,C),fn("invalid",v)}bn(f,C),S=null;for(var F in C)if(C.hasOwnProperty(F)){var se=C[F];F==="children"?typeof se=="string"?v.textContent!==se&&(C.suppressHydrationWarning!==!0&&ru(v.textContent,se,a),S=["children",se]):typeof se=="number"&&v.textContent!==""+se&&(C.suppressHydrationWarning!==!0&&ru(v.textContent,se,a),S=["children",""+se]):i.hasOwnProperty(F)&&se!=null&&F==="onScroll"&&fn("scroll",v)}switch(f){case"input":Ue(v),mt(v,C,!0);break;case"textarea":Ue(v),Wt(v);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(v.onclick=cl)}v=S,c.updateQueue=v,v!==null&&(c.flags|=4)}else{F=S.nodeType===9?S:S.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Lt(f)),a==="http://www.w3.org/1999/xhtml"?f==="script"?(a=F.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof v.is=="string"?a=F.createElement(f,{is:v.is}):(a=F.createElement(f),f==="select"&&(F=a,v.multiple?F.multiple=!0:v.size&&(F.size=v.size))):a=F.createElementNS(a,f),a[js]=c,a[ul]=v,d1(a,c,!1,!1),c.stateNode=a;e:{switch(F=pt(f,v),f){case"dialog":fn("cancel",a),fn("close",a),S=v;break;case"iframe":case"object":case"embed":fn("load",a),S=v;break;case"video":case"audio":for(S=0;S<ja.length;S++)fn(ja[S],a);S=v;break;case"source":fn("error",a),S=v;break;case"img":case"image":case"link":fn("error",a),fn("load",a),S=v;break;case"details":fn("toggle",a),S=v;break;case"input":X(a,v),S=lt(a,v),fn("invalid",a);break;case"option":S=v;break;case"select":a._wrapperState={wasMultiple:!!v.multiple},S=le({},v,{value:void 0}),fn("invalid",a);break;case"textarea":ft(a,v),S=gt(a,v),fn("invalid",a);break;default:S=v}bn(f,S),se=S;for(C in se)if(se.hasOwnProperty(C)){var pe=se[C];C==="style"?Bt(a,pe):C==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,pe!=null&&rt(a,pe)):C==="children"?typeof pe=="string"?(f!=="textarea"||pe!=="")&&At(a,pe):typeof pe=="number"&&At(a,""+pe):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(i.hasOwnProperty(C)?pe!=null&&C==="onScroll"&&fn("scroll",a):pe!=null&&T(a,C,pe,F))}switch(f){case"input":Ue(a),mt(a,v,!1);break;case"textarea":Ue(a),Wt(a);break;case"option":v.value!=null&&a.setAttribute("value",""+_e(v.value));break;case"select":a.multiple=!!v.multiple,C=v.value,C!=null?Ge(a,!!v.multiple,C,!1):v.defaultValue!=null&&Ge(a,!!v.multiple,v.defaultValue,!0);break;default:typeof S.onClick=="function"&&(a.onclick=cl)}switch(f){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return ci(c),null;case 6:if(a&&c.stateNode!=null)p1(a,c,a.memoizedProps,v);else{if(typeof v!="string"&&c.stateNode===null)throw Error(t(166));if(f=Qs(Oa.current),Qs(kr.current),zn(c)){if(v=c.stateNode,f=c.memoizedProps,v[js]=c,(C=v.nodeValue!==f)&&(a=Ee,a!==null))switch(a.tag){case 3:ru(v.nodeValue,f,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&ru(v.nodeValue,f,(a.mode&1)!==0)}C&&(c.flags|=4)}else v=(f.nodeType===9?f:f.ownerDocument).createTextNode(v),v[js]=c,c.stateNode=v}return ci(c),null;case 13:if(ln(Nn),v=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Re&&je!==null&&(c.mode&1)!==0&&(c.flags&128)===0)It(),Je(),c.flags|=98560,C=!1;else if(C=zn(c),v!==null&&v.dehydrated!==null){if(a===null){if(!C)throw Error(t(318));if(C=c.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(t(317));C[js]=c}else Je(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ci(c),C=!1}else Me!==null&&(pg(Me),Me=null),C=!0;if(!C)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(v=v!==null,v!==(a!==null&&a.memoizedState!==null)&&v&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(Nn.current&1)!==0?Or===0&&(Or=3):vg())),c.updateQueue!==null&&(c.flags|=4),ci(c),null);case 4:return Ls(),rg(a,c),a===null&&wo(c.stateNode.containerInfo),ci(c),null;case 10:return jn(c.type._context),ci(c),null;case 17:return oi(c.type)&&iu(),ci(c),null;case 19:if(ln(Nn),C=c.memoizedState,C===null)return ci(c),null;if(v=(c.flags&128)!==0,F=C.rendering,F===null)if(v)Ph(C,!1);else{if(Or!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(F=ls(a),F!==null){for(c.flags|=128,Ph(C,!1),v=F.updateQueue,v!==null&&(c.updateQueue=v,c.flags|=4),c.subtreeFlags=0,v=f,f=c.child;f!==null;)C=f,a=v,C.flags&=14680066,F=C.alternate,F===null?(C.childLanes=0,C.lanes=a,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=F.childLanes,C.lanes=F.lanes,C.child=F.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=F.memoizedProps,C.memoizedState=F.memoizedState,C.updateQueue=F.updateQueue,C.type=F.type,a=F.dependencies,C.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),f=f.sibling;return hn(Nn,Nn.current&1|2),c.child}a=a.sibling}C.tail!==null&&kn()>vu&&(c.flags|=128,v=!0,Ph(C,!1),c.lanes=4194304)}else{if(!v)if(a=ls(F),a!==null){if(c.flags|=128,v=!0,f=a.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),Ph(C,!0),C.tail===null&&C.tailMode==="hidden"&&!F.alternate&&!Re)return ci(c),null}else 2*kn()-C.renderingStartTime>vu&&f!==1073741824&&(c.flags|=128,v=!0,Ph(C,!1),c.lanes=4194304);C.isBackwards?(F.sibling=c.child,c.child=F):(f=C.last,f!==null?f.sibling=F:c.child=F,C.last=F)}return C.tail!==null?(c=C.tail,C.rendering=c,C.tail=c.sibling,C.renderingStartTime=kn(),c.sibling=null,f=Nn.current,hn(Nn,v?f&1|2:f&1),c):(ci(c),null);case 22:case 23:return mg(),v=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==v&&(c.flags|=8192),v&&(c.mode&1)!==0?(hs&1073741824)!==0&&(ci(c),c.subtreeFlags&6&&(c.flags|=8192)):ci(c),null;case 24:return null;case 25:return null}throw Error(t(156,c.tag))}function D_(a,c){switch(Ne(c),c.tag){case 1:return oi(c.type)&&iu(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Ls(),ln(ai),ln(Lr),kh(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return xh(c),null;case 13:if(ln(Nn),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(t(340));Je()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return ln(Nn),null;case 4:return Ls(),null;case 10:return jn(c.type._context),null;case 22:case 23:return mg(),null;case 24:return null;default:return null}}var Hd=!1,ui=!1,F_=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function gu(a,c){var f=a.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(v){cr(a,c,v)}else f.current=null}function ig(a,c,f){try{f()}catch(v){cr(a,c,v)}}var g1=!1;function B_(a,c){if(ac=Xo,a=sr(),ss(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var S=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{f.nodeType,C.nodeType}catch{f=null;break e}var F=0,se=-1,pe=-1,Ce=0,Be=0,ze=a,Fe=null;t:for(;;){for(var Ke;ze!==f||S!==0&&ze.nodeType!==3||(se=F+S),ze!==C||v!==0&&ze.nodeType!==3||(pe=F+v),ze.nodeType===3&&(F+=ze.nodeValue.length),(Ke=ze.firstChild)!==null;)Fe=ze,ze=Ke;for(;;){if(ze===a)break t;if(Fe===f&&++Ce===S&&(se=F),Fe===C&&++Be===v&&(pe=F),(Ke=ze.nextSibling)!==null)break;ze=Fe,Fe=ze.parentNode}ze=Ke}f=se===-1||pe===-1?null:{start:se,end:pe}}else f=null}f=f||{start:0,end:0}}else f=null;for(_o={focusedElem:a,selectionRange:f},Xo=!1,Xe=c;Xe!==null;)if(c=Xe,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Xe=a;else for(;Xe!==null;){c=Xe;try{var et=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(et!==null){var it=et.memoizedProps,vr=et.memoizedState,ke=c.stateNode,me=ke.getSnapshotBeforeUpdate(c.elementType===c.type?it:ta(c.type,it),vr);ke.__reactInternalSnapshotBeforeUpdate=me}break;case 3:var Pe=c.stateNode.containerInfo;Pe.nodeType===1?Pe.textContent="":Pe.nodeType===9&&Pe.documentElement&&Pe.removeChild(Pe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(We){cr(c,c.return,We)}if(a=c.sibling,a!==null){a.return=c.return,Xe=a;break}Xe=c.return}return et=g1,g1=!1,et}function Ch(a,c,f){var v=c.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var S=v=v.next;do{if((S.tag&a)===a){var C=S.destroy;S.destroy=void 0,C!==void 0&&ig(c,f,C)}S=S.next}while(S!==v)}}function $d(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&a)===a){var v=f.create;f.destroy=v()}f=f.next}while(f!==c)}}function sg(a){var c=a.ref;if(c!==null){var f=a.stateNode;a.tag,a=f,typeof c=="function"?c(a):c.current=a}}function m1(a){var c=a.alternate;c!==null&&(a.alternate=null,m1(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[js],delete c[ul],delete c[si],delete c[qp],delete c[Hp])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function v1(a){return a.tag===5||a.tag===3||a.tag===4}function y1(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||v1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ag(a,c,f){var v=a.tag;if(v===5||v===6)a=a.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(a,c):f.insertBefore(a,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(a,f)):(c=f,c.appendChild(a)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=cl));else if(v!==4&&(a=a.child,a!==null))for(ag(a,c,f),a=a.sibling;a!==null;)ag(a,c,f),a=a.sibling}function og(a,c,f){var v=a.tag;if(v===5||v===6)a=a.stateNode,c?f.insertBefore(a,c):f.appendChild(a);else if(v!==4&&(a=a.child,a!==null))for(og(a,c,f),a=a.sibling;a!==null;)og(a,c,f),a=a.sibling}var Yr=null,na=!1;function vl(a,c,f){for(f=f.child;f!==null;)w1(a,c,f),f=f.sibling}function w1(a,c,f){if(yi&&typeof yi.onCommitFiberUnmount=="function")try{yi.onCommitFiberUnmount(Ja,f)}catch{}switch(f.tag){case 5:ui||gu(f,c);case 6:var v=Yr,S=na;Yr=null,vl(a,c,f),Yr=v,na=S,Yr!==null&&(na?(a=Yr,f=f.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)):Yr.removeChild(f.stateNode));break;case 18:Yr!==null&&(na?(a=Yr,f=f.stateNode,a.nodeType===8?wh(a.parentNode,f):a.nodeType===1&&wh(a,f),ro(a)):wh(Yr,f.stateNode));break;case 4:v=Yr,S=na,Yr=f.stateNode.containerInfo,na=!0,vl(a,c,f),Yr=v,na=S;break;case 0:case 11:case 14:case 15:if(!ui&&(v=f.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){S=v=v.next;do{var C=S,F=C.destroy;C=C.tag,F!==void 0&&((C&2)!==0||(C&4)!==0)&&ig(f,c,F),S=S.next}while(S!==v)}vl(a,c,f);break;case 1:if(!ui&&(gu(f,c),v=f.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=f.memoizedProps,v.state=f.memoizedState,v.componentWillUnmount()}catch(se){cr(f,c,se)}vl(a,c,f);break;case 21:vl(a,c,f);break;case 22:f.mode&1?(ui=(v=ui)||f.memoizedState!==null,vl(a,c,f),ui=v):vl(a,c,f);break;default:vl(a,c,f)}}function b1(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var f=a.stateNode;f===null&&(f=a.stateNode=new F_),c.forEach(function(v){var S=K_.bind(null,a,v);f.has(v)||(f.add(v),v.then(S,S))})}}function ra(a,c){var f=c.deletions;if(f!==null)for(var v=0;v<f.length;v++){var S=f[v];try{var C=a,F=c,se=F;e:for(;se!==null;){switch(se.tag){case 5:Yr=se.stateNode,na=!1;break e;case 3:Yr=se.stateNode.containerInfo,na=!0;break e;case 4:Yr=se.stateNode.containerInfo,na=!0;break e}se=se.return}if(Yr===null)throw Error(t(160));w1(C,F,S),Yr=null,na=!1;var pe=S.alternate;pe!==null&&(pe.return=null),S.return=null}catch(Ce){cr(S,c,Ce)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)_1(c,a),c=c.sibling}function _1(a,c){var f=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ra(c,a),Ma(a),v&4){try{Ch(3,a,a.return),$d(3,a)}catch(it){cr(a,a.return,it)}try{Ch(5,a,a.return)}catch(it){cr(a,a.return,it)}}break;case 1:ra(c,a),Ma(a),v&512&&f!==null&&gu(f,f.return);break;case 5:if(ra(c,a),Ma(a),v&512&&f!==null&&gu(f,f.return),a.flags&32){var S=a.stateNode;try{At(S,"")}catch(it){cr(a,a.return,it)}}if(v&4&&(S=a.stateNode,S!=null)){var C=a.memoizedProps,F=f!==null?f.memoizedProps:C,se=a.type,pe=a.updateQueue;if(a.updateQueue=null,pe!==null)try{se==="input"&&C.type==="radio"&&C.name!=null&&$e(S,C),pt(se,F);var Ce=pt(se,C);for(F=0;F<pe.length;F+=2){var Be=pe[F],ze=pe[F+1];Be==="style"?Bt(S,ze):Be==="dangerouslySetInnerHTML"?rt(S,ze):Be==="children"?At(S,ze):T(S,Be,ze,Ce)}switch(se){case"input":Mt(S,C);break;case"textarea":Qt(S,C);break;case"select":var Fe=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!C.multiple;var Ke=C.value;Ke!=null?Ge(S,!!C.multiple,Ke,!1):Fe!==!!C.multiple&&(C.defaultValue!=null?Ge(S,!!C.multiple,C.defaultValue,!0):Ge(S,!!C.multiple,C.multiple?[]:"",!1))}S[ul]=C}catch(it){cr(a,a.return,it)}}break;case 6:if(ra(c,a),Ma(a),v&4){if(a.stateNode===null)throw Error(t(162));S=a.stateNode,C=a.memoizedProps;try{S.nodeValue=C}catch(it){cr(a,a.return,it)}}break;case 3:if(ra(c,a),Ma(a),v&4&&f!==null&&f.memoizedState.isDehydrated)try{ro(c.containerInfo)}catch(it){cr(a,a.return,it)}break;case 4:ra(c,a),Ma(a);break;case 13:ra(c,a),Ma(a),S=a.child,S.flags&8192&&(C=S.memoizedState!==null,S.stateNode.isHidden=C,!C||S.alternate!==null&&S.alternate.memoizedState!==null||(ug=kn())),v&4&&b1(a);break;case 22:if(Be=f!==null&&f.memoizedState!==null,a.mode&1?(ui=(Ce=ui)||Be,ra(c,a),ui=Ce):ra(c,a),Ma(a),v&8192){if(Ce=a.memoizedState!==null,(a.stateNode.isHidden=Ce)&&!Be&&(a.mode&1)!==0)for(Xe=a,Be=a.child;Be!==null;){for(ze=Xe=Be;Xe!==null;){switch(Fe=Xe,Ke=Fe.child,Fe.tag){case 0:case 11:case 14:case 15:Ch(4,Fe,Fe.return);break;case 1:gu(Fe,Fe.return);var et=Fe.stateNode;if(typeof et.componentWillUnmount=="function"){v=Fe,f=Fe.return;try{c=v,et.props=c.memoizedProps,et.state=c.memoizedState,et.componentWillUnmount()}catch(it){cr(v,f,it)}}break;case 5:gu(Fe,Fe.return);break;case 22:if(Fe.memoizedState!==null){k1(ze);continue}}Ke!==null?(Ke.return=Fe,Xe=Ke):k1(ze)}Be=Be.sibling}e:for(Be=null,ze=a;;){if(ze.tag===5){if(Be===null){Be=ze;try{S=ze.stateNode,Ce?(C=S.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(se=ze.stateNode,pe=ze.memoizedProps.style,F=pe!=null&&pe.hasOwnProperty("display")?pe.display:null,se.style.display=Kt("display",F))}catch(it){cr(a,a.return,it)}}}else if(ze.tag===6){if(Be===null)try{ze.stateNode.nodeValue=Ce?"":ze.memoizedProps}catch(it){cr(a,a.return,it)}}else if((ze.tag!==22&&ze.tag!==23||ze.memoizedState===null||ze===a)&&ze.child!==null){ze.child.return=ze,ze=ze.child;continue}if(ze===a)break e;for(;ze.sibling===null;){if(ze.return===null||ze.return===a)break e;Be===ze&&(Be=null),ze=ze.return}Be===ze&&(Be=null),ze.sibling.return=ze.return,ze=ze.sibling}}break;case 19:ra(c,a),Ma(a),v&4&&b1(a);break;case 21:break;default:ra(c,a),Ma(a)}}function Ma(a){var c=a.flags;if(c&2){try{e:{for(var f=a.return;f!==null;){if(v1(f)){var v=f;break e}f=f.return}throw Error(t(160))}switch(v.tag){case 5:var S=v.stateNode;v.flags&32&&(At(S,""),v.flags&=-33);var C=y1(a);og(a,C,S);break;case 3:case 4:var F=v.stateNode.containerInfo,se=y1(a);ag(a,se,F);break;default:throw Error(t(161))}}catch(pe){cr(a,a.return,pe)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function U_(a,c,f){Xe=a,x1(a)}function x1(a,c,f){for(var v=(a.mode&1)!==0;Xe!==null;){var S=Xe,C=S.child;if(S.tag===22&&v){var F=S.memoizedState!==null||Hd;if(!F){var se=S.alternate,pe=se!==null&&se.memoizedState!==null||ui;se=Hd;var Ce=ui;if(Hd=F,(ui=pe)&&!Ce)for(Xe=S;Xe!==null;)F=Xe,pe=F.child,F.tag===22&&F.memoizedState!==null?N1(S):pe!==null?(pe.return=F,Xe=pe):N1(S);for(;C!==null;)Xe=C,x1(C),C=C.sibling;Xe=S,Hd=se,ui=Ce}S1(a)}else(S.subtreeFlags&8772)!==0&&C!==null?(C.return=S,Xe=C):S1(a)}}function S1(a){for(;Xe!==null;){var c=Xe;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:ui||$d(5,c);break;case 1:var v=c.stateNode;if(c.flags&4&&!ui)if(f===null)v.componentDidMount();else{var S=c.elementType===c.type?f.memoizedProps:ta(c.type,f.memoizedProps);v.componentDidUpdate(S,f.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var C=c.updateQueue;C!==null&&zi(c,C,v);break;case 3:var F=c.updateQueue;if(F!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}zi(c,F,f)}break;case 5:var se=c.stateNode;if(f===null&&c.flags&4){f=se;var pe=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":pe.autoFocus&&f.focus();break;case"img":pe.src&&(f.src=pe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var Ce=c.alternate;if(Ce!==null){var Be=Ce.memoizedState;if(Be!==null){var ze=Be.dehydrated;ze!==null&&ro(ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ui||c.flags&512&&sg(c)}catch(Fe){cr(c,c.return,Fe)}}if(c===a){Xe=null;break}if(f=c.sibling,f!==null){f.return=c.return,Xe=f;break}Xe=c.return}}function k1(a){for(;Xe!==null;){var c=Xe;if(c===a){Xe=null;break}var f=c.sibling;if(f!==null){f.return=c.return,Xe=f;break}Xe=c.return}}function N1(a){for(;Xe!==null;){var c=Xe;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{$d(4,c)}catch(pe){cr(c,f,pe)}break;case 1:var v=c.stateNode;if(typeof v.componentDidMount=="function"){var S=c.return;try{v.componentDidMount()}catch(pe){cr(c,S,pe)}}var C=c.return;try{sg(c)}catch(pe){cr(c,C,pe)}break;case 5:var F=c.return;try{sg(c)}catch(pe){cr(c,F,pe)}}}catch(pe){cr(c,c.return,pe)}if(c===a){Xe=null;break}var se=c.sibling;if(se!==null){se.return=c.return,Xe=se;break}Xe=c.return}}var z_=Math.ceil,Vd=j.ReactCurrentDispatcher,lg=j.ReactCurrentOwner,Rs=j.ReactCurrentBatchConfig,rn=0,Wr=null,Nr=null,Jr=0,hs=0,mu=as(0),Or=0,Eh=null,dc=0,Gd=0,cg=0,jh=null,qi=null,ug=0,vu=1/0,Po=null,Kd=!1,hg=null,yl=null,Yd=!1,wl=null,Jd=0,Lh=0,dg=null,Xd=-1,Qd=0;function Pi(){return(rn&6)!==0?kn():Xd!==-1?Xd:Xd=kn()}function bl(a){return(a.mode&1)===0?1:(rn&2)!==0&&Jr!==0?Jr&-Jr:Yn.transition!==null?(Qd===0&&(Qd=ql()),Qd):(a=Xt,a!==0||(a=window.event,a=a===void 0?16:so(a.type)),a)}function ia(a,c,f,v){if(50<Lh)throw Lh=0,dg=null,Error(t(185));Za(a,f,v),((rn&2)===0||a!==Wr)&&(a===Wr&&((rn&2)===0&&(Gd|=f),Or===4&&_l(a,Jr)),Hi(a,v),f===1&&rn===0&&(c.mode&1)===0&&(vu=kn()+500,lc&&E()))}function Hi(a,c){var f=a.callbackNode;fr(a,c);var v=Qa(a,a===Wr?Jr:0);if(v===0)f!==null&&Ya(f),a.callbackNode=null,a.callbackPriority=0;else if(c=v&-v,a.callbackPriority!==c){if(f!=null&&Ya(f),c===1)a.tag===0?A(P1.bind(null,a)):w(P1.bind(null,a)),zp(function(){(rn&6)===0&&E()}),f=null;else{switch(eo(v)){case 1:f=Ho;break;case 4:f=vi;break;case 16:f=wa;break;case 536870912:f=$o;break;default:f=wa}f=M1(f,A1.bind(null,a))}a.callbackPriority=c,a.callbackNode=f}}function A1(a,c){if(Xd=-1,Qd=0,(rn&6)!==0)throw Error(t(327));var f=a.callbackNode;if(yu()&&a.callbackNode!==f)return null;var v=Qa(a,a===Wr?Jr:0);if(v===0)return null;if((v&30)!==0||(v&a.expiredLanes)!==0||c)c=Zd(a,v);else{c=v;var S=rn;rn|=2;var C=E1();(Wr!==a||Jr!==c)&&(Po=null,vu=kn()+500,pc(a,c));do try{H_();break}catch(se){C1(a,se)}while(!0);tn(),Vd.current=C,rn=S,Nr!==null?c=0:(Wr=null,Jr=0,c=Or)}if(c!==0){if(c===2&&(S=es(a),S!==0&&(v=S,c=fg(a,S))),c===1)throw f=Eh,pc(a,0),_l(a,v),Hi(a,kn()),f;if(c===6)_l(a,v);else{if(S=a.current.alternate,(v&30)===0&&!W_(S)&&(c=Zd(a,v),c===2&&(C=es(a),C!==0&&(v=C,c=fg(a,C))),c===1))throw f=Eh,pc(a,0),_l(a,v),Hi(a,kn()),f;switch(a.finishedWork=S,a.finishedLanes=v,c){case 0:case 1:throw Error(t(345));case 2:gc(a,qi,Po);break;case 3:if(_l(a,v),(v&130023424)===v&&(c=ug+500-kn(),10<c)){if(Qa(a,0)!==0)break;if(S=a.suspendedLanes,(S&v)!==v){Pi(),a.pingedLanes|=a.suspendedLanes&S;break}a.timeoutHandle=yh(gc.bind(null,a,qi,Po),c);break}gc(a,qi,Po);break;case 4:if(_l(a,v),(v&4194240)===v)break;for(c=a.eventTimes,S=-1;0<v;){var F=31-nr(v);C=1<<F,F=c[F],F>S&&(S=F),v&=~C}if(v=S,v=kn()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*z_(v/1960))-v,10<v){a.timeoutHandle=yh(gc.bind(null,a,qi,Po),v);break}gc(a,qi,Po);break;case 5:gc(a,qi,Po);break;default:throw Error(t(329))}}}return Hi(a,kn()),a.callbackNode===f?A1.bind(null,a):null}function fg(a,c){var f=jh;return a.current.memoizedState.isDehydrated&&(pc(a,c).flags|=256),a=Zd(a,c),a!==2&&(c=qi,qi=f,c!==null&&pg(c)),a}function pg(a){qi===null?qi=a:qi.push.apply(qi,a)}function W_(a){for(var c=a;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var v=0;v<f.length;v++){var S=f[v],C=S.getSnapshot;S=S.value;try{if(!Bn(C(),S))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function _l(a,c){for(c&=~cg,c&=~Gd,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var f=31-nr(c),v=1<<f;a[f]=-1,c&=~v}}function P1(a){if((rn&6)!==0)throw Error(t(327));yu();var c=Qa(a,0);if((c&1)===0)return Hi(a,kn()),null;var f=Zd(a,c);if(a.tag!==0&&f===2){var v=es(a);v!==0&&(c=v,f=fg(a,v))}if(f===1)throw f=Eh,pc(a,0),_l(a,c),Hi(a,kn()),f;if(f===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,gc(a,qi,Po),Hi(a,kn()),null}function gg(a,c){var f=rn;rn|=1;try{return a(c)}finally{rn=f,rn===0&&(vu=kn()+500,lc&&E())}}function fc(a){wl!==null&&wl.tag===0&&(rn&6)===0&&yu();var c=rn;rn|=1;var f=Rs.transition,v=Xt;try{if(Rs.transition=null,Xt=1,a)return a()}finally{Xt=v,Rs.transition=f,rn=c,(rn&6)===0&&E()}}function mg(){hs=mu.current,ln(mu)}function pc(a,c){a.finishedWork=null,a.finishedLanes=0;var f=a.timeoutHandle;if(f!==-1&&(a.timeoutHandle=-1,Ld(f)),Nr!==null)for(f=Nr.return;f!==null;){var v=f;switch(Ne(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&iu();break;case 3:Ls(),ln(ai),ln(Lr),kh();break;case 5:xh(v);break;case 4:Ls();break;case 13:ln(Nn);break;case 19:ln(Nn);break;case 10:jn(v.type._context);break;case 22:case 23:mg()}f=f.return}if(Wr=a,Nr=a=xl(a.current,null),Jr=hs=c,Or=0,Eh=null,cg=Gd=dc=0,qi=jh=null,pn!==null){for(c=0;c<pn.length;c++)if(f=pn[c],v=f.interleaved,v!==null){f.interleaved=null;var S=v.next,C=f.pending;if(C!==null){var F=C.next;C.next=S,v.next=F}f.pending=v}pn=null}return a}function C1(a,c){do{var f=Nr;try{if(tn(),su.current=Ud,pl){for(var v=Ln.memoizedState;v!==null;){var S=v.queue;S!==null&&(S.pending=null),v=v.next}pl=!1}if(Ts=0,Zn=lr=Ln=null,Zs=!1,gl=0,lg.current=null,f===null||f.return===null){Or=1,Eh=c,Nr=null;break}e:{var C=a,F=f.return,se=f,pe=c;if(c=Jr,se.flags|=32768,pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Ce=pe,Be=se,ze=Be.tag;if((Be.mode&1)===0&&(ze===0||ze===11||ze===15)){var Fe=Be.alternate;Fe?(Be.updateQueue=Fe.updateQueue,Be.memoizedState=Fe.memoizedState,Be.lanes=Fe.lanes):(Be.updateQueue=null,Be.memoizedState=null)}var Ke=Z0(F);if(Ke!==null){Ke.flags&=-257,e1(Ke,F,se,C,c),Ke.mode&1&&Q0(C,Ce,c),c=Ke,pe=Ce;var et=c.updateQueue;if(et===null){var it=new Set;it.add(pe),c.updateQueue=it}else et.add(pe);break e}else{if((c&1)===0){Q0(C,Ce,c),vg();break e}pe=Error(t(426))}}else if(Re&&se.mode&1){var vr=Z0(F);if(vr!==null){(vr.flags&65536)===0&&(vr.flags|=256),e1(vr,F,se,C,c),qe(pu(pe,se));break e}}C=pe=pu(pe,se),Or!==4&&(Or=2),jh===null?jh=[C]:jh.push(C),C=F;do{switch(C.tag){case 3:C.flags|=65536,c&=-c,C.lanes|=c;var ke=J0(C,pe,c);mn(C,ke);break e;case 1:se=pe;var me=C.type,Pe=C.stateNode;if((C.flags&128)===0&&(typeof me.getDerivedStateFromError=="function"||Pe!==null&&typeof Pe.componentDidCatch=="function"&&(yl===null||!yl.has(Pe)))){C.flags|=65536,c&=-c,C.lanes|=c;var We=X0(C,se,c);mn(C,We);break e}}C=C.return}while(C!==null)}L1(f)}catch(ot){c=ot,Nr===f&&f!==null&&(Nr=f=f.return);continue}break}while(!0)}function E1(){var a=Vd.current;return Vd.current=Ud,a===null?Ud:a}function vg(){(Or===0||Or===3||Or===2)&&(Or=4),Wr===null||(dc&268435455)===0&&(Gd&268435455)===0||_l(Wr,Jr)}function Zd(a,c){var f=rn;rn|=2;var v=E1();(Wr!==a||Jr!==c)&&(Po=null,pc(a,c));do try{q_();break}catch(S){C1(a,S)}while(!0);if(tn(),rn=f,Vd.current=v,Nr!==null)throw Error(t(261));return Wr=null,Jr=0,Or}function q_(){for(;Nr!==null;)j1(Nr)}function H_(){for(;Nr!==null&&!qo();)j1(Nr)}function j1(a){var c=R1(a.alternate,a,hs);a.memoizedProps=a.pendingProps,c===null?L1(a):Nr=c,lg.current=null}function L1(a){var c=a;do{var f=c.alternate;if(a=c.return,(c.flags&32768)===0){if(f=I_(f,c,hs),f!==null){Nr=f;return}}else{if(f=D_(f,c),f!==null){f.flags&=32767,Nr=f;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Or=6,Nr=null;return}}if(c=c.sibling,c!==null){Nr=c;return}Nr=c=a}while(c!==null);Or===0&&(Or=5)}function gc(a,c,f){var v=Xt,S=Rs.transition;try{Rs.transition=null,Xt=1,$_(a,c,f,v)}finally{Rs.transition=S,Xt=v}return null}function $_(a,c,f,v){do yu();while(wl!==null);if((rn&6)!==0)throw Error(t(327));f=a.finishedWork;var S=a.finishedLanes;if(f===null)return null;if(a.finishedWork=null,a.finishedLanes=0,f===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var C=f.lanes|f.childLanes;if(_s(a,C),a===Wr&&(Nr=Wr=null,Jr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Yd||(Yd=!0,M1(wa,function(){return yu(),null})),C=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||C){C=Rs.transition,Rs.transition=null;var F=Xt;Xt=1;var se=rn;rn|=4,lg.current=null,B_(a,f),_1(f,a),Ql(_o),Xo=!!ac,_o=ac=null,a.current=f,U_(f),ah(),rn=se,Xt=F,Rs.transition=C}else a.current=f;if(Yd&&(Yd=!1,wl=a,Jd=S),C=a.pendingLanes,C===0&&(yl=null),Vc(f.stateNode),Hi(a,kn()),c!==null)for(v=a.onRecoverableError,f=0;f<c.length;f++)S=c[f],v(S.value,{componentStack:S.stack,digest:S.digest});if(Kd)throw Kd=!1,a=hg,hg=null,a;return(Jd&1)!==0&&a.tag!==0&&yu(),C=a.pendingLanes,(C&1)!==0?a===dg?Lh++:(Lh=0,dg=a):Lh=0,E(),null}function yu(){if(wl!==null){var a=eo(Jd),c=Rs.transition,f=Xt;try{if(Rs.transition=null,Xt=16>a?16:a,wl===null)var v=!1;else{if(a=wl,wl=null,Jd=0,(rn&6)!==0)throw Error(t(331));var S=rn;for(rn|=4,Xe=a.current;Xe!==null;){var C=Xe,F=C.child;if((Xe.flags&16)!==0){var se=C.deletions;if(se!==null){for(var pe=0;pe<se.length;pe++){var Ce=se[pe];for(Xe=Ce;Xe!==null;){var Be=Xe;switch(Be.tag){case 0:case 11:case 15:Ch(8,Be,C)}var ze=Be.child;if(ze!==null)ze.return=Be,Xe=ze;else for(;Xe!==null;){Be=Xe;var Fe=Be.sibling,Ke=Be.return;if(m1(Be),Be===Ce){Xe=null;break}if(Fe!==null){Fe.return=Ke,Xe=Fe;break}Xe=Ke}}}var et=C.alternate;if(et!==null){var it=et.child;if(it!==null){et.child=null;do{var vr=it.sibling;it.sibling=null,it=vr}while(it!==null)}}Xe=C}}if((C.subtreeFlags&2064)!==0&&F!==null)F.return=C,Xe=F;else e:for(;Xe!==null;){if(C=Xe,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:Ch(9,C,C.return)}var ke=C.sibling;if(ke!==null){ke.return=C.return,Xe=ke;break e}Xe=C.return}}var me=a.current;for(Xe=me;Xe!==null;){F=Xe;var Pe=F.child;if((F.subtreeFlags&2064)!==0&&Pe!==null)Pe.return=F,Xe=Pe;else e:for(F=me;Xe!==null;){if(se=Xe,(se.flags&2048)!==0)try{switch(se.tag){case 0:case 11:case 15:$d(9,se)}}catch(ot){cr(se,se.return,ot)}if(se===F){Xe=null;break e}var We=se.sibling;if(We!==null){We.return=se.return,Xe=We;break e}Xe=se.return}}if(rn=S,E(),yi&&typeof yi.onPostCommitFiberRoot=="function")try{yi.onPostCommitFiberRoot(Ja,a)}catch{}v=!0}return v}finally{Xt=f,Rs.transition=c}}return!1}function T1(a,c,f){c=pu(f,c),c=J0(a,c,1),a=Xn(a,c,1),c=Pi(),a!==null&&(Za(a,1,c),Hi(a,c))}function cr(a,c,f){if(a.tag===3)T1(a,a,f);else for(;c!==null;){if(c.tag===3){T1(c,a,f);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(yl===null||!yl.has(v))){a=pu(f,a),a=X0(c,a,1),c=Xn(c,a,1),a=Pi(),c!==null&&(Za(c,1,a),Hi(c,a));break}}c=c.return}}function V_(a,c,f){var v=a.pingCache;v!==null&&v.delete(c),c=Pi(),a.pingedLanes|=a.suspendedLanes&f,Wr===a&&(Jr&f)===f&&(Or===4||Or===3&&(Jr&130023424)===Jr&&500>kn()-ug?pc(a,0):cg|=f),Hi(a,c)}function O1(a,c){c===0&&((a.mode&1)===0?c=1:(c=wi,wi<<=1,(wi&130023424)===0&&(wi=4194304)));var f=Pi();a=gn(a,c),a!==null&&(Za(a,c,f),Hi(a,f))}function G_(a){var c=a.memoizedState,f=0;c!==null&&(f=c.retryLane),O1(a,f)}function K_(a,c){var f=0;switch(a.tag){case 13:var v=a.stateNode,S=a.memoizedState;S!==null&&(f=S.retryLane);break;case 19:v=a.stateNode;break;default:throw Error(t(314))}v!==null&&v.delete(c),O1(a,f)}var R1;R1=function(a,c,f){if(a!==null)if(a.memoizedProps!==c.pendingProps||ai.current)Wi=!0;else{if((a.lanes&f)===0&&(c.flags&128)===0)return Wi=!1,M_(a,c,f);Wi=(a.flags&131072)!==0}else Wi=!1,Re&&(c.flags&1048576)!==0&&xe(c,V,c.index);switch(c.lanes=0,c.tag){case 2:var v=c.type;qd(a,c),a=c.pendingProps;var S=dl(c,Lr.current);Wn(c,f),S=cc(null,c,v,a,S,f);var C=Os();return c.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,oi(v)?(C=!0,ko(c)):C=!1,c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Tr(c),S.updater=zd,c.stateNode=S,S._reactInternals=c,Kp(c,v,a,f),c=Qp(null,c,v,!0,C,f)):(c.tag=0,Re&&C&&Le(c),Ai(null,c,S,f),c=c.child),c;case 16:v=c.elementType;e:{switch(qd(a,c),a=c.pendingProps,S=v._init,v=S(v._payload),c.type=v,S=c.tag=J_(v),a=ta(v,a),S){case 0:c=Xp(null,c,v,a,f);break e;case 1:c=a1(null,c,v,a,f);break e;case 11:c=t1(null,c,v,a,f);break e;case 14:c=n1(null,c,v,ta(v.type,a),f);break e}throw Error(t(306,v,""))}return c;case 0:return v=c.type,S=c.pendingProps,S=c.elementType===v?S:ta(v,S),Xp(a,c,v,S,f);case 1:return v=c.type,S=c.pendingProps,S=c.elementType===v?S:ta(v,S),a1(a,c,v,S,f);case 3:e:{if(o1(c),a===null)throw Error(t(387));v=c.pendingProps,C=c.memoizedState,S=C.element,li(a,c),zr(c,v,null,f);var F=c.memoizedState;if(v=F.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},c.updateQueue.baseState=C,c.memoizedState=C,c.flags&256){S=pu(Error(t(423)),c),c=l1(a,c,v,f,S);break e}else if(v!==S){S=pu(Error(t(424)),c),c=l1(a,c,v,f,S);break e}else for(je=Kr(c.stateNode.containerInfo.firstChild),Ee=c,Re=!0,Me=null,f=In(c,null,v,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Je(),v===S){c=Ao(a,c,f);break e}Ai(a,c,v,f)}c=c.child}return c;case 5:return Md(c),a===null&&Ze(c),v=c.type,S=c.pendingProps,C=a!==null?a.memoizedProps:null,F=S.children,vh(v,S)?F=null:C!==null&&vh(v,C)&&(c.flags|=32),s1(a,c),Ai(a,c,F,f),c.child;case 6:return a===null&&Ze(c),null;case 13:return c1(a,c,f);case 4:return fl(c,c.stateNode.containerInfo),v=c.pendingProps,a===null?c.child=ar(c,null,v,f):Ai(a,c,v,f),c.child;case 11:return v=c.type,S=c.pendingProps,S=c.elementType===v?S:ta(v,S),t1(a,c,v,S,f);case 7:return Ai(a,c,c.pendingProps,f),c.child;case 8:return Ai(a,c,c.pendingProps.children,f),c.child;case 12:return Ai(a,c,c.pendingProps.children,f),c.child;case 10:e:{if(v=c.type._context,S=c.pendingProps,C=c.memoizedProps,F=S.value,hn(gr,v._currentValue),v._currentValue=F,C!==null)if(Bn(C.value,F)){if(C.children===S.children&&!ai.current){c=Ao(a,c,f);break e}}else for(C=c.child,C!==null&&(C.return=c);C!==null;){var se=C.dependencies;if(se!==null){F=C.child;for(var pe=se.firstContext;pe!==null;){if(pe.context===v){if(C.tag===1){pe=Jn(-1,f&-f),pe.tag=2;var Ce=C.updateQueue;if(Ce!==null){Ce=Ce.shared;var Be=Ce.pending;Be===null?pe.next=pe:(pe.next=Be.next,Be.next=pe),Ce.pending=pe}}C.lanes|=f,pe=C.alternate,pe!==null&&(pe.lanes|=f),nn(C.return,f,c),se.lanes|=f;break}pe=pe.next}}else if(C.tag===10)F=C.type===c.type?null:C.child;else if(C.tag===18){if(F=C.return,F===null)throw Error(t(341));F.lanes|=f,se=F.alternate,se!==null&&(se.lanes|=f),nn(F,f,c),F=C.sibling}else F=C.child;if(F!==null)F.return=C;else for(F=C;F!==null;){if(F===c){F=null;break}if(C=F.sibling,C!==null){C.return=F.return,F=C;break}F=F.return}C=F}Ai(a,c,S.children,f),c=c.child}return c;case 9:return S=c.type,v=c.pendingProps.children,Wn(c,f),S=qn(S),v=v(S),c.flags|=1,Ai(a,c,v,f),c.child;case 14:return v=c.type,S=ta(v,c.pendingProps),S=ta(v.type,S),n1(a,c,v,S,f);case 15:return r1(a,c,c.type,c.pendingProps,f);case 17:return v=c.type,S=c.pendingProps,S=c.elementType===v?S:ta(v,S),qd(a,c),c.tag=1,oi(v)?(a=!0,ko(c)):a=!1,Wn(c,f),K0(c,v,S),Kp(c,v,S,f),Qp(null,c,v,!0,a,f);case 19:return h1(a,c,f);case 22:return i1(a,c,f)}throw Error(t(156,c.tag))};function M1(a,c){return Ka(a,c)}function Y_(a,c,f,v){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(a,c,f,v){return new Y_(a,c,f,v)}function yg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function J_(a){if(typeof a=="function")return yg(a)?1:0;if(a!=null){if(a=a.$$typeof,a===q)return 11;if(a===ve)return 14}return 2}function xl(a,c){var f=a.alternate;return f===null?(f=Ms(a.tag,c,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=c,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&14680064,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,c=a.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f}function ef(a,c,f,v,S,C){var F=2;if(v=a,typeof a=="function")yg(a)&&(F=1);else if(typeof a=="string")F=5;else e:switch(a){case U:return mc(f.children,S,C,c);case H:F=8,S|=8;break;case W:return a=Ms(12,f,c,S|2),a.elementType=W,a.lanes=C,a;case ne:return a=Ms(13,f,c,S),a.elementType=ne,a.lanes=C,a;case re:return a=Ms(19,f,c,S),a.elementType=re,a.lanes=C,a;case he:return tf(f,S,C,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case ae:F=10;break e;case I:F=9;break e;case q:F=11;break e;case ve:F=14;break e;case be:F=16,v=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return c=Ms(F,f,c,S),c.elementType=a,c.type=v,c.lanes=C,c}function mc(a,c,f,v){return a=Ms(7,a,v,c),a.lanes=f,a}function tf(a,c,f,v){return a=Ms(22,a,v,c),a.elementType=he,a.lanes=f,a.stateNode={isHidden:!1},a}function wg(a,c,f){return a=Ms(6,a,null,c),a.lanes=f,a}function bg(a,c,f){return c=Ms(4,a.children!==null?a.children:[],a.key,c),c.lanes=f,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function X_(a,c,f,v,S){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=v,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function _g(a,c,f,v,S,C,F,se,pe){return a=new X_(a,c,f,se,pe),c===1?(c=1,C===!0&&(c|=8)):c=0,C=Ms(3,null,null,c),a.current=C,C.stateNode=a,C.memoizedState={element:v,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tr(C),a}function Q_(a,c,f){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:v==null?null:""+v,children:a,containerInfo:c,implementation:f}}function I1(a){if(!a)return Ta;a=a._reactInternals;e:{if(Cr(a)!==a||a.tag!==1)throw Error(t(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(oi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(t(171))}if(a.tag===1){var f=a.type;if(oi(f))return _h(a,f,c)}return c}function D1(a,c,f,v,S,C,F,se,pe){return a=_g(f,v,!0,a,S,C,F,se,pe),a.context=I1(null),f=a.current,v=Pi(),S=bl(f),C=Jn(v,S),C.callback=c??null,Xn(f,C,S),a.current.lanes=S,Za(a,S,v),Hi(a,v),a}function nf(a,c,f,v){var S=c.current,C=Pi(),F=bl(S);return f=I1(f),c.context===null?c.context=f:c.pendingContext=f,c=Jn(C,F),c.payload={element:a},v=v===void 0?null:v,v!==null&&(c.callback=v),a=Xn(S,c,F),a!==null&&(ia(a,S,F,C),Ur(a,S,F)),F}function rf(a){return a=a.current,a.child?(a.child.tag===5,a.child.stateNode):null}function F1(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<c?f:c}}function xg(a,c){F1(a,c),(a=a.alternate)&&F1(a,c)}function Z_(){return null}var B1=typeof reportError=="function"?reportError:function(a){console.error(a)};function Sg(a){this._internalRoot=a}sf.prototype.render=Sg.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(t(409));nf(a,c,null,null)},sf.prototype.unmount=Sg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;fc(function(){nf(null,a,null,null)}),c[Fr]=null}};function sf(a){this._internalRoot=a}sf.prototype.unstable_scheduleHydration=function(a){if(a){var c=Kc();a={blockedOn:null,target:a,priority:c};for(var f=0;f<Ss.length&&c!==0&&c<Ss[f].priority;f++);Ss.splice(f,0,a),f===0&&Jc(a)}};function kg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function af(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function U1(){}function ex(a,c,f,v,S){if(S){if(typeof v=="function"){var C=v;v=function(){var Ce=rf(F);C.call(Ce)}}var F=D1(c,v,a,0,null,!1,!1,"",U1);return a._reactRootContainer=F,a[Fr]=F.current,wo(a.nodeType===8?a.parentNode:a),fc(),F}for(;S=a.lastChild;)a.removeChild(S);if(typeof v=="function"){var se=v;v=function(){var Ce=rf(pe);se.call(Ce)}}var pe=_g(a,0,!1,null,null,!1,!1,"",U1);return a._reactRootContainer=pe,a[Fr]=pe.current,wo(a.nodeType===8?a.parentNode:a),fc(function(){nf(c,pe,f,v)}),pe}function of(a,c,f,v,S){var C=f._reactRootContainer;if(C){var F=C;if(typeof S=="function"){var se=S;S=function(){var pe=rf(F);se.call(pe)}}nf(c,F,a,S)}else F=ex(f,c,a,S,v);return rf(F)}ba=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var f=bs(c.pendingLanes);f!==0&&(Go(c,f|1),Hi(c,kn()),(rn&6)===0&&(vu=kn()+500,E()))}break;case 13:fc(function(){var v=gn(a,1);if(v!==null){var S=Pi();ia(v,a,1,S)}}),xg(a,1)}},$l=function(a){if(a.tag===13){var c=gn(a,134217728);if(c!==null){var f=Pi();ia(c,a,134217728,f)}xg(a,134217728)}},Gc=function(a){if(a.tag===13){var c=bl(a),f=gn(a,c);if(f!==null){var v=Pi();ia(f,a,c,v)}xg(a,c)}},Kc=function(){return Xt},Ko=function(a,c){var f=Xt;try{return Xt=a,c()}finally{Xt=f}},Ct=function(a,c,f){switch(c){case"input":if(Mt(a,f),c=f.name,f.type==="radio"&&c!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var v=f[c];if(v!==a&&v.form===a.form){var S=oc(v);if(!S)throw Error(t(90));Ve(v),Mt(v,S)}}}break;case"textarea":Qt(a,f);break;case"select":c=f.value,c!=null&&Ge(a,!!f.multiple,c,!1)}},Pr=gg,ys=fc;var tx={usingClientEntryPoint:!1,Events:[hl,xo,oc,Zt,ma,gg]},Th={findFiberByHostInstance:La,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nx={bundleType:Th.bundleType,version:Th.version,rendererPackageName:Th.rendererPackageName,rendererConfig:Th.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Zi(a),a===null?null:a.stateNode},findFiberByHostInstance:Th.findFiberByHostInstance||Z_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lf.isDisabled&&lf.supportsFiber)try{Ja=lf.inject(nx),yi=lf}catch{}}return $i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tx,$i.createPortal=function(a,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kg(c))throw Error(t(200));return Q_(a,c,null,f)},$i.createRoot=function(a,c){if(!kg(a))throw Error(t(299));var f=!1,v="",S=B1;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),c=_g(a,1,!1,null,null,f,!1,v,S),a[Fr]=c.current,wo(a.nodeType===8?a.parentNode:a),new Sg(c)},$i.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=Zi(c),a=a===null?null:a.stateNode,a},$i.flushSync=function(a){return fc(a)},$i.hydrate=function(a,c,f){if(!af(c))throw Error(t(200));return of(null,a,c,!0,f)},$i.hydrateRoot=function(a,c,f){if(!kg(a))throw Error(t(405));var v=f!=null&&f.hydratedSources||null,S=!1,C="",F=B1;if(f!=null&&(f.unstable_strictMode===!0&&(S=!0),f.identifierPrefix!==void 0&&(C=f.identifierPrefix),f.onRecoverableError!==void 0&&(F=f.onRecoverableError)),c=D1(c,null,a,1,f??null,S,!1,C,F),a[Fr]=c.current,wo(a),v)for(a=0;a<v.length;a++)f=v[a],S=f._getVersion,S=S(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,S]:c.mutableSourceEagerHydrationData.push(f,S);return new sf(c)},$i.render=function(a,c,f){if(!af(c))throw Error(t(200));return of(null,a,c,!1,f)},$i.unmountComponentAtNode=function(a){if(!af(a))throw Error(t(40));return a._reactRootContainer?(fc(function(){of(null,null,a,!1,function(){a._reactRootContainer=null,a[Fr]=null})}),!0):!1},$i.unstable_batchedUpdates=gg,$i.unstable_renderSubtreeIntoContainer=function(a,c,f,v){if(!af(f))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return of(a,c,f,!1,v)},$i.version="18.3.1-next-f1338f8080-20240426",$i}var K1;function y5(){if(K1)return Pg.exports;K1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pg.exports=dx(),Pg.exports}var Y1;function fx(){if(Y1)return cf;Y1=1;var n=y5();return cf.createRoot=n.createRoot,cf.hydrateRoot=n.hydrateRoot,cf}var px=fx();y5();function id(){return id=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},id.apply(this,arguments)}var El;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(El||(El={}));const J1="popstate";function gx(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return wm("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Jf(i)}return vx(e,t,null,n)}function er(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function o0(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mx(){return Math.random().toString(36).substr(2,8)}function X1(n,e){return{usr:n.state,key:n.key,idx:e}}function wm(n,e,t,r){return t===void 0&&(t=null),id({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?th(e):e,{state:t,key:e&&e.key||r||mx()})}function Jf(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function th(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function vx(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=El.Pop,u=null,h=d();h==null&&(h=0,o.replaceState(id({},o.state,{idx:h}),""));function d(){return(o.state||{idx:null}).idx}function m(){l=El.Pop;let N=d(),P=N==null?null:N-h;h=N,u&&u({action:l,location:k.location,delta:P})}function y(N,P){l=El.Push;let L=wm(k.location,N,P);h=d()+1;let T=X1(L,h),j=k.createHref(L);try{o.pushState(T,"",j)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(j)}s&&u&&u({action:l,location:k.location,delta:1})}function g(N,P){l=El.Replace;let L=wm(k.location,N,P);h=d();let T=X1(L,h),j=k.createHref(L);o.replaceState(T,"",j),s&&u&&u({action:l,location:k.location,delta:0})}function _(N){let P=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof N=="string"?N:Jf(N);return L=L.replace(/ $/,"%20"),er(P,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,P)}let k={get action(){return l},get location(){return n(i,o)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(J1,m),u=N,()=>{i.removeEventListener(J1,m),u=null}},createHref(N){return e(i,N)},createURL:_,encodeLocation(N){let P=_(N);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:y,replace:g,go(N){return o.go(N)}};return k}var Q1;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Q1||(Q1={}));function yx(n,e,t){return t===void 0&&(t="/"),wx(n,e,t)}function wx(n,e,t,r){let i=typeof e=="string"?th(e):e,s=Yu(i.pathname||"/",t);if(s==null)return null;let o=w5(n);bx(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let h=Lx(s);l=Ex(o[u],h)}return l}function w5(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(er(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=Rl([r,u.relativePath]),d=t.concat(u);s.children&&s.children.length>0&&(er(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),w5(s.children,e,d,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:Px(h,s.index),routesMeta:d})};return n.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of b5(s.path))i(s,o,u)}),e}function b5(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=b5(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>n.startsWith("/")&&u===""?"/":u)}function bx(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Cx(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const _x=/^:[\w-]+$/,xx=3,Sx=2,kx=1,Nx=10,Ax=-2,Z1=n=>n==="*";function Px(n,e){let t=n.split("/"),r=t.length;return t.some(Z1)&&(r+=Ax),e&&(r+=Sx),t.filter(i=>!Z1(i)).reduce((i,s)=>i+(_x.test(s)?xx:s===""?kx:Nx),r)}function Cx(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Ex(n,e,t){let{routesMeta:r}=n,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],h=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",m=bm({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},d),y=u.route;if(!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Rl([s,m.pathname]),pathnameBase:Ix(Rl([s,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(s=Rl([s,m.pathnameBase]))}return o}function bm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=jx(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,d,m)=>{let{paramName:y,isOptional:g}=d;if(y==="*"){let k=l[m]||"";o=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const _=l[m];return g&&!_?h[y]=void 0:h[y]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:n}}function jx(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),o0(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Lx(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return o0(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Yu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}const Tx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ox=n=>Tx.test(n);function Rx(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?th(n):n,s;if(t)if(Ox(t))s=t;else{if(t.includes("//")){let o=t;t=t.replace(/\/\/+/g,"/"),o0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+t))}t.startsWith("/")?s=ev(t.substring(1),"/"):s=ev(t,e)}else s=e;return{pathname:s,search:Dx(r),hash:Fx(i)}}function ev(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function jg(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mx(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function l0(n,e){let t=Mx(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function c0(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=th(n):(i=id({},n),er(!i.pathname||!i.pathname.includes("?"),jg("?","pathname","search",i)),er(!i.pathname||!i.pathname.includes("#"),jg("#","pathname","hash",i)),er(!i.search||!i.search.includes("#"),jg("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=t;else{let m=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}l=m>=0?e[m]:"/"}let u=Rx(i,l),h=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(h||d)&&(u.pathname+="/"),u}const Rl=n=>n.join("/").replace(/\/\/+/g,"/"),Ix=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Dx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Fx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Bx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const _5=["post","put","patch","delete"];new Set(_5);const Ux=["get",..._5];new Set(Ux);function sd(){return sd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sd.apply(this,arguments)}const bp=de.createContext(null),x5=de.createContext(null),zo=de.createContext(null),_p=de.createContext(null),Ha=de.createContext({outlet:null,matches:[],isDataRoute:!1}),S5=de.createContext(null);function zx(n,e){let{relative:t}=e===void 0?{}:e;nh()||er(!1);let{basename:r,navigator:i}=de.useContext(zo),{hash:s,pathname:o,search:l}=xp(n,{relative:t}),u=o;return r!=="/"&&(u=o==="/"?r:Rl([r,o])),i.createHref({pathname:u,search:l,hash:s})}function nh(){return de.useContext(_p)!=null}function zl(){return nh()||er(!1),de.useContext(_p).location}function k5(n){de.useContext(zo).static||de.useLayoutEffect(n)}function Wl(){let{isDataRoute:n}=de.useContext(Ha);return n?rS():Wx()}function Wx(){nh()||er(!1);let n=de.useContext(bp),{basename:e,future:t,navigator:r}=de.useContext(zo),{matches:i}=de.useContext(Ha),{pathname:s}=zl(),o=JSON.stringify(l0(i,t.v7_relativeSplatPath)),l=de.useRef(!1);return k5(()=>{l.current=!0}),de.useCallback(function(h,d){if(d===void 0&&(d={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let m=c0(h,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Rl([e,m.pathname])),(d.replace?r.replace:r.push)(m,d.state,d)},[e,r,o,s,n])}const qx=de.createContext(null);function Hx(n){let e=de.useContext(Ha).outlet;return e&&de.createElement(qx.Provider,{value:n},e)}function $x(){let{matches:n}=de.useContext(Ha),e=n[n.length-1];return e?e.params:{}}function xp(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=de.useContext(zo),{matches:i}=de.useContext(Ha),{pathname:s}=zl(),o=JSON.stringify(l0(i,r.v7_relativeSplatPath));return de.useMemo(()=>c0(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function Vx(n,e){return Gx(n,e)}function Gx(n,e,t,r){nh()||er(!1);let{navigator:i}=de.useContext(zo),{matches:s}=de.useContext(Ha),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let h=zl(),d;if(e){var m;let N=typeof e=="string"?th(e):e;u==="/"||(m=N.pathname)!=null&&m.startsWith(u)||er(!1),d=N}else d=h;let y=d.pathname||"/",g=y;if(u!=="/"){let N=u.replace(/^\//,"").split("/");g="/"+y.replace(/^\//,"").split("/").slice(N.length).join("/")}let _=yx(n,{pathname:g}),k=Qx(_&&_.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:Rl([u,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:Rl([u,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,t,r);return e&&k?de.createElement(_p.Provider,{value:{location:sd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:El.Pop}},k):k}function Kx(){let n=nS(),e=Bx(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},e),t?de.createElement("pre",{style:i},t):null,null)}const Yx=de.createElement(Kx,null);class Jx extends de.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?de.createElement(Ha.Provider,{value:this.props.routeContext},de.createElement(S5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xx(n){let{routeContext:e,match:t,children:r}=n,i=de.useContext(bp);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),de.createElement(Ha.Provider,{value:e},r)}function Qx(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=(i=t)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);d>=0||er(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,h=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:y,errors:g}=t,_=m.route.loader&&y[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||_){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((d,m,y)=>{let g,_=!1,k=null,N=null;t&&(g=l&&m.route.id?l[m.route.id]:void 0,k=m.route.errorElement||Yx,u&&(h<0&&y===0?(iS("route-fallback"),_=!0,N=null):h===y&&(_=!0,N=m.route.hydrateFallbackElement||null)));let P=e.concat(o.slice(0,y+1)),L=()=>{let T;return g?T=k:_?T=N:m.route.Component?T=de.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=d,de.createElement(Xx,{match:m,routeContext:{outlet:d,matches:P,isDataRoute:t!=null},children:T})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?de.createElement(Jx,{location:t.location,revalidation:t.revalidation,component:k,error:g,children:L(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):L()},null)}var N5=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(N5||{}),A5=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(A5||{});function Zx(n){let e=de.useContext(bp);return e||er(!1),e}function eS(n){let e=de.useContext(x5);return e||er(!1),e}function tS(n){let e=de.useContext(Ha);return e||er(!1),e}function P5(n){let e=tS(),t=e.matches[e.matches.length-1];return t.route.id||er(!1),t.route.id}function nS(){var n;let e=de.useContext(S5),t=eS(),r=P5();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function rS(){let{router:n}=Zx(N5.UseNavigateStable),e=P5(A5.UseNavigateStable),t=de.useRef(!1);return k5(()=>{t.current=!0}),de.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,sd({fromRouteId:e},s)))},[n,e])}const tv={};function iS(n,e,t){tv[n]||(tv[n]=!0)}function sS(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function Tc(n){let{to:e,replace:t,state:r,relative:i}=n;nh()||er(!1);let{future:s,static:o}=de.useContext(zo),{matches:l}=de.useContext(Ha),{pathname:u}=zl(),h=Wl(),d=c0(e,l0(l,s.v7_relativeSplatPath),u,i==="path"),m=JSON.stringify(d);return de.useEffect(()=>h(JSON.parse(m),{replace:t,state:r,relative:i}),[h,m,i,t,r]),null}function C5(n){return Hx(n.context)}function Hr(n){er(!1)}function aS(n){let{basename:e="/",children:t=null,location:r,navigationType:i=El.Pop,navigator:s,static:o=!1,future:l}=n;nh()&&er(!1);let u=e.replace(/^\/*/,"/"),h=de.useMemo(()=>({basename:u,navigator:s,static:o,future:sd({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=th(r));let{pathname:d="/",search:m="",hash:y="",state:g=null,key:_="default"}=r,k=de.useMemo(()=>{let N=Yu(d,u);return N==null?null:{location:{pathname:N,search:m,hash:y,state:g,key:_},navigationType:i}},[u,d,m,y,g,_,i]);return k==null?null:de.createElement(zo.Provider,{value:h},de.createElement(_p.Provider,{children:t,value:k}))}function oS(n){let{children:e,location:t}=n;return Vx(_m(e),t)}new Promise(()=>{});function _m(n,e){e===void 0&&(e=[]);let t=[];return de.Children.forEach(n,(r,i)=>{if(!de.isValidElement(r))return;let s=[...e,i];if(r.type===de.Fragment){t.push.apply(t,_m(r.props.children,s));return}r.type!==Hr&&er(!1),!r.props.index||!r.props.children||er(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=_m(r.props.children,s)),t.push(o)}),t}function Xf(){return Xf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xf.apply(this,arguments)}function E5(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function lS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function cS(n,e){return n.button===0&&(!e||e==="_self")&&!lS(n)}const uS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hS=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],dS="6";try{window.__reactRouterVersion=dS}catch{}const fS=de.createContext({isTransitioning:!1}),pS="startTransition",nv=cx[pS];function gS(n){let{basename:e,children:t,future:r,window:i}=n,s=de.useRef();s.current==null&&(s.current=gx({window:i,v5Compat:!0}));let o=s.current,[l,u]=de.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},d=de.useCallback(m=>{h&&nv?nv(()=>u(m)):u(m)},[u,h]);return de.useLayoutEffect(()=>o.listen(d),[o,d]),de.useEffect(()=>sS(r),[r]),de.createElement(aS,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o,future:r})}const mS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Io=de.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:h,preventScrollReset:d,viewTransition:m}=e,y=E5(e,uS),{basename:g}=de.useContext(zo),_,k=!1;if(typeof h=="string"&&vS.test(h)&&(_=h,mS))try{let T=new URL(window.location.href),j=h.startsWith("//")?new URL(T.protocol+h):new URL(h),D=Yu(j.pathname,g);j.origin===T.origin&&D!=null?h=D+j.search+j.hash:k=!0}catch{}let N=zx(h,{relative:i}),P=wS(h,{replace:o,state:l,target:u,preventScrollReset:d,relative:i,viewTransition:m});function L(T){r&&r(T),T.defaultPrevented||P(T)}return de.createElement("a",Xf({},y,{href:_||N,onClick:k||s?r:L,ref:t,target:u}))}),j5=de.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:h,children:d}=e,m=E5(e,hS),y=xp(u,{relative:m.relative}),g=zl(),_=de.useContext(x5),{navigator:k,basename:N}=de.useContext(zo),P=_!=null&&bS(y)&&h===!0,L=k.encodeLocation?k.encodeLocation(y).pathname:y.pathname,T=g.pathname,j=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(T=T.toLowerCase(),j=j?j.toLowerCase():null,L=L.toLowerCase()),j&&N&&(j=Yu(j,N)||j);const D=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let Q=T===L||!o&&T.startsWith(L)&&T.charAt(D)==="/",U=j!=null&&(j===L||!o&&j.startsWith(L)&&j.charAt(L.length)==="/"),H={isActive:Q,isPending:U,isTransitioning:P},W=Q?r:void 0,ae;typeof s=="function"?ae=s(H):ae=[s,Q?"active":null,U?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(H):l;return de.createElement(Io,Xf({},m,{"aria-current":W,className:ae,ref:t,style:I,to:u,viewTransition:h}),typeof d=="function"?d(H):d)});var xm;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(xm||(xm={}));var rv;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(rv||(rv={}));function yS(n){let e=de.useContext(bp);return e||er(!1),e}function wS(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,u=Wl(),h=zl(),d=xp(n,{relative:o});return de.useCallback(m=>{if(cS(m,t)){m.preventDefault();let y=r!==void 0?r:Jf(h)===Jf(d);u(n,{replace:y,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[h,u,d,r,i,t,n,s,o,l])}function bS(n,e){e===void 0&&(e={});let t=de.useContext(fS);t==null&&er(!1);let{basename:r}=yS(xm.useViewTransitionState),i=xp(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Yu(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=Yu(t.nextLocation.pathname,r)||t.nextLocation.pathname;return bm(i.pathname,o)!=null||bm(i.pathname,s)!=null}function Sp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function _S(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function l(d){try{h(r.next(d))}catch(m){o(m)}}function u(d){try{h(r.throw(d))}catch(m){o(m)}}function h(d){d.done?s(d.value):i(d.value).then(l,u)}h((r=r.apply(n,e||[])).next())})}const xS=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class u0 extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class SS extends u0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class iv extends u0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class sv extends u0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Sm;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Sm||(Sm={}));class kS{constructor(e,{headers:t={},customFetch:r,region:i=Sm.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=xS(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return _S(this,arguments,void 0,function*(t,r={}){var i;let s,o;try{const{headers:l,method:u,body:h,signal:d,timeout:m}=r;let y={},{region:g}=r;g||(g=this.region);const _=new URL(`${this.url}/${t}`);g&&g!=="any"&&(y["x-region"]=g,_.searchParams.set("forceFunctionRegion",g));let k;h&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",k=h):typeof h=="string"?(y["Content-Type"]="text/plain",k=h):typeof FormData<"u"&&h instanceof FormData?k=h:(y["Content-Type"]="application/json",k=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?k=JSON.stringify(h):k=h;let N=d;m&&(o=new AbortController,s=setTimeout(()=>o.abort(),m),d?(N=o.signal,d.addEventListener("abort",()=>o.abort())):N=o.signal);const P=yield this.fetch(_.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),l),body:k,signal:N}).catch(D=>{throw new SS(D)}),L=P.headers.get("x-relay-error");if(L&&L==="true")throw new iv(P);if(!P.ok)throw new sv(P);let T=((i=P.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return T==="application/json"?j=yield P.json():T==="application/octet-stream"||T==="application/pdf"?j=yield P.blob():T==="text/event-stream"?j=P:T==="multipart/form-data"?j=yield P.formData():j=yield P.text(),{data:j,error:null,response:P}}catch(l){return{data:null,error:l,response:l instanceof sv||l instanceof iv?l.context:void 0}}finally{s&&clearTimeout(s)}})}}var NS=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},AS=class{constructor(n){var e,t;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(t=n.isMaybeSingle)!==null&&t!==void 0?t:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let o=null,l=null,u=null,h=s.status,d=s.statusText;if(s.ok){var m,y;if(t.method!=="HEAD"){var g;const P=await s.text();P===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((g=t.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?l=P:l=JSON.parse(P))}const k=(m=t.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),N=(y=s.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");k&&N&&N.length>1&&(u=parseInt(N[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,u=null,h=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var _;const k=await s.text();try{o=JSON.parse(k),Array.isArray(o)&&s.status===404&&(l=[],o=null,h=200,d="OK")}catch{s.status===404&&k===""?(h=204,d="No Content"):o={message:k}}if(o&&t.isMaybeSingle&&(!(o==null||(_=o.details)===null||_===void 0)&&_.includes("0 rows"))&&(o=null,h=200,d="OK"),o&&t.shouldThrowOnError)throw new NS(o)}return{error:o,data:l,count:u,status:h,statusText:d}});return this.shouldThrowOnError||(i=i.catch(s=>{var o;let l="";const u=s?.cause;if(u){var h,d,m,y;const _=(h=u?.message)!==null&&h!==void 0?h:"",k=(d=u?.code)!==null&&d!==void 0?d:"";l=`${(m=s?.name)!==null&&m!==void 0?m:"FetchError"}: ${s?.message}`,l+=`

Caused by: ${(y=u?.name)!==null&&y!==void 0?y:"Error"}: ${_}`,k&&(l+=` (${k})`),u?.stack&&(l+=`
${u.stack}`)}else{var g;l=(g=s?.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(o=s?.name)!==null&&o!==void 0?o:"FetchError"}: ${s?.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(n,e)}returns(){return this}overrideTypes(){return this}},PS=class extends AS{select(n){let e=!1;const t=(n??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:t,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${n}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:t=e}={}){const r=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${n}`),this}range(n,e,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this.url.searchParams.set(s,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:t=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var o;const l=[n?"analyze":null,e?"verbose":null,t?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const av=new RegExp("[,()]");var Lu=class extends PS{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const t=Array.from(new Set(e)).map(r=>typeof r=="string"&&av.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`in.(${t})`),this}notIn(n,e){const t=Array.from(new Set(e)).map(r=>typeof r=="string"&&av.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`not.in.(${t})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:t,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=t===void 0?"":`(${t})`;return this.url.searchParams.append(n,`${i}fts${s}.${e}`),this}match(n){return Object.entries(n).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(n,e,t){return this.url.searchParams.append(n,`not.${e}.${t}`),this}or(n,{foreignTable:e,referencedTable:t=e}={}){const r=t?`${t}.or`:"or";return this.url.searchParams.append(r,`(${n})`),this}filter(n,e,t){return this.url.searchParams.append(n,`${e}.${t}`),this}},CS=class{constructor(n,{headers:e={},schema:t,fetch:r}){this.url=n,this.headers=new Headers(e),this.schema=t,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,e){const{head:t=!1,count:r}=e??{},i=t?"HEAD":"GET";let s=!1;const o=(n??"*").split("").map(h=>/\s/.test(h)&&!s?"":(h==='"'&&(s=!s),h)).join(""),{url:l,headers:u}=this.cloneRequestState();return l.searchParams.set("select",o),r&&u.append("Prefer",`count=${r}`),new Lu({method:i,url:l,headers:u,schema:this.schema,fetch:this.fetch})}insert(n,{count:e,defaultToNull:t=!0}={}){var r;const i="POST",{url:s,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),t||o.append("Prefer","missing=default"),Array.isArray(n)){const l=n.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(l.length>0){const u=[...new Set(l)].map(h=>`"${h}"`);s.searchParams.set("columns",u.join(","))}}return new Lu({method:i,url:s,headers:o,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(n,{onConflict:e,ignoreDuplicates:t=!1,count:r,defaultToNull:i=!0}={}){var s;const o="POST",{url:l,headers:u}=this.cloneRequestState();if(u.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&l.searchParams.set("on_conflict",e),r&&u.append("Prefer",`count=${r}`),i||u.append("Prefer","missing=default"),Array.isArray(n)){const h=n.reduce((d,m)=>d.concat(Object.keys(m)),[]);if(h.length>0){const d=[...new Set(h)].map(m=>`"${m}"`);l.searchParams.set("columns",d.join(","))}}return new Lu({method:o,url:l,headers:u,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(n,{count:e}={}){var t;const r="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Lu({method:r,url:i,headers:s,schema:this.schema,body:n,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:n}={}){var e;const t="DELETE",{url:r,headers:i}=this.cloneRequestState();return n&&i.append("Prefer",`count=${n}`),new Lu({method:t,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},ES=class L5{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new CS(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new L5(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:i=!1,count:s}={}){var o;let l;const u=new URL(`${this.url}/rpc/${e}`);let h;const d=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(d)),m=r&&Object.values(t).some(d);m?(l="POST",h=t):r||i?(l=r?"HEAD":"GET",Object.entries(t).filter(([g,_])=>_!==void 0).map(([g,_])=>[g,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([g,_])=>{u.searchParams.append(g,_)})):(l="POST",h=t);const y=new Headers(this.headers);return m?y.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&y.set("Prefer",`count=${s}`),new Lu({method:l,url:u,headers:y,schema:this.schemaName,body:h,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class jS{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const r=t.versions;if(r&&r.node){const i=r.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const LS="2.93.3",TS=`realtime-js/${LS}`,OS="1.0.0",T5="2.0.0",ov=T5,km=1e4,RS=1e3,MS=100;var Pl;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Pl||(Pl={}));var Rr;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Rr||(Rr={}));var la;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(la||(la={}));var Nm;(function(n){n.websocket="websocket"})(Nm||(Nm={}));var Pc;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Pc||(Pc={}));class IS{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const i=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var t,r;const i=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,t,r){var i,s;const o=e.topic,l=(i=e.ref)!==null&&i!==void 0?i:"",u=(s=e.join_ref)!==null&&s!==void 0?s:"",h=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(d).length===0?"":JSON.stringify(d);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+o.length+h.length+m.length,g=new ArrayBuffer(this.HEADER_LENGTH+y);let _=new DataView(g),k=0;_.setUint8(k++,this.KINDS.userBroadcastPush),_.setUint8(k++,u.length),_.setUint8(k++,l.length),_.setUint8(k++,o.length),_.setUint8(k++,h.length),_.setUint8(k++,m.length),_.setUint8(k++,t),Array.from(u,P=>_.setUint8(k++,P.charCodeAt(0))),Array.from(l,P=>_.setUint8(k++,P.charCodeAt(0))),Array.from(o,P=>_.setUint8(k++,P.charCodeAt(0))),Array.from(h,P=>_.setUint8(k++,P.charCodeAt(0))),Array.from(m,P=>_.setUint8(k++,P.charCodeAt(0)));var N=new Uint8Array(g.byteLength+r.byteLength);return N.set(new Uint8Array(g),0),N.set(new Uint8Array(r),g.byteLength),N.buffer}decode(e,t){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return t(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,s,o,l,u]=r;return t({join_ref:i,ref:s,topic:o,event:l,payload:u})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),i=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,i)}_decodeUserBroadcast(e,t,r){const i=t.getUint8(1),s=t.getUint8(2),o=t.getUint8(3),l=t.getUint8(4);let u=this.HEADER_LENGTH+4;const h=r.decode(e.slice(u,u+i));u=u+i;const d=r.decode(e.slice(u,u+s));u=u+s;const m=r.decode(e.slice(u,u+o));u=u+o;const y=e.slice(u,e.byteLength),g=l===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,_={type:this.BROADCAST_EVENT,event:d,payload:g};return o>0&&(_.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>t.includes(r)))}}class O5{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tn;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Tn||(Tn={}));const lv=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=DS(o,n,e,i),s),{}):{}},DS=(n,e,t,r)=>{const i=e.find(l=>l.name===n),s=i?.type,o=t[n];return s&&!r.includes(s)?R5(s,o):Am(o)},R5=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return zS(e,t)}switch(n){case Tn.bool:return FS(e);case Tn.float4:case Tn.float8:case Tn.int2:case Tn.int4:case Tn.int8:case Tn.numeric:case Tn.oid:return BS(e);case Tn.json:case Tn.jsonb:return US(e);case Tn.timestamp:return WS(e);case Tn.abstime:case Tn.date:case Tn.daterange:case Tn.int4range:case Tn.int8range:case Tn.money:case Tn.reltime:case Tn.text:case Tn.time:case Tn.timestamptz:case Tn.timetz:case Tn.tsrange:case Tn.tstzrange:return Am(e);default:return Am(e)}},Am=n=>n,FS=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},BS=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},US=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},zS=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let s;const o=n.slice(1,t);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>R5(e,l))}return n},WS=n=>typeof n=="string"?n.replace(" ","T"):n,M5=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Lg{constructor(e,t,r={},i=km){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var cv;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(cv||(cv={}));class Gh{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gh.syncState(this.state,i,s,o),this.pendingDiffs.forEach(u=>{this.state=Gh.syncDiff(this.state,u,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Gh.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const s=this.cloneDeep(e),o=this.transformState(t),l={},u={};return this.map(s,(h,d)=>{o[h]||(u[h]=d)}),this.map(o,(h,d)=>{const m=s[h];if(m){const y=d.map(N=>N.presence_ref),g=m.map(N=>N.presence_ref),_=d.filter(N=>g.indexOf(N.presence_ref)<0),k=m.filter(N=>y.indexOf(N.presence_ref)<0);_.length>0&&(l[h]=_),k.length>0&&(u[h]=k)}else l[h]=d}),this.syncDiff(s,{joins:l,leaves:u},r,i)}static syncDiff(e,t,r,i){const{joins:s,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,u)=>{var h;const d=(h=e[l])!==null&&h!==void 0?h:[];if(e[l]=this.cloneDeep(u),d.length>0){const m=e[l].map(g=>g.presence_ref),y=d.filter(g=>m.indexOf(g.presence_ref)<0);e[l].unshift(...y)}r(l,d,u)}),this.map(o,(l,u)=>{let h=e[l];if(!h)return;const d=u.map(m=>m.presence_ref);h=h.filter(m=>d.indexOf(m.presence_ref)<0),e[l]=h,i(l,h,u),h.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var uv;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(uv||(uv={}));var Kh;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Kh||(Kh={}));var Oo;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Oo||(Oo={}));class Iu{constructor(e,t={config:{}},r){var i,s;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Rr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Lg(this,la.join,this.params,this.timeout),this.rejoinTimer=new O5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Rr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(la.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Gh(this),this.broadcastEndpointURL=M5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Rr.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,h=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Kh.PRESENCE]&&this.bindings[Kh.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,m={},y={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:h,private:u};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(g=>e?.(Oo.CHANNEL_ERROR,g)),this._onClose(()=>e?.(Oo.CLOSED)),this.updateJoinPayload(Object.assign({config:y},m)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:g})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e?.(Oo.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,N=(_=k?.length)!==null&&_!==void 0?_:0,P=[];for(let L=0;L<N;L++){const T=k[L],{filter:{event:j,schema:D,table:Q,filter:U}}=T,H=g&&g[L];if(H&&H.event===j&&Iu.isFilterValueEqual(H.schema,D)&&Iu.isFilterValueEqual(H.table,Q)&&Iu.isFilterValueEqual(H.filter,U))P.push(Object.assign(Object.assign({},T),{id:H.id}));else{this.unsubscribe(),this.state=Rr.errored,e?.(Oo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(Oo.SUBSCRIBED);return}}).receive("error",g=>{this.state=Rr.errored,e?.(Oo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e?.(Oo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===Rr.joined&&e===Kh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var i;if(t==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const h=await l.json();u=h.error||h.message||u}catch{}return Promise.reject(new Error(u))}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,u;const h=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Rr.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(la.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Lg(this,la.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Rr.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(s),o}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Lg(this,e,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>MS){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,s;const o=e.toLocaleLowerCase(),{close:l,error:u,leave:h,join:d}=la;if(r&&[l,u,h,d].indexOf(o)>=0&&r!==this._joinRef())return;let y=this._onMessage(o,t,r);if(t&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var _,k,N;return((_=g.filter)===null||_===void 0?void 0:_.event)==="*"||((N=(k=g.filter)===null||k===void 0?void 0:k.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===o}).map(g=>g.callback(y,r)):(s=this.bindings[o])===null||s===void 0||s.filter(g=>{var _,k,N,P,L,T;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const j=g.id,D=(_=g.filter)===null||_===void 0?void 0:_.event;return j&&((k=t.ids)===null||k===void 0?void 0:k.includes(j))&&(D==="*"||D?.toLocaleLowerCase()===((N=t.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const j=(L=(P=g?.filter)===null||P===void 0?void 0:P.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return j==="*"||j===((T=t?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof y=="object"&&"ids"in y){const _=y.data,{schema:k,table:N,commit_timestamp:P,type:L,errors:T}=_;y=Object.assign(Object.assign({},{schema:k,table:N,commit_timestamp:P,eventType:L,new:{},old:{},errors:T}),this._getPayloadRecords(_))}g.callback(y,r)})}_isClosed(){return this.state===Rr.closed}_isJoined(){return this.state===Rr.joined}_isJoining(){return this.state===Rr.joining}_isLeaving(){return this.state===Rr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Iu.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(la.close,{},e)}_onError(e){this._on(la.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=lv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=lv(e.columns,e.old_record)),t}}const Tg=()=>{},uf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qS=[1e3,2e3,5e3,1e4],HS=1e4,$S=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class VS{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=km,this.transport=null,this.heartbeatIntervalMs=uf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tg,this.ref=0,this.reconnectTimer=null,this.vsn=ov,this.logger=Tg,this.conn=null,this.sendBuffer=[],this.serializer=new IS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Nm.websocket}`,this.httpEndpoint=M5(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Pl.connecting:return Pc.Connecting;case Pl.open:return Pc.Open;case Pl.closing:return Pc.Closing;default:return Pc.Closed}}isConnected(){return this.connectionState()===Pc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Iu(`realtime:${e}`,t,this);return this.channels.push(s),s}}push(e){const{topic:t,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${t} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(RS,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},uf.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply"&&t.ref&&t.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error",h)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:s,ref:o}=t,l=o?`(${o})`:"",u=s.status||"";this.log("receive",`${u} ${r} ${i} ${l}`.trim(),s),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(i,s,o)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Pl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Pl.open||this.conn.readyState===Pl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(t){this.log("error","error in heartbeat callback",t)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(la.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([$S],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,r=!1;if(e)t=e,r=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const s={access_token:t,version:TS};t&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(la.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new O5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},uf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,i,s,o,l,u,h,d,m,y,g;switch(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:km,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:uf.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e?.heartbeatCallback)!==null&&l!==void 0?l:Tg,this.vsn=(u=e?.vsn)!==null&&u!==void 0?u:ov,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(_=>qS[_-1]||HS),this.vsn){case OS:this.encode=(d=e?.encode)!==null&&d!==void 0?d:((_,k)=>k(JSON.stringify(_))),this.decode=(m=e?.decode)!==null&&m!==void 0?m:((_,k)=>k(JSON.parse(_)));break;case T5:this.encode=(y=e?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(g=e?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var ad=class extends Error{constructor(n,e){super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function GS(n,e,t){const r=new URL(e,n);if(t)for(const[i,s]of Object.entries(t))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function KS(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function YS(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:t,path:r,query:i,body:s,headers:o}){const l=GS(n.baseUrl,r,i),u=await KS(n.auth),h=await e(l,{method:t,headers:{...s?{"Content-Type":"application/json"}:{},...u,...o},body:s?JSON.stringify(s):void 0}),d=await h.text(),m=(h.headers.get("content-type")||"").includes("application/json"),y=m&&d?JSON.parse(d):d;if(!h.ok){const g=m?y:void 0,_=g?.error;throw new ad(_?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:_?.type,icebergCode:_?.code,details:g})}return{status:h.status,headers:h.headers,data:y}}}}function hf(n){return n.join("")}var JS=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:hf(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,e){const t={namespace:n.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hf(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hf(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hf(n.namespace)}`}),!0}catch(e){if(e instanceof ad&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(t){if(t instanceof ad&&t.status===409)return;throw t}}};function wu(n){return n.join("")}var XS=class{constructor(n,e="",t){this.client=n,this.prefix=e,this.accessDelegation=t}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wu(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wu(n.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(n,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wu(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wu(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wu(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wu(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(t){if(t instanceof ad&&t.status===404)return!1;throw t}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(t){if(t instanceof ad&&t.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw t}}},QS=class{constructor(n){let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const t=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=YS({baseUrl:t,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new JS(this.client,e),this.tableOps=new XS(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},kp=class extends Error{constructor(n,e="storage",t,r){super(n),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=t,this.statusCode=r}};function Np(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var df=class extends kp{constructor(n,e,t,r="storage"){super(n,r,e,t),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},I5=class extends kp{constructor(n,e,t="storage"){super(n,t),this.name=t==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const ZS=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),ek=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Pm=n=>{if(Array.isArray(n))return n.map(t=>Pm(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Pm(r)}),e},tk=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function od(n){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(n)}function nk(n,e){if(od(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function rk(n){var e=nk(n,"string");return od(e)=="symbol"?e:e+""}function ik(n,e,t){return(e=rk(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hv(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Nt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hv(Object(t),!0).forEach(function(r){ik(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hv(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const dv=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},sk=async(n,e,t,r)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!t?.noResolveJson){const i=n,s=i.status||500;if(typeof i.json=="function")i.json().then(o=>{const l=o?.statusCode||o?.code||s+"";e(new df(dv(o),s,l,r))}).catch(()=>{if(r==="vectors"){const o=s+"";e(new df(i.statusText||`HTTP ${s} error`,s,o,r))}else{const o=s+"";e(new df(i.statusText||`HTTP ${s} error`,s,o,r))}});else{const o=s+"";e(new df(i.statusText||`HTTP ${s} error`,s,o,r))}}else e(new I5(dv(n),n,r))},ak=(n,e,t,r)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"||n==="HEAD"||!r?Nt(Nt({},i),t):(ek(r)?(i.headers=Nt({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Nt(Nt({},i),t))};async function Rh(n,e,t,r,i,s,o){return new Promise((l,u)=>{n(t,ak(e,r,i,s)).then(h=>{if(!h.ok)throw h;if(r?.noResolveJson)return h;if(o==="vectors"){const d=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!d||!d.includes("application/json"))return{}}return h.json()}).then(h=>l(h)).catch(h=>sk(h,u,r,o))})}function D5(n="storage"){return{get:async(e,t,r,i)=>Rh(e,"GET",t,r,i,void 0,n),post:async(e,t,r,i,s)=>Rh(e,"POST",t,i,s,r,n),put:async(e,t,r,i,s)=>Rh(e,"PUT",t,i,s,r,n),head:async(e,t,r,i)=>Rh(e,"HEAD",t,Nt(Nt({},r),{},{noResolveJson:!0}),i,void 0,n),remove:async(e,t,r,i,s)=>Rh(e,"DELETE",t,i,s,r,n)}}const ok=D5("storage"),{get:ld,post:oa,put:Cm,head:lk,remove:h0}=ok,gs=D5("vectors");var rh=class{constructor(n,e={},t,r="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.fetch=ZS(t),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(n){var e=this;try{return{data:await n(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Np(t))return{data:null,error:t};throw t}}},ck=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Np(e))return{data:null,error:e};throw e}}};let F5;F5=Symbol.toStringTag;var uk=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[F5]="BlobDownloadBuilder",this.promise=null}asStream(){return new ck(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Np(e))return{data:null,error:e};throw e}}};const hk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var dk=class extends rh{constructor(n,e={},t,r){super(n,e,r,"storage"),this.bucketId=t}async uploadOrUpdate(n,e,t,r){var i=this;return i.handleOperation(async()=>{let s;const o=Nt(Nt({},fv),r);let l=Nt(Nt({},i.headers),n==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&t instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",i.encodeMetadata(u)),s.append("",t)):typeof FormData<"u"&&t instanceof FormData?(s=t,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),u&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(u))):(s=t,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(u))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),r?.headers&&(l=Nt(Nt({},l),r.headers));const h=i._removeEmptyFolders(e),d=i._getFinalPath(h),m=await(n=="PUT"?Cm:oa)(i.fetch,`${i.url}/object/${d}`,s,Nt({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{path:h,id:m.Id,fullPath:m.Key}})}async upload(n,e,t){return this.uploadOrUpdate("POST",n,e,t)}async uploadToSignedUrl(n,e,t,r){var i=this;const s=i._removeEmptyFolders(n),o=i._getFinalPath(s),l=new URL(i.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",e),i.handleOperation(async()=>{let u;const h=Nt({upsert:fv.upsert},r),d=Nt(Nt({},i.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&t instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),u.append("",t)):typeof FormData<"u"&&t instanceof FormData?(u=t,u.append("cacheControl",h.cacheControl)):(u=t,d["cache-control"]=`max-age=${h.cacheControl}`,d["content-type"]=h.contentType),{path:s,fullPath:(await Cm(i.fetch,l.toString(),u,{headers:d})).Key}})}async createSignedUploadUrl(n,e){var t=this;return t.handleOperation(async()=>{let r=t._getFinalPath(n);const i=Nt({},t.headers);e?.upsert&&(i["x-upsert"]="true");const s=await oa(t.fetch,`${t.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(t.url+s.url),l=o.searchParams.get("token");if(!l)throw new kp("No token returned by API");return{signedUrl:o.toString(),path:n,token:l}})}async update(n,e,t){return this.uploadOrUpdate("PUT",n,e,t)}async move(n,e,t){var r=this;return r.handleOperation(async()=>await oa(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:r.headers}))}async copy(n,e,t){var r=this;return r.handleOperation(async()=>({path:(await oa(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(n,e,t){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(n),s=await oa(r.fetch,`${r.url}/object/sign/${i}`,Nt({expiresIn:e},t?.transform?{transform:t.transform}:{}),{headers:r.headers});const o=t?.download?`&download=${t.download===!0?"":t.download}`:"";return{signedUrl:encodeURI(`${r.url}${s.signedURL}${o}`)}})}async createSignedUrls(n,e,t){var r=this;return r.handleOperation(async()=>{const i=await oa(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:n},{headers:r.headers}),s=t?.download?`&download=${t.download===!0?"":t.download}`:"";return i.map(o=>Nt(Nt({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${s}`):null}))})}download(n,e){const t=typeof e?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(e?.transform||{}),i=r?`?${r}`:"",s=this._getFinalPath(n),o=()=>ld(this.fetch,`${this.url}/${t}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new uk(o,this.shouldThrowOnError)}async info(n){var e=this;const t=e._getFinalPath(n);return e.handleOperation(async()=>Pm(await ld(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})))}async exists(n){var e=this;const t=e._getFinalPath(n);try{return await lk(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Np(r)&&r instanceof I5){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(n,e){const t=this._getFinalPath(n),r=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const s=typeof e?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(e?.transform||{});o!==""&&r.push(o);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${t}${l}`)}}}async remove(n){var e=this;return e.handleOperation(async()=>await h0(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}))}async list(n,e,t){var r=this;return r.handleOperation(async()=>{const i=Nt(Nt(Nt({},hk),e),{},{prefix:n||""});return await oa(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},t)})}async listV2(n,e){var t=this;return t.handleOperation(async()=>{const r=Nt({},n);return await oa(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,r,{headers:t.headers},e)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const fk="2.93.3",kd={"X-Client-Info":`storage-js/${fk}`};var pk=class extends rh{constructor(n,e={},t,r){const i=new URL(n);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),o=Nt(Nt({},kd),e);super(s,o,t,"storage")}async listBuckets(n){var e=this;return e.handleOperation(async()=>{const t=e.listBucketOptionsToQueryString(n);return await ld(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers})})}async getBucket(n){var e=this;return e.handleOperation(async()=>await ld(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}))}async createBucket(n,e={public:!1}){var t=this;return t.handleOperation(async()=>await oa(t.fetch,`${t.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}))}async updateBucket(n,e){var t=this;return t.handleOperation(async()=>await Cm(t.fetch,`${t.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}))}async emptyBucket(n){var e=this;return e.handleOperation(async()=>await oa(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}))}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await h0(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},gk=class extends rh{constructor(n,e={},t){const r=n.replace(/\/$/,""),i=Nt(Nt({},kd),e);super(r,i,t,"storage")}async createBucket(n){var e=this;return e.handleOperation(async()=>await oa(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}))}async listBuckets(n){var e=this;return e.handleOperation(async()=>{const t=new URLSearchParams;n?.limit!==void 0&&t.set("limit",n.limit.toString()),n?.offset!==void 0&&t.set("offset",n.offset.toString()),n?.sortColumn&&t.set("sortColumn",n.sortColumn),n?.sortOrder&&t.set("sortOrder",n.sortOrder),n?.search&&t.set("search",n.search);const r=t.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await ld(e.fetch,i,{headers:e.headers})})}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await h0(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}))}from(n){var e=this;if(!tk(n))throw new kp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new QS({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(t,{get(i,s){const o=i[s];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(i,l),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}}}})}},mk=class extends rh{constructor(n,e={},t){const r=n.replace(/\/$/,""),i=Nt(Nt({},kd),{},{"Content-Type":"application/json"},e);super(r,i,t,"vectors")}async createIndex(n){var e=this;return e.handleOperation(async()=>await gs.post(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{})}async getIndex(n,e){var t=this;return t.handleOperation(async()=>await gs.post(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers}))}async listIndexes(n){var e=this;return e.handleOperation(async()=>await gs.post(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}))}async deleteIndex(n,e){var t=this;return t.handleOperation(async()=>await gs.post(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers})||{})}},vk=class extends rh{constructor(n,e={},t){const r=n.replace(/\/$/,""),i=Nt(Nt({},kd),{},{"Content-Type":"application/json"},e);super(r,i,t,"vectors")}async putVectors(n){var e=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await gs.post(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{})}async getVectors(n){var e=this;return e.handleOperation(async()=>await gs.post(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}))}async listVectors(n){var e=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return e.handleOperation(async()=>await gs.post(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}))}async queryVectors(n){var e=this;return e.handleOperation(async()=>await gs.post(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}))}async deleteVectors(n){var e=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await gs.post(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{})}},yk=class extends rh{constructor(n,e={},t){const r=n.replace(/\/$/,""),i=Nt(Nt({},kd),{},{"Content-Type":"application/json"},e);super(r,i,t,"vectors")}async createBucket(n){var e=this;return e.handleOperation(async()=>await gs.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{})}async getBucket(n){var e=this;return e.handleOperation(async()=>await gs.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}))}async listBuckets(n={}){var e=this;return e.handleOperation(async()=>await gs.post(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}))}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await gs.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{})}},wk=class extends yk{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new bk(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,t=this;return e().call(t,n)}async getBucket(n){var e=()=>super.getBucket,t=this;return e().call(t,n)}async listBuckets(n={}){var e=()=>super.listBuckets,t=this;return e().call(t,n)}async deleteBucket(n){var e=()=>super.deleteBucket,t=this;return e().call(t,n)}},bk=class extends mk{constructor(n,e,t,r){super(n,e,r),this.vectorBucketName=t}async createIndex(n){var e=()=>super.createIndex,t=this;return e().call(t,Nt(Nt({},n),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,t=this;return e().call(t,Nt(Nt({},n),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,n)}index(n){return new _k(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},_k=class extends vk{constructor(n,e,t,r,i){super(n,e,i),this.vectorBucketName=t,this.indexName=r}async putVectors(n){var e=()=>super.putVectors,t=this;return e().call(t,Nt(Nt({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(n){var e=()=>super.getVectors,t=this;return e().call(t,Nt(Nt({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,t=this;return e().call(t,Nt(Nt({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,t=this;return e().call(t,Nt(Nt({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,t=this;return e().call(t,Nt(Nt({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},xk=class extends pk{constructor(n,e={},t,r){super(n,e,t,r)}from(n){return new dk(this.url,this.headers,n,this.fetch)}get vectors(){return new wk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new gk(this.url+"/iceberg",this.headers,this.fetch)}};const B5="2.93.3",Tu=30*1e3,Em=3,Og=Em*Tu,Sk="http://localhost:9999",kk="supabase.auth.token",Nk={"X-Client-Info":`gotrue-js/${B5}`},jm="X-Supabase-Api-Version",U5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ak=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Pk=600*1e3;class cd extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function ct(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Ck extends cd{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function Ek(n){return ct(n)&&n.name==="AuthApiError"}class Cc extends cd{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Wo extends cd{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class fs extends Wo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Rg(n){return ct(n)&&n.name==="AuthSessionMissingError"}class bu extends Wo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ff extends Wo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class pf extends Wo{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jk(n){return ct(n)&&n.name==="AuthImplicitGrantRedirectError"}class pv extends Wo{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Lk extends Wo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Lm extends Wo{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Mg(n){return ct(n)&&n.name==="AuthRetryableFetchError"}class gv extends Wo{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Tm extends Wo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mv=` 	
\r=`.split(""),Tk=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<mv.length;e+=1)n[mv[e].charCodeAt(0)]=-2;for(let e=0;e<Qf.length;e+=1)n[Qf[e].charCodeAt(0)]=e;return n})();function vv(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Qf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Qf[r]),e.queuedBits-=6}}function z5(n,e,t){const r=Tk[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function yv(n){const e=[],t=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Mk(o,r,t)};for(let o=0;o<n.length;o+=1)z5(n.charCodeAt(o),i,s);return e.join("")}function Ok(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Rk(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}Ok(r,e)}}function Mk(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function zu(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)z5(n.charCodeAt(i),t,r);return new Uint8Array(e)}function Ik(n){const e=[];return Rk(n,t=>e.push(t)),new Uint8Array(e)}function jc(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>vv(i,t,r)),vv(null,t,r),e.join("")}function Dk(n){return Math.round(Date.now()/1e3)+n}function Fk(){return Symbol("auth-callback")}const Qr=()=>typeof window<"u"&&typeof document<"u",vc={tested:!1,writable:!1},W5=()=>{if(!Qr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vc.tested)return vc.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),vc.tested=!0,vc.writable=!0}catch{vc.tested=!0,vc.writable=!1}return vc.writable};function Bk(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const q5=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Uk=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ou=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},yc=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Xr=async(n,e)=>{await n.removeItem(e)};class Ap{constructor(){this.promise=new Ap.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Ap.promiseConstructor=Promise;function gf(n){const e=n.split(".");if(e.length!==3)throw new Tm("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Ak.test(e[r]))throw new Tm("JWT not in base64url format");return{header:JSON.parse(yv(e[0])),payload:JSON.parse(yv(e[1])),signature:zu(e[2]),raw:{header:e[0],payload:e[1]}}}async function zk(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function Wk(n,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await n(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function qk(n){return("0"+n.toString(16)).substr(-2)}function Hk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let s=0;s<56;s++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,qk).join("")}async function $k(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Vk(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await $k(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _u(n,e,t=!1){const r=Hk();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await Ou(n,`${e}-code-verifier`,i);const s=await Vk(r);return[s,r===s?"plain":"s256"]}const Gk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kk(n){const e=n.headers.get(jm);if(!e||!e.match(Gk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Yk(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function Jk(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Xk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xu(n){if(!Xk.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ig(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qk(n,e){return new Proxy(n,{get:(t,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,i)}})}function wv(n){return JSON.parse(JSON.stringify(n))}const xc=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Zk=[502,503,504];async function bv(n){var e;if(!Uk(n))throw new Lm(xc(n),0);if(Zk.includes(n.status))throw new Lm(xc(n),n.status);let t;try{t=await n.json()}catch(s){throw new Cc(xc(s),s)}let r;const i=Kk(n);if(i&&i.getTime()>=U5["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new gv(xc(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new fs}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new gv(xc(t),n.status,t.weak_password.reasons);throw new Ck(xc(t),n.status||500,r)}const e3=(n,e,t,r)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function St(n,e,t,r){var i;const s=Object.assign({},r?.headers);s[jm]||(s[jm]=U5["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await t3(n,e,t+l,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function t3(n,e,t,r,i,s){const o=e3(e,r,i,s);let l;try{l=await n(t,Object.assign({},o))}catch(u){throw console.error(u),new Lm(xc(u),0)}if(l.ok||await bv(l),r?.noResolveJson)return l;try{return await l.json()}catch(u){await bv(u)}}function aa(n){var e;let t=null;i3(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=Dk(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function _v(n){const e=aa(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Cl(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function n3(n){return{data:n,error:null}}function r3(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s}=n,o=Sp(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function xv(n){return n}function i3(n){return n.access_token&&n.refresh_token&&n.expires_in}const Dg=["global","local","others"];class s3{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=q5(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Dg[0]){if(Dg.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dg.join(", ")}`);try{return await St(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await St(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Cl})}catch(r){if(ct(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=Sp(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await St(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:r3,redirectTo:t?.redirectTo})}catch(t){if(ct(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await St(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Cl})}catch(t){if(ct(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,s,o,l,u;try{const h={nextPage:null,lastPage:0,total:0},d=await St(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:xv});if(d.error)throw d.error;const m=await d.json(),y=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return g.length>0&&(g.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(_.split(";")[1].split("=")[1]);h[`${N}Page`]=k}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(ct(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){xu(e);try{return await St(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Cl})}catch(t){if(ct(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){xu(e);try{return await St(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Cl})}catch(r){if(ct(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){xu(e);try{return await St(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Cl})}catch(r){if(ct(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){xu(e.userId);try{const{data:t,error:r}=await St(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(ct(t))return{data:null,error:t};throw t}}async _deleteFactor(e){xu(e.userId),xu(e.id);try{return{data:await St(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ct(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,i,s,o,l,u;try{const h={nextPage:null,lastPage:0,total:0},d=await St(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:xv});if(d.error)throw d.error;const m=await d.json(),y=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return g.length>0&&(g.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(_.split(";")[1].split("=")[1]);h[`${N}Page`]=k}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(ct(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await St(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ct(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await St(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ct(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await St(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ct(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await St(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(ct(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await St(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ct(t))return{data:null,error:t};throw t}}}function Sv(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const Su={debug:!!(globalThis&&W5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class H5 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class a3 extends H5{}async function o3(n,e,t){Su.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Su.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Su.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{Su.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw Su.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new a3(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Su.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function l3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $5(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function c3(n){return parseInt(n,16)}function u3(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function h3(n){var e;const{chainId:t,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:l,requestId:u,resources:h,scheme:d,uri:m,version:y}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const g=$5(n.address),_=d?`${d}://${r}`:r,k=n.statement?`${n.statement}
`:"",N=`${_} wants you to sign in with your Ethereum account:
${g}

${k}`;let P=`URI: ${m}
Version: ${y}
Chain ID: ${t}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(P+=`
Expiration Time: ${i.toISOString()}`),l&&(P+=`
Not Before: ${l.toISOString()}`),u&&(P+=`
Request ID: ${u}`),h){let L=`
Resources:`;for(const T of h){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);L+=`
- ${T}`}P+=L}return`${N}
${P}`}class Ar extends Error{constructor({message:e,code:t,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=t}}class Zf extends Ar{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function d3({error:n,options:e}){var t,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ar({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=s.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Ar({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ar({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ar({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Ar({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Ar({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ar({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Ar({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const o=window.location.hostname;if(V5(o)){if(s.rp.id!==o)return new Ar({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ar({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Ar({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function f3({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ar({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Ar({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(V5(r)){if(t.rpId!==r)return new Ar({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Ar({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class p3{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const g3=new p3;function m3(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:r}=n,i=Sp(n,["challenge","user","excludeCredentials"]),s=zu(e).buffer,o=Object.assign(Object.assign({},t),{id:zu(t.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const h=r[u];l.excludeCredentials[u]=Object.assign(Object.assign({},h),{id:zu(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function v3(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,r=Sp(n,["challenge","allowCredentials"]),i=zu(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(t&&t.length>0){s.allowCredentials=new Array(t.length);for(let o=0;o<t.length;o++){const l=t[o];s.allowCredentials[o]=Object.assign(Object.assign({},l),{id:zu(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function y3(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:jc(new Uint8Array(n.response.attestationObject)),clientDataJSON:jc(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function w3(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,r=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:jc(new Uint8Array(i.authenticatorData)),clientDataJSON:jc(new Uint8Array(i.clientDataJSON)),signature:jc(new Uint8Array(i.signature)),userHandle:i.userHandle?jc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function V5(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function kv(){var n,e;return!!(Qr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function b3(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Zf("Browser returned unexpected credential type",e)}:{data:null,error:new Zf("Empty credential response",e)}}catch(e){return{data:null,error:d3({error:e,options:n})}}}async function _3(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Zf("Browser returned unexpected credential type",e)}:{data:null,error:new Zf("Empty credential response",e)}}catch(e){return{data:null,error:f3({error:e,options:n})}}}const x3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},S3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ep(...n){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of n)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(t(o))r[s]=o;else if(e(o)){const l=r[s];e(l)?r[s]=ep(l,o):r[s]=ep(o)}else r[s]=o}return r}function k3(n,e){return ep(x3,n,e||{})}function N3(n,e){return ep(S3,n,e||{})}class A3{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:i},s){var o;try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!l)return{data:null,error:u};const h=i??g3.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const m=r;if(m)d.name=`${d.id}:${m}`;else{const g=(await this.client.getUser()).data.user,_=((o=g?.user_metadata)===null||o===void 0?void 0:o.name)||g?.email||g?.id||"User";d.name=`${d.id}:${_}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=k3(l.webauthn.credential_options.publicKey,s?.create),{data:m,error:y}=await b3({publicKey:d,signal:h});return m?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:y}}case"request":{const d=N3(l.webauthn.credential_options.publicKey,s?.request),{data:m,error:y}=await _3(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:h}));return m?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:y}}}}catch(l){return ct(l)?{data:null,error:l}:{data:null,error:new Cc("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!t)return{data:null,error:new cd("rpId is required for WebAuthn authentication")};try{if(!kv())return{data:null,error:new Cc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:l};const{webauthn:u}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:u.type,rpId:t,rpOrigins:r,credential_response:u.credential_response}})}catch(o){return ct(o)?{data:null,error:o}:{data:null,error:new Cc("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!t)return{data:null,error:new cd("rpId is required for WebAuthn registration")};try{if(!kv())return{data:null,error:new Cc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var m;return(m=d.data)===null||m===void 0?void 0:m.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:l};const{data:u,error:h}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:i},{create:s});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:t,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:h}}catch(o){return ct(o)?{data:null,error:o}:{data:null,error:new Cc("Unexpected error in register",o)}}}}l3();const P3={url:Sk,storageKey:kk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Nk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Nv(n,e,t){return await t()}const ku={};class ud{get jwks(){var e,t;return(t=(e=ku[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){ku[this.storageKey]=Object.assign(Object.assign({},ku[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=ku[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ku[this.storageKey]=Object.assign(Object.assign({},ku[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},P3),e);if(this.storageKey=s.storageKey,this.instanceID=(t=ud.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,ud.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Qr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new s3({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=q5(s.fetch),this.lock=s.lock||Nv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Qr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=o3:this.lock=Nv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new A3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:W5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Sv(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Sv(this.memoryStorage)),Qr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${B5}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},r="none";if(Qr()&&(t=Bk(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),Qr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(t,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),jk(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ct(t)?this._returnResult({error:t}):this._returnResult({error:new Cc("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const s=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:aa}),{data:o,error:l}=s;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const u=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(s){if(ct(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var t,r,i;try{let s;if("email"in e){const{email:d,password:m,options:y}=e;let g=null,_=null;this.flowType==="pkce"&&([g,_]=await _u(this.storage,this.storageKey)),s=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:d,password:m,data:(t=y?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:g,code_challenge_method:_},xform:aa})}else if("phone"in e){const{phone:d,password:m,options:y}=e;s=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(r=y?.data)!==null&&r!==void 0?r:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:aa})}else throw new ff("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return await Xr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(s){if(await Xr(this.storage,`${this.storageKey}-code-verifier`),ct(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:o,options:l}=e;t=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:_v})}else if("phone"in e){const{phone:s,password:o,options:l}=e;t=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:_v})}else throw new ff("You must provide either an email or phone number and a password");const{data:r,error:i}=t;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new bu;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(ct(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,i,s,o,l,u,h,d,m,y;let g,_;if("message"in e)g=e.message,_=e.signature;else{const{chain:k,wallet:N,statement:P,options:L}=e;let T;if(Qr())if(typeof N=="object")T=N;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")T=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=N}const j=new URL((t=L?.url)!==null&&t!==void 0?t:window.location.href),D=await T.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Q=$5(D[0]);let U=(r=L?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!U){const W=await T.request({method:"eth_chainId"});U=c3(W)}const H={domain:j.host,address:Q,statement:P,uri:j.href,version:"1",chainId:U,nonce:(i=L?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=L?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=L?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=L?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(h=L?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(d=L?.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=h3(H),_=await T.request({method:"personal_sign",params:[u3(g),Q]})}try{const{data:k,error:N}=await St(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:_},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:aa});if(N)throw N;if(!k||!k.session||!k.user){const P=new bu;return this._returnResult({data:{user:null,session:null},error:P})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:N})}catch(k){if(ct(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(e){var t,r,i,s,o,l,u,h,d,m,y,g;let _,k;if("message"in e)_=e.message,k=e.signature;else{const{chain:N,wallet:P,statement:L,options:T}=e;let j;if(Qr())if(typeof P=="object")j=P;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))j=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=P}const D=new URL((t=T?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in j&&j.signIn){const Q=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),L?{statement:L}:null));let U;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")U=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)U=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)_=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),k=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${D.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(r=T?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=T?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((o=T?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((l=T?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((u=T?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((h=T?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((m=(d=T?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||m===void 0)&&m.length?["Resources",...T.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const Q=await j.signMessage(new TextEncoder().encode(_),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=Q}}try{const{data:N,error:P}=await St(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:jc(k)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:aa});if(P)throw P;if(!N||!N.session||!N.user){const L=new bu;return this._returnResult({data:{user:null,session:null},error:L})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:P})}catch(N){if(ct(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(e){const t=await yc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Lk;const{data:s,error:o}=await St(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:aa});if(await Xr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const l=new bu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(await Xr(this.storage,`${this.storageKey}-code-verifier`),ct(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:s,nonce:o}=e,l=await St(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:aa}),{data:u,error:h}=l;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!u||!u.session||!u.user){const d=new bu;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:h})}catch(t){if(ct(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,i,s,o;try{if("email"in e){const{email:l,options:u}=e;let h=null,d=null;this.flowType==="pkce"&&([h,d]=await _u(this.storage,this.storageKey));const{error:m}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=u?.data)!==null&&t!==void 0?t:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:h,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:l,options:u}=e,{data:h,error:d}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:d})}throw new ff("You must provide either an email or phone number.")}catch(l){if(await Xr(this.storage,`${this.storageKey}-code-verifier`),ct(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var t,r;try{let i,s;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await St(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:aa});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,h=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(i){if(ct(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var t,r,i,s,o;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await _u(this.storage,this.storageKey));const h=await St(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:n3});return!((s=h.data)===null||s===void 0)&&s.url&&Qr()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(l){if(await Xr(this.storage,`${this.storageKey}-code-verifier`),ct(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new fs;const{error:i}=await St(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ct(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await St(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:l}=await St(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:l})}throw new ff("You must provide either an email or phone number and a type")}catch(t){if(ct(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await yc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Og:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await yc(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=Ig()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Qk(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Cl}):await this._useSession(async t=>{var r,i,s;const{data:o,error:l}=t;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fs}:await St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Cl})})}catch(t){if(ct(t))return Rg(t)&&(await this._removeSession(),await Xr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new fs;const o=i.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await _u(this.storage,this.storageKey));const{data:h,error:d}=await St(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Cl});if(d)throw d;return o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Xr(this.storage,`${this.storageKey}-code-verifier`),ct(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new fs;const t=Date.now()/1e3;let r=t,i=!0,s=null;const{payload:o}=gf(e.access_token);if(o.exp&&(r=o.exp,i=r<=t),i){const{data:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(t){if(ct(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:o,error:l}=t;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new fs;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(ct(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Qr())throw new pf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new pf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new pv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pf("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new pv("No code detected.");const{data:L,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:u,token_type:h}=e;if(!s||!l||!o||!h)throw new pf("No session defined in URL");const d=Math.round(Date.now()/1e3),m=parseInt(l);let y=d+m;u&&(y=parseInt(u));const g=y-d;g*1e3<=Tu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${m}s`);const _=y-m;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,y,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,y,d);const{data:k,error:N}=await this._getUser(s);if(N)throw N;const P={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:m,expires_at:y,refresh_token:o,token_type:h,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:P,redirectType:e.type},error:null})}catch(r){if(ct(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await yc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s&&!Rg(s))return this._returnResult({error:s});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Ek(l)&&(l.status===404||l.status===401||l.status===403)||Rg(l)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Xr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=Fk(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:s},error:o}=t;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await _u(this.storage,this.storageKey,!0));try{return await St(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(await Xr(this.storage,`${this.storageKey}-code-verifier`),ct(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(ct(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:i}=await this._useSession(async s=>{var o,l,u,h,d;const{data:m,error:y}=s;if(y)throw y;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await St(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Qr()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(ct(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:i,data:{session:s}}=t;if(i)throw i;const{options:o,provider:l,token:u,access_token:h,nonce:d}=e,m=await St(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:u,access_token:h,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:aa}),{data:y,error:g}=m;return g?this._returnResult({data:{user:null,session:null},error:g}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new bu}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:g}))}catch(i){if(await Xr(this.storage,`${this.storageKey}-code-verifier`),ct(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:s,error:o}=t;if(o)throw o;return await St(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(ct(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await Wk(async i=>(i>0&&await zk(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await St(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:aa})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Mg(s)&&Date.now()+o-r<Tu})}catch(r){if(this._debug(t,"error",r),ct(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Qr()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await yc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await yc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Ou(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:Ig()}else if(i&&!i.user&&!i.user){const o=await yc(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Xr(this.storage,this.storageKey+"-user"),await Ou(this.storage,this.storageKey,i)):i.user=Ig()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Og;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Og}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Mg(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new fs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ap;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new fs;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),ct(s)){const o={data:null,error:s};return Mg(s)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,t)}catch(u){s.push(u)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Xr(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await Ou(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const s=wv(i);await Ou(this.storage,this.storageKey,s)}else{const i=wv(t);await Ou(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Xr(this.storage,this.storageKey),await Xr(this.storage,this.storageKey+"-code-verifier"),await Xr(this.storage,this.storageKey+"-user"),this.userStorage&&await Xr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Tu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Tu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Tu}ms, refresh threshold is ${Em} ticks`),i<=Em&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof H5)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await _u(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;return s?this._returnResult({data:null,error:s}):await St(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(ct(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:s,error:o}=t;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:h}=await St(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(t){if(ct(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?y3(e.webauthn.credential_response):w3(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:u}=await St(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(t){if(ct(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s)return this._returnResult({data:null,error:s});const o=await St(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:m3(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:v3(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(ct(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=t?.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var t,r,i,s;if(e)try{const{payload:g}=gf(e);let _=null;g.aal&&(_=g.aal);let k=_;const{data:{user:N},error:P}=await this.getUser(e);if(P)return this._returnResult({data:null,error:P});((r=(t=N?.factors)===null||t===void 0?void 0:t.filter(j=>j.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(k="aal2");const T=g.amr||[];return{data:{currentLevel:_,nextLevel:k,currentAuthenticationMethods:T},error:null}}catch(g){if(ct(g))return this._returnResult({data:null,error:g});throw g}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=gf(o.access_token);let h=null;u.aal&&(h=u.aal);let d=h;((s=(i=o.user.factors)===null||i===void 0?void 0:i.filter(g=>g.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");const y=u.amr||[];return{data:{currentLevel:h,nextLevel:d,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?await St(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new fs})})}catch(t){if(ct(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new fs});const o=await St(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Qr()&&!t?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new fs});const o=await St(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Qr()&&!t?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await St(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new fs})})}catch(e){if(ct(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?(await St(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new fs})})}catch(t){if(ct(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(l=>l.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+Pk>i)return r;const{data:s,error:o}=await St(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:g,error:_}=await this.getSession();if(_||!g.session)return this._returnResult({data:null,error:_});r=g.session.access_token}const{header:i,payload:s,signature:o,raw:{header:l,payload:u}}=gf(r);t?.allowExpired||Yk(s.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!h){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:s,header:i,signature:o},error:null}}const d=Jk(i.alg),m=await crypto.subtle.importKey("jwk",h,d,!0,["verify"]);if(!await crypto.subtle.verify(d,m,o,Ik(`${l}.${u}`)))throw new Tm("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}}ud.nextInstanceID={};const C3=ud,E3="2.93.3";let qh="";typeof Deno<"u"?qh="deno":typeof document<"u"?qh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qh="react-native":qh="node";const j3={"X-Client-Info":`supabase-js-${qh}/${E3}`},L3={headers:j3},T3={schema:"public"},O3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},R3={};function hd(n){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(n)}function M3(n,e){if(hd(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function I3(n){var e=M3(n,"string");return hd(e)=="symbol"?e:e+""}function D3(n,e,t){return(e=I3(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Av(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function hr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Av(Object(t),!0).forEach(function(r){D3(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Av(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const F3=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),B3=()=>Headers,U3=(n,e,t)=>{const r=F3(t),i=B3();return async(s,o)=>{var l;const u=(l=await e())!==null&&l!==void 0?l:n;let h=new i(o?.headers);return h.has("apikey")||h.set("apikey",n),h.has("Authorization")||h.set("Authorization",`Bearer ${u}`),r(s,hr(hr({},o),{},{headers:h}))}};function z3(n){return n.endsWith("/")?n:n+"/"}function W3(n,e){var t,r;const{db:i,auth:s,realtime:o,global:l}=n,{db:u,auth:h,realtime:d,global:m}=e,y={db:hr(hr({},u),i),auth:hr(hr({},h),s),realtime:hr(hr({},d),o),storage:{},global:hr(hr(hr({},m),l),{},{headers:hr(hr({},(t=m?.headers)!==null&&t!==void 0?t:{}),(r=l?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?y.accessToken=n.accessToken:delete y.accessToken,y}function q3(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(z3(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var H3=class extends C3{constructor(n){super(n)}},$3=class{constructor(n,e,t){var r,i;this.supabaseUrl=n,this.supabaseKey=e;const s=q3(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o=`sb-${s.hostname.split(".")[0]}-auth-token`,l={db:T3,realtime:R3,auth:hr(hr({},O3),{},{storageKey:o}),global:L3},u=W3(t??{},l);if(this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=u.auth)!==null&&h!==void 0?h:{},this.headers,u.global.fetch)}this.fetch=U3(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(hr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new ES(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new xk(this.storageUrl.href,this.headers,this.fetch,t?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new kS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,t)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,t;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:r,userStorage:i,storageKey:s,flowType:o,lock:l,debug:u,throwOnError:h},d,m){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new H3({url:this.authUrl.href,headers:hr(hr({},y),d),storageKey:s,autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:r,userStorage:i,flowType:o,lock:l,debug:u,throwOnError:h,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new VS(this.realtimeUrl.href,hr(hr({},n),{},{params:hr(hr({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e?.access_token)})}_handleTokenChanged(n,e,t){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const V3=(n,e,t)=>new $3(n,e,t);function G3(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const e=n.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}G3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const G5="https://ufppqvrblxcyzengswjb.supabase.co",K5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVmcHBxdnJibHhjeXplbmdzd2piIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkxMjMwMTIsImV4cCI6MjA4NDY5OTAxMn0.xiYNVgnX8GEyg5clT6LzywzV9oDV33EX54-ngQLDqrI";console.log("[Supabase] URL:",G5);console.log("[Supabase] Key exists:",!0);console.log("[Supabase] Key preview:",K5.substring(0,20)+"...");const ut=V3(G5,K5,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}});ut.auth.getSession().then(({data:n,error:e})=>{e?console.error("[Supabase] Connection test failed:",e):console.log("[Supabase] Connection successful, session:",n.session?"exists":"none")});const On=[{value:"ruang_rawat_inap",label:"Ruang Rawat Inap",color:"#10b981"},{value:"poli",label:"Poli",color:"#3b82f6"},{value:"casemix",label:"Casemix",color:"#8b5cf6"},{value:"rekam_medis",label:"Rekam Medis",color:"#f59e0b"},{value:"hilang",label:"Hilang",color:"#ef4444"}],Pv={ADMIN:"admin",PETUGAS:"petugas"},ua=10,Cv=5e3,Y5=de.createContext({}),Bs=()=>{const n=de.useContext(Y5);if(!n)throw new Error("useAuth must be used within AuthProvider");return n},K3=({children:n})=>{const[e,t]=de.useState(null),[r,i]=de.useState(null),[s,o]=de.useState(!0),[l,u]=de.useState(null),h=async T=>{console.log("[Auth] Fetching profile for user:",T);try{const{data:j,error:D}=await ut.from("profiles").select("*").eq("id",T).single();if(D)return D.code==="20"||D.message?.includes("AbortError")?(console.log("[Auth] Profile fetch aborted (expected during reload)"),null):(console.error("[Auth] Profile fetch error:",D),null);console.log("[Auth] Profile fetched:",j),i(j);try{localStorage.setItem("app_user_profile",JSON.stringify(j))}catch(Q){console.error("[Auth] Failed to cache profile:",Q)}return j}catch(j){return j.name==="AbortError"||j.message?.includes("AbortError")||console.error("[Auth] Error fetching profile:",j),null}},d=async()=>{e&&(o(!0),await h(e.id),o(!1))};de.useEffect(()=>{let T=!0;console.log("[Auth] Initializing auth state...");const j=localStorage.getItem("app_user_profile");if(j)try{const H=JSON.parse(j);console.log("[Auth] Loaded cached profile:",H),i(H)}catch{console.error("[Auth] Failed to parse cached profile"),localStorage.removeItem("app_user_profile")}const D=setTimeout(()=>{T&&s&&(console.warn("[Auth] Loading timeout - forcing completion"),o(!1))},5e3);(async()=>{try{const{data:{session:H},error:W}=await ut.auth.getSession();W&&console.error("[Auth] Get session error:",W),console.log("[Auth] Initial session:",H?"exists":"none"),T&&(H?.user?(t(H.user),h(H.user.id).then(ae=>{!ae&&!j&&console.warn("[Auth] No profile data available (fetch failed + no cache)")})):(t(null),i(null),localStorage.removeItem("app_user_profile")),o(!1))}catch(H){console.error("[Auth] Init error:",H),T&&o(!1)}})();const{data:{subscription:U}}=ut.auth.onAuthStateChange(async(H,W)=>{console.log("[Auth] Auth state changed:",H,W?"has session":"no session"),T&&(W?.user?(t(W.user),h(W.user.id)):(t(null),i(null),localStorage.removeItem("app_user_profile")),o(!1))});return()=>{T=!1,clearTimeout(D),U.unsubscribe()}},[]);const m=async(T,j)=>{console.log("[Auth] Attempting sign in for:",T);try{u(null);const{data:D,error:Q}=await ut.auth.signInWithPassword({email:T,password:j});if(Q)throw console.error("[Auth] Sign in error:",Q),Q;return console.log("[Auth] Sign in successful:",D.user?.id),ut.rpc("log_activity",{p_aksi:"LOGIN",p_details:{email:T}}).then(({error:U})=>{U&&console.warn("[Auth] Log activity error (non-critical):",U)}),{data:D,error:null}}catch(D){return console.error("[Auth] Sign in failed:",D),u(D.message),{data:null,error:D}}},y=async(T,j,D={})=>{console.log("[Auth] Attempting sign up for:",T);try{u(null);const{data:Q,error:U}=await ut.auth.signUp({email:T,password:j,options:{data:D}});if(U)throw console.error("[Auth] Sign up error:",U),U;return console.log("[Auth] Sign up successful:",Q),{data:Q,error:null}}catch(Q){return console.error("[Auth] Sign up failed:",Q),u(Q.message),{data:null,error:Q}}},g=async()=>{console.log("[Auth] Signing out...");try{ut.rpc("log_activity",{p_aksi:"LOGOUT"}).then(({error:j})=>{j&&console.warn("[Auth] Logout log error (non-critical):",j)});const{error:T}=await ut.auth.signOut();T&&console.warn("[Auth] Sign out error (backend):",T),console.log("[Auth] Signed out successfully (or forced locally)")}catch(T){console.error("[Auth] Error signing out:",T)}finally{t(null),i(null),u(null)}},_=async T=>{console.log("[Auth] Updating password...");try{u(null);const{data:j,error:D}=await ut.auth.updateUser({password:T});if(D)throw console.error("[Auth] Update password error:",D),D;return console.log("[Auth] Password updated successfully"),{data:j,error:null}}catch(j){return console.error("[Auth] Update password failed:",j),u(j.message),{data:null,error:j}}},k=async T=>{console.log("[Auth] Updating profile:",T);try{u(null);const{data:j,error:D}=await ut.from("profiles").update(T).eq("id",e.id).select().single();if(D)throw console.error("[Auth] Update profile error:",D),D;return console.log("[Auth] Profile updated:",j),i(j),{data:j,error:null}}catch(j){return console.error("[Auth] Update profile failed:",j),u(j.message),{data:null,error:j}}},N=r?.role===Pv.ADMIN,P=r?.role===Pv.PETUGAS,L={user:e,profile:r,loading:s,error:l,signIn:m,signUp:y,signOut:g,updatePassword:_,updateProfile:k,refreshProfile:d,isAdmin:N,isPetugas:P};return b.jsx(Y5.Provider,{value:L,children:n})};var Y3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const J3=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ft=(n,e)=>{const t=de.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:u,...h},d)=>de.createElement("svg",{ref:d,...Y3,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${J3(n)}`,l].join(" "),...h},[...e.map(([m,y])=>de.createElement(m,y)),...Array.isArray(u)?u:[u]]));return t.displayName=`${n}`,t};const tp=Ft("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const d0=Ft("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const X3=Ft("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Om=Ft("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const J5=Ft("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);const Ev=Ft("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const f0=Ft("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const X5=Ft("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Pp=Ft("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const dd=Ft("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Q3=Ft("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Z3=Ft("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const Q5=Ft("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Bo=Ft("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);const e4=Ft("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const t4=Ft("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const n4=Ft("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const Z5=Ft("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);const r4=Ft("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const p0=Ft("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const ew=Ft("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const tw=Ft("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Ju=Ft("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const i4=Ft("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const nw=Ft("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const rw=Ft("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Rm=Ft("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);const Xu=Ft("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);const iw=Ft("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const s4=Ft("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const Mm=Ft("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const Ml=Ft("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const a4=Ft("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const sw=Ft("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);const aw=Ft("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Im=Ft("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const o4=Ft("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const l4=Ft("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);const fd=Ft("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const np=Ft("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const c4=Ft("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);const u4=Ft("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);const Mc=Ft("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ow=de.createContext({}),$a=()=>{const n=de.useContext(ow);if(!n)throw new Error("useToast must be used within ToastProvider");return n},h4=({children:n})=>{const[e,t]=de.useState([]),r=de.useCallback(d=>{const m=Date.now()+Math.random(),y={id:m,type:"info",duration:5e3,...d};return t(g=>[...g,y]),y.duration>0&&setTimeout(()=>{i(m)},y.duration),m},[]),i=de.useCallback(d=>{t(m=>m.filter(y=>y.id!==d))},[]),s=de.useCallback((d,m={})=>r({type:"success",message:d,...m}),[r]),o=de.useCallback((d,m={})=>r({type:"error",message:d,...m}),[r]),l=de.useCallback((d,m={})=>r({type:"warning",message:d,...m}),[r]),u=de.useCallback((d,m={})=>r({type:"info",message:d,...m}),[r]),h={success:b.jsx(f0,{size:20,color:"#10b981"}),error:b.jsx(d0,{size:20,color:"#ef4444"}),warning:b.jsx(X3,{size:20,color:"#f59e0b"}),info:b.jsx(n4,{size:20,color:"#3b82f6"})};return b.jsxs(ow.Provider,{value:{addToast:r,removeToast:i,success:s,error:o,warning:l,info:u},children:[n,b.jsx("div",{className:"toast-container",children:e.map(d=>b.jsxs("div",{className:`toast ${d.type}`,children:[b.jsx("span",{className:"toast-icon",children:h[d.type]}),b.jsxs("div",{className:"toast-content",children:[d.title&&b.jsx("div",{className:"toast-title",children:d.title}),b.jsx("div",{className:"toast-message",children:d.message})]}),d.onUndo&&b.jsx("button",{className:"toast-undo",onClick:()=>{d.onUndo(),i(d.id)},children:"Undo"}),b.jsx("button",{className:"toast-close",onClick:()=>i(d.id),children:b.jsx(Mc,{size:16})})]},d.id))})]})},lw=de.createContext({}),cw=()=>de.useContext(lw),d4=({children:n})=>{const[e,t]=de.useState(navigator.onLine),[r,i]=de.useState([]),[s,o]=de.useState(!1),{success:l,error:u,info:h}=$a(),{user:d}=Bs();de.useEffect(()=>{const k=()=>{t(!0),h("Kembali online - Mencoba sinkronisasi..."),g()},N=()=>{t(!1),h("Mode Offline - Data akan disimpan lokal")};return window.addEventListener("online",k),window.addEventListener("offline",N),()=>{window.removeEventListener("online",k),window.removeEventListener("offline",N)}},[]),de.useEffect(()=>{const k=localStorage.getItem("offline_scan_queue");if(k)try{const N=JSON.parse(k);Array.isArray(N)&&(i(N),console.log(`[Sync] Loaded ${N.length} pending items`))}catch(N){console.error("[Sync] Failed to load queue:",N)}},[]),de.useEffect(()=>{localStorage.setItem("offline_scan_queue",JSON.stringify(r))},[r]);const m=k=>{const N={...k,id:crypto.randomUUID(),timestamp:new Date().toISOString(),retryCount:0};return i(P=>[...P,N]),N},y=k=>{i(N=>N.filter(P=>P.id!==k))},g=async()=>{if(r.length===0||s||!d)return;o(!0),console.log("[Sync] Starting sync...",r);let k=0,N=[...r];for(const P of N)try{if(P.type==="SCAN_MUTATION"){let{patient_id:L,status_lokasi:T,keterangan:j,petugas_id:D,no_rm:Q}=P.payload;if(!L&&Q){const{data:H}=await ut.from("patients").select("id").eq("no_rm",Q).single();if(H)L=H.id;else{console.error(`[Sync] Patient ${Q} not found, skipping item`),y(P.id);continue}}if(!L){console.error("[Sync] Missing patient_id, skipping"),y(P.id);continue}const{error:U}=await ut.from("tracer").insert({patient_id:L,status_lokasi:T,keterangan:j,petugas_id:D,created_at:P.timestamp});if(U)throw U;await ut.rpc("log_activity",{p_aksi:"UPDATE_STATUS_OFFLINE_SYNC",p_no_rm:Q,p_details:{status_lokasi:T,keterangan:j,synced_at:new Date().toISOString(),original_time:P.timestamp}}),y(P.id),k++}}catch(L){console.error("[Sync] Failed to sync item:",P,L)}k>0?l(`Berhasil menyinkronkan ${k} data`):r.length>0&&r.length-k,o(!1)};de.useEffect(()=>{if(e&&d&&r.length>0&&!s){const k=setTimeout(()=>{g()},2e3);return()=>clearTimeout(k)}},[e,d,r]);const _={isOnline:e,pendingQueue:r,addToQueue:m,syncQueue:g,isSyncing:s};return b.jsx(lw.Provider,{value:_,children:n})},f4=()=>{const{isOnline:n,pendingQueue:e,isSyncing:t,syncQueue:r}=cw();return n&&e.length===0?null:b.jsx("div",{style:{position:"fixed",bottom:"80px",left:"50%",transform:"translateX(-50%)",zIndex:50,backgroundColor:n?"var(--warning-100)":"var(--error-100)",color:n?"var(--warning-700)":"var(--error-700)",border:`1px solid ${n?"var(--warning-200)":"var(--error-200)"}`,padding:"8px 16px",borderRadius:"9999px",display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",fontSize:"0.875rem",fontWeight:500,whiteSpace:"nowrap",maxWidth:"90%"},children:n?b.jsxs(b.Fragment,{children:[t?b.jsx(iw,{className:"animate-spin",size:16}):b.jsx(u4,{size:16}),b.jsx("span",{children:t?"Menyinkronkan data...":`${e.length} data menunggu sinkronisasi`}),!t&&b.jsx("button",{onClick:r,style:{background:"transparent",border:"none",color:"inherit",textDecoration:"underline",cursor:"pointer",marginLeft:"4px",fontWeight:600},children:"Sync"})]}):b.jsxs(b.Fragment,{children:[b.jsx(c4,{size:16}),b.jsxs("span",{children:["Mode Offline  ",e.length," antrian"]})]})})},p4=()=>{const[n,e]=de.useState(""),[t,r]=de.useState(""),[i,s]=de.useState(!1),[o,l]=de.useState(!1),[u,h]=de.useState(""),{signIn:d}=Bs(),{error:m}=$a();Wl();const y=async g=>{if(g.preventDefault(),h(""),!n||!t){h("Email dan password harus diisi"),m("Email dan password harus diisi");return}console.log("[Login] Attempting login for:",n),l(!0);const{data:_,error:k}=await d(n,t);if(l(!1),k){console.error("[Login] Login failed:",k);let N=k.message;N.includes("Invalid login credentials")?N="Email atau password salah":N.includes("Email not confirmed")?N="Email belum dikonfirmasi":N.includes("Invalid API key")?N="Konfigurasi Supabase tidak valid. Periksa ANON KEY di .env":N.includes("Failed to fetch")&&(N="Tidak dapat terhubung ke server. Periksa koneksi internet dan URL Supabase."),h(N),m(N);return}console.log("[Login] Login successful!")};return b.jsx("div",{className:"login-page",children:b.jsxs("div",{className:"login-card",children:[b.jsxs("div",{className:"login-header",children:[b.jsxs("div",{className:"login-logo",children:[b.jsx("div",{className:"login-logo-icon",children:b.jsx(Xu,{size:28})}),b.jsx("span",{children:"Berkas RM"})]}),b.jsx("p",{className:"login-tagline",children:"Sistem Pelacakan Rekam Medis"})]}),b.jsxs("form",{className:"login-body",onSubmit:y,children:[u&&b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px",marginBottom:"16px",background:"var(--error-light)",color:"#b91c1c",borderRadius:"var(--radius-lg)",fontSize:"0.875rem"},children:[b.jsx(d0,{size:18}),b.jsx("span",{children:u})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",htmlFor:"email",children:"Email"}),b.jsxs("div",{style:{position:"relative"},children:[b.jsx(tw,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),b.jsx("input",{type:"email",id:"email",className:"form-input",placeholder:"nama@rumahsakit.com",value:n,onChange:g=>e(g.target.value),style:{paddingLeft:"40px"},autoComplete:"email",disabled:o})]})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",htmlFor:"password",children:"Password"}),b.jsxs("div",{style:{position:"relative"},children:[b.jsx(p0,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),b.jsx("input",{type:i?"text":"password",id:"password",className:"form-input",placeholder:"Masukkan password",value:t,onChange:g=>r(g.target.value),style:{paddingLeft:"40px",paddingRight:"40px"},autoComplete:"current-password",disabled:o}),b.jsx("button",{type:"button",onClick:()=>s(!i),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"var(--text-muted)",padding:"4px"},children:i?b.jsx(Z3,{size:18}):b.jsx(Q5,{size:18})})]})]}),b.jsx("button",{type:"submit",className:"btn btn-primary btn-block btn-lg mt-lg",disabled:o,children:o?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"spinner",style:{width:20,height:20}}),b.jsx("span",{children:"Memproses..."})]}):b.jsx("span",{children:"Masuk"})}),b.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"var(--gray-100)",borderRadius:"var(--radius-md)",fontSize:"0.75rem",color:"var(--text-muted)"},children:[b.jsx("strong",{children:"Debug:"})," Buka Browser Console (F12) untuk melihat log detail"]})]}),b.jsx("div",{className:"login-footer",children:b.jsx("p",{children:"Rekam Medis Tracer System  2026"})})]})})},g4=()=>{const{profile:n,signOut:e}=Bs(),t=Wl(),[r,i]=de.useState(!1),[s,o]=de.useState(!1),l=async()=>{confirm("Apakah Anda yakin ingin keluar aplikasi?")&&(o(!0),await new Promise(d=>setTimeout(d,800)),await e(),t("/login"))},u=[{path:"/admin",icon:r4,label:"Dashboard",end:!0},{path:"/admin/patients",icon:Bo,label:"Pasien & Berkas"},{path:"/admin/users",icon:np,label:"Manajemen User"},{path:"/admin/logs",icon:tp,label:"Log Aktivitas"},{path:"/admin/profile",icon:np,label:"Profil Saya"}],h=d=>d?d.split(" ").map(m=>m[0]).join("").toUpperCase().slice(0,2):"U";return b.jsxs("div",{className:"app-layout",children:[s&&b.jsx(Fp,{}),b.jsx("button",{className:"btn btn-icon btn-ghost no-print",onClick:()=>i(!r),style:{position:"fixed",top:"1rem",left:"1rem",zIndex:250,display:"none"},id:"mobile-menu-btn",children:r?b.jsx(Mc,{size:24}):b.jsx(i4,{size:24})}),b.jsxs("aside",{className:`sidebar ${r?"open":""}`,children:[b.jsx("div",{className:"sidebar-header",children:b.jsxs("div",{className:"sidebar-logo",children:[b.jsx(Xu,{size:28}),b.jsx("span",{children:"RM Tracer"})]})}),b.jsx("nav",{className:"sidebar-nav",children:u.map(d=>b.jsxs(j5,{to:d.path,end:d.end,className:({isActive:m})=>`nav-item ${m?"active":""}`,onClick:()=>i(!1),children:[b.jsx(d.icon,{className:"nav-item-icon",size:20}),b.jsx("span",{children:d.label})]},d.path))}),b.jsxs("div",{className:"sidebar-footer",children:[b.jsxs("div",{className:"user-info",children:[b.jsx("div",{className:"user-avatar",children:h(n?.nama)}),b.jsxs("div",{className:"user-details",children:[b.jsx("div",{className:"user-name",children:n?.nama||"User"}),b.jsx("div",{className:"user-role",children:n?.role||"Admin"})]})]}),b.jsxs("button",{className:"btn btn-ghost btn-block mt-sm",onClick:l,style:{justifyContent:"flex-start"},children:[b.jsx(ew,{size:18}),b.jsx("span",{children:"Keluar"})]})]})]}),r&&b.jsx("div",{className:"no-print",style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",zIndex:199,display:"none"},id:"sidebar-overlay",onClick:()=>i(!1)}),b.jsx("main",{className:"main-content",children:b.jsx(C5,{})}),b.jsx("style",{children:`
        @media (max-width: 1024px) {
          #mobile-menu-btn {
            display: flex !important;
          }
          #sidebar-overlay {
            display: block !important;
          }
        }
      `})]})};function Cn(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function Dl(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}const uw=6048e5,m4=864e5,hw=6e4,dw=36e5,mf=43200,jv=1440;let v4={};function Nd(){return v4}function pd(n,e){const t=Nd(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=Cn(n),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function rp(n){return pd(n,{weekStartsOn:1})}function fw(n){const e=Cn(n),t=e.getFullYear(),r=Dl(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const i=rp(r),s=Dl(n,0);s.setFullYear(t,0,4),s.setHours(0,0,0,0);const o=rp(s);return e.getTime()>=i.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function Lv(n){const e=Cn(n);return e.setHours(0,0,0,0),e}function ip(n){const e=Cn(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function y4(n,e){const t=Lv(n),r=Lv(e),i=+t-ip(t),s=+r-ip(r);return Math.round((i-s)/m4)}function w4(n){const e=fw(n),t=Dl(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),rp(t)}function Uf(n,e){const t=Cn(n),r=Cn(e),i=t.getTime()-r.getTime();return i<0?-1:i>0?1:i}function b4(n){return Dl(n,Date.now())}function _4(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Cp(n){if(!_4(n)&&typeof n!="number")return!1;const e=Cn(n);return!isNaN(Number(e))}function x4(n,e){const t=Cn(n),r=Cn(e),i=t.getFullYear()-r.getFullYear(),s=t.getMonth()-r.getMonth();return i*12+s}function S4(n){return e=>{const r=(n?Math[n]:Math.trunc)(e);return r===0?0:r}}function k4(n,e){return+Cn(n)-+Cn(e)}function N4(n){const e=Cn(n);return e.setHours(23,59,59,999),e}function A4(n){const e=Cn(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function P4(n){const e=Cn(n);return+N4(e)==+A4(e)}function C4(n,e){const t=Cn(n),r=Cn(e),i=Uf(t,r),s=Math.abs(x4(t,r));let o;if(s<1)o=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-i*s);let l=Uf(t,r)===-i;P4(Cn(n))&&s===1&&Uf(n,r)===1&&(l=!1),o=i*(s-Number(l))}return o===0?0:o}function E4(n,e,t){const r=k4(n,e)/1e3;return S4(t?.roundingMethod)(r)}function j4(n){const e=Cn(n),t=Dl(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const L4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},T4=(n,e,t)=>{let r;const i=L4[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Wu(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const O4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},R4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},M4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},I4={date:Wu({formats:O4,defaultWidth:"full"}),time:Wu({formats:R4,defaultWidth:"full"}),dateTime:Wu({formats:M4,defaultWidth:"full"})},D4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},F4=(n,e,t,r)=>D4[n];function za(n){return(e,t)=>{const r=t?.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,l=t?.width?String(t.width):o;i=n.formattingValues[l]||n.formattingValues[o]}else{const o=n.defaultWidth,l=t?.width?String(t.width):n.defaultWidth;i=n.values[l]||n.values[o]}const s=n.argumentCallback?n.argumentCallback(e):e;return i[s]}}const B4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},U4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},z4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},W4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},q4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},H4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$4=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},V4={ordinalNumber:$4,era:za({values:B4,defaultWidth:"wide"}),quarter:za({values:U4,defaultWidth:"wide",argumentCallback:n=>n-1}),month:za({values:z4,defaultWidth:"wide"}),day:za({values:W4,defaultWidth:"wide"}),dayPeriod:za({values:q4,defaultWidth:"wide",formattingValues:H4,defaultFormattingWidth:"wide"})};function Wa(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],l=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],u=Array.isArray(l)?K4(l,m=>m.test(o)):G4(l,m=>m.test(o));let h;h=n.valueCallback?n.valueCallback(u):u,h=t.valueCallback?t.valueCallback(h):h;const d=e.slice(o.length);return{value:h,rest:d}}}function G4(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function K4(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function pw(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],s=e.match(n.parsePattern);if(!s)return null;let o=n.valueCallback?n.valueCallback(s[0]):s[0];o=t.valueCallback?t.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const Y4=/^(\d+)(th|st|nd|rd)?/i,J4=/\d+/i,X4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Q4={any:[/^b/i,/^(a|c)/i]},Z4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},eN={any:[/1/i,/2/i,/3/i,/4/i]},tN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},aN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},oN={ordinalNumber:pw({matchPattern:Y4,parsePattern:J4,valueCallback:n=>parseInt(n,10)}),era:Wa({matchPatterns:X4,defaultMatchWidth:"wide",parsePatterns:Q4,defaultParseWidth:"any"}),quarter:Wa({matchPatterns:Z4,defaultMatchWidth:"wide",parsePatterns:eN,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Wa({matchPatterns:tN,defaultMatchWidth:"wide",parsePatterns:nN,defaultParseWidth:"any"}),day:Wa({matchPatterns:rN,defaultMatchWidth:"wide",parsePatterns:iN,defaultParseWidth:"any"}),dayPeriod:Wa({matchPatterns:sN,defaultMatchWidth:"any",parsePatterns:aN,defaultParseWidth:"any"})},gw={code:"en-US",formatDistance:T4,formatLong:I4,formatRelative:F4,localize:V4,match:oN,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lN(n){const e=Cn(n);return y4(e,j4(e))+1}function cN(n){const e=Cn(n),t=+rp(e)-+w4(e);return Math.round(t/uw)+1}function mw(n,e){const t=Cn(n),r=t.getFullYear(),i=Nd(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Dl(n,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const l=pd(o,e),u=Dl(n,0);u.setFullYear(r,0,s),u.setHours(0,0,0,0);const h=pd(u,e);return t.getTime()>=l.getTime()?r+1:t.getTime()>=h.getTime()?r:r-1}function uN(n,e){const t=Nd(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,i=mw(n,e),s=Dl(n,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),pd(s,e)}function hN(n,e){const t=Cn(n),r=+pd(t,e)-+uN(t,e);return Math.round(r/uw)+1}function vn(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const kl={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return vn(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):vn(t+1,2)},d(n,e){return vn(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];default:return t==="am"?"a.m.":"p.m."}},h(n,e){return vn(n.getHours()%12||12,e.length)},H(n,e){return vn(n.getHours(),e.length)},m(n,e){return vn(n.getMinutes(),e.length)},s(n,e){return vn(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return vn(i,e.length)}},Nu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Tv={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return kl.y(n,e)},Y:function(n,e,t,r){const i=mw(n,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return vn(o,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):vn(s,e.length)},R:function(n,e){const t=fw(n);return vn(t,e.length)},u:function(n,e){const t=n.getFullYear();return vn(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return vn(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return vn(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return kl.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return vn(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=hN(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):vn(i,e.length)},I:function(n,e,t){const r=cN(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):vn(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):kl.d(n,e)},D:function(n,e,t){const r=lN(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):vn(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return vn(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return vn(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return vn(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=Nu.noon:r===0?i=Nu.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=Nu.evening:r>=12?i=Nu.afternoon:r>=4?i=Nu.morning:i=Nu.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return kl.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):kl.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):vn(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):vn(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):kl.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):kl.s(n,e)},S:function(n,e){return kl.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Rv(r);case"XXXX":case"XX":return Sc(r);default:return Sc(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return Rv(r);case"xxxx":case"xx":return Sc(r);default:return Sc(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Ov(r,":");default:return"GMT"+Sc(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Ov(r,":");default:return"GMT"+Sc(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return vn(r,e.length)},T:function(n,e,t){const r=n.getTime();return vn(r,e.length)}};function Ov(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),s=r%60;return s===0?t+String(i):t+String(i)+e+vn(s,2)}function Rv(n,e){return n%60===0?(n>0?"-":"+")+vn(Math.abs(n)/60,2):Sc(n,e)}function Sc(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=vn(Math.trunc(r/60),2),s=vn(r%60,2);return t+i+e+s}const Mv=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},vw=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},dN=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return Mv(n,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Mv(r,e)).replace("{{time}}",vw(i,e))},fN={p:vw,P:dN},pN=/^D+$/,gN=/^Y+$/,mN=["D","DD","YY","YYYY"];function vN(n){return pN.test(n)}function yN(n){return gN.test(n)}function wN(n,e,t){const r=bN(n,e,t);if(console.warn(r),mN.includes(n))throw new RangeError(r)}function bN(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _N=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,SN=/^'([^]*?)'?$/,kN=/''/g,NN=/[a-zA-Z]/;function AN(n,e,t){const r=Nd(),i=t?.locale??r.locale??gw,s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=Cn(n);if(!Cp(l))throw new RangeError("Invalid time value");let u=e.match(xN).map(d=>{const m=d[0];if(m==="p"||m==="P"){const y=fN[m];return y(d,i.formatLong)}return d}).join("").match(_N).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const m=d[0];if(m==="'")return{isToken:!1,value:PN(d)};if(Tv[m])return{isToken:!0,value:d};if(m.match(NN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const h={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return u.map(d=>{if(!d.isToken)return d.value;const m=d.value;(!t?.useAdditionalWeekYearTokens&&yN(m)||!t?.useAdditionalDayOfYearTokens&&vN(m))&&wN(m,e,String(n));const y=Tv[m[0]];return y(l,m,i.localize,h)}).join("")}function PN(n){const e=n.match(SN);return e?e[1].replace(kN,"'"):n}function CN(n,e,t){const r=Nd(),i=t?.locale??r.locale??gw,s=2520,o=Uf(n,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:o});let u,h;o>0?(u=Cn(e),h=Cn(n)):(u=Cn(n),h=Cn(e));const d=E4(h,u),m=(ip(h)-ip(u))/1e3,y=Math.round((d-m)/60);let g;if(y<2)return t?.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,l):d<10?i.formatDistance("lessThanXSeconds",10,l):d<20?i.formatDistance("lessThanXSeconds",20,l):d<40?i.formatDistance("halfAMinute",0,l):d<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):y===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",y,l);if(y<45)return i.formatDistance("xMinutes",y,l);if(y<90)return i.formatDistance("aboutXHours",1,l);if(y<jv){const _=Math.round(y/60);return i.formatDistance("aboutXHours",_,l)}else{if(y<s)return i.formatDistance("xDays",1,l);if(y<mf){const _=Math.round(y/jv);return i.formatDistance("xDays",_,l)}else if(y<mf*2)return g=Math.round(y/mf),i.formatDistance("aboutXMonths",g,l)}if(g=C4(h,u),g<12){const _=Math.round(y/mf);return i.formatDistance("xMonths",_,l)}else{const _=g%12,k=Math.trunc(g/12);return _<3?i.formatDistance("aboutXYears",k,l):_<9?i.formatDistance("overXYears",k,l):i.formatDistance("almostXYears",k+1,l)}}function EN(n,e){return CN(n,b4(n),e)}function g0(n,e){const r=ON(n);let i;if(r.date){const u=RN(r.date,2);i=MN(u.restDateString,u.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,l;if(r.time&&(o=IN(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(l=DN(r.timezone),isNaN(l))return new Date(NaN)}else{const u=new Date(s+o),h=new Date(0);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return new Date(s+o+l)}const vf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},jN=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,LN=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,TN=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ON(n){const e={},t=n.split(vf.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],vf.timeZoneDelimiter.test(e.date)&&(e.date=n.split(vf.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const i=vf.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function RN(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:n.slice((r[1]||r[2]).length)}}function MN(n,e){if(e===null)return new Date(NaN);const t=n.match(jN);if(!t)return new Date(NaN);const r=!!t[4],i=Mh(t[1]),s=Mh(t[2])-1,o=Mh(t[3]),l=Mh(t[4]),u=Mh(t[5])-1;if(r)return WN(e,l,u)?FN(e,l,u):new Date(NaN);{const h=new Date(0);return!UN(e,s,o)||!zN(e,i)?new Date(NaN):(h.setUTCFullYear(e,s,Math.max(i,o)),h)}}function Mh(n){return n?parseInt(n):1}function IN(n){const e=n.match(LN);if(!e)return NaN;const t=Fg(e[1]),r=Fg(e[2]),i=Fg(e[3]);return qN(t,r,i)?t*dw+r*hw+i*1e3:NaN}function Fg(n){return n&&parseFloat(n.replace(",","."))||0}function DN(n){if(n==="Z")return 0;const e=n.match(TN);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return HN(r,i)?t*(r*dw+i*hw):NaN}function FN(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const BN=[31,null,31,30,31,30,31,31,30,31,30,31];function yw(n){return n%400===0||n%4===0&&n%100!==0}function UN(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(BN[e]||(yw(n)?29:28))}function zN(n,e){return e>=1&&e<=(yw(n)?366:365)}function WN(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function qN(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function HN(n,e){return e>=0&&e<=59}const $N={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},VN=(n,e,t)=>{let r;const i=$N[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"dalam waktu "+r:r+" yang lalu":r},GN={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},KN={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},YN={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},JN={date:Wu({formats:GN,defaultWidth:"full"}),time:Wu({formats:KN,defaultWidth:"full"}),dateTime:Wu({formats:YN,defaultWidth:"full"})},XN={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},QN=(n,e,t,r)=>XN[n],ZN={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},eA={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},tA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},nA={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},rA={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},iA={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},sA=(n,e)=>"ke-"+Number(n),aA={ordinalNumber:sA,era:za({values:ZN,defaultWidth:"wide"}),quarter:za({values:eA,defaultWidth:"wide",argumentCallback:n=>n-1}),month:za({values:tA,defaultWidth:"wide"}),day:za({values:nA,defaultWidth:"wide"}),dayPeriod:za({values:rA,defaultWidth:"wide",formattingValues:iA,defaultFormattingWidth:"wide"})},oA=/^ke-(\d+)?/i,lA=/\d+/i,cA={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},uA={any:[/^s/i,/^(m|e)/i]},hA={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},dA={any:[/1/i,/2/i,/3/i,/4/i]},fA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},pA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},gA={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},mA={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},vA={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},yA={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},wA={ordinalNumber:pw({matchPattern:oA,parsePattern:lA,valueCallback:n=>parseInt(n,10)}),era:Wa({matchPatterns:cA,defaultMatchWidth:"wide",parsePatterns:uA,defaultParseWidth:"any"}),quarter:Wa({matchPatterns:hA,defaultMatchWidth:"wide",parsePatterns:dA,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Wa({matchPatterns:fA,defaultMatchWidth:"wide",parsePatterns:pA,defaultParseWidth:"any"}),day:Wa({matchPatterns:gA,defaultMatchWidth:"wide",parsePatterns:mA,defaultParseWidth:"any"}),dayPeriod:Wa({matchPatterns:vA,defaultMatchWidth:"any",parsePatterns:yA,defaultParseWidth:"any"})},ww={code:"id",formatDistance:VN,formatLong:JN,formatRelative:QN,localize:aA,match:wA,options:{weekStartsOn:1,firstWeekContainsDate:1}},Fl=(n,e="dd MMM yyyy")=>{if(!n)return"-";const t=typeof n=="string"?g0(n):n;return Cp(t)?AN(t,e,{locale:ww}):"-"},Du=n=>Fl(n,"dd MMM yyyy, HH:mm"),bw=n=>{if(!n)return"-";const e=typeof n=="string"?g0(n):n;return Cp(e)?EN(e,{addSuffix:!0,locale:ww}):"-"},Yh=n=>`RMTRACER:${n}`,bA=n=>n?n.startsWith("RMTRACER:")?n.replace("RMTRACER:",""):n:null,_A=()=>{const n=new Date().getFullYear().toString().slice(-2),e=(new Date().getMonth()+1).toString().padStart(2,"0"),t=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`RM-${n}${e}${t}`},xA=(n,e)=>{if(!n||n.length===0)return;const t=Object.keys(n[0]),i=[t.join(","),...n.map(u=>t.map(h=>{const d=u[h];return typeof d=="string"&&(d.includes(",")||d.includes('"'))?`"${d.replace(/"/g,'""')}"`:d??""}).join(","))].join(`
`),s=new Blob([i],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(s),l=document.createElement("a");l.setAttribute("href",o),l.setAttribute("download",`${e}.csv`),document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o)},ha=(n,e)=>e.find(r=>r.value===n)?.color||"#6b7280",vs=(n,e)=>e.find(r=>r.value===n)?.label||n,Ep=(n,e)=>{let t;return function(...i){const s=()=>{clearTimeout(t),n(...i)};clearTimeout(t),t=setTimeout(s,e)}},jp=n=>{if(!n)return"-";const e=new Date,t=typeof n=="string"?g0(n):n;if(!Cp(t))return"-";let r=e.getFullYear()-t.getFullYear();const i=e.getMonth()-t.getMonth();return(i<0||i===0&&e.getDate()<t.getDate())&&r--,`${r} tahun`};function Ad(n){return n+.5|0}const jl=(n,e,t)=>Math.max(Math.min(n,t),e);function Hh(n){return jl(Ad(n*2.55),0,255)}function Il(n){return jl(Ad(n*255),0,255)}function Ro(n){return jl(Ad(n/2.55)/100,0,1)}function Iv(n){return jl(Ad(n*100),0,100)}const Is={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Dm=[..."0123456789ABCDEF"],SA=n=>Dm[n&15],kA=n=>Dm[(n&240)>>4]+Dm[n&15],yf=n=>(n&240)>>4===(n&15),NA=n=>yf(n.r)&&yf(n.g)&&yf(n.b)&&yf(n.a);function AA(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Is[n[1]]*17,g:255&Is[n[2]]*17,b:255&Is[n[3]]*17,a:e===5?Is[n[4]]*17:255}:(e===7||e===9)&&(t={r:Is[n[1]]<<4|Is[n[2]],g:Is[n[3]]<<4|Is[n[4]],b:Is[n[5]]<<4|Is[n[6]],a:e===9?Is[n[7]]<<4|Is[n[8]]:255})),t}const PA=(n,e)=>n<255?e(n):"";function CA(n){var e=NA(n)?SA:kA;return n?"#"+e(n.r)+e(n.g)+e(n.b)+PA(n.a,e):void 0}const EA=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function _w(n,e,t){const r=e*Math.min(t,1-t),i=(s,o=(s+n/30)%12)=>t-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function jA(n,e,t){const r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function LA(n,e,t){const r=_w(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function TA(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function m0(n){const t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),o=Math.min(t,r,i),l=(s+o)/2;let u,h,d;return s!==o&&(d=s-o,h=l>.5?d/(2-s-o):d/(s+o),u=TA(t,r,i,d,s),u=u*60+.5),[u|0,h||0,l]}function v0(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Il)}function y0(n,e,t){return v0(_w,n,e,t)}function OA(n,e,t){return v0(LA,n,e,t)}function RA(n,e,t){return v0(jA,n,e,t)}function xw(n){return(n%360+360)%360}function MA(n){const e=EA.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Hh(+e[5]):Il(+e[5]));const i=xw(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=OA(i,s,o):e[1]==="hsv"?r=RA(i,s,o):r=y0(i,s,o),{r:r[0],g:r[1],b:r[2],a:t}}function IA(n,e){var t=m0(n);t[0]=xw(t[0]+e),t=y0(t),n.r=t[0],n.g=t[1],n.b=t[2]}function DA(n){if(!n)return;const e=m0(n),t=e[0],r=Iv(e[1]),i=Iv(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${Ro(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const Dv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Fv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function FA(){const n={},e=Object.keys(Fv),t=Object.keys(Dv);let r,i,s,o,l;for(r=0;r<e.length;r++){for(o=l=e[r],i=0;i<t.length;i++)s=t[i],l=l.replace(s,Dv[s]);s=parseInt(Fv[o],16),n[l]=[s>>16&255,s>>8&255,s&255]}return n}let wf;function BA(n){wf||(wf=FA(),wf.transparent=[0,0,0,0]);const e=wf[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const UA=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function zA(n){const e=UA.exec(n);let t=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];t=e[8]?Hh(o):jl(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Hh(r):jl(r,0,255)),i=255&(e[4]?Hh(i):jl(i,0,255)),s=255&(e[6]?Hh(s):jl(s,0,255)),{r,g:i,b:s,a:t}}}function WA(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ro(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Bg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Au=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function qA(n,e,t){const r=Au(Ro(n.r)),i=Au(Ro(n.g)),s=Au(Ro(n.b));return{r:Il(Bg(r+t*(Au(Ro(e.r))-r))),g:Il(Bg(i+t*(Au(Ro(e.g))-i))),b:Il(Bg(s+t*(Au(Ro(e.b))-s))),a:n.a+t*(e.a-n.a)}}function bf(n,e,t){if(n){let r=m0(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=y0(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function Sw(n,e){return n&&Object.assign(e||{},n)}function Bv(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Il(n[3]))):(e=Sw(n,{r:0,g:0,b:0,a:1}),e.a=Il(e.a)),e}function HA(n){return n.charAt(0)==="r"?zA(n):MA(n)}class gd{constructor(e){if(e instanceof gd)return e;const t=typeof e;let r;t==="object"?r=Bv(e):t==="string"&&(r=AA(e)||BA(e)||HA(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Sw(this._rgb);return e&&(e.a=Ro(e.a)),e}set rgb(e){this._rgb=Bv(e)}rgbString(){return this._valid?WA(this._rgb):void 0}hexString(){return this._valid?CA(this._rgb):void 0}hslString(){return this._valid?DA(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let s;const o=t===s?.5:t,l=2*o-1,u=r.a-i.a,h=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;s=1-h,r.r=255&h*r.r+s*i.r+.5,r.g=255&h*r.g+s*i.g+.5,r.b=255&h*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=qA(this._rgb,e._rgb,t)),this}clone(){return new gd(this.rgb)}alpha(e){return this._rgb.a=Il(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Ad(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return bf(this._rgb,2,e),this}darken(e){return bf(this._rgb,2,-e),this}saturate(e){return bf(this._rgb,1,e),this}desaturate(e){return bf(this._rgb,1,-e),this}rotate(e){return IA(this._rgb,e),this}}function Co(){}const $A=(()=>{let n=0;return()=>n++})();function Rn(n){return n==null}function Zr(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function an(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ds(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ia(n,e){return Ds(n)?n:e}function Yt(n,e){return typeof n>"u"?e:n}const VA=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,kw=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Dn(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function yn(n,e,t,r){let i,s,o;if(Zr(n))for(s=n.length,i=0;i<s;i++)e.call(t,n[i],i);else if(an(n))for(o=Object.keys(n),s=o.length,i=0;i<s;i++)e.call(t,n[o[i]],o[i])}function sp(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function ap(n){if(Zr(n))return n.map(ap);if(an(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=ap(n[t[i]]);return e}return n}function Nw(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function GA(n,e,t,r){if(!Nw(n))return;const i=e[n],s=t[n];an(i)&&an(s)?md(i,s,r):e[n]=ap(s)}function md(n,e,t){const r=Zr(e)?e:[e],i=r.length;if(!an(n))return n;t=t||{};const s=t.merger||GA;let o;for(let l=0;l<i;++l){if(o=r[l],!an(o))continue;const u=Object.keys(o);for(let h=0,d=u.length;h<d;++h)s(u[h],n,o,t)}return n}function Jh(n,e){return md(n,e,{merger:KA})}function KA(n,e,t){if(!Nw(n))return;const r=e[n],i=t[n];an(r)&&an(i)?Jh(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=ap(i))}const Uv={"":n=>n,x:n=>n.x,y:n=>n.y};function YA(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function JA(n){const e=YA(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function vd(n,e){return(Uv[e]||(Uv[e]=JA(e)))(n)}function w0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const op=n=>typeof n<"u",Bl=n=>typeof n=="function",zv=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function XA(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Pn=Math.PI,dr=2*Pn,QA=dr+Pn,lp=Number.POSITIVE_INFINITY,ZA=Pn/180,Mr=Pn/2,wc=Pn/4,Wv=Pn*2/3,Aw=Math.log10,Qu=Math.sign;function Xh(n,e,t){return Math.abs(n-e)<t}function qv(n){const e=Math.round(n);n=Xh(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Aw(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function e6(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function t6(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function yd(n){return!t6(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function n6(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function r6(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Do(n){return n*(Pn/180)}function i6(n){return n*(180/Pn)}function Hv(n){if(!Ds(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function Pw(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let s=Math.atan2(r,t);return s<-.5*Pn&&(s+=dr),{angle:s,distance:i}}function Fm(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function s6(n,e){return(n-e+QA)%dr-Pn}function ca(n){return(n%dr+dr)%dr}function wd(n,e,t,r){const i=ca(n),s=ca(e),o=ca(t),l=ca(s-i),u=ca(o-i),h=ca(i-s),d=ca(i-o);return i===s||i===o||r&&s===o||l>u&&h<d}function Ci(n,e,t){return Math.max(e,Math.min(t,n))}function a6(n){return Ci(n,-32768,32767)}function Fu(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function b0(n,e,t){t=t||(o=>n[o]<e);let r=n.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}const Lc=(n,e,t,r)=>b0(n,t,r?i=>{const s=n[i][e];return s<t||s===t&&n[i+1][e]===t}:i=>n[i][e]<t),o6=(n,e,t)=>b0(n,t,r=>n[r][e]>=t);function l6(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const Cw=["push","pop","shift","splice","unshift"];function c6(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Cw.forEach(t=>{const r="_onData"+w0(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return n._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...s)}),o}})})}function $v(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(Cw.forEach(s=>{delete n[s]}),delete n._chartjs)}function u6(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Ew=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function jw(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,Ew.call(window,()=>{r=!1,n.apply(e,t)}))}}function h6(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const Lw=n=>n==="start"?"left":n==="end"?"right":"center",ps=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,d6=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function f6(n,e,t){const r=e.length;let i=0,s=r;if(n._sorted){const{iScale:o,vScale:l,_parsed:u}=n,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,d=o.axis,{min:m,max:y,minDefined:g,maxDefined:_}=o.getUserBounds();if(g){if(i=Math.min(Lc(u,d,m).lo,t?r:Lc(e,d,o.getPixelForValue(m)).lo),h){const k=u.slice(0,i+1).reverse().findIndex(N=>!Rn(N[l.axis]));i-=Math.max(0,k)}i=Ci(i,0,r-1)}if(_){let k=Math.max(Lc(u,o.axis,y,!0).hi+1,t?0:Lc(e,d,o.getPixelForValue(y),!0).hi+1);if(h){const N=u.slice(k-1).findIndex(P=>!Rn(P[l.axis]));k+=Math.max(0,N)}s=Ci(k,i,r)-i}else s=r-i}return{start:i,count:s}}function p6(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),s}const _f=n=>n===0||n===1,Vv=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*dr/t)),Gv=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*dr/t)+1,Qh={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Mr)+1,easeOutSine:n=>Math.sin(n*Mr),easeInOutSine:n=>-.5*(Math.cos(Pn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>_f(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>_f(n)?n:Vv(n,.075,.3),easeOutElastic:n=>_f(n)?n:Gv(n,.075,.3),easeInOutElastic(n){return _f(n)?n:n<.5?.5*Vv(n*2,.1125,.45):.5+.5*Gv(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Qh.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Qh.easeInBounce(n*2)*.5:Qh.easeOutBounce(n*2-1)*.5+.5};function _0(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Kv(n){return _0(n)?n:new gd(n)}function Ug(n){return _0(n)?n:new gd(n).saturate(.5).darken(.1).hexString()}const g6=["x","y","borderWidth","radius","tension"],m6=["color","borderColor","backgroundColor"];function v6(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:m6},numbers:{type:"number",properties:g6}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function y6(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Yv=new Map;function w6(n,e){e=e||{};const t=n+JSON.stringify(e);let r=Yv.get(t);return r||(r=new Intl.NumberFormat(n,e),Yv.set(t,r)),r}function x0(n,e,t){return w6(e,t).format(n)}const b6={values(n){return Zr(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,s=n;if(t.length>1){const h=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(h<1e-4||h>1e15)&&(i="scientific"),s=_6(n,t)}const o=Aw(Math.abs(s)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),x0(n,r,u)}};function _6(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Tw={formatters:b6};function x6(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Tw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ic=Object.create(null),Bm=Object.create(null);function Zh(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function zg(n,e,t){return typeof e=="string"?md(Zh(n,e),t):md(Zh(n,""),e)}class S6{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Ug(i.backgroundColor),this.hoverBorderColor=(r,i)=>Ug(i.borderColor),this.hoverColor=(r,i)=>Ug(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return zg(this,e,t)}get(e){return Zh(this,e)}describe(e,t){return zg(Bm,e,t)}override(e,t){return zg(Ic,e,t)}route(e,t,r,i){const s=Zh(this,e),o=Zh(this,r),l="_"+t;Object.defineProperties(s,{[l]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const u=this[l],h=o[i];return an(u)?Object.assign({},h,u):Yt(u,h)},set(u){this[l]=u}}})}apply(e){e.forEach(t=>t(this))}}var _r=new S6({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[v6,y6,x6]);function k6(n){return!n||Rn(n.size)||Rn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Jv(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function bc(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function Xv(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Um(n,e,t,r){Ow(n,e,t,r,null)}function Ow(n,e,t,r,i){let s,o,l,u,h,d,m,y;const g=e.pointStyle,_=e.rotation,k=e.radius;let N=(_||0)*ZA;if(g&&typeof g=="object"&&(s=g.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(N),n.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),n.restore();return}if(!(isNaN(k)||k<=0)){switch(n.beginPath(),g){default:i?n.ellipse(t,r,i/2,k,0,0,dr):n.arc(t,r,k,0,dr),n.closePath();break;case"triangle":d=i?i/2:k,n.moveTo(t+Math.sin(N)*d,r-Math.cos(N)*k),N+=Wv,n.lineTo(t+Math.sin(N)*d,r-Math.cos(N)*k),N+=Wv,n.lineTo(t+Math.sin(N)*d,r-Math.cos(N)*k),n.closePath();break;case"rectRounded":h=k*.516,u=k-h,o=Math.cos(N+wc)*u,m=Math.cos(N+wc)*(i?i/2-h:u),l=Math.sin(N+wc)*u,y=Math.sin(N+wc)*(i?i/2-h:u),n.arc(t-m,r-l,h,N-Pn,N-Mr),n.arc(t+y,r-o,h,N-Mr,N),n.arc(t+m,r+l,h,N,N+Mr),n.arc(t-y,r+o,h,N+Mr,N+Pn),n.closePath();break;case"rect":if(!_){u=Math.SQRT1_2*k,d=i?i/2:u,n.rect(t-d,r-u,2*d,2*u);break}N+=wc;case"rectRot":m=Math.cos(N)*(i?i/2:k),o=Math.cos(N)*k,l=Math.sin(N)*k,y=Math.sin(N)*(i?i/2:k),n.moveTo(t-m,r-l),n.lineTo(t+y,r-o),n.lineTo(t+m,r+l),n.lineTo(t-y,r+o),n.closePath();break;case"crossRot":N+=wc;case"cross":m=Math.cos(N)*(i?i/2:k),o=Math.cos(N)*k,l=Math.sin(N)*k,y=Math.sin(N)*(i?i/2:k),n.moveTo(t-m,r-l),n.lineTo(t+m,r+l),n.moveTo(t+y,r-o),n.lineTo(t-y,r+o);break;case"star":m=Math.cos(N)*(i?i/2:k),o=Math.cos(N)*k,l=Math.sin(N)*k,y=Math.sin(N)*(i?i/2:k),n.moveTo(t-m,r-l),n.lineTo(t+m,r+l),n.moveTo(t+y,r-o),n.lineTo(t-y,r+o),N+=wc,m=Math.cos(N)*(i?i/2:k),o=Math.cos(N)*k,l=Math.sin(N)*k,y=Math.sin(N)*(i?i/2:k),n.moveTo(t-m,r-l),n.lineTo(t+m,r+l),n.moveTo(t+y,r-o),n.lineTo(t-y,r+o);break;case"line":o=i?i/2:Math.cos(N)*k,l=Math.sin(N)*k,n.moveTo(t-o,r-l),n.lineTo(t+o,r+l);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(N)*(i?i/2:k),r+Math.sin(N)*k);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function bd(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function S0(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function k0(n){n.restore()}function N6(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function A6(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function P6(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Rn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function C6(n,e,t,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),o=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,u=t-s.actualBoundingBoxAscent,h=t+s.actualBoundingBoxDescent,d=i.strikethrough?(u+h)/2:h;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(o,d),n.lineTo(l,d),n.stroke()}}function E6(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function cp(n,e,t,r,i,s={}){const o=Zr(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let u,h;for(n.save(),n.font=i.string,P6(n,s),u=0;u<o.length;++u)h=o[u],s.backdrop&&E6(n,s.backdrop),l&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Rn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(h,t,r,s.maxWidth)),n.fillText(h,t,r,s.maxWidth),C6(n,t,r,h,s),r+=Number(i.lineHeight);n.restore()}function zm(n,e){const{x:t,y:r,w:i,h:s,radius:o}=e;n.arc(t+o.topLeft,r+o.topLeft,o.topLeft,1.5*Pn,Pn,!0),n.lineTo(t,r+s-o.bottomLeft),n.arc(t+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Pn,Mr,!0),n.lineTo(t+i-o.bottomRight,r+s),n.arc(t+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Mr,0,!0),n.lineTo(t+i,r+o.topRight),n.arc(t+i-o.topRight,r+o.topRight,o.topRight,0,-Mr,!0),n.lineTo(t+o.topLeft,r)}const j6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,L6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function T6(n,e){const t=(""+n).match(j6);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const O6=n=>+n||0;function N0(n,e){const t={},r=an(e),i=r?Object.keys(e):e,s=an(n)?r?o=>Yt(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of i)t[o]=O6(s(o));return t}function R6(n){return N0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ed(n){return N0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function da(n){const e=R6(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Yi(n,e){n=n||{},e=e||_r.font;let t=Yt(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Yt(n.style,e.style);r&&!(""+r).match(L6)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Yt(n.family,e.family),lineHeight:T6(Yt(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Yt(n.weight,e.weight),string:""};return i.string=k6(i),i}function xf(n,e,t,r){let i,s,o;for(i=0,s=n.length;i<s;++i)if(o=n[i],o!==void 0&&o!==void 0)return o}function M6(n,e,t){const{min:r,max:i}=n,s=kw(e,(i-r)/2),o=(l,u)=>t&&l===0?0:l+u;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Uc(n,e){return Object.assign(Object.create(n),e)}function A0(n,e=[""],t,r,i=()=>n[0]){const s=t||n;typeof r>"u"&&(r=Dw("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:l=>A0([l,...n],e,s,r)};return new Proxy(o,{deleteProperty(l,u){return delete l[u],delete l._keys,delete n[0][u],!0},get(l,u){return Mw(l,u,()=>q6(u,e,n,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(l,u){return Zv(l).includes(u)},ownKeys(l){return Zv(l)},set(l,u,h){const d=l._storage||(l._storage=i());return l[u]=d[u]=h,delete l._keys,!0}})}function Zu(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:Rw(n,r),setContext:s=>Zu(n,s,t,r),override:s=>Zu(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,l){return Mw(s,o,()=>D6(s,o,l))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,l){return n[o]=l,delete s[o],!0}})}function Rw(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Bl(t)?t:()=>t,isIndexable:Bl(r)?r:()=>r}}const I6=(n,e)=>n?n+w0(e):e,P0=(n,e)=>an(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Mw(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function D6(n,e,t){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=n;let l=r[e];return Bl(l)&&o.isScriptable(e)&&(l=F6(e,l,n,t)),Zr(l)&&l.length&&(l=B6(e,l,n,o.isIndexable)),P0(e,l)&&(l=Zu(l,i,s&&s[e],o)),l}function F6(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_stack:l}=t;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);l.add(n);let u=e(s,o||r);return l.delete(n),P0(n,u)&&(u=C0(i._scopes,i,n,u)),u}function B6(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:l}=t;if(typeof s.index<"u"&&r(n))return e[s.index%e.length];if(an(e[0])){const u=e,h=i._scopes.filter(d=>d!==u);e=[];for(const d of u){const m=C0(h,i,n,d);e.push(Zu(m,s,o&&o[n],l))}}return e}function Iw(n,e,t){return Bl(n)?n(e,t):n}const U6=(n,e)=>n===!0?e:typeof n=="string"?vd(e,n):void 0;function z6(n,e,t,r,i){for(const s of e){const o=U6(t,s);if(o){n.add(o);const l=Iw(o._fallback,t,i);if(typeof l<"u"&&l!==t&&l!==r)return l}else if(o===!1&&typeof r<"u"&&t!==r)return null}return!1}function C0(n,e,t,r){const i=e._rootScopes,s=Iw(e._fallback,t,r),o=[...n,...i],l=new Set;l.add(r);let u=Qv(l,o,t,s||t,r);return u===null||typeof s<"u"&&s!==t&&(u=Qv(l,o,s,u,r),u===null)?!1:A0(Array.from(l),[""],i,s,()=>W6(e,t,r))}function Qv(n,e,t,r,i){for(;t;)t=z6(n,e,t,r,i);return t}function W6(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return Zr(i)&&an(t)?t:i||{}}function q6(n,e,t,r){let i;for(const s of e)if(i=Dw(I6(s,n),t),typeof i<"u")return P0(n,i)?C0(t,r,n,i):i}function Dw(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function Zv(n){let e=n._keys;return e||(e=n._keys=H6(n._scopes)),e}function H6(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const $6=Number.EPSILON||1e-14,eh=(n,e)=>e<n.length&&!n[e].skip&&n[e],Fw=n=>n==="x"?"y":"x";function V6(n,e,t,r){const i=n.skip?e:n,s=e,o=t.skip?e:t,l=Fm(s,i),u=Fm(o,s);let h=l/(l+u),d=u/(l+u);h=isNaN(h)?0:h,d=isNaN(d)?0:d;const m=r*h,y=r*d;return{previous:{x:s.x-m*(o.x-i.x),y:s.y-m*(o.y-i.y)},next:{x:s.x+y*(o.x-i.x),y:s.y+y*(o.y-i.y)}}}function G6(n,e,t){const r=n.length;let i,s,o,l,u,h=eh(n,0);for(let d=0;d<r-1;++d)if(u=h,h=eh(n,d+1),!(!u||!h)){if(Xh(e[d],0,$6)){t[d]=t[d+1]=0;continue}i=t[d]/e[d],s=t[d+1]/e[d],l=Math.pow(i,2)+Math.pow(s,2),!(l<=9)&&(o=3/Math.sqrt(l),t[d]=i*o*e[d],t[d+1]=s*o*e[d])}}function K6(n,e,t="x"){const r=Fw(t),i=n.length;let s,o,l,u=eh(n,0);for(let h=0;h<i;++h){if(o=l,l=u,u=eh(n,h+1),!l)continue;const d=l[t],m=l[r];o&&(s=(d-o[t])/3,l[`cp1${t}`]=d-s,l[`cp1${r}`]=m-s*e[h]),u&&(s=(u[t]-d)/3,l[`cp2${t}`]=d+s,l[`cp2${r}`]=m+s*e[h])}}function Y6(n,e="x"){const t=Fw(e),r=n.length,i=Array(r).fill(0),s=Array(r);let o,l,u,h=eh(n,0);for(o=0;o<r;++o)if(l=u,u=h,h=eh(n,o+1),!!u){if(h){const d=h[e]-u[e];i[o]=d!==0?(h[t]-u[t])/d:0}s[o]=l?h?Qu(i[o-1])!==Qu(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}G6(n,i,s),K6(n,s,e)}function Sf(n,e,t){return Math.max(Math.min(n,t),e)}function J6(n,e){let t,r,i,s,o,l=bd(n[0],e);for(t=0,r=n.length;t<r;++t)o=s,s=l,l=t<r-1&&bd(n[t+1],e),s&&(i=n[t],o&&(i.cp1x=Sf(i.cp1x,e.left,e.right),i.cp1y=Sf(i.cp1y,e.top,e.bottom)),l&&(i.cp2x=Sf(i.cp2x,e.left,e.right),i.cp2y=Sf(i.cp2y,e.top,e.bottom)))}function X6(n,e,t,r,i){let s,o,l,u;if(e.spanGaps&&(n=n.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")Y6(n,i);else{let h=r?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)l=n[s],u=V6(h,l,n[Math.min(s+1,o-(r?0:1))%o],e.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,h=l}e.capBezierPoints&&J6(n,t)}function E0(){return typeof window<"u"&&typeof document<"u"}function j0(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function up(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const Lp=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Q6(n,e){return Lp(n).getPropertyValue(e)}const Z6=["top","right","bottom","left"];function Oc(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=Z6[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const eP=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function tP(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r;let o=!1,l,u;if(eP(i,s,n.target))l=i,u=s;else{const h=e.getBoundingClientRect();l=r.clientX-h.left,u=r.clientY-h.top,o=!0}return{x:l,y:u,box:o}}function kc(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=Lp(t),s=i.boxSizing==="border-box",o=Oc(i,"padding"),l=Oc(i,"border","width"),{x:u,y:h,box:d}=tP(n,t),m=o.left+(d&&l.left),y=o.top+(d&&l.top);let{width:g,height:_}=e;return s&&(g-=o.width+l.width,_-=o.height+l.height),{x:Math.round((u-m)/g*t.width/r),y:Math.round((h-y)/_*t.height/r)}}function nP(n,e,t){let r,i;if(e===void 0||t===void 0){const s=n&&j0(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const o=s.getBoundingClientRect(),l=Lp(s),u=Oc(l,"border","width"),h=Oc(l,"padding");e=o.width-h.width-u.width,t=o.height-h.height-u.height,r=up(l.maxWidth,s,"clientWidth"),i=up(l.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:r||lp,maxHeight:i||lp}}const Ll=n=>Math.round(n*10)/10;function rP(n,e,t,r){const i=Lp(n),s=Oc(i,"margin"),o=up(i.maxWidth,n,"clientWidth")||lp,l=up(i.maxHeight,n,"clientHeight")||lp,u=nP(n,e,t);let{width:h,height:d}=u;if(i.boxSizing==="content-box"){const y=Oc(i,"border","width"),g=Oc(i,"padding");h-=g.width+y.width,d-=g.height+y.height}return h=Math.max(0,h-s.width),d=Math.max(0,r?h/r:d-s.height),h=Ll(Math.min(h,o,u.maxWidth)),d=Ll(Math.min(d,l,u.maxHeight)),h&&!d&&(d=Ll(h/2)),(e!==void 0||t!==void 0)&&r&&u.height&&d>u.height&&(d=u.height,h=Ll(Math.floor(d*r))),{width:h,height:d}}function e2(n,e,t){const r=e||1,i=Ll(n.height*r),s=Ll(n.width*r);n.height=Ll(n.height),n.width=Ll(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(n.currentDevicePixelRatio=r,o.height=i,o.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const iP=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};E0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function t2(n,e){const t=Q6(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Nc(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function sP(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function aP(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=Nc(n,i,t),l=Nc(i,s,t),u=Nc(s,e,t),h=Nc(o,l,t),d=Nc(l,u,t);return Nc(h,d,t)}const oP=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},lP=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function qu(n,e,t){return n?oP(e,t):lP()}function Bw(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function Uw(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function zw(n){return n==="angle"?{between:wd,compare:s6,normalize:ca}:{between:Fu,compare:(e,t)=>e-t,normalize:e=>e}}function n2({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function cP(n,e,t){const{property:r,start:i,end:s}=t,{between:o,normalize:l}=zw(r),u=e.length;let{start:h,end:d,loop:m}=n,y,g;if(m){for(h+=u,d+=u,y=0,g=u;y<g&&o(l(e[h%u][r]),i,s);++y)h--,d--;h%=u,d%=u}return d<h&&(d+=u),{start:h,end:d,loop:m,style:n.style}}function uP(n,e,t){if(!t)return[n];const{property:r,start:i,end:s}=t,o=e.length,{compare:l,between:u,normalize:h}=zw(r),{start:d,end:m,loop:y,style:g}=cP(n,e,t),_=[];let k=!1,N=null,P,L,T;const j=()=>u(i,T,P)&&l(i,T)!==0,D=()=>l(s,P)===0||u(s,T,P),Q=()=>k||j(),U=()=>!k||D();for(let H=d,W=d;H<=m;++H)L=e[H%o],!L.skip&&(P=h(L[r]),P!==T&&(k=u(P,i,s),N===null&&Q()&&(N=l(P,i)===0?H:W),N!==null&&U()&&(_.push(n2({start:N,end:H,loop:y,count:o,style:g})),N=null),W=H,T=P));return N!==null&&_.push(n2({start:N,end:m,loop:y,count:o,style:g})),_}function hP(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const s=uP(r[i],n.points,e);s.length&&t.push(...s)}return t}function dP(n,e,t,r){let i=0,s=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&n[s%e].skip;)s--;return s%=e,{start:i,end:s}}function fP(n,e,t,r){const i=n.length,s=[];let o=e,l=n[e],u;for(u=e+1;u<=t;++u){const h=n[u%i];h.skip||h.stop?l.skip||(r=!1,s.push({start:e%i,end:(u-1)%i,loop:r}),e=o=h.stop?u:null):(o=u,l.skip&&(e=u)),l=h}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function pP(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const s=!!n._loop,{start:o,end:l}=dP(t,i,s,r);if(r===!0)return r2(n,[{start:o,end:l,loop:s}],t,e);const u=l<o?l+i:l,h=!!n._fullLoop&&o===0&&l===i-1;return r2(n,fP(t,o,u,h),t,e)}function r2(n,e,t,r){return!r||!r.setContext||!t?e:gP(n,e,t,r)}function gP(n,e,t,r){const i=n._chart.getContext(),s=i2(n.options),{_datasetIndex:o,options:{spanGaps:l}}=n,u=t.length,h=[];let d=s,m=e[0].start,y=m;function g(_,k,N,P){const L=l?-1:1;if(_!==k){for(_+=u;t[_%u].skip;)_-=L;for(;t[k%u].skip;)k+=L;_%u!==k%u&&(h.push({start:_%u,end:k%u,loop:N,style:P}),d=P,m=k%u)}}for(const _ of e){m=l?m:_.start;let k=t[m%u],N;for(y=m+1;y<=_.end;y++){const P=t[y%u];N=i2(r.setContext(Uc(i,{type:"segment",p0:k,p1:P,p0DataIndex:(y-1)%u,p1DataIndex:y%u,datasetIndex:o}))),mP(N,d)&&g(m,y-1,_.loop,d),k=P,d=N}m<y-1&&g(m,y-1,_.loop,d)}return h}function i2(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function mP(n,e){if(!e)return!1;const t=[],r=function(i,s){return _0(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function kf(n,e,t){return n.options.clip?n[t]:e[t]}function vP(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:kf(t,e,"left"),right:kf(t,e,"right"),top:kf(r,e,"top"),bottom:kf(r,e,"bottom")}:e}function yP(n,e){const t=e._clip;if(t.disabled)return!1;const r=vP(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}class wP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const s=t.listeners[i],o=t.duration;s.forEach(l=>l({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(r-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Ew.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,l=!1,u;for(;o>=0;--o)u=s[o],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(e),l=!0):(s[o]=s[s.length-1],s.pop());l&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Lo=new wP;const s2="transparent",bP={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=Kv(n||s2),i=r.valid&&Kv(e||s2);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class _P{constructor(e,t,r,i){const s=t[r];i=xf([e.to,i,s,e.from]);const o=xf([e.from,s,i]);this._active=!0,this._fn=e.fn||bP[e.type||typeof o],this._easing=Qh[e.easing]||Qh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=xf([e.to,t,i,e.from]),this._from=xf([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,l=this._to;let u;if(this._active=s!==l&&(o||t<r),!this._active){this._target[i]=l,this._notify(!0);return}if(t<0){this._target[i]=s;return}u=t/r%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(s,l,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class Ww{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!an(e))return;const t=Object.keys(_r.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!an(s))return;const o={};for(const l of t)o[l]=s[l];(Zr(s.properties)&&s.properties||[i]).forEach(l=>{(l===i||!r.has(l))&&r.set(l,o)})})}_animateOptions(e,t){const r=t.options,i=SP(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&xP(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),l=Date.now();let u;for(u=o.length-1;u>=0;--u){const h=o[u];if(h.charAt(0)==="$")continue;if(h==="options"){i.push(...this._animateOptions(e,t));continue}const d=t[h];let m=s[h];const y=r.get(h);if(m)if(y&&m.active()){m.update(y,d,l);continue}else m.cancel();if(!y||!y.duration){e[h]=d;continue}s[h]=m=new _P(y,e,h,d),i.push(m)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return Lo.add(this._chart,r),!0}}function xP(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function SP(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function a2(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function kP(n,e,t){if(t===!1)return!1;const r=a2(n,t),i=a2(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function NP(n){let e,t,r,i;return an(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function qw(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function o2(n,e,t,r={}){const i=n.keys,s=r.mode==="single";let o,l,u,h;if(e===null)return;let d=!1;for(o=0,l=i.length;o<l;++o){if(u=+i[o],u===t){if(d=!0,r.all)continue;break}h=n.values[u],Ds(h)&&(s||e===0||Qu(e)===Qu(h))&&(e+=h)}return!d&&!r.all?0:e}function AP(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(n),l=new Array(o.length);let u,h,d;for(u=0,h=o.length;u<h;++u)d=o[u],l[u]={[i]:d,[s]:n[d]};return l}function Wg(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function PP(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function CP(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function EP(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function l2(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function c2(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:l}=r,u=s.axis,h=o.axis,d=PP(s,o,r),m=e.length;let y;for(let g=0;g<m;++g){const _=e[g],{[u]:k,[h]:N}=_,P=_._stacks||(_._stacks={});y=P[h]=EP(i,d,k),y[l]=N,y._top=l2(y,o,!0,r.type),y._bottom=l2(y,o,!1,r.type);const L=y._visualValues||(y._visualValues={});L[l]=N}}function qg(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function jP(n,e){return Uc(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function LP(n,e,t){return Uc(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Ih(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][t]===void 0)return;delete s[r][t],s[r]._visualValues!==void 0&&s[r]._visualValues[t]!==void 0&&delete s[r]._visualValues[t]}}}const Hg=n=>n==="reset"||n==="none",u2=(n,e)=>e?n:Object.assign({},n),TP=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:qw(t,!0),values:null};class L0{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Wg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ih(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(m,y,g,_)=>m==="x"?y:m==="r"?_:g,s=t.xAxisID=Yt(r.xAxisID,qg(e,"x")),o=t.yAxisID=Yt(r.yAxisID,qg(e,"y")),l=t.rAxisID=Yt(r.rAxisID,qg(e,"r")),u=t.indexAxis,h=t.iAxisID=i(u,s,o,l),d=t.vAxisID=i(u,o,s,l);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(h),t.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&$v(this._data,this),e._stacked&&Ih(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(an(t)){const i=this._cachedMeta;this._data=AP(t,i)}else if(r!==t){if(r){$v(r,this);const i=this._cachedMeta;Ih(i),i._parsed=[]}t&&Object.isExtensible(t)&&c6(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=Wg(t.vScale,t),t.stack!==r.stack&&(i=!0,Ih(t),t.stack=r.stack),this._resyncElements(e),(i||s!==t._stacked)&&(c2(this,t._parsed),t._stacked=Wg(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,l=s.axis;let u=e===0&&t===i.length?!0:r._sorted,h=e>0&&r._parsed[e-1],d,m,y;if(this._parsing===!1)r._parsed=i,r._sorted=!0,y=i;else{Zr(i[e])?y=this.parseArrayData(r,i,e,t):an(i[e])?y=this.parseObjectData(r,i,e,t):y=this.parsePrimitiveData(r,i,e,t);const g=()=>m[l]===null||h&&m[l]<h[l];for(d=0;d<t;++d)r._parsed[d+e]=m=y[d],u&&(g()&&(u=!1),h=m);r._sorted=u}o&&c2(this,y)}parsePrimitiveData(e,t,r,i){const{iScale:s,vScale:o}=e,l=s.axis,u=o.axis,h=s.getLabels(),d=s===o,m=new Array(i);let y,g,_;for(y=0,g=i;y<g;++y)_=y+r,m[y]={[l]:d||s.parse(h[_],_),[u]:o.parse(t[_],_)};return m}parseArrayData(e,t,r,i){const{xScale:s,yScale:o}=e,l=new Array(i);let u,h,d,m;for(u=0,h=i;u<h;++u)d=u+r,m=t[d],l[u]={x:s.parse(m[0],d),y:o.parse(m[1],d)};return l}parseObjectData(e,t,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,h=new Array(i);let d,m,y,g;for(d=0,m=i;d<m;++d)y=d+r,g=t[y],h[d]={x:s.parse(vd(g,l),y),y:o.parse(vd(g,u),y)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,s=this._cachedMeta,o=t[e.axis],l={keys:qw(i,!0),values:t._stacks[e.axis]._visualValues};return o2(l,o,s.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const s=r[t.axis];let o=s===null?NaN:s;const l=i&&r._stacks[t.axis];i&&l&&(i.values=l,o=o2(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,l=this._getOtherScale(e),u=TP(t,r,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:m}=CP(l);let y,g;function _(){g=i[y];const k=g[l.axis];return!Ds(g[e.axis])||d>k||m<k}for(y=0;y<o&&!(!_()&&(this.updateRangeFromParsed(h,e,g,u),s));++y);if(s){for(y=o-1;y>=0;--y)if(!_()){this.updateRangeFromParsed(h,e,g,u);break}}return h}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=t.length;i<s;++i)o=t[i][e.axis],Ds(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=NP(Yt(this.options.clip,kP(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],s=t.chartArea,o=[],l=this._drawStart||0,u=this._drawCount||i.length-l,h=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,s,l,u),d=l;d<l+u;++d){const m=i[d];m.hidden||(m.active&&h?o.push(m):m.draw(e,s))}for(d=0;d<o.length;++d)o[d].draw(e,s)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=LP(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=jP(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",s=this._cachedDataOpts,o=e+"-"+t,l=s[o],u=this.enableOptionSharing&&op(r);if(l)return u2(l,u);const h=this.chart.config,d=h.datasetElementScopeKeys(this._type,e),m=i?[`${e}Hover`,"hover",e,""]:[e,""],y=h.getOptionScopes(this.getDataset(),d),g=Object.keys(_r.elements[e]),_=()=>this.getContext(r,i,t),k=h.resolveNamedOptions(y,g,_,m);return k.$shared&&(k.$shared=u,s[o]=Object.freeze(u2(k,u))),k}_resolveAnimations(e,t,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,l=s[o];if(l)return l;let u;if(i.options.animation!==!1){const d=this.chart.config,m=d.datasetAnimationScopeKeys(this._type,t),y=d.getOptionScopes(this.getDataset(),m);u=d.createResolver(y,this.getContext(e,r,t))}const h=new Ww(i,u&&u.animations);return u&&u._cacheable&&(s[o]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Hg(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:o}}updateElement(e,t,r,i){Hg(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!Hg(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[l,u,h]of this._syncList)this[l](u,h);this._syncList=[];const i=r.length,s=t.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,r=!0){const i=this._cachedMeta,s=i.data,o=e+t;let l;const u=h=>{for(h.length+=t,l=h.length-1;l>=o;l--)h[l]=h[l-t]};for(u(s),l=e;l<o;++l)s[l]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(e,t),r&&this.updateElements(s,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&Ih(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function OP(n,e,t){let r=1,i=1,s=0,o=0;if(e<dr){const l=n,u=l+e,h=Math.cos(l),d=Math.sin(l),m=Math.cos(u),y=Math.sin(u),g=(T,j,D)=>wd(T,l,u,!0)?1:Math.max(j,j*t,D,D*t),_=(T,j,D)=>wd(T,l,u,!0)?-1:Math.min(j,j*t,D,D*t),k=g(0,h,m),N=g(Mr,d,y),P=_(Pn,h,m),L=_(Pn+Mr,d,y);r=(k-P)/2,i=(N-L)/2,s=-(k+P)/2,o=-(N+L)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class RP extends L0{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:l}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((u,h)=>{const m=e.getDatasetMeta(0).controller.getStyle(h);return{text:u,fillStyle:m.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(h),lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:m.borderWidth,strokeStyle:m.borderColor,textAlign:i,pointStyle:r,borderRadius:o&&(l||m.borderRadius),index:h}}):[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=u=>+r[u];if(an(r[e])){const{key:u="value"}=this._parsing;s=h=>+vd(r[h],u)}let o,l;for(o=e,l=e+t;o<l;++o)i._parsed[o]=s(o)}}_getRotation(){return Do(this.options.rotation-90)}_getCircumference(){return Do(this.options.circumference)}_getRotationExtents(){let e=dr,t=-dr;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-o)/2,0),u=Math.min(VA(this.options.cutout,l),1),h=this._getRingWeight(this.index),{circumference:d,rotation:m}=this._getRotationExtents(),{ratioX:y,ratioY:g,offsetX:_,offsetY:k}=OP(m,d,u),N=(r.width-o)/y,P=(r.height-o)/g,L=Math.max(Math.min(N,P)/2,0),T=kw(this.options.radius,L),j=Math.max(T*u,0),D=(T-j)/this._getVisibleDatasetWeightTotal();this.offsetX=_*T,this.offsetY=k*T,i.total=this.calculateTotal(),this.outerRadius=T-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*h,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/dr)}updateElements(e,t,r,i){const s=i==="reset",o=this.chart,l=o.chartArea,h=o.options.animation,d=(l.left+l.right)/2,m=(l.top+l.bottom)/2,y=s&&h.animateScale,g=y?0:this.innerRadius,_=y?0:this.outerRadius,{sharedOptions:k,includeOptions:N}=this._getSharedOptions(t,i);let P=this._getRotation(),L;for(L=0;L<t;++L)P+=this._circumference(L,s);for(L=t;L<t+r;++L){const T=this._circumference(L,s),j=e[L],D={x:d+this.offsetX,y:m+this.offsetY,startAngle:P,endAngle:P+T,circumference:T,outerRadius:_,innerRadius:g};N&&(D.options=k||this.resolveDataElementOptions(L,j.active?"active":i)),P+=T,this.updateElement(j,L,D,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?dr*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=x0(t._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,s,o,l,u;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,l=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)u=l.resolveDataElementOptions(i),u.borderAlign!=="inner"&&(t=Math.max(t,u.borderWidth||0,u.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Yt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class MP extends L0{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=t,o=this.chart._animationsDisabled;let{start:l,count:u}=f6(t,i,o);this._drawStart=l,this._drawCount=u,p6(t)&&(l=0,u=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:h},e),this.updateElements(i,l,u,e)}updateElements(e,t,r,i){const s=i==="reset",{iScale:o,vScale:l,_stacked:u,_dataset:h}=this._cachedMeta,{sharedOptions:d,includeOptions:m}=this._getSharedOptions(t,i),y=o.axis,g=l.axis,{spanGaps:_,segment:k}=this.options,N=yd(_)?_:Number.POSITIVE_INFINITY,P=this.chart._animationsDisabled||s||i==="none",L=t+r,T=e.length;let j=t>0&&this.getParsed(t-1);for(let D=0;D<T;++D){const Q=e[D],U=P?Q:{};if(D<t||D>=L){U.skip=!0;continue}const H=this.getParsed(D),W=Rn(H[g]),ae=U[y]=o.getPixelForValue(H[y],D),I=U[g]=s||W?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,H,u):H[g],D);U.skip=isNaN(ae)||isNaN(I)||W,U.stop=D>0&&Math.abs(H[y]-j[y])>N,k&&(U.parsed=H,U.raw=h.data[D]),m&&(U.options=d||this.resolveDataElementOptions(D,Q.active?"active":i)),P||this.updateElement(Q,D,U,i),j=H}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function _c(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class T0{static override(e){Object.assign(T0.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return _c()}parse(){return _c()}format(){return _c()}add(){return _c()}diff(){return _c()}startOf(){return _c()}endOf(){return _c()}}var IP={_date:T0};function DP(n,e,t,r){const{controller:i,data:s,_sorted:o}=n,l=i._cachedMeta.iScale,u=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&s.length){const h=l._reversePixels?o6:Lc;if(r){if(i._sharedOptions){const d=s[0],m=typeof d.getRange=="function"&&d.getRange(e);if(m){const y=h(s,e,t-m),g=h(s,e,t+m);return{lo:y.lo,hi:g.hi}}}}else{const d=h(s,e,t);if(u){const{vScale:m}=i._cachedMeta,{_parsed:y}=n,g=y.slice(0,d.lo+1).reverse().findIndex(k=>!Rn(k[m.axis]));d.lo-=Math.max(0,g);const _=y.slice(d.hi).findIndex(k=>!Rn(k[m.axis]));d.hi+=Math.max(0,_)}return d}}return{lo:0,hi:s.length-1}}function Tp(n,e,t,r,i){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let l=0,u=s.length;l<u;++l){const{index:h,data:d}=s[l],{lo:m,hi:y}=DP(s[l],e,o,i);for(let g=m;g<=y;++g){const _=d[g];_.skip||r(_,h,g)}}}function FP(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function $g(n,e,t,r,i){const s=[];return!i&&!n.isPointInArea(e)||Tp(n,t,e,function(l,u,h){!i&&!bd(l,n.chartArea,0)||l.inRange(e.x,e.y,r)&&s.push({element:l,datasetIndex:u,index:h})},!0),s}function BP(n,e,t,r){let i=[];function s(o,l,u){const{startAngle:h,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:m}=Pw(o,{x:e.x,y:e.y});wd(m,h,d)&&i.push({element:o,datasetIndex:l,index:u})}return Tp(n,t,e,s),i}function UP(n,e,t,r,i,s){let o=[];const l=FP(t);let u=Number.POSITIVE_INFINITY;function h(d,m,y){const g=d.inRange(e.x,e.y,i);if(r&&!g)return;const _=d.getCenterPoint(i);if(!(!!s||n.isPointInArea(_))&&!g)return;const N=l(e,_);N<u?(o=[{element:d,datasetIndex:m,index:y}],u=N):N===u&&o.push({element:d,datasetIndex:m,index:y})}return Tp(n,t,e,h),o}function Vg(n,e,t,r,i,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!r?BP(n,e,t,i):UP(n,e,t,r,i,s)}function h2(n,e,t,r,i){const s=[],o=t==="x"?"inXRange":"inYRange";let l=!1;return Tp(n,t,e,(u,h,d)=>{u[o]&&u[o](e[t],i)&&(s.push({element:u,datasetIndex:h,index:d}),l=l||u.inRange(e.x,e.y,i))}),r&&!l?[]:s}var zP={modes:{index(n,e,t,r){const i=kc(e,n),s=t.axis||"x",o=t.includeInvisible||!1,l=t.intersect?$g(n,i,s,r,o):Vg(n,i,s,!1,r,o),u=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(h=>{const d=l[0].index,m=h.data[d];m&&!m.skip&&u.push({element:m,datasetIndex:h.index,index:d})}),u):[]},dataset(n,e,t,r){const i=kc(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let l=t.intersect?$g(n,i,s,r,o):Vg(n,i,s,!1,r,o);if(l.length>0){const u=l[0].datasetIndex,h=n.getDatasetMeta(u).data;l=[];for(let d=0;d<h.length;++d)l.push({element:h[d],datasetIndex:u,index:d})}return l},point(n,e,t,r){const i=kc(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return $g(n,i,s,r,o)},nearest(n,e,t,r){const i=kc(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return Vg(n,i,s,t.intersect,r,o)},x(n,e,t,r){const i=kc(e,n);return h2(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=kc(e,n);return h2(n,i,"y",t.intersect,r)}}};const Hw=["left","top","right","bottom"];function Dh(n,e){return n.filter(t=>t.pos===e)}function d2(n,e){return n.filter(t=>Hw.indexOf(t.pos)===-1&&t.box.axis===e)}function Fh(n,e){return n.sort((t,r)=>{const i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function WP(n){const e=[];let t,r,i,s,o,l;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:s,options:{stack:o,stackWeight:l=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:l});return e}function qP(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:s}=t;if(!r||!Hw.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function HP(n,e){const t=qP(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,l;for(s=0,o=n.length;s<o;++s){l=n[s];const{fullSize:u}=l.box,h=t[l.stack],d=h&&l.stackWeight/h.weight;l.horizontal?(l.width=d?d*r:u&&e.availableWidth,l.height=i):(l.width=r,l.height=d?d*i:u&&e.availableHeight)}return t}function $P(n){const e=WP(n),t=Fh(e.filter(h=>h.box.fullSize),!0),r=Fh(Dh(e,"left"),!0),i=Fh(Dh(e,"right")),s=Fh(Dh(e,"top"),!0),o=Fh(Dh(e,"bottom")),l=d2(e,"x"),u=d2(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(u).concat(o).concat(l),chartArea:Dh(e,"chartArea"),vertical:r.concat(i).concat(u),horizontal:s.concat(o).concat(l)}}function f2(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function $w(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function VP(n,e,t,r){const{pos:i,box:s}=t,o=n.maxPadding;if(!an(i)){t.size&&(n[i]-=t.size);const m=r[t.stack]||{size:0,count:1};m.size=Math.max(m.size,t.horizontal?s.height:s.width),t.size=m.size/m.count,n[i]+=t.size}s.getPadding&&$w(o,s.getPadding());const l=Math.max(0,e.outerWidth-f2(o,n,"left","right")),u=Math.max(0,e.outerHeight-f2(o,n,"top","bottom")),h=l!==n.w,d=u!==n.h;return n.w=l,n.h=u,t.horizontal?{same:h,other:d}:{same:d,other:h}}function GP(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function KP(n,e){const t=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return r(n?["left","right"]:["top","bottom"])}function $h(n,e,t,r){const i=[];let s,o,l,u,h,d;for(s=0,o=n.length,h=0;s<o;++s){l=n[s],u=l.box,u.update(l.width||e.w,l.height||e.h,KP(l.horizontal,e));const{same:m,other:y}=VP(e,t,l,r);h|=m&&i.length,d=d||y,u.fullSize||i.push(l)}return h&&$h(i,e,t,r)||d}function Nf(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function p2(n,e,t,r){const i=t.padding;let{x:s,y:o}=e;for(const l of n){const u=l.box,h=r[l.stack]||{placed:0,weight:1},d=l.stackWeight/h.weight||1;if(l.horizontal){const m=e.w*d,y=h.size||u.height;op(h.start)&&(o=h.start),u.fullSize?Nf(u,i.left,o,t.outerWidth-i.right-i.left,y):Nf(u,e.left+h.placed,o,m,y),h.start=o,h.placed+=m,o=u.bottom}else{const m=e.h*d,y=h.size||u.width;op(h.start)&&(s=h.start),u.fullSize?Nf(u,s,i.top,y,t.outerHeight-i.bottom-i.top):Nf(u,s,e.top+h.placed,y,m),h.start=s,h.placed+=m,s=u.right}}e.x=s,e.y=o}var Tl={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=da(n.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(t-i.height,0),l=$P(n.boxes),u=l.vertical,h=l.horizontal;yn(n.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const d=u.reduce((k,N)=>N.box.options&&N.box.options.display===!1?k:k+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),y=Object.assign({},i);$w(y,da(r));const g=Object.assign({maxPadding:y,w:s,h:o,x:i.left,y:i.top},i),_=HP(u.concat(h),m);$h(l.fullSize,g,m,_),$h(u,g,m,_),$h(h,g,m,_)&&$h(u,g,m,_),GP(g),p2(l.leftAndTop,g,m,_),g.x+=g.w,g.y+=g.h,p2(l.rightAndBottom,g,m,_),n.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},yn(l.chartArea,k=>{const N=k.box;Object.assign(N,n.chartArea),N.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class Vw{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class YP extends Vw{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const zf="$chartjs",JP={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},g2=n=>n===null||n==="";function XP(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[zf]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",g2(i)){const s=t2(n,"width");s!==void 0&&(n.width=s)}if(g2(r))if(n.style.height==="")n.height=n.width/(e||2);else{const s=t2(n,"height");s!==void 0&&(n.height=s)}return n}const Gw=iP?{passive:!0}:!1;function QP(n,e,t){n&&n.addEventListener(e,t,Gw)}function ZP(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Gw)}function e8(n,e){const t=JP[n.type]||n.type,{x:r,y:i}=kc(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function hp(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function t8(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||hp(l.addedNodes,r),o=o&&!hp(l.removedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function n8(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||hp(l.removedNodes,r),o=o&&!hp(l.addedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const _d=new Map;let m2=0;function Kw(){const n=window.devicePixelRatio;n!==m2&&(m2=n,_d.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function r8(n,e){_d.size||window.addEventListener("resize",Kw),_d.set(n,e)}function i8(n){_d.delete(n),_d.size||window.removeEventListener("resize",Kw)}function s8(n,e,t){const r=n.canvas,i=r&&j0(r);if(!i)return;const s=jw((l,u)=>{const h=i.clientWidth;t(l,u),h<i.clientWidth&&t()},window),o=new ResizeObserver(l=>{const u=l[0],h=u.contentRect.width,d=u.contentRect.height;h===0&&d===0||s(h,d)});return o.observe(i),r8(n,s),o}function Gg(n,e,t){t&&t.disconnect(),e==="resize"&&i8(n)}function a8(n,e,t){const r=n.canvas,i=jw(s=>{n.ctx!==null&&t(e8(s,n))},n);return QP(r,e,i),i}class o8 extends Vw{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(XP(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[zf])return!1;const r=t[zf].initial;["height","width"].forEach(s=>{const o=r[s];Rn(o)?t.removeAttribute(s):t.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[zf],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),o={attach:t8,detach:n8,resize:s8}[t]||a8;i[t]=o(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:Gg,detach:Gg,resize:Gg}[t]||ZP)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return rP(e,t,r,i)}isAttached(e){const t=e&&j0(e);return!!(t&&t.isConnected)}}function l8(n){return!E0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?YP:o8}class zc{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return yd(this.x)&&yd(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}function c8(n,e){const t=n.options.ticks,r=u8(n),i=Math.min(t.maxTicksLimit||r,r),s=t.major.enabled?d8(e):[],o=s.length,l=s[0],u=s[o-1],h=[];if(o>i)return f8(e,h,s,o/i),h;const d=h8(s,e,i);if(o>0){let m,y;const g=o>1?Math.round((u-l)/(o-1)):null;for(Af(e,h,d,Rn(g)?0:l-g,l),m=0,y=o-1;m<y;m++)Af(e,h,d,s[m],s[m+1]);return Af(e,h,d,u,Rn(g)?e.length:u+g),h}return Af(e,h,d),h}function u8(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function h8(n,e,t){const r=p8(n),i=e.length/t;if(!r)return Math.max(i,1);const s=e6(r);for(let o=0,l=s.length-1;o<l;o++){const u=s[o];if(u>i)return u}return Math.max(i,1)}function d8(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function f8(n,e,t,r){let i=0,s=t[0],o;for(r=Math.ceil(r),o=0;o<n.length;o++)o===s&&(e.push(n[o]),i++,s=t[i*r])}function Af(n,e,t,r,i){const s=Yt(r,0),o=Math.min(Yt(i,n.length),n.length);let l=0,u,h,d;for(t=Math.ceil(t),i&&(u=i-r,t=u/Math.floor(u/t)),d=s;d<0;)l++,d=Math.round(s+l*t);for(h=Math.max(s,0);h<o;h++)h===d&&(e.push(n[h]),l++,d=Math.round(s+l*t))}function p8(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const g8=n=>n==="left"?"right":n==="right"?"left":n,v2=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,y2=(n,e)=>Math.min(e||n,n);function w2(n,e){const t=[],r=n.length/e,i=n.length;let s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function m8(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,o=n._endPixel,l=1e-6;let u=n.getPixelForTick(i),h;if(!(t&&(r===1?h=Math.max(u-s,o-u):e===0?h=(n.getPixelForTick(1)-u)/2:h=(u-n.getPixelForTick(i-1))/2,u+=i<e?h:-h,u<s-l||u>o+l)))return u}function v8(n,e){yn(n,t=>{const r=t.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}function Bh(n){return n.drawTicks?n.tickLength:0}function b2(n,e){if(!n.display)return 0;const t=Yi(n.font,e),r=da(n.padding);return(Zr(n.text)?n.text.length:1)*t.lineHeight+r.height}function y8(n,e){return Uc(n,{scale:e,type:"scale"})}function w8(n,e,t){return Uc(n,{tick:t,index:e,type:"tick"})}function b8(n,e,t){let r=Lw(n);return(t&&e!=="right"||!t&&e==="right")&&(r=g8(r)),r}function _8(n,e,t,r){const{top:i,left:s,bottom:o,right:l,chart:u}=n,{chartArea:h,scales:d}=u;let m=0,y,g,_;const k=o-i,N=l-s;if(n.isHorizontal()){if(g=ps(r,s,l),an(t)){const P=Object.keys(t)[0],L=t[P];_=d[P].getPixelForValue(L)+k-e}else t==="center"?_=(h.bottom+h.top)/2+k-e:_=v2(n,t,e);y=l-s}else{if(an(t)){const P=Object.keys(t)[0],L=t[P];g=d[P].getPixelForValue(L)-N+e}else t==="center"?g=(h.left+h.right)/2-N+e:g=v2(n,t,e);_=ps(r,o,i),m=t==="left"?-Mr:Mr}return{titleX:g,titleY:_,maxWidth:y,rotation:m}}class ih extends zc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=Ia(e,Number.POSITIVE_INFINITY),t=Ia(t,Number.NEGATIVE_INFINITY),r=Ia(r,Number.POSITIVE_INFINITY),i=Ia(i,Number.NEGATIVE_INFINITY),{min:Ia(e,r),max:Ia(t,i),minDefined:Ds(e),maxDefined:Ds(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:t,max:r};const l=this.getMatchingVisibleMetas();for(let u=0,h=l.length;u<h;++u)o=l[u].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),s||(r=Math.max(r,o.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:Ia(t,Ia(r,t)),max:Ia(r,Ia(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Dn(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=M6(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?w2(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=c8(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Dn(this.options.afterUpdate,[this])}beforeSetDimensions(){Dn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Dn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Dn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Dn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Dn(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Dn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Dn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=y2(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let o=i,l,u,h;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),m=d.widest.width,y=d.highest.height,g=Ci(this.chart.width-m,0,this.maxWidth);l=e.offset?this.maxWidth/r:g/(r-1),m+6>l&&(l=g/(r-(e.offset?.5:1)),u=this.maxHeight-Bh(e.grid)-t.padding-b2(e.title,this.chart.options.font),h=Math.sqrt(m*m+y*y),o=i6(Math.min(Math.asin(Ci((d.highest.height+6)/l,-1,1)),Math.asin(Ci(u/h,-1,1))-Math.asin(Ci(y/h,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Dn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Dn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const u=b2(i,t.options.font);if(l?(e.width=this.maxWidth,e.height=Bh(s)+u):(e.height=this.maxHeight,e.width=Bh(s)+u),r.display&&this.ticks.length){const{first:h,last:d,widest:m,highest:y}=this._getLabelSizes(),g=r.padding*2,_=Do(this.labelRotation),k=Math.cos(_),N=Math.sin(_);if(l){const P=r.mirror?0:N*m.width+k*y.height;e.height=Math.min(this.maxHeight,e.height+P+g)}else{const P=r.mirror?0:k*m.width+N*y.height;e.width=Math.min(this.maxWidth,e.width+P+g)}this._calculatePadding(h,d,N,k)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:s,padding:o},position:l}=this.options,u=this.labelRotation!==0,h=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,g=0;u?h?(y=i*e.width,g=r*t.height):(y=r*e.height,g=i*t.width):s==="start"?g=t.width:s==="end"?y=e.width:s!=="inner"&&(y=e.width/2,g=t.width/2),this.paddingLeft=Math.max((y-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-m+o)*this.width/(this.width-m),0)}else{let d=t.height/2,m=e.height/2;s==="start"?(d=0,m=e.height):s==="end"&&(d=t.height,m=0),this.paddingTop=d+o,this.paddingBottom=m+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Dn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)Rn(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=w2(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:s}=this,o=[],l=[],u=Math.floor(t/y2(t,r));let h=0,d=0,m,y,g,_,k,N,P,L,T,j,D;for(m=0;m<t;m+=u){if(_=e[m].label,k=this._resolveTickFontOptions(m),i.font=N=k.string,P=s[N]=s[N]||{data:{},gc:[]},L=k.lineHeight,T=j=0,!Rn(_)&&!Zr(_))T=Jv(i,P.data,P.gc,T,_),j=L;else if(Zr(_))for(y=0,g=_.length;y<g;++y)D=_[y],!Rn(D)&&!Zr(D)&&(T=Jv(i,P.data,P.gc,T,D),j+=L);o.push(T),l.push(j),h=Math.max(T,h),d=Math.max(j,d)}v8(s,t);const Q=o.indexOf(h),U=l.indexOf(d),H=W=>({width:o[W]||0,height:l[W]||0});return{first:H(0),last:H(t-1),widest:H(Q),highest:H(U),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return a6(this._alignToPixels?bc(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=w8(this.getContext(),e,r))}return this.$context||(this.$context=y8(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Do(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,l=s?s.widest.width+o:0,u=s?s.highest.height+o:0;return this.isHorizontal()?u*r>l*i?l/r:u/i:u*i<l*r?u/r:l/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:l}=i,u=s.offset,h=this.isHorizontal(),m=this.ticks.length+(u?1:0),y=Bh(s),g=[],_=l.setContext(this.getContext()),k=_.display?_.width:0,N=k/2,P=function(be){return bc(r,be,k)};let L,T,j,D,Q,U,H,W,ae,I,q,ne;if(o==="top")L=P(this.bottom),U=this.bottom-y,W=L-N,I=P(e.top)+N,ne=e.bottom;else if(o==="bottom")L=P(this.top),I=e.top,ne=P(e.bottom)-N,U=L+N,W=this.top+y;else if(o==="left")L=P(this.right),Q=this.right-y,H=L-N,ae=P(e.left)+N,q=e.right;else if(o==="right")L=P(this.left),ae=e.left,q=P(e.right)-N,Q=L+N,H=this.left+y;else if(t==="x"){if(o==="center")L=P((e.top+e.bottom)/2+.5);else if(an(o)){const be=Object.keys(o)[0],he=o[be];L=P(this.chart.scales[be].getPixelForValue(he))}I=e.top,ne=e.bottom,U=L+N,W=U+y}else if(t==="y"){if(o==="center")L=P((e.left+e.right)/2);else if(an(o)){const be=Object.keys(o)[0],he=o[be];L=P(this.chart.scales[be].getPixelForValue(he))}Q=L-N,H=Q-y,ae=e.left,q=e.right}const re=Yt(i.ticks.maxTicksLimit,m),ve=Math.max(1,Math.ceil(m/re));for(T=0;T<m;T+=ve){const be=this.getContext(T),he=s.setContext(be),$=l.setContext(be),ie=he.lineWidth,le=he.color,K=$.dash||[],O=$.dashOffset,Y=he.tickWidth,ee=he.tickColor,oe=he.tickBorderDash||[],ce=he.tickBorderDashOffset;j=m8(this,T,u),j!==void 0&&(D=bc(r,j,ie),h?Q=H=ae=q=D:U=W=I=ne=D,g.push({tx1:Q,ty1:U,tx2:H,ty2:W,x1:ae,y1:I,x2:q,y2:ne,width:ie,color:le,borderDash:K,borderDashOffset:O,tickWidth:Y,tickColor:ee,tickBorderDash:oe,tickBorderDashOffset:ce}))}return this._ticksLength=m,this._borderValue=L,g}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:h,padding:d,mirror:m}=s,y=Bh(r.grid),g=y+d,_=m?-d:g,k=-Do(this.labelRotation),N=[];let P,L,T,j,D,Q,U,H,W,ae,I,q,ne="middle";if(i==="top")Q=this.bottom-_,U=this._getXAxisLabelAlignment();else if(i==="bottom")Q=this.top+_,U=this._getXAxisLabelAlignment();else if(i==="left"){const ve=this._getYAxisLabelAlignment(y);U=ve.textAlign,D=ve.x}else if(i==="right"){const ve=this._getYAxisLabelAlignment(y);U=ve.textAlign,D=ve.x}else if(t==="x"){if(i==="center")Q=(e.top+e.bottom)/2+g;else if(an(i)){const ve=Object.keys(i)[0],be=i[ve];Q=this.chart.scales[ve].getPixelForValue(be)+g}U=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")D=(e.left+e.right)/2-g;else if(an(i)){const ve=Object.keys(i)[0],be=i[ve];D=this.chart.scales[ve].getPixelForValue(be)}U=this._getYAxisLabelAlignment(y).textAlign}t==="y"&&(u==="start"?ne="top":u==="end"&&(ne="bottom"));const re=this._getLabelSizes();for(P=0,L=l.length;P<L;++P){T=l[P],j=T.label;const ve=s.setContext(this.getContext(P));H=this.getPixelForTick(P)+s.labelOffset,W=this._resolveTickFontOptions(P),ae=W.lineHeight,I=Zr(j)?j.length:1;const be=I/2,he=ve.color,$=ve.textStrokeColor,ie=ve.textStrokeWidth;let le=U;o?(D=H,U==="inner"&&(P===L-1?le=this.options.reverse?"left":"right":P===0?le=this.options.reverse?"right":"left":le="center"),i==="top"?h==="near"||k!==0?q=-I*ae+ae/2:h==="center"?q=-re.highest.height/2-be*ae+ae:q=-re.highest.height+ae/2:h==="near"||k!==0?q=ae/2:h==="center"?q=re.highest.height/2-be*ae:q=re.highest.height-I*ae,m&&(q*=-1),k!==0&&!ve.showLabelBackdrop&&(D+=ae/2*Math.sin(k))):(Q=H,q=(1-I)*ae/2);let K;if(ve.showLabelBackdrop){const O=da(ve.backdropPadding),Y=re.heights[P],ee=re.widths[P];let oe=q-O.top,ce=0-O.left;switch(ne){case"middle":oe-=Y/2;break;case"bottom":oe-=Y;break}switch(U){case"center":ce-=ee/2;break;case"right":ce-=ee;break;case"inner":P===L-1?ce-=ee:P>0&&(ce-=ee/2);break}K={left:ce,top:oe,width:ee+O.width,height:Y+O.height,color:ve.backdropColor}}N.push({label:j,font:W,textOffset:q,options:{rotation:k,color:he,strokeColor:$,strokeWidth:ie,textAlign:le,textBaseline:ne,translation:[D,Q],backdrop:K}})}return N}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Do(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),l=e+s,u=o.widest.width;let h,d;return t==="left"?i?(d=this.right+s,r==="near"?h="left":r==="center"?(h="center",d+=u/2):(h="right",d+=u)):(d=this.right-l,r==="near"?h="right":r==="center"?(h="center",d-=u/2):(h="left",d=this.left)):t==="right"?i?(d=this.left+s,r==="near"?h="right":r==="center"?(h="center",d-=u/2):(h="left",d-=u)):(d=this.left+l,r==="near"?h="left":r==="center"?(h="center",d+=u/2):(h="right",d=this.right)):h="right",{textAlign:h,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const l=(u,h,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(h.x,h.y),r.stroke(),r.restore())};if(t.display)for(s=0,o=i.length;s<o;++s){const u=i[s];t.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),t.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const l=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,d,m,y;this.isHorizontal()?(h=bc(e,this.left,o)-o/2,d=bc(e,this.right,l)+l/2,m=y=u):(m=bc(e,this.top,o)-o/2,y=bc(e,this.bottom,l)+l/2,h=d=u),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(h,m),t.lineTo(d,y),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&S0(r,i);const s=this.getLabelItems(e);for(const o of s){const l=o.options,u=o.font,h=o.label,d=o.textOffset;cp(r,h,0,d,u,l)}i&&k0(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const s=Yi(r.font),o=da(r.padding),l=r.align;let u=s.lineHeight/2;t==="bottom"||t==="center"||an(t)?(u+=o.bottom,Zr(r.text)&&(u+=s.lineHeight*(r.text.length-1))):u+=o.top;const{titleX:h,titleY:d,maxWidth:m,rotation:y}=_8(this,u,t,l);cp(e,r.text,0,0,s,{color:r.color,maxWidth:m,rotation:y,textAlign:b8(l,t,i),textBaseline:"middle",translation:[h,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Yt(e.grid&&e.grid.z,-1),i=Yt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ih.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=t.length;s<o;++s){const l=t[s];l[r]===this.id&&(!e||l.type===e)&&i.push(l)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Yi(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Pf{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;k8(t)&&(r=this.register(t));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,x8(e,o,r),this.override&&_r.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in _r[i]&&(delete _r[i][r],this.override&&delete Ic[r])}}function x8(n,e,t){const r=md(Object.create(null),[t?_r.get(t):{},_r.get(e),n.defaults]);_r.set(e,r),n.defaultRoutes&&S8(e,n.defaultRoutes),n.descriptors&&_r.describe(e,n.descriptors)}function S8(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),o=e[t].split("."),l=o.pop(),u=o.join(".");_r.route(s,i,u,l)})}function k8(n){return"id"in n&&"defaults"in n}class N8{constructor(){this.controllers=new Pf(L0,"datasets",!0),this.elements=new Pf(zc,"elements"),this.plugins=new Pf(Object,"plugins"),this.scales=new Pf(ih,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):yn(i,o=>{const l=r||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,t,r){const i=w0(e);Dn(r["before"+i],[],r),t[e](r),Dn(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Ua=new N8;class A8{constructor(){this._init=void 0}notify(e,t,r,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,t,r);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,t,r,i){i=i||{};for(const s of e){const o=s.plugin,l=o[r],u=[t,i,s.options];if(Dn(l,u,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Rn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=Yt(r.options&&r.options.plugins,{}),s=P8(r);return i===!1&&!t?[]:E8(e,s,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(l=>!o.some(u=>l.plugin.id===u.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function P8(n){const e={},t=[],r=Object.keys(Ua.plugins.items);for(let s=0;s<r.length;s++)t.push(Ua.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function C8(n,e){return!e&&n===!1?null:n===!0?{}:n}function E8(n,{plugins:e,localIds:t},r,i){const s=[],o=n.getContext();for(const l of e){const u=l.id,h=C8(r[u],i);h!==null&&s.push({plugin:l,options:j8(n.config,{plugin:l,local:t[u]},h,o)})}return s}function j8(n,{plugin:e,local:t},r,i){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(r,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Wm(n,e){const t=_r.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function L8(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function T8(n,e){return n===e?"_index_":"_value_"}function _2(n){if(n==="x"||n==="y"||n==="r")return n}function O8(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function qm(n,...e){if(_2(n))return n;for(const t of e){const r=t.axis||O8(t.position)||n.length>1&&_2(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function x2(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function R8(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return x2(n,"x",t[0])||x2(n,"y",t[0])}return{}}function M8(n,e){const t=Ic[n.type]||{scales:{}},r=e.scales||{},i=Wm(n.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const l=r[o];if(!an(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=qm(o,l,R8(o,n),_r.scales[l.type]),h=T8(u,i),d=t.scales||{};s[o]=Jh(Object.create(null),[{axis:u},l,d[u],d[h]])}),n.data.datasets.forEach(o=>{const l=o.type||n.type,u=o.indexAxis||Wm(l,e),d=(Ic[l]||{}).scales||{};Object.keys(d).forEach(m=>{const y=L8(m,u),g=o[y+"AxisID"]||y;s[g]=s[g]||Object.create(null),Jh(s[g],[{axis:y},r[g],d[m]])})}),Object.keys(s).forEach(o=>{const l=s[o];Jh(l,[_r.scales[l.type],_r.scale])}),s}function Yw(n){const e=n.options||(n.options={});e.plugins=Yt(e.plugins,{}),e.scales=M8(n,e)}function Jw(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function I8(n){return n=n||{},n.data=Jw(n.data),Yw(n),n}const S2=new Map,Xw=new Set;function Cf(n,e){let t=S2.get(n);return t||(t=e(),S2.set(n,t),Xw.add(t)),t}const Uh=(n,e,t)=>{const r=vd(e,t);r!==void 0&&n.add(r)};class D8{constructor(e){this._config=I8(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Jw(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Yw(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Cf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Cf(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Cf(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Cf(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),l=o.get(t);if(l)return l;const u=new Set;t.forEach(d=>{e&&(u.add(e),d.forEach(m=>Uh(u,e,m))),d.forEach(m=>Uh(u,i,m)),d.forEach(m=>Uh(u,Ic[s]||{},m)),d.forEach(m=>Uh(u,_r,m)),d.forEach(m=>Uh(u,Bm,m))});const h=Array.from(u);return h.length===0&&h.push(Object.create(null)),Xw.has(t)&&o.set(t,h),h}chartOptionScopes(){const{options:e,type:t}=this;return[e,Ic[t]||{},_r.datasets[t]||{},{type:t},_r,Bm]}resolveNamedOptions(e,t,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:l}=k2(this._resolverCache,e,i);let u=o;if(B8(o,t)){s.$shared=!1,r=Bl(r)?r():r;const h=this.createResolver(e,r,l);u=Zu(o,r,h)}for(const h of t)s[h]=u[h];return s}createResolver(e,t,r=[""],i){const{resolver:s}=k2(this._resolverCache,e,r);return an(t)?Zu(s,t,void 0,i):s}}function k2(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let s=r.get(i);return s||(s={resolver:A0(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},r.set(i,s)),s}const F8=n=>an(n)&&Object.getOwnPropertyNames(n).some(e=>Bl(n[e]));function B8(n,e){const{isScriptable:t,isIndexable:r}=Rw(n);for(const i of e){const s=t(i),o=r(i),l=(o||s)&&n[i];if(s&&(Bl(l)||F8(l))||o&&Zr(l))return!0}return!1}var U8="4.5.1";const z8=["top","bottom","left","right","chartArea"];function N2(n,e){return n==="top"||n==="bottom"||z8.indexOf(n)===-1&&e==="x"}function A2(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function P2(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Dn(t&&t.onComplete,[n],e)}function W8(n){const e=n.chart,t=e.options.animation;Dn(t&&t.onProgress,[n],e)}function Qw(n){return E0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Wf={},C2=n=>{const e=Qw(n);return Object.values(Wf).filter(t=>t.canvas===e).pop()};function q8(n,e,t){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=e){const o=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=o)}}}function H8(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}let Op=class{static defaults=_r;static instances=Wf;static overrides=Ic;static registry=Ua;static version=U8;static getChart=C2;static register(...e){Ua.add(...e),E2()}static unregister(...e){Ua.remove(...e),E2()}constructor(e,t){const r=this.config=new D8(t),i=Qw(e),s=C2(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||l8(i)),this.platform.updateConfig(r);const l=this.platform.acquireContext(i,o.aspectRatio),u=l&&l.canvas,h=u&&u.height,d=u&&u.width;if(this.id=$A(),this.ctx=l,this.canvas=u,this.width=d,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new A8,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=h6(m=>this.update(m),o.resizeDelay||0),this._dataChanges=[],Wf[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Lo.listen(this,"complete",P2),Lo.listen(this,"progress",W8),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:s}=this;return Rn(e)?t&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ua}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():e2(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Xv(this.canvas,this.ctx),this}stop(){return Lo.stop(this),this}resize(e,t){Lo.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,t,s),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,e2(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Dn(r.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};yn(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((o,l)=>(o[l]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const l=t[o],u=qm(o,l),h=u==="r",d=u==="x";return{options:l,dposition:h?"chartArea":d?"bottom":"left",dtype:h?"radialLinear":d?"category":"linear"}}))),yn(s,o=>{const l=o.options,u=l.id,h=qm(u,l),d=Yt(l.type,o.dtype);(l.position===void 0||N2(l.position,h)!==N2(o.dposition))&&(l.position=o.dposition),i[u]=!0;let m=null;if(u in r&&r[u].type===d)m=r[u];else{const y=Ua.getScale(d);m=new y({id:u,type:d,ctx:this.ctx,chart:this}),r[m.id]=m}m.init(l,e)}),yn(i,(o,l)=>{o||delete r[l]}),yn(r,o=>{Tl.configure(this,o,o.options),Tl.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(A2("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const s=t[r];let o=this.getDatasetMeta(r);const l=s.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=l,o.indexAxis=s.indexAxis||Wm(l,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const u=Ua.getController(l),{datasetElementType:h,dataElementType:d}=_r.datasets[l];Object.assign(u,{dataElementType:Ua.getElement(d),datasetElementType:h&&Ua.getElement(h)}),o.controller=new u(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){yn(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let h=0,d=this.data.datasets.length;h<d;h++){const{controller:m}=this.getDatasetMeta(h),y=!i&&s.indexOf(m)===-1;m.buildOrUpdateElements(y),o=Math.max(+m.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||yn(s,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(A2("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){yn(this.scales,e=>{Tl.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!zv(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of t){const o=r==="_removeElements"?-s:s;q8(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,l)=>l+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<t;s++)if(!zv(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Tl.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],yn(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Bl(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Lo.has(this)?this.attached&&!Lo.running(this)&&Lo.start(this):(this.draw(),P2({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,s;for(i=0,s=t.length;i<s;++i){const o=t[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=yP(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&S0(t,i),e.controller.draw(),i&&k0(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return bd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const s=zP.modes[t];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Uc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);op(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(l=>l.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Lo.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Xv(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Wf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},i=(s,o,l)=>{s.offsetX=o,s.offsetY=l,this._eventHandler(s)};yn(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(u,h)=>{t.addEventListener(this,u,h),e[u]=h},i=(u,h)=>{e[u]&&(t.removeEventListener(this,u,h),delete e[u])},s=(u,h)=>{this.canvas&&this.resize(u,h)};let o;const l=()=>{i("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",l)},t.isAttached(this.canvas)?l():o()}unbindEvents(){yn(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},yn(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let s,o,l,u;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),l=0,u=e.length;l<u;++l){o=e[l];const h=o&&this.getDatasetMeta(o.datasetIndex).controller;h&&h[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[o],index:o}});!sp(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,s=(u,h)=>u.filter(d=>!h.some(m=>d.datasetIndex===m.datasetIndex&&d.index===m.index)),o=s(t,e),l=r?e:s(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:s}=this,o=t,l=this._getActiveElements(e,i,r,o),u=XA(e),h=H8(e,this._lastEvent,r,u);r&&(this._lastEvent=null,Dn(s.onHover,[e,l,this],this),u&&Dn(s.onClick,[e,l,this],this));const d=!sp(l,i);return(d||t)&&(this._active=l,this._updateHoverStyles(l,i,t)),this._lastEvent=h,d}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}};function E2(){return yn(Op.instances,n=>n._plugins.invalidate())}function $8(n,e,t){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:l,options:u}=e,{borderWidth:h,borderJoinStyle:d}=u,m=Math.min(h/o,ca(r-t));if(n.beginPath(),n.arc(i,s,o-h/2,r+m/2,t-m/2),l>0){const y=Math.min(h/l,ca(r-t));n.arc(i,s,l+h/2,t-y/2,r+y/2,!0)}else{const y=Math.min(h/2,o*ca(r-t));if(d==="round")n.arc(i,s,y,t-Pn/2,r+Pn/2,!0);else if(d==="bevel"){const g=2*y*y,_=-g*Math.cos(t+Pn/2)+i,k=-g*Math.sin(t+Pn/2)+s,N=g*Math.cos(r+Pn/2)+i,P=g*Math.sin(r+Pn/2)+s;n.lineTo(_,k),n.lineTo(N,P)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function V8(n,e,t){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:l,innerRadius:u}=e;let h=i/l;n.beginPath(),n.arc(s,o,l,r-h,t+h),u>i?(h=i/u,n.arc(s,o,u,t+h,r-h,!0)):n.arc(s,o,i,t+Mr,r-Mr),n.closePath(),n.clip()}function G8(n){return N0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function K8(n,e,t,r){const i=G8(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,r*e/2),l=u=>{const h=(t-Math.min(s,u))*r/2;return Ci(u,0,Math.min(s,h))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:Ci(i.innerStart,0,o),innerEnd:Ci(i.innerEnd,0,o)}}function Pu(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function dp(n,e,t,r,i,s){const{x:o,y:l,startAngle:u,pixelMargin:h,innerRadius:d}=e,m=Math.max(e.outerRadius+r+t-h,0),y=d>0?d+r+t+h:0;let g=0;const _=i-u;if(r){const ve=d>0?d-r:0,be=m>0?m-r:0,he=(ve+be)/2,$=he!==0?_*he/(he+r):_;g=(_-$)/2}const k=Math.max(.001,_*m-t/Pn)/m,N=(_-k)/2,P=u+N+g,L=i-N-g,{outerStart:T,outerEnd:j,innerStart:D,innerEnd:Q}=K8(e,y,m,L-P),U=m-T,H=m-j,W=P+T/U,ae=L-j/H,I=y+D,q=y+Q,ne=P+D/I,re=L-Q/q;if(n.beginPath(),s){const ve=(W+ae)/2;if(n.arc(o,l,m,W,ve),n.arc(o,l,m,ve,ae),j>0){const ie=Pu(H,ae,o,l);n.arc(ie.x,ie.y,j,ae,L+Mr)}const be=Pu(q,L,o,l);if(n.lineTo(be.x,be.y),Q>0){const ie=Pu(q,re,o,l);n.arc(ie.x,ie.y,Q,L+Mr,re+Math.PI)}const he=(L-Q/y+(P+D/y))/2;if(n.arc(o,l,y,L-Q/y,he,!0),n.arc(o,l,y,he,P+D/y,!0),D>0){const ie=Pu(I,ne,o,l);n.arc(ie.x,ie.y,D,ne+Math.PI,P-Mr)}const $=Pu(U,P,o,l);if(n.lineTo($.x,$.y),T>0){const ie=Pu(U,W,o,l);n.arc(ie.x,ie.y,T,P-Mr,W)}}else{n.moveTo(o,l);const ve=Math.cos(W)*m+o,be=Math.sin(W)*m+l;n.lineTo(ve,be);const he=Math.cos(ae)*m+o,$=Math.sin(ae)*m+l;n.lineTo(he,$)}n.closePath()}function Y8(n,e,t,r,i){const{fullCircles:s,startAngle:o,circumference:l}=e;let u=e.endAngle;if(s){dp(n,e,t,r,u,i);for(let h=0;h<s;++h)n.fill();isNaN(l)||(u=o+(l%dr||dr))}return dp(n,e,t,r,u,i),n.fill(),u}function J8(n,e,t,r,i){const{fullCircles:s,startAngle:o,circumference:l,options:u}=e,{borderWidth:h,borderJoinStyle:d,borderDash:m,borderDashOffset:y,borderRadius:g}=u,_=u.borderAlign==="inner";if(!h)return;n.setLineDash(m||[]),n.lineDashOffset=y,_?(n.lineWidth=h*2,n.lineJoin=d||"round"):(n.lineWidth=h,n.lineJoin=d||"bevel");let k=e.endAngle;if(s){dp(n,e,t,r,k,i);for(let N=0;N<s;++N)n.stroke();isNaN(l)||(k=o+(l%dr||dr))}_&&V8(n,e,k),u.selfJoin&&k-o>=Pn&&g===0&&d!=="miter"&&$8(n,e,k),s||(dp(n,e,t,r,k,i),n.stroke())}class X8 extends zc{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=Pw(i,{x:e,y:t}),{startAngle:l,endAngle:u,innerRadius:h,outerRadius:d,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),y=(this.options.spacing+this.options.borderWidth)/2,g=Yt(m,u-l),_=wd(s,l,u)&&l!==u,k=g>=dr||_,N=Fu(o,h+y,d+y);return k&&N}getCenterPoint(e){const{x:t,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:h}=this.options,d=(i+s)/2,m=(o+l+h+u)/2;return{x:t+Math.cos(d)*m,y:r+Math.sin(d)*m}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,i=(t.offset||0)/4,s=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=r>dr?Math.floor(r/dr):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*i,Math.sin(l)*i);const u=1-Math.sin(Math.min(Pn,r||0)),h=i*u;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,Y8(e,this,h,s,o),J8(e,this,h,s,o),e.restore()}}function Zw(n,e,t=e){n.lineCap=Yt(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Yt(t.borderDash,e.borderDash)),n.lineDashOffset=Yt(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Yt(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Yt(t.borderWidth,e.borderWidth),n.strokeStyle=Yt(t.borderColor,e.borderColor)}function Q8(n,e,t){n.lineTo(t.x,t.y)}function Z8(n){return n.stepped?N6:n.tension||n.cubicInterpolationMode==="monotone"?A6:Q8}function eb(n,e,t={}){const r=n.length,{start:i=0,end:s=r-1}=t,{start:o,end:l}=e,u=Math.max(i,o),h=Math.min(s,l),d=i<o&&s<o||i>l&&s>l;return{count:r,start:u,loop:e.loop,ilen:h<u&&!d?r+h-u:h-u}}function eC(n,e,t,r){const{points:i,options:s}=e,{count:o,start:l,loop:u,ilen:h}=eb(i,t,r),d=Z8(s);let{move:m=!0,reverse:y}=r||{},g,_,k;for(g=0;g<=h;++g)_=i[(l+(y?h-g:g))%o],!_.skip&&(m?(n.moveTo(_.x,_.y),m=!1):d(n,k,_,y,s.stepped),k=_);return u&&(_=i[(l+(y?h:0))%o],d(n,k,_,y,s.stepped)),!!u}function tC(n,e,t,r){const i=e.points,{count:s,start:o,ilen:l}=eb(i,t,r),{move:u=!0,reverse:h}=r||{};let d=0,m=0,y,g,_,k,N,P;const L=j=>(o+(h?l-j:j))%s,T=()=>{k!==N&&(n.lineTo(d,N),n.lineTo(d,k),n.lineTo(d,P))};for(u&&(g=i[L(0)],n.moveTo(g.x,g.y)),y=0;y<=l;++y){if(g=i[L(y)],g.skip)continue;const j=g.x,D=g.y,Q=j|0;Q===_?(D<k?k=D:D>N&&(N=D),d=(m*d+j)/++m):(T(),n.lineTo(j,D),_=Q,m=0,k=N=D),P=D}T()}function Hm(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?tC:eC}function nC(n){return n.stepped?sP:n.tension||n.cubicInterpolationMode==="monotone"?aP:Nc}function rC(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),Zw(n,e.options),n.stroke(i)}function iC(n,e,t,r){const{segments:i,options:s}=e,o=Hm(e);for(const l of i)Zw(n,s,l.style),n.beginPath(),o(n,e,l,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const sC=typeof Path2D=="function";function aC(n,e,t,r){sC&&!e.options.segment?rC(n,e,t,r):iC(n,e,t,r)}class oC extends zc{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;X6(this._points,r,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=pP(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,i=e[t],s=this.points,o=hP(this,{property:t,start:i,end:i});if(!o.length)return;const l=[],u=nC(r);let h,d;for(h=0,d=o.length;h<d;++h){const{start:m,end:y}=o[h],g=s[m],_=s[y];if(g===_){l.push(g);continue}const k=Math.abs((i-g[t])/(_[t]-g[t])),N=u(g,_,k,r.stepped);N[t]=e[t],l.push(N)}return l.length===1?l[0]:l}pathSegment(e,t,r){return Hm(this)(e,this,t,r)}path(e,t,r){const i=this.segments,s=Hm(this);let o=this._loop;t=t||0,r=r||this.points.length-t;for(const l of i)o&=s(e,this,l,{start:t,end:t+r-1});return!!o}draw(e,t,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),aC(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function j2(n,e,t,r){const i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}class lC extends zc{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){const i=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(t-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return j2(this,e,"x",t)}inYRange(e,t){return j2(this,e,"y",t)}getCenterPoint(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const r=t&&e.borderWidth||0;return(t+r)*2}draw(e,t){const r=this.options;this.skip||r.radius<.1||!bd(this,t,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,Um(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}const L2=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},cC=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class T2 extends zc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Dn(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Yi(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=L2(r,s);let h,d;t.font=i.string,this.isHorizontal()?(h=this.maxWidth,d=this._fitRows(o,s,l,u)+10):(d=this.maxHeight,h=this._fitCols(o,i,l,u)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],d=i+l;let m=e;s.textAlign="left",s.textBaseline="middle";let y=-1,g=-d;return this.legendItems.forEach((_,k)=>{const N=r+t/2+s.measureText(_.text).width;(k===0||h[h.length-1]+N+2*l>o)&&(m+=d,h[h.length-(k>0?0:1)]=0,g+=d,y++),u[k]={left:0,top:g,row:y,width:N,height:i},h[h.length-1]+=N+l}),m}_fitCols(e,t,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],d=o-e;let m=l,y=0,g=0,_=0,k=0;return this.legendItems.forEach((N,P)=>{const{itemWidth:L,itemHeight:T}=uC(r,t,s,N,i);P>0&&g+T+2*l>d&&(m+=y+l,h.push({width:y,height:g}),_+=y+l,k++,y=g=0),u[P]={left:_,top:g,col:k,width:L,height:T},y=Math.max(y,L),g+=T+l}),m+=y,h.push({width:y,height:g}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,o=qu(s,this.left,this.width);if(this.isHorizontal()){let l=0,u=ps(r,this.left+i,this.right-this.lineWidths[l]);for(const h of t)l!==h.row&&(l=h.row,u=ps(r,this.left+i,this.right-this.lineWidths[l])),h.top+=this.top+e+i,h.left=o.leftForLtr(o.x(u),h.width),u+=h.width+i}else{let l=0,u=ps(r,this.top+e+i,this.bottom-this.columnSizes[l].height);for(const h of t)h.col!==l&&(l=h.col,u=ps(r,this.top+e+i,this.bottom-this.columnSizes[l].height)),h.top=u,h.left+=this.left+i,h.left=o.leftForLtr(o.x(h.left),h.width),u+=h.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;S0(e,this),this._draw(),k0(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,l=_r.color,u=qu(e.rtl,this.left,this.width),h=Yi(o.font),{padding:d}=o,m=h.size,y=m/2;let g;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=h.string;const{boxWidth:_,boxHeight:k,itemHeight:N}=L2(o,m),P=function(Q,U,H){if(isNaN(_)||_<=0||isNaN(k)||k<0)return;i.save();const W=Yt(H.lineWidth,1);if(i.fillStyle=Yt(H.fillStyle,l),i.lineCap=Yt(H.lineCap,"butt"),i.lineDashOffset=Yt(H.lineDashOffset,0),i.lineJoin=Yt(H.lineJoin,"miter"),i.lineWidth=W,i.strokeStyle=Yt(H.strokeStyle,l),i.setLineDash(Yt(H.lineDash,[])),o.usePointStyle){const ae={radius:k*Math.SQRT2/2,pointStyle:H.pointStyle,rotation:H.rotation,borderWidth:W},I=u.xPlus(Q,_/2),q=U+y;Ow(i,ae,I,q,o.pointStyleWidth&&_)}else{const ae=U+Math.max((m-k)/2,0),I=u.leftForLtr(Q,_),q=ed(H.borderRadius);i.beginPath(),Object.values(q).some(ne=>ne!==0)?zm(i,{x:I,y:ae,w:_,h:k,radius:q}):i.rect(I,ae,_,k),i.fill(),W!==0&&i.stroke()}i.restore()},L=function(Q,U,H){cp(i,H.text,Q,U+N/2,h,{strikethrough:H.hidden,textAlign:u.textAlign(H.textAlign)})},T=this.isHorizontal(),j=this._computeTitleHeight();T?g={x:ps(s,this.left+d,this.right-r[0]),y:this.top+d+j,line:0}:g={x:this.left+d,y:ps(s,this.top+j+d,this.bottom-t[0].height),line:0},Bw(this.ctx,e.textDirection);const D=N+d;this.legendItems.forEach((Q,U)=>{i.strokeStyle=Q.fontColor,i.fillStyle=Q.fontColor;const H=i.measureText(Q.text).width,W=u.textAlign(Q.textAlign||(Q.textAlign=o.textAlign)),ae=_+y+H;let I=g.x,q=g.y;u.setWidth(this.width),T?U>0&&I+ae+d>this.right&&(q=g.y+=D,g.line++,I=g.x=ps(s,this.left+d,this.right-r[g.line])):U>0&&q+D>this.bottom&&(I=g.x=I+t[g.line].width+d,g.line++,q=g.y=ps(s,this.top+j+d,this.bottom-t[g.line].height));const ne=u.x(I);if(P(ne,q,Q),I=d6(W,I+_+y,T?I+ae:this.right,e.rtl),L(u.x(I),q,Q),T)g.x+=ae+d;else if(typeof Q.text!="string"){const re=h.lineHeight;g.y+=tb(Q,re)+d}else g.y+=D}),Uw(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=Yi(t.font),i=da(t.padding);if(!t.display)return;const s=qu(e.rtl,this.left,this.width),o=this.ctx,l=t.position,u=r.size/2,h=i.top+u;let d,m=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),d=this.top+h,m=ps(e.align,m,this.right-y);else{const _=this.columnSizes.reduce((k,N)=>Math.max(k,N.height),0);d=h+ps(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const g=ps(l,m,m+y);o.textAlign=s.textAlign(Lw(l)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=r.string,cp(o,t.text,g,d,r)}_computeTitleHeight(){const e=this.options.title,t=Yi(e.font),r=da(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(Fu(e,this.left,this.right)&&Fu(t,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Fu(e,i.left,i.left+i.width)&&Fu(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!fC(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=cC(i,r);i&&!s&&Dn(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Dn(t.onHover,[e,r,this],this)}else r&&Dn(t.onClick,[e,r,this],this)}}function uC(n,e,t,r,i){const s=hC(r,n,e,t),o=dC(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function hC(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+r.measureText(i).width}function dC(n,e,t){let r=n;return typeof e.text!="string"&&(r=tb(e,t)),r}function tb(n,e){const t=n.text?n.text.length:0;return e*t}function fC(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var pC={id:"legend",_element:T2,start(n,e,t){const r=n.legend=new T2({ctx:n.ctx,options:t,chart:n});Tl.configure(n,r,t),Tl.addBox(n,r)},stop(n){Tl.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Tl.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:l}}=n.legend.options;return n._getSortedDatasetMetas().map(u=>{const h=u.controller.getStyle(t?0:void 0),d=da(h.borderWidth);return{text:e[u.index].label,fillStyle:h.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:h.borderColor,pointStyle:r||h.pointStyle,rotation:h.rotation,textAlign:i||h.textAlign,borderRadius:o&&(l||h.borderRadius),datasetIndex:u.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Vh={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,s=0;for(e=0,t=n.length;e<t;++e){const l=n[e].element;if(l&&l.hasValue()){const u=l.tooltipPosition();r.add(u.x),i+=u.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((l,u)=>l+u)/r.size,y:i/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,l;for(s=0,o=n.length;s<o;++s){const u=n[s].element;if(u&&u.hasValue()){const h=u.getCenterPoint(),d=Fm(e,h);d<i&&(i=d,l=u)}}if(l){const u=l.tooltipPosition();t=u.x,r=u.y}return{x:t,y:r}}};function Fa(n,e){return e&&(Zr(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function To(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function gC(n,e){const{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:o,value:l}=s.getLabelAndValue(i);return{chart:n,label:o,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:l,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function O2(n,e){const t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:o,boxHeight:l}=e,u=Yi(e.bodyFont),h=Yi(e.titleFont),d=Yi(e.footerFont),m=s.length,y=i.length,g=r.length,_=da(e.padding);let k=_.height,N=0,P=r.reduce((j,D)=>j+D.before.length+D.lines.length+D.after.length,0);if(P+=n.beforeBody.length+n.afterBody.length,m&&(k+=m*h.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),P){const j=e.displayColors?Math.max(l,u.lineHeight):u.lineHeight;k+=g*j+(P-g)*u.lineHeight+(P-1)*e.bodySpacing}y&&(k+=e.footerMarginTop+y*d.lineHeight+(y-1)*e.footerSpacing);let L=0;const T=function(j){N=Math.max(N,t.measureText(j).width+L)};return t.save(),t.font=h.string,yn(n.title,T),t.font=u.string,yn(n.beforeBody.concat(n.afterBody),T),L=e.displayColors?o+2+e.boxPadding:0,yn(r,j=>{yn(j.before,T),yn(j.lines,T),yn(j.after,T)}),L=0,t.font=d.string,yn(n.footer,T),t.restore(),N+=_.width,{width:N,height:k}}function mC(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function vC(n,e,t,r){const{x:i,width:s}=r,o=t.caretSize+t.caretPadding;if(n==="left"&&i+s+o>e.width||n==="right"&&i-s-o<0)return!0}function yC(n,e,t,r){const{x:i,width:s}=t,{width:o,chartArea:{left:l,right:u}}=n;let h="center";return r==="center"?h=i<=(l+u)/2?"left":"right":i<=s/2?h="left":i>=o-s/2&&(h="right"),vC(h,n,e,t)&&(h="center"),h}function R2(n,e,t){const r=t.yAlign||e.yAlign||mC(n,t);return{xAlign:t.xAlign||e.xAlign||yC(n,e,t,r),yAlign:r}}function wC(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function bC(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function M2(n,e,t,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=n,{xAlign:l,yAlign:u}=t,h=i+s,{topLeft:d,topRight:m,bottomLeft:y,bottomRight:g}=ed(o);let _=wC(e,l);const k=bC(e,u,h);return u==="center"?l==="left"?_+=h:l==="right"&&(_-=h):l==="left"?_-=Math.max(d,y)+i:l==="right"&&(_+=Math.max(m,g)+i),{x:Ci(_,0,r.width-e.width),y:Ci(k,0,r.height-e.height)}}function Ef(n,e,t){const r=da(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function I2(n){return Fa([],To(n))}function _C(n,e,t){return Uc(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function D2(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const nb={beforeTitle:Co,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:Co,beforeBody:Co,beforeLabel:Co,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Rn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Co,afterBody:Co,beforeFooter:Co,footer:Co,afterFooter:Co};function Vi(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?nb[e].call(t,r):i}class F2 extends zc{static positioners=Vh;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,s=new Ww(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=_C(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=Vi(r,"beforeTitle",this,e),s=Vi(r,"title",this,e),o=Vi(r,"afterTitle",this,e);let l=[];return l=Fa(l,To(i)),l=Fa(l,To(s)),l=Fa(l,To(o)),l}getBeforeBody(e,t){return I2(Vi(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return yn(e,s=>{const o={before:[],lines:[],after:[]},l=D2(r,s);Fa(o.before,To(Vi(l,"beforeLabel",this,s))),Fa(o.lines,Vi(l,"label",this,s)),Fa(o.after,To(Vi(l,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,t){return I2(Vi(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=Vi(r,"beforeFooter",this,e),s=Vi(r,"footer",this,e),o=Vi(r,"afterFooter",this,e);let l=[];return l=Fa(l,To(i)),l=Fa(l,To(s)),l=Fa(l,To(o)),l}_createItems(e){const t=this._active,r=this.chart.data,i=[],s=[],o=[];let l=[],u,h;for(u=0,h=t.length;u<h;++u)l.push(gC(this.chart,t[u]));return e.filter&&(l=l.filter((d,m,y)=>e.filter(d,m,y,r))),e.itemSort&&(l=l.sort((d,m)=>e.itemSort(d,m,r))),yn(l,d=>{const m=D2(e.callbacks,d);i.push(Vi(m,"labelColor",this,d)),s.push(Vi(m,"labelPointStyle",this,d)),o.push(Vi(m,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=l,l}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const l=Vh[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const u=this._size=O2(this,r),h=Object.assign({},l,u),d=R2(this.chart,r,h),m=M2(r,h,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:m.x,y:m.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const s=this.getCaretPosition(e,r,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:l}=r,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:m}=ed(l),{x:y,y:g}=e,{width:_,height:k}=t;let N,P,L,T,j,D;return s==="center"?(j=g+k/2,i==="left"?(N=y,P=N-o,T=j+o,D=j-o):(N=y+_,P=N+o,T=j-o,D=j+o),L=N):(i==="left"?P=y+Math.max(u,d)+o:i==="right"?P=y+_-Math.max(h,m)-o:P=this.caretX,s==="top"?(T=g,j=T-o,N=P-o,L=P+o):(T=g+k,j=T+o,N=P+o,L=P-o),D=T),{x1:N,x2:P,x3:L,y1:T,y2:j,y3:D}}drawTitle(e,t,r){const i=this.title,s=i.length;let o,l,u;if(s){const h=qu(r.rtl,this.x,this.width);for(e.x=Ef(this,r.titleAlign,r),t.textAlign=h.textAlign(r.titleAlign),t.textBaseline="middle",o=Yi(r.titleFont),l=r.titleSpacing,t.fillStyle=r.titleColor,t.font=o.string,u=0;u<s;++u)t.fillText(i[u],h.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,u+1===s&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,t,r,i,s){const o=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:u,boxWidth:h}=s,d=Yi(s.bodyFont),m=Ef(this,"left",s),y=i.x(m),g=u<d.lineHeight?(d.lineHeight-u)/2:0,_=t.y+g;if(s.usePointStyle){const k={radius:Math.min(h,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},N=i.leftForLtr(y,h)+h/2,P=_+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Um(e,k,N,P),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Um(e,k,N,P)}else{e.lineWidth=an(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const k=i.leftForLtr(y,h),N=i.leftForLtr(i.xPlus(y,1),h-2),P=ed(o.borderRadius);Object.values(P).some(L=>L!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,zm(e,{x:k,y:_,w:h,h:u,radius:P}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),zm(e,{x:N,y:_+1,w:h-2,h:u-2,radius:P}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(k,_,h,u),e.strokeRect(k,_,h,u),e.fillStyle=o.backgroundColor,e.fillRect(N,_+1,h-2,u-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:l,boxHeight:u,boxWidth:h,boxPadding:d}=r,m=Yi(r.bodyFont);let y=m.lineHeight,g=0;const _=qu(r.rtl,this.x,this.width),k=function(H){t.fillText(H,_.x(e.x+g),e.y+y/2),e.y+=y+s},N=_.textAlign(o);let P,L,T,j,D,Q,U;for(t.textAlign=o,t.textBaseline="middle",t.font=m.string,e.x=Ef(this,N,r),t.fillStyle=r.bodyColor,yn(this.beforeBody,k),g=l&&N!=="right"?o==="center"?h/2+d:h+2+d:0,j=0,Q=i.length;j<Q;++j){for(P=i[j],L=this.labelTextColors[j],t.fillStyle=L,yn(P.before,k),T=P.lines,l&&T.length&&(this._drawColorBox(t,e,j,_,r),y=Math.max(m.lineHeight,u)),D=0,U=T.length;D<U;++D)k(T[D]),y=m.lineHeight;yn(P.after,k)}g=0,y=m.lineHeight,yn(this.afterBody,k),e.y-=s}drawFooter(e,t,r){const i=this.footer,s=i.length;let o,l;if(s){const u=qu(r.rtl,this.x,this.width);for(e.x=Ef(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=u.textAlign(r.footerAlign),t.textBaseline="middle",o=Yi(r.footerFont),t.fillStyle=r.footerColor,t.font=o.string,l=0;l<s;++l)t.fillText(i[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:s,yAlign:o}=this,{x:l,y:u}=e,{width:h,height:d}=r,{topLeft:m,topRight:y,bottomLeft:g,bottomRight:_}=ed(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(l+m,u),o==="top"&&this.drawCaret(e,t,r,i),t.lineTo(l+h-y,u),t.quadraticCurveTo(l+h,u,l+h,u+y),o==="center"&&s==="right"&&this.drawCaret(e,t,r,i),t.lineTo(l+h,u+d-_),t.quadraticCurveTo(l+h,u+d,l+h-_,u+d),o==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(l+g,u+d),t.quadraticCurveTo(l,u+d,l,u+d-g),o==="center"&&s==="left"&&this.drawCaret(e,t,r,i),t.lineTo(l,u+m),t.quadraticCurveTo(l,u,l+m,u),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Vh[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=O2(this,e),u=Object.assign({},o,this._size),h=R2(t,e,u),d=M2(e,u,h,t);(i._to!==d.x||s._to!==d.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=da(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,t),Bw(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),Uw(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:l,index:u})=>{const h=this.chart.getDatasetMeta(l);if(!h)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:h.data[u],index:u}}),s=!sp(r,i),o=this._positionChanged(i,t);(s||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,r),l=this._positionChanged(o,e),u=t||!sp(o,s)||l;return u&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),u}_getActiveElements(e,t,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:r,caretY:i,options:s}=this,o=Vh[s.position].call(this,e,t);return o!==!1&&(r!==o.x||i!==o.y)}}var xC={id:"tooltip",_element:F2,positioners:Vh,afterInit(n,e,t){t&&(n.tooltip=new F2({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:nb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const SC=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function kC(n,e,t,r){const i=n.indexOf(e);if(i===-1)return SC(n,e,t,r);const s=n.lastIndexOf(e);return i!==s?t:i}const NC=(n,e)=>n===null?null:Ci(Math.round(n),0,e);function B2(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class AC extends ih{static id="category";static defaults={ticks:{callback:B2}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:s}of t)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Rn(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:kC(r,e,Yt(t,e),this._addedLabels),NC(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=t;o++)i.push({value:o});return i}getLabelForValue(e){return B2.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function PC(n,e){const t=[],{bounds:i,step:s,min:o,max:l,precision:u,count:h,maxTicks:d,maxDigits:m,includeBounds:y}=n,g=s||1,_=d-1,{min:k,max:N}=e,P=!Rn(o),L=!Rn(l),T=!Rn(h),j=(N-k)/(m+1);let D=qv((N-k)/_/g)*g,Q,U,H,W;if(D<1e-14&&!P&&!L)return[{value:k},{value:N}];W=Math.ceil(N/D)-Math.floor(k/D),W>_&&(D=qv(W*D/_/g)*g),Rn(u)||(Q=Math.pow(10,u),D=Math.ceil(D*Q)/Q),i==="ticks"?(U=Math.floor(k/D)*D,H=Math.ceil(N/D)*D):(U=k,H=N),P&&L&&s&&n6((l-o)/s,D/1e3)?(W=Math.round(Math.min((l-o)/D,d)),D=(l-o)/W,U=o,H=l):T?(U=P?o:U,H=L?l:H,W=h-1,D=(H-U)/W):(W=(H-U)/D,Xh(W,Math.round(W),D/1e3)?W=Math.round(W):W=Math.ceil(W));const ae=Math.max(Hv(D),Hv(U));Q=Math.pow(10,Rn(u)?ae:u),U=Math.round(U*Q)/Q,H=Math.round(H*Q)/Q;let I=0;for(P&&(y&&U!==o?(t.push({value:o}),U<o&&I++,Xh(Math.round((U+I*D)*Q)/Q,o,U2(o,j,n))&&I++):U<o&&I++);I<W;++I){const q=Math.round((U+I*D)*Q)/Q;if(L&&q>l)break;t.push({value:q})}return L&&y&&H!==l?t.length&&Xh(t[t.length-1].value,l,U2(l,j,n))?t[t.length-1].value=l:t.push({value:l}):(!L||H===l)&&t.push({value:H}),t}function U2(n,e,{horizontal:t,minRotation:r}){const i=Do(r),s=(t?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+n).length;return Math.min(e/s,o)}class CC extends ih{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Rn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=u=>i=t?i:u,l=u=>s=r?s:u;if(e){const u=Qu(i),h=Qu(s);u<0&&h<0?l(0):u>0&&h>0&&o(0)}if(i===s){let u=s===0?1:Math.abs(s*.05);l(s+u),e||o(i-u)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=PC(i,s);return e.bounds==="ticks"&&r6(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return x0(e,this.chart.options.locale,this.options.ticks.format)}}class EC extends CC{static id="linear";static defaults={ticks:{callback:Tw.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ds(e)?e:0,this.max=Ds(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=Do(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Rp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ki=Object.keys(Rp);function z2(n,e){return n-e}function W2(n,e){if(Rn(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Ds(o)||(o=typeof r=="string"?t.parse(o,r):t.parse(o)),o===null?null:(i&&(o=i==="week"&&(yd(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,i)),+o)}function q2(n,e,t,r){const i=Ki.length;for(let s=Ki.indexOf(n);s<i-1;++s){const o=Rp[Ki[s]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(l*o.size))<=r)return Ki[s]}return Ki[i-1]}function jC(n,e,t,r,i){for(let s=Ki.length-1;s>=Ki.indexOf(t);s--){const o=Ki[s];if(Rp[o].common&&n._adapter.diff(i,r,o)>=e-1)return o}return Ki[t?Ki.indexOf(t):0]}function LC(n){for(let e=Ki.indexOf(n)+1,t=Ki.length;e<t;++e)if(Rp[Ki[e]].common)return Ki[e]}function H2(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=b0(t,e),s=t[r]>=e?t[r]:t[i];n[s]=!0}}function TC(n,e,t,r){const i=n._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let l,u;for(l=s;l<=o;l=+i.add(l,1,r))u=t[l],u>=0&&(e[u].major=!0);return e}function $2(n,e,t){const r=[],i={},s=e.length;let o,l;for(o=0;o<s;++o)l=e[o],i[l]=o,r.push({value:l,major:!1});return s===0||!t?r:TC(n,r,i,t)}class V2 extends ih{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new IP._date(e.adapters.date);i.init(t),Jh(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:W2(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:l}=this.getUserBounds();function u(h){!o&&!isNaN(h.min)&&(i=Math.min(i,h.min)),!l&&!isNaN(h.max)&&(s=Math.max(s,h.max))}(!o||!l)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=Ds(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),s=Ds(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,l=l6(i,s,o);return this._unit=t.unit||(r.autoSkip?q2(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):jC(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:LC(this._unit),this.initOffsets(i),e.reverse&&l.reverse(),$2(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Ci(t,0,o),r=Ci(r,0,o),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||q2(s.minUnit,t,r,this._getLabelCapacity(t)),l=Yt(i.ticks.stepSize,1),u=o==="week"?s.isoWeekday:!1,h=yd(u)||u===!0,d={};let m=t,y,g;if(h&&(m=+e.startOf(m,"isoWeek",u)),m=+e.startOf(m,h?"day":o),e.diff(r,t,o)>1e5*l)throw new Error(t+" and "+r+" are too far apart with stepSize of "+l+" "+o);const _=i.ticks.source==="data"&&this.getDataTimestamps();for(y=m,g=0;y<r;y=+e.add(y,l,o),g++)H2(d,y,_);return(y===r||i.bounds==="ticks"||g===1)&&H2(d,y,_),Object.keys(d).sort(z2).map(k=>+k)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,s=this._unit,o=t||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,t,r,i){const s=this.options,o=s.ticks.callback;if(o)return Dn(o,[e,t,r],this);const l=s.time.displayFormats,u=this._unit,h=this._majorUnit,d=u&&l[u],m=h&&l[h],y=r[t],g=h&&m&&y&&y.major;return this._adapter.format(e,i||(g?m:d))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=Do(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),o=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*o,h:r*o+l*s}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,$2(this,[e],this._majorUnit),i),o=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(W2(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return u6(e.sort(z2))}}function jf(n,e,t){let r=0,i=n.length-1,s,o,l,u;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=Lc(n,"pos",e)),{pos:s,time:l}=n[r],{pos:o,time:u}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=Lc(n,"time",e)),{time:s,pos:l}=n[r],{time:o,pos:u}=n[i]);const h=o-s;return h?l+(u-l)*(e-s)/h:l}class IT extends V2{static id="timeseries";static defaults=V2.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=jf(t,this.min),this._tableRange=jf(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],s=[];let o,l,u,h,d;for(o=0,l=e.length;o<l;++o)h=e[o],h>=t&&h<=r&&i.push(h);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(o=0,l=i.length;o<l;++o)d=i[o+1],u=i[o-1],h=i[o],Math.round((d+u)/2)!==h&&s.push({time:h,pos:o/(l-1)});return s}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(jf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return jf(this._table,r*this._tableRange+this._minPos,!0)}}const rb="label";function G2(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function OC(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function ib(n,e){n.labels=e}function sb(n,e,t=rb){const r=[];n.datasets=e.map(i=>{const s=n.datasets.find(o=>o[t]===i[t]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function RC(n,e=rb){const t={labels:[],datasets:[]};return ib(t,n.labels),sb(t,n.datasets,e),t}function MC(n,e){const{height:t=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:l,options:u,plugins:h=[],fallbackContent:d,updateMode:m,...y}=n,g=de.useRef(null),_=de.useRef(null),k=()=>{g.current&&(_.current=new Op(g.current,{type:o,data:RC(l,s),options:u&&{...u},plugins:h}),G2(e,_.current))},N=()=>{G2(e,null),_.current&&(_.current.destroy(),_.current=null)};return de.useEffect(()=>{!i&&_.current&&u&&OC(_.current,u)},[i,u]),de.useEffect(()=>{!i&&_.current&&ib(_.current.config.data,l.labels)},[i,l.labels]),de.useEffect(()=>{!i&&_.current&&l.datasets&&sb(_.current.config.data,l.datasets,s)},[i,l.datasets]),de.useEffect(()=>{_.current&&(i?(N(),setTimeout(k)):_.current.update(m))},[i,u,l.labels,l.datasets,m]),de.useEffect(()=>{_.current&&(N(),setTimeout(k))},[o]),de.useEffect(()=>(k(),()=>N()),[]),b.jsx("canvas",{ref:g,role:"img",height:t,width:r,...y,children:d})}const IC=de.forwardRef(MC);function ab(n,e){return Op.register(e),de.forwardRef((t,r)=>b.jsx(IC,{...t,ref:r,type:n}))}const DC=ab("line",MP),FC=ab("doughnut",RP);Op.register(X8,xC,pC,AC,EC,lC,oC);const BC=()=>{const[n,e]=de.useState({totalPatients:0,activeFiles:0,todayActivity:0,missingFiles:0,stuckFiles:0}),t={labels:d.map(L=>L.date),datasets:[{label:"Jumlah Aktivitas",data:d.map(L=>L.count),borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.3,fill:!0}]},r={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}},[i,s]=de.useState([]),[o,l]=de.useState([]),[u,h]=de.useState(!0);de.useEffect(()=>{y();const L=ut.channel("dashboard-realtime").on("postgres_changes",{event:"*",schema:"public",table:"activity_logs"},()=>{k()}).on("postgres_changes",{event:"*",schema:"public",table:"tracer"},()=>{fetchStatusCounts()}).subscribe();return()=>{ut.removeChannel(L)}},[]);const[d,m]=de.useState([]),y=async()=>{h(!0),await Promise.all([g(),fetchStatusCounts(),k(),_()]),h(!1)},g=async()=>{try{const{count:L}=await ut.from("patients").select("*",{count:"exact",head:!0}),{data:T}=await ut.from("tracer").select("patient_id, status_lokasi, updated_at").order("updated_at",{ascending:!1}),j={};T?.forEach(I=>{j[I.patient_id]||(j[I.patient_id]=I)});const D=Object.values(j).filter(I=>I.status_lokasi!=="hilang").length,Q=Object.values(j).filter(I=>I.status_lokasi==="hilang").length,U=new Date,H=Object.values(j).filter(I=>{if(I.status_lokasi==="hilang")return!1;const q=new Date(I.updated_at),ne=Math.abs(U-q);return Math.ceil(ne/(1e3*60*60))>24}).length,W=new Date;W.setHours(0,0,0,0);const{count:ae}=await ut.from("activity_logs").select("*",{count:"exact",head:!0}).gte("created_at",W.toISOString());e({totalPatients:L||0,activeFiles:D,todayActivity:ae||0,missingFiles:Q,stuckFiles:H})}catch(L){console.error("Error fetching stats:",L)}},_=async()=>{try{const L=new Date,T=new Date;T.setDate(L.getDate()-6);const{data:j}=await ut.from("activity_logs").select("created_at").gte("created_at",T.toISOString()).order("created_at",{ascending:!0}),D={};for(let U=0;U<7;U++){const H=new Date(T);H.setDate(H.getDate()+U);const W=H.toISOString().split("T")[0];D[W]=0}j?.forEach(U=>{const H=U.created_at.split("T")[0];D[H]!==void 0&&D[H]++});const Q=Object.keys(D).map(U=>({date:new Date(U).toLocaleDateString("id-ID",{weekday:"short"}),count:D[U]}));m(Q)}catch(L){console.error("Error fetching trend:",L)}},k=async()=>{try{const{data:L}=await ut.from("activity_logs").select(`
          *,
          profiles:user_id (nama)
        `).order("created_at",{ascending:!1}).limit(10);l(L||[])}catch(L){console.error("Error fetching recent activity:",L)}},N={labels:i.map(L=>L.label),datasets:[{data:i.map(L=>L.count),backgroundColor:i.map(L=>L.color),borderWidth:0,hoverOffset:4}]},P={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,pointStyle:"circle"}}},cutout:"60%"};return u?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"page-header",children:[b.jsx("h1",{className:"page-title",children:"Dashboard"}),b.jsx("p",{className:"page-subtitle",children:"Monitoring sistem rekam medis"})]}),b.jsx("div",{className:"page-content",children:b.jsx("div",{className:"grid grid-cols-4 gap-md",children:[1,2,3,4].map(L=>b.jsx("div",{className:"skeleton skeleton-card"},L))})})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"page-header",children:[b.jsx("h1",{className:"page-title",children:"Dashboard"}),b.jsx("p",{className:"page-subtitle",children:"Monitoring sistem rekam medis"})]}),b.jsxs("div",{className:"page-content",children:[b.jsxs("div",{className:"grid grid-cols-4 gap-md mb-lg",children:[b.jsxs("div",{className:"stat-card",children:[b.jsx("div",{className:"stat-value",children:n.totalPatients}),b.jsx("div",{className:"stat-label",children:"Total Pasien"}),b.jsx(np,{className:"stat-icon",size:48})]}),b.jsxs("div",{className:"stat-card success",children:[b.jsx("div",{className:"stat-value",children:n.activeFiles}),b.jsx("div",{className:"stat-label",children:"Berkas Aktif"}),b.jsx(Bo,{className:"stat-icon",size:48})]}),b.jsxs("div",{className:"stat-card purple",children:[b.jsx("div",{className:"stat-value",children:n.todayActivity}),b.jsx("div",{className:"stat-label",children:"Aktivitas Hari Ini"}),b.jsx(Im,{className:"stat-icon",size:48})]}),b.jsxs("div",{className:"stat-card error",children:[b.jsx("div",{className:"stat-value",children:n.missingFiles}),b.jsx("div",{className:"stat-label",children:"Berkas Hilang"}),b.jsx(d0,{className:"stat-icon",size:48})]}),b.jsxs("div",{className:"stat-card warning",children:[b.jsx("div",{className:"stat-value",children:n.stuckFiles}),b.jsx("div",{className:"stat-label",children:"Berkas Macet (>24 Jam)"}),b.jsx(Im,{className:"stat-icon",size:48,style:{transform:"rotate(90deg)"}})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-lg",children:[b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"card-header",children:b.jsx("h2",{style:{fontSize:"1.125rem",fontWeight:600},children:"Status Lokasi Berkas"})}),b.jsx("div",{className:"card-body",children:b.jsx("div",{className:"chart-container",style:{height:"280px"},children:i.some(L=>L.count>0)?b.jsx(FC,{data:N,options:P}):b.jsxs("div",{className:"empty-state",children:[b.jsx(Ju,{className:"empty-state-icon"}),b.jsx("p",{children:"Belum ada data status lokasi"})]})})})]}),b.jsxs("div",{className:"card",children:[b.jsxs("div",{className:"card-header flex justify-between items-center",children:[b.jsx("h2",{style:{fontSize:"1.125rem",fontWeight:600},children:"Aktivitas Terbaru"}),b.jsx("span",{className:"badge badge-primary",children:"Realtime"})]}),b.jsx("div",{className:"card-body",style:{padding:0},children:o.length>0?b.jsx("div",{className:"recent-list",style:{padding:"var(--spacing-md)"},children:o.map(L=>b.jsxs("div",{className:"recent-item",style:{cursor:"default"},children:[b.jsx(tp,{size:16,style:{color:"var(--primary-500)",flexShrink:0}}),b.jsxs("div",{className:"recent-item-content",children:[b.jsxs("div",{className:"recent-item-title",children:[L.aksi,L.no_rm&&` - ${L.no_rm}`]}),b.jsxs("div",{className:"recent-item-subtitle",children:[L.profiles?.nama||"System",L.details?.status_lokasi&&b.jsxs(b.Fragment,{children:["  ",vs(L.details.status_lokasi,On)]})]})]}),b.jsx("div",{className:"recent-item-time",children:bw(L.created_at)})]},L.id))}):b.jsxs("div",{className:"empty-state",children:[b.jsx(tp,{className:"empty-state-icon"}),b.jsx("p",{children:"Belum ada aktivitas"})]})})]})]}),b.jsxs("div",{className:"card mt-lg",children:[b.jsx("div",{className:"card-header",children:b.jsx("h2",{style:{fontSize:"1.125rem",fontWeight:600},children:"Tren Aktivitas (7 Hari Terakhir)"})}),b.jsx("div",{className:"card-body",children:b.jsx("div",{className:"chart-container",style:{height:"300px"},children:b.jsx(DC,{data:t,options:r})})})]})]})]})};var UC=Object.defineProperty,fp=Object.getOwnPropertySymbols,ob=Object.prototype.hasOwnProperty,lb=Object.prototype.propertyIsEnumerable,K2=(n,e,t)=>e in n?UC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$m=(n,e)=>{for(var t in e||(e={}))ob.call(e,t)&&K2(n,t,e[t]);if(fp)for(var t of fp(e))lb.call(e,t)&&K2(n,t,e[t]);return n},cb=(n,e)=>{var t={};for(var r in n)ob.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&fp)for(var r of fp(n))e.indexOf(r)<0&&lb.call(n,r)&&(t[r]=n[r]);return t};var Dc;(n=>{const e=class{constructor(u,h,d,m){if(this.version=u,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],u<e.MIN_VERSION||u>e.MAX_VERSION)throw new RangeError("Version value out of range");if(m<-1||m>7)throw new RangeError("Mask value out of range");this.size=u*4+17;let y=[];for(let _=0;_<this.size;_++)y.push(!1);for(let _=0;_<this.size;_++)this.modules.push(y.slice()),this.isFunction.push(y.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(d);if(this.drawCodewords(g),m==-1){let _=1e9;for(let k=0;k<8;k++){this.applyMask(k),this.drawFormatBits(k);const N=this.getPenaltyScore();N<_&&(m=k,_=N),this.applyMask(k)}}s(0<=m&&m<=7),this.mask=m,this.applyMask(m),this.drawFormatBits(m),this.isFunction=[]}static encodeText(u,h){const d=n.QrSegment.makeSegments(u);return e.encodeSegments(d,h)}static encodeBinary(u,h){const d=n.QrSegment.makeBytes(u);return e.encodeSegments([d],h)}static encodeSegments(u,h,d=1,m=40,y=-1,g=!0){if(!(e.MIN_VERSION<=d&&d<=m&&m<=e.MAX_VERSION)||y<-1||y>7)throw new RangeError("Invalid value");let _,k;for(_=d;;_++){const T=e.getNumDataCodewords(_,h)*8,j=l.getTotalBits(u,_);if(j<=T){k=j;break}if(_>=m)throw new RangeError("Data too long")}for(const T of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])g&&k<=e.getNumDataCodewords(_,T)*8&&(h=T);let N=[];for(const T of u){r(T.mode.modeBits,4,N),r(T.numChars,T.mode.numCharCountBits(_),N);for(const j of T.getData())N.push(j)}s(N.length==k);const P=e.getNumDataCodewords(_,h)*8;s(N.length<=P),r(0,Math.min(4,P-N.length),N),r(0,(8-N.length%8)%8,N),s(N.length%8==0);for(let T=236;N.length<P;T^=253)r(T,8,N);let L=[];for(;L.length*8<N.length;)L.push(0);return N.forEach((T,j)=>L[j>>>3]|=T<<7-(j&7)),new e(_,h,L,y)}getModule(u,h){return 0<=u&&u<this.size&&0<=h&&h<this.size&&this.modules[h][u]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const u=this.getAlignmentPatternPositions(),h=u.length;for(let d=0;d<h;d++)for(let m=0;m<h;m++)d==0&&m==0||d==0&&m==h-1||d==h-1&&m==0||this.drawAlignmentPattern(u[d],u[m]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(u){const h=this.errorCorrectionLevel.formatBits<<3|u;let d=h;for(let y=0;y<10;y++)d=d<<1^(d>>>9)*1335;const m=(h<<10|d)^21522;s(m>>>15==0);for(let y=0;y<=5;y++)this.setFunctionModule(8,y,i(m,y));this.setFunctionModule(8,7,i(m,6)),this.setFunctionModule(8,8,i(m,7)),this.setFunctionModule(7,8,i(m,8));for(let y=9;y<15;y++)this.setFunctionModule(14-y,8,i(m,y));for(let y=0;y<8;y++)this.setFunctionModule(this.size-1-y,8,i(m,y));for(let y=8;y<15;y++)this.setFunctionModule(8,this.size-15+y,i(m,y));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let u=this.version;for(let d=0;d<12;d++)u=u<<1^(u>>>11)*7973;const h=this.version<<12|u;s(h>>>18==0);for(let d=0;d<18;d++){const m=i(h,d),y=this.size-11+d%3,g=Math.floor(d/3);this.setFunctionModule(y,g,m),this.setFunctionModule(g,y,m)}}drawFinderPattern(u,h){for(let d=-4;d<=4;d++)for(let m=-4;m<=4;m++){const y=Math.max(Math.abs(m),Math.abs(d)),g=u+m,_=h+d;0<=g&&g<this.size&&0<=_&&_<this.size&&this.setFunctionModule(g,_,y!=2&&y!=4)}}drawAlignmentPattern(u,h){for(let d=-2;d<=2;d++)for(let m=-2;m<=2;m++)this.setFunctionModule(u+m,h+d,Math.max(Math.abs(m),Math.abs(d))!=1)}setFunctionModule(u,h,d){this.modules[h][u]=d,this.isFunction[h][u]=!0}addEccAndInterleave(u){const h=this.version,d=this.errorCorrectionLevel;if(u.length!=e.getNumDataCodewords(h,d))throw new RangeError("Invalid argument");const m=e.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][h],y=e.ECC_CODEWORDS_PER_BLOCK[d.ordinal][h],g=Math.floor(e.getNumRawDataModules(h)/8),_=m-g%m,k=Math.floor(g/m);let N=[];const P=e.reedSolomonComputeDivisor(y);for(let T=0,j=0;T<m;T++){let D=u.slice(j,j+k-y+(T<_?0:1));j+=D.length;const Q=e.reedSolomonComputeRemainder(D,P);T<_&&D.push(0),N.push(D.concat(Q))}let L=[];for(let T=0;T<N[0].length;T++)N.forEach((j,D)=>{(T!=k-y||D>=_)&&L.push(j[T])});return s(L.length==g),L}drawCodewords(u){if(u.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let m=0;m<this.size;m++)for(let y=0;y<2;y++){const g=d-y,k=(d+1&2)==0?this.size-1-m:m;!this.isFunction[k][g]&&h<u.length*8&&(this.modules[k][g]=i(u[h>>>3],7-(h&7)),h++)}}s(h==u.length*8)}applyMask(u){if(u<0||u>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let d=0;d<this.size;d++){let m;switch(u){case 0:m=(d+h)%2==0;break;case 1:m=h%2==0;break;case 2:m=d%3==0;break;case 3:m=(d+h)%3==0;break;case 4:m=(Math.floor(d/3)+Math.floor(h/2))%2==0;break;case 5:m=d*h%2+d*h%3==0;break;case 6:m=(d*h%2+d*h%3)%2==0;break;case 7:m=((d+h)%2+d*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][d]&&m&&(this.modules[h][d]=!this.modules[h][d])}}getPenaltyScore(){let u=0;for(let y=0;y<this.size;y++){let g=!1,_=0,k=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[y][N]==g?(_++,_==5?u+=e.PENALTY_N1:_>5&&u++):(this.finderPenaltyAddHistory(_,k),g||(u+=this.finderPenaltyCountPatterns(k)*e.PENALTY_N3),g=this.modules[y][N],_=1);u+=this.finderPenaltyTerminateAndCount(g,_,k)*e.PENALTY_N3}for(let y=0;y<this.size;y++){let g=!1,_=0,k=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[N][y]==g?(_++,_==5?u+=e.PENALTY_N1:_>5&&u++):(this.finderPenaltyAddHistory(_,k),g||(u+=this.finderPenaltyCountPatterns(k)*e.PENALTY_N3),g=this.modules[N][y],_=1);u+=this.finderPenaltyTerminateAndCount(g,_,k)*e.PENALTY_N3}for(let y=0;y<this.size-1;y++)for(let g=0;g<this.size-1;g++){const _=this.modules[y][g];_==this.modules[y][g+1]&&_==this.modules[y+1][g]&&_==this.modules[y+1][g+1]&&(u+=e.PENALTY_N2)}let h=0;for(const y of this.modules)h=y.reduce((g,_)=>g+(_?1:0),h);const d=this.size*this.size,m=Math.ceil(Math.abs(h*20-d*10)/d)-1;return s(0<=m&&m<=9),u+=m*e.PENALTY_N4,s(0<=u&&u<=2568888),u}getAlignmentPatternPositions(){if(this.version==1)return[];{const u=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(u*2-2))*2;let d=[6];for(let m=this.size-7;d.length<u;m-=h)d.splice(1,0,m);return d}}static getNumRawDataModules(u){if(u<e.MIN_VERSION||u>e.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*u+128)*u+64;if(u>=2){const d=Math.floor(u/7)+2;h-=(25*d-10)*d-55,u>=7&&(h-=36)}return s(208<=h&&h<=29648),h}static getNumDataCodewords(u,h){return Math.floor(e.getNumRawDataModules(u)/8)-e.ECC_CODEWORDS_PER_BLOCK[h.ordinal][u]*e.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][u]}static reedSolomonComputeDivisor(u){if(u<1||u>255)throw new RangeError("Degree out of range");let h=[];for(let m=0;m<u-1;m++)h.push(0);h.push(1);let d=1;for(let m=0;m<u;m++){for(let y=0;y<h.length;y++)h[y]=e.reedSolomonMultiply(h[y],d),y+1<h.length&&(h[y]^=h[y+1]);d=e.reedSolomonMultiply(d,2)}return h}static reedSolomonComputeRemainder(u,h){let d=h.map(m=>0);for(const m of u){const y=m^d.shift();d.push(0),h.forEach((g,_)=>d[_]^=e.reedSolomonMultiply(g,y))}return d}static reedSolomonMultiply(u,h){if(u>>>8||h>>>8)throw new RangeError("Byte out of range");let d=0;for(let m=7;m>=0;m--)d=d<<1^(d>>>7)*285,d^=(h>>>m&1)*u;return s(d>>>8==0),d}finderPenaltyCountPatterns(u){const h=u[1];s(h<=this.size*3);const d=h>0&&u[2]==h&&u[3]==h*3&&u[4]==h&&u[5]==h;return(d&&u[0]>=h*4&&u[6]>=h?1:0)+(d&&u[6]>=h*4&&u[0]>=h?1:0)}finderPenaltyTerminateAndCount(u,h,d){return u&&(this.finderPenaltyAddHistory(h,d),h=0),h+=this.size,this.finderPenaltyAddHistory(h,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(u,h){h[0]==0&&(u+=this.size),h.pop(),h.unshift(u)}};let t=e;t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=t;function r(u,h,d){if(h<0||h>31||u>>>h)throw new RangeError("Value out of range");for(let m=h-1;m>=0;m--)d.push(u>>>m&1)}function i(u,h){return(u>>>h&1)!=0}function s(u){if(!u)throw new Error("Assertion error")}const o=class{constructor(u,h,d){if(this.mode=u,this.numChars=h,this.bitData=d,h<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(u){let h=[];for(const d of u)r(d,8,h);return new o(o.Mode.BYTE,u.length,h)}static makeNumeric(u){if(!o.isNumeric(u))throw new RangeError("String contains non-numeric characters");let h=[];for(let d=0;d<u.length;){const m=Math.min(u.length-d,3);r(parseInt(u.substr(d,m),10),m*3+1,h),d+=m}return new o(o.Mode.NUMERIC,u.length,h)}static makeAlphanumeric(u){if(!o.isAlphanumeric(u))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],d;for(d=0;d+2<=u.length;d+=2){let m=o.ALPHANUMERIC_CHARSET.indexOf(u.charAt(d))*45;m+=o.ALPHANUMERIC_CHARSET.indexOf(u.charAt(d+1)),r(m,11,h)}return d<u.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(u.charAt(d)),6,h),new o(o.Mode.ALPHANUMERIC,u.length,h)}static makeSegments(u){return u==""?[]:o.isNumeric(u)?[o.makeNumeric(u)]:o.isAlphanumeric(u)?[o.makeAlphanumeric(u)]:[o.makeBytes(o.toUtf8ByteArray(u))]}static makeEci(u){let h=[];if(u<0)throw new RangeError("ECI assignment value out of range");if(u<128)r(u,8,h);else if(u<16384)r(2,2,h),r(u,14,h);else if(u<1e6)r(6,3,h),r(u,21,h);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,h)}static isNumeric(u){return o.NUMERIC_REGEX.test(u)}static isAlphanumeric(u){return o.ALPHANUMERIC_REGEX.test(u)}getData(){return this.bitData.slice()}static getTotalBits(u,h){let d=0;for(const m of u){const y=m.mode.numCharCountBits(h);if(m.numChars>=1<<y)return 1/0;d+=4+y+m.bitData.length}return d}static toUtf8ByteArray(u){u=encodeURI(u);let h=[];for(let d=0;d<u.length;d++)u.charAt(d)!="%"?h.push(u.charCodeAt(d)):(h.push(parseInt(u.substr(d+1,2),16)),d+=2);return h}};let l=o;l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n.QrSegment=l})(Dc||(Dc={}));(n=>{(e=>{const t=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};let r=t;r.LOW=new t(0,1),r.MEDIUM=new t(1,0),r.QUARTILE=new t(2,3),r.HIGH=new t(3,2),e.Ecc=r})(n.QrCode||(n.QrCode={}))})(Dc||(Dc={}));(n=>{(e=>{const t=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=t;r.NUMERIC=new t(1,[10,12,14]),r.ALPHANUMERIC=new t(2,[9,11,13]),r.BYTE=new t(4,[8,16,16]),r.KANJI=new t(8,[8,10,12]),r.ECI=new t(7,[0,0,0]),e.Mode=r})(n.QrSegment||(n.QrSegment={}))})(Dc||(Dc={}));var Bu=Dc;var ub={L:Bu.QrCode.Ecc.LOW,M:Bu.QrCode.Ecc.MEDIUM,Q:Bu.QrCode.Ecc.QUARTILE,H:Bu.QrCode.Ecc.HIGH},hb=128,db="L",fb="#FFFFFF",pb="#000000",gb=!1,O0=4,zC=.1;function mb(n,e=0){const t=[];return n.forEach(function(r,i){let s=null;r.forEach(function(o,l){if(!o&&s!==null){t.push(`M${s+e} ${i+e}h${l-s}v1H${s+e}z`),s=null;return}if(l===r.length-1){if(!o)return;s===null?t.push(`M${l+e},${i+e} h1v1H${l+e}z`):t.push(`M${s+e},${i+e} h${l+1-s}v1H${s+e}z`);return}o&&s===null&&(s=l)})}),t.join("")}function vb(n,e){return n.slice().map((t,r)=>r<e.y||r>=e.y+e.h?t:t.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function yb(n,e,t,r){if(r==null)return null;const i=t?O0:0,s=n.length+i*2,o=Math.floor(e*zC),l=s/e,u=(r.width||o)*l,h=(r.height||o)*l,d=r.x==null?n.length/2-u/2:r.x*l,m=r.y==null?n.length/2-h/2:r.y*l;let y=null;if(r.excavate){let g=Math.floor(d),_=Math.floor(m),k=Math.ceil(u+d-g),N=Math.ceil(h+m-_);y={x:g,y:_,w:k,h:N}}return{x:d,y:m,h,w:u,excavation:y}}var WC=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function qC(n){const e=n,{value:t,size:r=hb,level:i=db,bgColor:s=fb,fgColor:o=pb,includeMargin:l=gb,style:u,imageSettings:h}=e,d=cb(e,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),m=h?.src,y=Gi.useRef(null),g=Gi.useRef(null),[_,k]=Gi.useState(!1);Gi.useEffect(()=>{if(y.current!=null){const L=y.current,T=L.getContext("2d");if(!T)return;let j=Bu.QrCode.encodeText(t,ub[i]).getModules();const D=l?O0:0,Q=j.length+D*2,U=yb(j,r,l,h),H=g.current,W=U!=null&&H!==null&&H.complete&&H.naturalHeight!==0&&H.naturalWidth!==0;W&&U.excavation!=null&&(j=vb(j,U.excavation));const ae=window.devicePixelRatio||1;L.height=L.width=r*ae;const I=r/Q*ae;T.scale(I,I),T.fillStyle=s,T.fillRect(0,0,Q,Q),T.fillStyle=o,WC?T.fill(new Path2D(mb(j,D))):j.forEach(function(q,ne){q.forEach(function(re,ve){re&&T.fillRect(ve+D,ne+D,1,1)})}),W&&T.drawImage(H,U.x+D,U.y+D,U.w,U.h)}}),Gi.useEffect(()=>{k(!1)},[m]);const N=$m({height:r,width:r},u);let P=null;return m!=null&&(P=Gi.createElement("img",{src:m,key:m,style:{display:"none"},onLoad:()=>{k(!0)},ref:g})),Gi.createElement(Gi.Fragment,null,Gi.createElement("canvas",$m({style:N,height:r,width:r,ref:y},d)),P)}function wb(n){const e=n,{value:t,size:r=hb,level:i=db,bgColor:s=fb,fgColor:o=pb,includeMargin:l=gb,imageSettings:u}=e,h=cb(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let d=Bu.QrCode.encodeText(t,ub[i]).getModules();const m=l?O0:0,y=d.length+m*2,g=yb(d,r,l,u);let _=null;u!=null&&g!=null&&(g.excavation!=null&&(d=vb(d,g.excavation)),_=Gi.createElement("image",{xlinkHref:u.src,height:g.h,width:g.w,x:g.x+m,y:g.y+m,preserveAspectRatio:"none"}));const k=mb(d,m);return Gi.createElement("svg",$m({height:r,width:r,viewBox:`0 0 ${y} ${y}`},h),Gi.createElement("path",{fill:s,d:`M0,0 h${y}v${y}H0z`,shapeRendering:"crispEdges"}),Gi.createElement("path",{fill:o,d:k,shapeRendering:"crispEdges"}),_)}const HC=()=>{const[n,e]=de.useState([]),[t,r]=de.useState(!0),[i,s]=de.useState(""),[o,l]=de.useState(1),[u,h]=de.useState(0),[d,m]=de.useState(!1),[y,g]=de.useState(null),[_,k]=de.useState({no_rm:"",nama:"",tanggal_lahir:""}),[N,P]=de.useState(!1),[L,T]=de.useState(!1),[j,D]=de.useState(null),[Q,U]=de.useState([]),{success:H,error:W}=$a();de.useEffect(()=>{ae()},[o,i]);const ae=async()=>{r(!0);try{let le=ut.from("patients").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range((o-1)*ua,o*ua-1);i&&(le=le.or(`no_rm.ilike.%${i}%,nama.ilike.%${i}%`));const{data:K,count:O,error:Y}=await le;if(Y)throw Y;const ee=K.map(_e=>_e.id),{data:oe}=await ut.from("tracer").select("patient_id, status_lokasi, updated_at").in("patient_id",ee).order("updated_at",{ascending:!1}),ce={};oe?.forEach(_e=>{ce[_e.patient_id]||(ce[_e.patient_id]=_e.status_lokasi)});const ye=K.map(_e=>({..._e,current_status:ce[_e.id]||null}));e(ye),h(O||0)}catch(le){W("Gagal memuat data pasien"),console.error(le)}r(!1)},I=Ep(le=>{s(le),l(1)},300),q=()=>{g(null),k({no_rm:_A(),nama:"",tanggal_lahir:""}),m(!0)},ne=le=>{g(le),k({no_rm:le.no_rm,nama:le.nama,tanggal_lahir:le.tanggal_lahir||""}),m(!0)},re=async le=>{if(le.preventDefault(),!_.no_rm||!_.nama){W("No RM dan Nama harus diisi");return}P(!0);try{if(y){const{error:K}=await ut.from("patients").update({no_rm:_.no_rm,nama:_.nama,tanggal_lahir:_.tanggal_lahir||null,qr_code:Yh(_.no_rm)}).eq("id",y.id);if(K)throw K;await ut.rpc("log_activity",{p_aksi:"UPDATE_PATIENT",p_no_rm:_.no_rm,p_details:{nama:_.nama}}),H("Data pasien berhasil diperbarui")}else{const{error:K}=await ut.from("patients").insert({no_rm:_.no_rm,nama:_.nama,tanggal_lahir:_.tanggal_lahir||null,qr_code:Yh(_.no_rm)});if(K){if(K.code==="23505"){W("Nomor RM sudah terdaftar"),P(!1);return}throw K}await ut.rpc("log_activity",{p_aksi:"CREATE_PATIENT",p_no_rm:_.no_rm,p_details:{nama:_.nama}}),H("Pasien baru berhasil ditambahkan")}m(!1),ae()}catch(K){W("Gagal menyimpan data pasien"),console.error(K)}P(!1)},ve=async le=>{if(confirm(`Hapus pasien ${le.nama} (${le.no_rm})?`))try{const{error:K}=await ut.from("patients").delete().eq("id",le.id);if(K)throw K;await ut.rpc("log_activity",{p_aksi:"DELETE_PATIENT",p_no_rm:le.no_rm,p_details:{nama:le.nama}}),H("Pasien berhasil dihapus"),ae()}catch(K){W("Gagal menghapus pasien"),console.error(K)}},be=le=>{D(le),T(!0)},he=le=>{U(K=>K.find(Y=>Y.id===le.id)?K.filter(Y=>Y.id!==le.id):[...K,le])},$=()=>{Q.length===n.length?U([]):U([...n])},ie=Math.ceil(u/ua);return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"page-header",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"page-title",children:"Manajemen Pasien"}),b.jsx("p",{className:"page-subtitle",children:"Kelola data pasien dan berkas rekam medis"})]}),b.jsxs("div",{className:"flex gap-sm",children:[Q.length>0&&b.jsxs(Io,{to:"/admin/patients/print",state:{patients:Q},className:"btn btn-secondary",children:[b.jsx(Rm,{size:18}),"Print QR (",Q.length,")"]}),b.jsxs("button",{className:"btn btn-primary",onClick:q,children:[b.jsx(rw,{size:18}),"Tambah Pasien"]})]})]})}),b.jsxs("div",{className:"page-content",children:[b.jsx("div",{className:"card mb-lg",children:b.jsx("div",{className:"card-body",children:b.jsxs("div",{className:"search-box",children:[b.jsx(Ml,{className:"search-box-icon",size:18}),b.jsx("input",{type:"text",className:"form-input",placeholder:"Cari berdasarkan No RM atau Nama...",onChange:le=>I(le.target.value)})]})})}),b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"table-container",children:b.jsxs("table",{className:"table",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{style:{width:40},children:b.jsx("input",{type:"checkbox",checked:Q.length===n.length&&n.length>0,onChange:$,className:"form-check-input"})}),b.jsx("th",{children:"No. RM"}),b.jsx("th",{children:"Nama Pasien"}),b.jsx("th",{children:"Tanggal Lahir"}),b.jsx("th",{children:"Usia"}),b.jsx("th",{children:"Status Lokasi"}),b.jsx("th",{style:{width:150},children:"Aksi"})]})}),b.jsx("tbody",{children:t?[...Array(5)].map((le,K)=>b.jsx("tr",{children:b.jsx("td",{colSpan:7,children:b.jsx("div",{className:"skeleton skeleton-text"})})},K)):n.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:7,children:b.jsxs("div",{className:"empty-state",children:[b.jsx(Bo,{className:"empty-state-icon"}),b.jsx("p",{className:"empty-state-title",children:"Tidak ada data"}),b.jsx("p",{className:"empty-state-description",children:i?"Tidak ditemukan pasien dengan kata kunci tersebut":"Belum ada data pasien"})]})})}):n.map(le=>b.jsxs("tr",{children:[b.jsx("td",{children:b.jsx("input",{type:"checkbox",checked:Q.some(K=>K.id===le.id),onChange:()=>he(le),className:"form-check-input"})}),b.jsx("td",{children:b.jsx("span",{className:"font-semibold",style:{color:"var(--primary-600)"},children:le.no_rm})}),b.jsx("td",{children:le.nama}),b.jsx("td",{children:Fl(le.tanggal_lahir)}),b.jsx("td",{children:jp(le.tanggal_lahir)}),b.jsx("td",{children:le.current_status?b.jsx("span",{className:"badge",style:{backgroundColor:`${ha(le.current_status,On)}20`,color:ha(le.current_status,On)},children:vs(le.current_status,On)}):b.jsx("span",{className:"badge badge-gray",children:"Belum ada"})}),b.jsx("td",{children:b.jsxs("div",{className:"table-actions",children:[b.jsx(Io,{to:`/admin/patients/${le.id}`,className:"btn btn-icon btn-ghost btn-sm",title:"Lihat Detail",children:b.jsx(Q5,{size:16})}),b.jsx("button",{className:"btn btn-icon btn-ghost btn-sm",title:"Lihat QR",onClick:()=>be(le),children:b.jsx(Xu,{size:16})}),b.jsx("button",{className:"btn btn-icon btn-ghost btn-sm",title:"Edit",onClick:()=>ne(le),children:b.jsx(nw,{size:16})}),b.jsx("button",{className:"btn btn-icon btn-ghost btn-sm",title:"Hapus",onClick:()=>ve(le),style:{color:"var(--error)"},children:b.jsx(aw,{size:16})})]})})]},le.id))})]})}),ie>1&&b.jsx("div",{className:"card-footer",children:b.jsxs("div",{className:"pagination",children:[b.jsx("button",{className:"pagination-btn",disabled:o===1,onClick:()=>l(le=>le-1),children:b.jsx(X5,{size:16})}),[...Array(ie)].map((le,K)=>b.jsx("button",{className:`pagination-btn ${o===K+1?"active":""}`,onClick:()=>l(K+1),children:K+1},K)),b.jsx("button",{className:"pagination-btn",disabled:o===ie,onClick:()=>l(le=>le+1),children:b.jsx(Pp,{size:16})})]})})]})]}),d&&b.jsx("div",{className:"modal-overlay",onClick:()=>m(!1),children:b.jsxs("div",{className:"modal",onClick:le=>le.stopPropagation(),children:[b.jsxs("div",{className:"modal-header",children:[b.jsx("h3",{className:"modal-title",children:y?"Edit Pasien":"Tambah Pasien Baru"}),b.jsx("button",{className:"modal-close",onClick:()=>m(!1),children:b.jsx(Mc,{size:20})})]}),b.jsxs("form",{onSubmit:re,children:[b.jsxs("div",{className:"modal-body",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Nomor Rekam Medis"}),b.jsx("input",{type:"text",className:"form-input",value:_.no_rm,onChange:le=>k({..._,no_rm:le.target.value}),placeholder:"RM-XXXXXX",required:!0}),!y&&b.jsx("p",{className:"form-hint",children:"Nomor RM digenerate otomatis, bisa diubah manual"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Nama Pasien"}),b.jsx("input",{type:"text",className:"form-input",value:_.nama,onChange:le=>k({..._,nama:le.target.value}),placeholder:"Masukkan nama lengkap",required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Tanggal Lahir"}),b.jsx("input",{type:"date",className:"form-input",value:_.tanggal_lahir,onChange:le=>k({..._,tanggal_lahir:le.target.value})})]})]}),b.jsxs("div",{className:"modal-footer",children:[b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>m(!1),children:"Batal"}),b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:N,children:N?"Menyimpan...":"Simpan"})]})]})]})}),L&&j&&b.jsx("div",{className:"modal-overlay",onClick:()=>T(!1),children:b.jsxs("div",{className:"modal",onClick:le=>le.stopPropagation(),style:{maxWidth:360},children:[b.jsxs("div",{className:"modal-header",children:[b.jsx("h3",{className:"modal-title",children:"QR Code"}),b.jsx("button",{className:"modal-close",onClick:()=>T(!1),children:b.jsx(Mc,{size:20})})]}),b.jsxs("div",{className:"modal-body text-center",children:[b.jsx("div",{className:"qr-code-display",children:b.jsx(wb,{value:Yh(j.no_rm),size:200,level:"H"})}),b.jsxs("div",{className:"qr-code-info",children:[b.jsx("div",{className:"qr-code-no-rm",children:j.no_rm}),b.jsx("div",{className:"text-secondary",children:j.nama})]})]}),b.jsx("div",{className:"modal-footer",children:b.jsxs("button",{className:"btn btn-primary btn-block",onClick:()=>{U([j]),T(!1)},children:[b.jsx(Rm,{size:18}),"Cetak QR Code"]})})]})})]})},$C=()=>{const{id:n}=$x(),e=Wl(),{profile:t}=Bs(),{success:r,error:i}=$a(),[s,o]=de.useState(null),[l,u]=de.useState([]),[h,d]=de.useState(!0),[m,y]=de.useState(!1),[g,_]=de.useState(null),[k,N]=de.useState("");de.useEffect(()=>{P()},[n]);const P=async()=>{d(!0);try{const{data:D,error:Q}=await ut.from("patients").select("*").eq("id",n).single();if(Q)throw Q;o(D),L()}catch(D){console.error("Error fetching data:",D),i("Gagal memuat data pasien")}d(!1)},L=async()=>{const{data:D,error:Q}=await ut.from("tracer").select(`
                *,
                profiles:petugas_id (nama)
            `).eq("patient_id",n).order("created_at",{ascending:!1});if(Q){console.error("Error fetching history:",Q);return}u(D||[])},T=async()=>{if(g){y(!0);try{const{data:D,error:Q}=await ut.from("tracer").insert({patient_id:n,status_lokasi:g,keterangan:k||null,petugas_id:t.id}).select().single();if(Q)throw Q;await ut.rpc("log_activity",{p_aksi:"UPDATE_STATUS_ADMIN",p_no_rm:s.no_rm,p_details:{status_lokasi:g,keterangan:k||null}}),r("Status lokasi berhasil diperbarui"),_(null),N(""),L()}catch(D){console.error("Error updating status:",D),i("Gagal memperbarui status")}y(!1)}};if(h)return b.jsxs("div",{className:"page-content",children:[b.jsx("div",{className:"skeleton",style:{height:200,marginBottom:20}}),b.jsx("div",{className:"skeleton",style:{height:400}})]});if(!s)return b.jsxs("div",{className:"page-content text-center",children:[b.jsx("h3",{children:"Pasien tidak ditemukan"}),b.jsx("button",{className:"btn btn-primary mt-md",onClick:()=>e("/admin/patients"),children:"Kembali"})]});const j=l.length>0?l[0].status_lokasi:null;return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"page-header",children:b.jsx("div",{className:"flex justify-between items-center",children:b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-sm mb-xs",children:[b.jsx("button",{className:"btn btn-icon btn-ghost btn-sm",onClick:()=>e("/admin/patients"),children:b.jsx(Om,{size:20})}),b.jsx("h1",{className:"page-title",children:"Detail Pasien"})]}),b.jsx("p",{className:"page-subtitle ml-xl",children:"Informasi dan riwayat rekam medis"})]})})}),b.jsx("div",{className:"page-content",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-lg",children:[b.jsxs("div",{className:"md:col-span-1 flex flex-col gap-lg",children:[b.jsx("div",{className:"card",children:b.jsxs("div",{className:"card-body",children:[b.jsx("div",{className:"mb-md",children:b.jsx("span",{className:"badge badge-primary font-mono text-lg",children:s.no_rm})}),b.jsx("h2",{className:"text-xl font-bold mb-sm",children:s.nama}),b.jsxs("div",{className:"text-secondary flex flex-col gap-xs text-sm",children:[b.jsxs("div",{className:"flex items-center gap-sm",children:[b.jsx(J5,{size:16}),b.jsxs("span",{children:["Lahir: ",Fl(s.tanggal_lahir)]})]}),b.jsxs("div",{className:"flex items-center gap-sm",children:[b.jsx(fd,{size:16}),b.jsxs("span",{children:["Usia: ",jp(s.tanggal_lahir)]})]})]}),b.jsxs("div",{className:"mt-lg pt-md border-t border-gray-200",children:[b.jsx("p",{className:"text-sm font-medium text-secondary mb-xs",children:"Lokasi Terakhir"}),j?b.jsxs("div",{className:"flex items-center gap-sm",children:[b.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ha(j,On)}}),b.jsx("span",{className:"font-semibold text-lg",children:vs(j,On)})]}):b.jsx("span",{className:"badge badge-gray",children:"Belum ada riwayat"})]})]})}),b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"card-header",children:b.jsxs("h3",{className:"card-title text-lg font-semibold flex items-center gap-sm",children:[b.jsx(Ju,{size:20}),"Update Lokasi"]})}),b.jsxs("div",{className:"card-body",children:[b.jsx("div",{className:"flex flex-col gap-sm",children:On.map(D=>b.jsxs("button",{className:`btn justify-between ${g===D.value?"active":""}`,onClick:()=>_(D.value),style:{background:g===D.value?`${D.color}10`:"white",borderColor:g===D.value?D.color:"var(--border)",borderWidth:"1px",borderStyle:"solid",color:"var(--text-primary)"},children:[b.jsxs("div",{className:"flex items-center gap-sm",children:[b.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:D.color}}),D.label]}),g===D.value&&b.jsx(f0,{size:16,style:{color:D.color}})]},D.value))}),b.jsxs("div",{className:"mt-md",children:[b.jsx("label",{className:"form-label",children:"Keterangan"}),b.jsx("textarea",{className:"form-input",rows:2,placeholder:"Catatan tambahan...",value:k,onChange:D=>N(D.target.value)})]}),b.jsx("button",{className:"btn btn-primary btn-block mt-md",disabled:!g||m,onClick:T,children:m?"Menyimpan...":"Simpan Perubahan"})]})]})]}),b.jsx("div",{className:"md:col-span-2",children:b.jsxs("div",{className:"card h-full",children:[b.jsxs("div",{className:"card-header flex justify-between items-center",children:[b.jsxs("h3",{className:"card-title text-lg font-semibold flex items-center gap-sm",children:[b.jsx(e4,{size:20}),"Riwayat Perpindahan"]}),b.jsxs("span",{className:"text-sm text-secondary",children:["Total: ",l.length," aktivitas"]})]}),b.jsx("div",{className:"card-body",children:l.length===0?b.jsx("div",{className:"empty-state",children:b.jsx("p",{children:"Belum ada riwayat perpindahan berkas."})}):b.jsx("div",{className:"relative pl-4 border-l-2 border-gray-100 space-y-8",children:l.map((D,Q)=>b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute -left-[21px] top-1 w-3 h-3 rounded-full border-2 border-white box-content",style:{backgroundColor:ha(D.status_lokasi,On)}}),b.jsxs("div",{className:"flex flex-col gap-xs",children:[b.jsxs("div",{className:"flex items-baseline justify-between",children:[b.jsx("span",{className:"font-semibold",style:{color:ha(D.status_lokasi,On)},children:vs(D.status_lokasi,On)}),b.jsxs("span",{className:"text-xs text-secondary flex items-center gap-xs",children:[b.jsx(dd,{size:12}),Du(D.created_at)]})]}),D.keterangan&&b.jsxs("div",{className:"bg-gray-50 p-sm rounded text-sm text-secondary max-w-full break-words",children:['"',D.keterangan,'"']}),b.jsxs("div",{className:"text-xs text-muted flex items-center gap-xs mt-xs",children:[b.jsx(fd,{size:12}),b.jsxs("span",{children:["Petugas: ",D.profiles?.nama||"Unknown"]})]})]})]},D.id))})})]})})]})})]})},VC=()=>{const[n,e]=de.useState([]),[t,r]=de.useState(!0),[i,s]=de.useState(""),[o,l]=de.useState(1),[u,h]=de.useState(0),[d,m]=de.useState(!1),[y,g]=de.useState(!1),[_,k]=de.useState(null),[N,P]=de.useState(null),[L,T]=de.useState(""),[j,D]=de.useState({email:"",password:"",nama:"",role:"petugas"}),[Q,U]=de.useState(!1),{success:H,error:W}=$a();de.useEffect(()=>{ae()},[o,i]);const ae=async()=>{r(!0);try{let $=ut.from("profiles").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range((o-1)*ua,o*ua-1);i&&($=$.or(`nama.ilike.%${i}%,email.ilike.%${i}%`));const{data:ie,count:le,error:K}=await $;if(K)throw K;e(ie||[]),h(le||0)}catch($){W("Gagal memuat data user"),console.error($)}r(!1)},I=Ep($=>{s($),l(1)},300),q=()=>{k(null),D({email:"",password:"",nama:"",role:"petugas"}),m(!0)},ne=$=>{k($),D({email:$.email,password:"",nama:$.nama,role:$.role}),m(!0)},re=async $=>{if($.preventDefault(),!j.nama||!j.email){W("Nama dan Email harus diisi");return}if(!_&&!j.password){W("Password harus diisi untuk user baru");return}U(!0);try{if(_){const{error:ie}=await ut.from("profiles").update({nama:j.nama,role:j.role}).eq("id",_.id);if(ie)throw ie;await ut.rpc("log_activity",{p_aksi:"UPDATE_USER",p_details:{email:j.email,role:j.role}}),H("User berhasil diperbarui")}else{const{data:ie,error:le}=await ut.auth.signUp({email:j.email,password:j.password,options:{data:{nama:j.nama,role:j.role}}});if(le)throw le;await ut.rpc("log_activity",{p_aksi:"CREATE_USER",p_details:{email:j.email,role:j.role}}),H("User baru berhasil ditambahkan")}m(!1),ae()}catch(ie){W(ie.message||"Gagal menyimpan user"),console.error(ie)}U(!1)},ve=async $=>{try{const{error:ie}=await ut.from("profiles").update({is_active:!$.is_active}).eq("id",$.id);if(ie)throw ie;H($.is_active?"User dinonaktifkan":"User diaktifkan"),ae()}catch(ie){W("Gagal mengubah status user"),console.error(ie)}},be=async $=>{if(confirm(`Hapus user ${$.nama} (${$.email})?

Tindakan ini tidak dapat dibatalkan. Riwayat aktivitas user ini akan tetap ada namun tanpa nama.`)){r(!0);try{const{error:ie}=await ut.rpc("delete_user_by_admin",{target_user_id:$.id});if(ie)throw ie;await ut.rpc("log_activity",{p_aksi:"DELETE_USER",p_details:{email:$.email,nama:$.nama}}),H(`User ${$.nama} berhasil dihapus`),ae()}catch(ie){W(ie.message||"Gagal menghapus user"),console.error(ie),r(!1)}}},he=Math.ceil(u/ua);return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"page-header",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"page-title",children:"Manajemen User"}),b.jsx("p",{className:"page-subtitle",children:"Kelola akun pengguna dan hak akses"})]}),b.jsxs("button",{className:"btn btn-primary",onClick:q,children:[b.jsx(rw,{size:18}),"Tambah User"]})]})}),b.jsxs("div",{className:"page-content",children:[b.jsx("div",{className:"card mb-lg",children:b.jsx("div",{className:"card-body",children:b.jsxs("div",{className:"search-box",children:[b.jsx(Ml,{className:"search-box-icon",size:18}),b.jsx("input",{type:"text",className:"form-input",placeholder:"Cari berdasarkan nama atau email...",onChange:$=>I($.target.value)})]})})}),b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"table-container",children:b.jsxs("table",{className:"table",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{children:"Nama"}),b.jsx("th",{children:"Email"}),b.jsx("th",{children:"Role"}),b.jsx("th",{children:"Status"}),b.jsx("th",{children:"Dibuat"}),b.jsx("th",{style:{width:150},children:"Aksi"})]})}),b.jsx("tbody",{children:t?[...Array(5)].map(($,ie)=>b.jsx("tr",{children:b.jsx("td",{colSpan:6,children:b.jsx("div",{className:"skeleton skeleton-text"})})},ie)):n.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:6,children:b.jsxs("div",{className:"empty-state",children:[b.jsx(np,{className:"empty-state-icon"}),b.jsx("p",{className:"empty-state-title",children:"Tidak ada data"}),b.jsx("p",{className:"empty-state-description",children:i?"Tidak ditemukan user dengan kata kunci tersebut":"Belum ada data user"})]})})}):n.map($=>b.jsxs("tr",{children:[b.jsx("td",{children:b.jsxs("div",{className:"flex items-center gap-md",children:[b.jsx("div",{className:"user-avatar",style:{background:$.role==="admin"?"linear-gradient(135deg, var(--primary-500), var(--primary-700))":"var(--gray-300)",color:$.role==="admin"?"white":"var(--gray-700)"},children:$.nama?.charAt(0).toUpperCase()||"U"}),b.jsx("span",{className:"font-medium",children:$.nama})]})}),b.jsx("td",{children:$.email}),b.jsx("td",{children:b.jsx("span",{className:`badge ${$.role==="admin"?"badge-primary":"badge-gray"}`,children:$.role==="admin"?b.jsxs(b.Fragment,{children:[b.jsx(a4,{size:12})," Admin"]}):b.jsxs(b.Fragment,{children:[b.jsx(sw,{size:12})," Petugas"]})})}),b.jsx("td",{children:b.jsx("span",{className:`badge ${$.is_active?"badge-success":"badge-error"}`,children:$.is_active?"Aktif":"Nonaktif"})}),b.jsx("td",{children:Fl($.created_at)}),b.jsx("td",{children:b.jsxs("div",{className:"table-actions",children:[b.jsx("button",{className:"btn btn-icon btn-ghost btn-sm",title:$.is_active?"Nonaktifkan":"Aktifkan",onClick:()=>ve($),children:$.is_active?b.jsx(l4,{size:16}):b.jsx(o4,{size:16})}),b.jsx("button",{className:"btn btn-icon btn-ghost btn-sm",title:"Edit",onClick:()=>ne($),children:b.jsx(nw,{size:16})}),b.jsx("button",{className:"btn btn-icon btn-ghost btn-sm",title:"Reset Password",onClick:()=>{P($),T(""),g(!0)},style:{color:"var(--warning)"},children:b.jsx(Z5,{size:16})}),b.jsx("button",{className:"btn btn-icon btn-ghost btn-sm",title:"Hapus",onClick:()=>be($),style:{color:"var(--error)"},children:b.jsx(aw,{size:16})})]})})]},$.id))})]})}),he>1&&b.jsx("div",{className:"card-footer",children:b.jsxs("div",{className:"pagination",children:[b.jsx("button",{className:"pagination-btn",disabled:o===1,onClick:()=>l($=>$-1),children:b.jsx(X5,{size:16})}),[...Array(he)].map(($,ie)=>b.jsx("button",{className:`pagination-btn ${o===ie+1?"active":""}`,onClick:()=>l(ie+1),children:ie+1},ie)),b.jsx("button",{className:"pagination-btn",disabled:o===he,onClick:()=>l($=>$+1),children:b.jsx(Pp,{size:16})})]})})]})]}),d&&b.jsx("div",{className:"modal-overlay",onClick:()=>m(!1),children:b.jsxs("div",{className:"modal",onClick:$=>$.stopPropagation(),children:[b.jsxs("div",{className:"modal-header",children:[b.jsx("h3",{className:"modal-title",children:_?"Edit User":"Tambah User Baru"}),b.jsx("button",{className:"modal-close",onClick:()=>m(!1),children:b.jsx(Mc,{size:20})})]}),b.jsxs("form",{onSubmit:re,children:[b.jsxs("div",{className:"modal-body",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Nama Lengkap"}),b.jsx("input",{type:"text",className:"form-input",value:j.nama,onChange:$=>D({...j,nama:$.target.value}),placeholder:"Masukkan nama lengkap",required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Email"}),b.jsx("input",{type:"email",className:"form-input",value:j.email,onChange:$=>D({...j,email:$.target.value}),placeholder:"nama@rumahsakit.com",disabled:!!_,required:!0}),_&&b.jsx("p",{className:"form-hint",children:"Email tidak dapat diubah"})]}),!_&&b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Password"}),b.jsx("input",{type:"password",className:"form-input",value:j.password,onChange:$=>D({...j,password:$.target.value}),placeholder:"Minimal 6 karakter",minLength:6,required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Role"}),b.jsxs("select",{className:"form-input form-select",value:j.role,onChange:$=>D({...j,role:$.target.value}),children:[b.jsx("option",{value:"petugas",children:"Petugas"}),b.jsx("option",{value:"admin",children:"Admin"})]})]})]}),b.jsxs("div",{className:"modal-footer",children:[b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>m(!1),children:"Batal"}),b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Q,children:Q?"Menyimpan...":"Simpan"})]})]})]})}),y&&b.jsx("div",{className:"modal-overlay",onClick:()=>g(!1),children:b.jsxs("div",{className:"modal",onClick:$=>$.stopPropagation(),children:[b.jsxs("div",{className:"modal-header",children:[b.jsxs("h3",{className:"modal-title flex items-center gap-sm",children:[b.jsx(p0,{size:20}),"Reset Password User"]}),b.jsx("button",{className:"modal-close",onClick:()=>g(!1),children:b.jsx(Mc,{size:20})})]}),b.jsxs("form",{onSubmit:async $=>{if($.preventDefault(),L.length<6){W("Password minimal 6 karakter");return}U(!0);try{const{error:ie}=await ut.rpc("reset_user_password",{target_user_id:N.id,new_password:L});if(ie)throw ie;H(`Password untuk ${N.nama} berhasil direset`),g(!1)}catch(ie){W(ie.message||"Gagal mereset password"),console.error(ie)}U(!1)},children:[b.jsxs("div",{className:"modal-body",children:[b.jsx("div",{className:"alert alert-warning mb-md",children:b.jsxs("p",{className:"text-sm",children:["Anda akan mengubah password untuk user ",b.jsx("strong",{children:N?.nama})," (",N?.email,")."]})}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Password Baru"}),b.jsx("input",{type:"password",className:"form-input",value:L,onChange:$=>T($.target.value),placeholder:"Minimal 6 karakter",minLength:6,required:!0})]})]}),b.jsxs("div",{className:"modal-footer",children:[b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>g(!1),children:"Batal"}),b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Q,children:Q?"Mereset...":"Reset Password"})]})]})]})})]})},GC="modulepreload",KC=function(n){return"/"+n},Y2={},qf=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let u=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=u(t.map(h=>{if(h=KC(h),h in Y2)return;Y2[h]=!0;const d=h.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const y=document.createElement("link");if(y.rel=d?"stylesheet":GC,d||(y.as="script"),y.crossOrigin="",y.href=h,l&&y.setAttribute("nonce",l),document.head.appendChild(y),d)return new Promise((g,_)=>{y.addEventListener("load",g),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function wn(n){"@babel/helpers - typeof";return wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wn(n)}var fa=Uint8Array,ms=Uint16Array,R0=Int32Array,M0=new fa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),I0=new fa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),J2=new fa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bb=function(n,e){for(var t=new ms(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new R0(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},_b=bb(M0,2),YC=_b.b,Vm=_b.r;YC[28]=258,Vm[258]=28;var JC=bb(I0,0),X2=JC.r,Gm=new ms(32768);for(var Fn=0;Fn<32768;++Fn){var Nl=(Fn&43690)>>1|(Fn&21845)<<1;Nl=(Nl&52428)>>2|(Nl&13107)<<2,Nl=(Nl&61680)>>4|(Nl&3855)<<4,Gm[Fn]=((Nl&65280)>>8|(Nl&255)<<8)>>1}var td=(function(n,e,t){for(var r=n.length,i=0,s=new ms(e);i<r;++i)n[i]&&++s[n[i]-1];var o=new ms(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var l;if(t){l=new ms(1<<e);var u=15-e;for(i=0;i<r;++i)if(n[i])for(var h=i<<4|n[i],d=e-n[i],m=o[n[i]-1]++<<d,y=m|(1<<d)-1;m<=y;++m)l[Gm[m]>>u]=h}else for(l=new ms(r),i=0;i<r;++i)n[i]&&(l[i]=Gm[o[n[i]-1]++]>>15-n[i]);return l}),Fc=new fa(288);for(var Fn=0;Fn<144;++Fn)Fc[Fn]=8;for(var Fn=144;Fn<256;++Fn)Fc[Fn]=9;for(var Fn=256;Fn<280;++Fn)Fc[Fn]=7;for(var Fn=280;Fn<288;++Fn)Fc[Fn]=8;var pp=new fa(32);for(var Fn=0;Fn<32;++Fn)pp[Fn]=5;var XC=td(Fc,9,0),QC=td(pp,5,0),xb=function(n){return(n+7)/8|0},ZC=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new fa(n.subarray(e,t))},Eo=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},zh=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},Kg=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:kb,l:0};if(i==1){var o=new fa(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(D,Q){return D.f-Q.f}),t.push({s:-1,f:25001});var l=t[0],u=t[1],h=0,d=1,m=2;for(t[0]={s:-1,f:l.f+u.f,l,r:u};d!=i-1;)l=t[t[h].f<t[m].f?h++:m++],u=t[h!=d&&t[h].f<t[m].f?h++:m++],t[d++]={s:-1,f:l.f+u.f,l,r:u};for(var y=s[0].s,r=1;r<i;++r)s[r].s>y&&(y=s[r].s);var g=new ms(y+1),_=Km(t[d-1],g,0);if(_>e){var r=0,k=0,N=_-e,P=1<<N;for(s.sort(function(Q,U){return g[U.s]-g[Q.s]||Q.f-U.f});r<i;++r){var L=s[r].s;if(g[L]>e)k+=P-(1<<_-g[L]),g[L]=e;else break}for(k>>=N;k>0;){var T=s[r].s;g[T]<e?k-=1<<e-g[T]++-1:++r}for(;r>=0&&k;--r){var j=s[r].s;g[j]==e&&(--g[j],++k)}_=e}return{t:new fa(g),l:_}},Km=function(n,e,t){return n.s==-1?Math.max(Km(n.l,e,t+1),Km(n.r,e,t+1)):e[n.s]=t},Q2=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ms(++e),r=0,i=n[0],s=1,o=function(u){t[r++]=u},l=1;l<=e;++l)if(n[l]==i&&l!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[l]}return{c:t.subarray(0,r),n:e}},Wh=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},Sb=function(n,e,t){var r=t.length,i=xb(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},Z2=function(n,e,t,r,i,s,o,l,u,h,d){Eo(e,d++,t),++i[256];for(var m=Kg(i,15),y=m.t,g=m.l,_=Kg(s,15),k=_.t,N=_.l,P=Q2(y),L=P.c,T=P.n,j=Q2(k),D=j.c,Q=j.n,U=new ms(19),H=0;H<L.length;++H)++U[L[H]&31];for(var H=0;H<D.length;++H)++U[D[H]&31];for(var W=Kg(U,7),ae=W.t,I=W.l,q=19;q>4&&!ae[J2[q-1]];--q);var ne=h+5<<3,re=Wh(i,Fc)+Wh(s,pp)+o,ve=Wh(i,y)+Wh(s,k)+o+14+3*q+Wh(U,ae)+2*U[16]+3*U[17]+7*U[18];if(u>=0&&ne<=re&&ne<=ve)return Sb(e,d,n.subarray(u,u+h));var be,he,$,ie;if(Eo(e,d,1+(ve<re)),d+=2,ve<re){be=td(y,g,0),he=y,$=td(k,N,0),ie=k;var le=td(ae,I,0);Eo(e,d,T-257),Eo(e,d+5,Q-1),Eo(e,d+10,q-4),d+=14;for(var H=0;H<q;++H)Eo(e,d+3*H,ae[J2[H]]);d+=3*q;for(var K=[L,D],O=0;O<2;++O)for(var Y=K[O],H=0;H<Y.length;++H){var ee=Y[H]&31;Eo(e,d,le[ee]),d+=ae[ee],ee>15&&(Eo(e,d,Y[H]>>5&127),d+=Y[H]>>12)}}else be=XC,he=Fc,$=QC,ie=pp;for(var H=0;H<l;++H){var oe=r[H];if(oe>255){var ee=oe>>18&31;zh(e,d,be[ee+257]),d+=he[ee+257],ee>7&&(Eo(e,d,oe>>23&31),d+=M0[ee]);var ce=oe&31;zh(e,d,$[ce]),d+=ie[ce],ce>3&&(zh(e,d,oe>>5&8191),d+=I0[ce])}else zh(e,d,be[oe]),d+=he[oe]}return zh(e,d,be[256]),d+he[256]},eE=new R0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),kb=new fa(0),tE=function(n,e,t,r,i,s){var o=s.z||n.length,l=new fa(r+o+5*(1+Math.ceil(o/7e3))+i),u=l.subarray(r,l.length-i),h=s.l,d=(s.r||0)&7;if(e){d&&(u[0]=s.r>>3);for(var m=eE[e-1],y=m>>13,g=m&8191,_=(1<<t)-1,k=s.p||new ms(32768),N=s.h||new ms(_+1),P=Math.ceil(t/3),L=2*P,T=function(lt){return(n[lt]^n[lt+1]<<P^n[lt+2]<<L)&_},j=new R0(25e3),D=new ms(288),Q=new ms(32),U=0,H=0,W=s.i||0,ae=0,I=s.w||0,q=0;W+2<o;++W){var ne=T(W),re=W&32767,ve=N[ne];if(k[re]=ve,N[ne]=re,I<=W){var be=o-W;if((U>7e3||ae>24576)&&(be>423||!h)){d=Z2(n,u,0,j,D,Q,H,ae,q,W-q,d),ae=U=H=0,q=W;for(var he=0;he<286;++he)D[he]=0;for(var he=0;he<30;++he)Q[he]=0}var $=2,ie=0,le=g,K=re-ve&32767;if(be>2&&ne==T(W-K))for(var O=Math.min(y,be)-1,Y=Math.min(32767,W),ee=Math.min(258,be);K<=Y&&--le&&re!=ve;){if(n[W+$]==n[W+$-K]){for(var oe=0;oe<ee&&n[W+oe]==n[W+oe-K];++oe);if(oe>$){if($=oe,ie=K,oe>O)break;for(var ce=Math.min(K,oe-2),ye=0,he=0;he<ce;++he){var _e=W-K+he&32767,Ae=k[_e],Te=_e-Ae&32767;Te>ye&&(ye=Te,ve=_e)}}}re=ve,ve=k[re],K+=re-ve&32767}if(ie){j[ae++]=268435456|Vm[$]<<18|X2[ie];var Ue=Vm[$]&31,Ve=X2[ie]&31;H+=M0[Ue]+I0[Ve],++D[257+Ue],++Q[Ve],I=W+$,++U}else j[ae++]=n[W],++D[n[W]]}}for(W=Math.max(W,I);W<o;++W)j[ae++]=n[W],++D[n[W]];d=Z2(n,u,h,j,D,Q,H,ae,q,W-q,d),h||(s.r=d&7|u[d/8|0]<<3,d-=7,s.h=N,s.p=k,s.i=W,s.w=I)}else{for(var W=s.w||0;W<o+h;W+=65535){var He=W+65535;He>=o&&(u[d/8|0]=h,He=o),d=Sb(u,d+1,n.subarray(W,He))}s.i=o}return ZC(l,0,r+xb(d)+i)},Nb=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)i+=r+=t[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},nE=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new fa(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return tE(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},Ab=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},rE=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=Nb();i.p(e.dictionary),Ab(n,2,i.d())}};function Ym(n,e){e||(e={});var t=Nb();t.p(n);var r=nE(n,e,e.dictionary?6:2,4);return rE(r,e),Ab(r,r.length-4,t.d()),r}var iE=typeof TextDecoder<"u"&&new TextDecoder,sE=0;try{iE.decode(kb,{stream:!0}),sE=1}catch{}function aE(n){if(Array.isArray(n))return n}function oE(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,l=[],u=!0,h=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(u=(r=s.call(t)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(d){h=!0,i=d}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(h)throw i}}return l}}function ey(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function lE(n,e){if(n){if(typeof n=="string")return ey(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ey(n,e):void 0}}function cE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ty(n,e){return aE(n)||oE(n,e)||lE(n,e)||cE()}function ny(n,e="utf8"){return new TextDecoder(e).decode(n)}const uE=new TextEncoder;function hE(n){return uE.encode(n)}const dE=1024*8,fE=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),Yg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class D0{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=dE,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof D0)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=Yg[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===fE&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+r));l.reverse();const u=new Yg[t](l.buffer);return this.offset+=r,u.reverse(),u}const o=new Yg[t](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return ny(this.readBytes(e))}decodeText(e=1,t="utf8"){return ny(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(hE(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function sh(n){let e=n.length;for(;--e>=0;)n[e]=0}const pE=3,gE=258,Pb=29,mE=256,vE=mE+1+Pb,Cb=30,yE=512,wE=new Array((vE+2)*2);sh(wE);const bE=new Array(Cb*2);sh(bE);const _E=new Array(yE);sh(_E);const xE=new Array(gE-pE+1);sh(xE);const SE=new Array(Pb);sh(SE);const kE=new Array(Cb);sh(kE);const NE=(n,e,t,r)=>{let i=n&65535|0,s=n>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var Jm=NE;const AE=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},PE=new Uint32Array(AE()),CE=(n,e,t,r)=>{const i=PE,s=r+t;n^=-1;for(let o=r;o<s;o++)n=n>>>8^i[(n^e[o])&255];return n^-1};var Da=CE,Xm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Eb={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const EE=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var jE=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)EE(t,r)&&(n[r]=t[r])}}return n},LE=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,s=n.length;r<s;r++){let o=n[r];t.set(o,i),i+=o.length}return t},jb={assign:jE,flattenChunks:LE};let Lb=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Lb=!1}const xd=new Uint8Array(256);for(let n=0;n<256;n++)xd[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;xd[254]=xd[254]=1;var TE=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,s,o=n.length,l=0;for(i=0;i<o;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(l),s=0,i=0;s<l;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const OE=(n,e)=>{if(e<65534&&n.subarray&&Lb)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var RE=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const s=new Array(t*2);for(i=0,r=0;r<t;){let o=n[r++];if(o<128){s[i++]=o;continue}let l=xd[o];if(l>4){s[i++]=65533,r+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&r<t;)o=o<<6|n[r++]&63,l--;if(l>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return OE(s,i)},ME=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+xd[n[t]]>e?t:e},Qm={string2buf:TE,buf2string:RE,utf8border:ME};function IE(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var DE=IE;const Lf=16209,FE=16191;var BE=function(e,t){let r,i,s,o,l,u,h,d,m,y,g,_,k,N,P,L,T,j,D,Q,U,H,W,ae;const I=e.state;r=e.next_in,W=e.input,i=r+(e.avail_in-5),s=e.next_out,ae=e.output,o=s-(t-e.avail_out),l=s+(e.avail_out-257),u=I.dmax,h=I.wsize,d=I.whave,m=I.wnext,y=I.window,g=I.hold,_=I.bits,k=I.lencode,N=I.distcode,P=(1<<I.lenbits)-1,L=(1<<I.distbits)-1;e:do{_<15&&(g+=W[r++]<<_,_+=8,g+=W[r++]<<_,_+=8),T=k[g&P];t:for(;;){if(j=T>>>24,g>>>=j,_-=j,j=T>>>16&255,j===0)ae[s++]=T&65535;else if(j&16){D=T&65535,j&=15,j&&(_<j&&(g+=W[r++]<<_,_+=8),D+=g&(1<<j)-1,g>>>=j,_-=j),_<15&&(g+=W[r++]<<_,_+=8,g+=W[r++]<<_,_+=8),T=N[g&L];n:for(;;){if(j=T>>>24,g>>>=j,_-=j,j=T>>>16&255,j&16){if(Q=T&65535,j&=15,_<j&&(g+=W[r++]<<_,_+=8,_<j&&(g+=W[r++]<<_,_+=8)),Q+=g&(1<<j)-1,Q>u){e.msg="invalid distance too far back",I.mode=Lf;break e}if(g>>>=j,_-=j,j=s-o,Q>j){if(j=Q-j,j>d&&I.sane){e.msg="invalid distance too far back",I.mode=Lf;break e}if(U=0,H=y,m===0){if(U+=h-j,j<D){D-=j;do ae[s++]=y[U++];while(--j);U=s-Q,H=ae}}else if(m<j){if(U+=h+m-j,j-=m,j<D){D-=j;do ae[s++]=y[U++];while(--j);if(U=0,m<D){j=m,D-=j;do ae[s++]=y[U++];while(--j);U=s-Q,H=ae}}}else if(U+=m-j,j<D){D-=j;do ae[s++]=y[U++];while(--j);U=s-Q,H=ae}for(;D>2;)ae[s++]=H[U++],ae[s++]=H[U++],ae[s++]=H[U++],D-=3;D&&(ae[s++]=H[U++],D>1&&(ae[s++]=H[U++]))}else{U=s-Q;do ae[s++]=ae[U++],ae[s++]=ae[U++],ae[s++]=ae[U++],D-=3;while(D>2);D&&(ae[s++]=ae[U++],D>1&&(ae[s++]=ae[U++]))}}else if((j&64)===0){T=N[(T&65535)+(g&(1<<j)-1)];continue n}else{e.msg="invalid distance code",I.mode=Lf;break e}break}}else if((j&64)===0){T=k[(T&65535)+(g&(1<<j)-1)];continue t}else if(j&32){I.mode=FE;break e}else{e.msg="invalid literal/length code",I.mode=Lf;break e}break}}while(r<i&&s<l);D=_>>3,r-=D,_-=D<<3,g&=(1<<_)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<l?257+(l-s):257-(s-l),I.hold=g,I.bits=_};const Cu=15,ry=852,iy=592,sy=0,Jg=1,ay=2,UE=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),zE=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),WE=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),qE=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),HE=(n,e,t,r,i,s,o,l)=>{const u=l.bits;let h=0,d=0,m=0,y=0,g=0,_=0,k=0,N=0,P=0,L=0,T,j,D,Q,U,H=null,W;const ae=new Uint16Array(Cu+1),I=new Uint16Array(Cu+1);let q=null,ne,re,ve;for(h=0;h<=Cu;h++)ae[h]=0;for(d=0;d<r;d++)ae[e[t+d]]++;for(g=u,y=Cu;y>=1&&ae[y]===0;y--);if(g>y&&(g=y),y===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,l.bits=1,0;for(m=1;m<y&&ae[m]===0;m++);for(g<m&&(g=m),N=1,h=1;h<=Cu;h++)if(N<<=1,N-=ae[h],N<0)return-1;if(N>0&&(n===sy||y!==1))return-1;for(I[1]=0,h=1;h<Cu;h++)I[h+1]=I[h]+ae[h];for(d=0;d<r;d++)e[t+d]!==0&&(o[I[e[t+d]]++]=d);if(n===sy?(H=q=o,W=20):n===Jg?(H=UE,q=zE,W=257):(H=WE,q=qE,W=0),L=0,d=0,h=m,U=s,_=g,k=0,D=-1,P=1<<g,Q=P-1,n===Jg&&P>ry||n===ay&&P>iy)return 1;for(;;){ne=h-k,o[d]+1<W?(re=0,ve=o[d]):o[d]>=W?(re=q[o[d]-W],ve=H[o[d]-W]):(re=96,ve=0),T=1<<h-k,j=1<<_,m=j;do j-=T,i[U+(L>>k)+j]=ne<<24|re<<16|ve|0;while(j!==0);for(T=1<<h-1;L&T;)T>>=1;if(T!==0?(L&=T-1,L+=T):L=0,d++,--ae[h]===0){if(h===y)break;h=e[t+o[d]]}if(h>g&&(L&Q)!==D){for(k===0&&(k=g),U+=m,_=h-k,N=1<<_;_+k<y&&(N-=ae[_+k],!(N<=0));)_++,N<<=1;if(P+=1<<_,n===Jg&&P>ry||n===ay&&P>iy)return 1;D=L&Q,i[D]=g<<24|_<<16|U-s|0}}return L!==0&&(i[U+L]=h-k<<24|64<<16|0),l.bits=g,0};var nd=HE;const $E=0,Tb=1,Ob=2,{Z_FINISH:oy,Z_BLOCK:VE,Z_TREES:Tf,Z_OK:Bc,Z_STREAM_END:GE,Z_NEED_DICT:KE,Z_STREAM_ERROR:Fs,Z_DATA_ERROR:Rb,Z_MEM_ERROR:Mb,Z_BUF_ERROR:YE,Z_DEFLATED:ly}=Eb,Mp=16180,cy=16181,uy=16182,hy=16183,dy=16184,fy=16185,py=16186,gy=16187,my=16188,vy=16189,gp=16190,jo=16191,Xg=16192,yy=16193,Qg=16194,wy=16195,by=16196,_y=16197,xy=16198,Of=16199,Rf=16200,Sy=16201,ky=16202,Ny=16203,Ay=16204,Py=16205,Zg=16206,Cy=16207,Ey=16208,Hn=16209,Ib=16210,Db=16211,JE=852,XE=592,QE=15,ZE=QE,jy=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function ej(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Wc=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Mp||e.mode>Db?1:0},Fb=n=>{if(Wc(n))return Fs;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Mp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(JE),e.distcode=e.distdyn=new Int32Array(XE),e.sane=1,e.back=-1,Bc},Bb=n=>{if(Wc(n))return Fs;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,Fb(n)},Ub=(n,e)=>{let t;if(Wc(n))return Fs;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Fs:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,Bb(n))},zb=(n,e)=>{if(!n)return Fs;const t=new ej;n.state=t,t.strm=n,t.window=null,t.mode=Mp;const r=Ub(n,e);return r!==Bc&&(n.state=null),r},tj=n=>zb(n,ZE);let Ly=!0,em,tm;const nj=n=>{if(Ly){em=new Int32Array(512),tm=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(nd(Tb,n.lens,0,288,em,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;nd(Ob,n.lens,0,32,tm,0,n.work,{bits:5}),Ly=!1}n.lencode=em,n.lenbits=9,n.distcode=tm,n.distbits=5},Wb=(n,e,t,r)=>{let i;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(t-r,t-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(t-r,t),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},rj=(n,e)=>{let t,r,i,s,o,l,u,h,d,m,y,g,_,k,N=0,P,L,T,j,D,Q,U,H;const W=new Uint8Array(4);let ae,I;const q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Wc(n)||!n.output||!n.input&&n.avail_in!==0)return Fs;t=n.state,t.mode===jo&&(t.mode=Xg),o=n.next_out,i=n.output,u=n.avail_out,s=n.next_in,r=n.input,l=n.avail_in,h=t.hold,d=t.bits,m=l,y=u,H=Bc;e:for(;;)switch(t.mode){case Mp:if(t.wrap===0){t.mode=Xg;break}for(;d<16;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}if(t.wrap&2&&h===35615){t.wbits===0&&(t.wbits=15),t.check=0,W[0]=h&255,W[1]=h>>>8&255,t.check=Da(t.check,W,2,0),h=0,d=0,t.mode=cy;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((h&255)<<8)+(h>>8))%31){n.msg="incorrect header check",t.mode=Hn;break}if((h&15)!==ly){n.msg="unknown compression method",t.mode=Hn;break}if(h>>>=4,d-=4,U=(h&15)+8,t.wbits===0&&(t.wbits=U),U>15||U>t.wbits){n.msg="invalid window size",t.mode=Hn;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=h&512?vy:jo,h=0,d=0;break;case cy:for(;d<16;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}if(t.flags=h,(t.flags&255)!==ly){n.msg="unknown compression method",t.mode=Hn;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Hn;break}t.head&&(t.head.text=h>>8&1),t.flags&512&&t.wrap&4&&(W[0]=h&255,W[1]=h>>>8&255,t.check=Da(t.check,W,2,0)),h=0,d=0,t.mode=uy;case uy:for(;d<32;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}t.head&&(t.head.time=h),t.flags&512&&t.wrap&4&&(W[0]=h&255,W[1]=h>>>8&255,W[2]=h>>>16&255,W[3]=h>>>24&255,t.check=Da(t.check,W,4,0)),h=0,d=0,t.mode=hy;case hy:for(;d<16;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}t.head&&(t.head.xflags=h&255,t.head.os=h>>8),t.flags&512&&t.wrap&4&&(W[0]=h&255,W[1]=h>>>8&255,t.check=Da(t.check,W,2,0)),h=0,d=0,t.mode=dy;case dy:if(t.flags&1024){for(;d<16;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}t.length=h,t.head&&(t.head.extra_len=h),t.flags&512&&t.wrap&4&&(W[0]=h&255,W[1]=h>>>8&255,t.check=Da(t.check,W,2,0)),h=0,d=0}else t.head&&(t.head.extra=null);t.mode=fy;case fy:if(t.flags&1024&&(g=t.length,g>l&&(g=l),g&&(t.head&&(U=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(s,s+g),U)),t.flags&512&&t.wrap&4&&(t.check=Da(t.check,r,g,s)),l-=g,s+=g,t.length-=g),t.length))break e;t.length=0,t.mode=py;case py:if(t.flags&2048){if(l===0)break e;g=0;do U=r[s+g++],t.head&&U&&t.length<65536&&(t.head.name+=String.fromCharCode(U));while(U&&g<l);if(t.flags&512&&t.wrap&4&&(t.check=Da(t.check,r,g,s)),l-=g,s+=g,U)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=gy;case gy:if(t.flags&4096){if(l===0)break e;g=0;do U=r[s+g++],t.head&&U&&t.length<65536&&(t.head.comment+=String.fromCharCode(U));while(U&&g<l);if(t.flags&512&&t.wrap&4&&(t.check=Da(t.check,r,g,s)),l-=g,s+=g,U)break e}else t.head&&(t.head.comment=null);t.mode=my;case my:if(t.flags&512){for(;d<16;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}if(t.wrap&4&&h!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Hn;break}h=0,d=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=jo;break;case vy:for(;d<32;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}n.adler=t.check=jy(h),h=0,d=0,t.mode=gp;case gp:if(t.havedict===0)return n.next_out=o,n.avail_out=u,n.next_in=s,n.avail_in=l,t.hold=h,t.bits=d,KE;n.adler=t.check=1,t.mode=jo;case jo:if(e===VE||e===Tf)break e;case Xg:if(t.last){h>>>=d&7,d-=d&7,t.mode=Zg;break}for(;d<3;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}switch(t.last=h&1,h>>>=1,d-=1,h&3){case 0:t.mode=yy;break;case 1:if(nj(t),t.mode=Of,e===Tf){h>>>=2,d-=2;break e}break;case 2:t.mode=by;break;case 3:n.msg="invalid block type",t.mode=Hn}h>>>=2,d-=2;break;case yy:for(h>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}if((h&65535)!==(h>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Hn;break}if(t.length=h&65535,h=0,d=0,t.mode=Qg,e===Tf)break e;case Qg:t.mode=wy;case wy:if(g=t.length,g){if(g>l&&(g=l),g>u&&(g=u),g===0)break e;i.set(r.subarray(s,s+g),o),l-=g,s+=g,u-=g,o+=g,t.length-=g;break}t.mode=jo;break;case by:for(;d<14;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}if(t.nlen=(h&31)+257,h>>>=5,d-=5,t.ndist=(h&31)+1,h>>>=5,d-=5,t.ncode=(h&15)+4,h>>>=4,d-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Hn;break}t.have=0,t.mode=_y;case _y:for(;t.have<t.ncode;){for(;d<3;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}t.lens[q[t.have++]]=h&7,h>>>=3,d-=3}for(;t.have<19;)t.lens[q[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,ae={bits:t.lenbits},H=nd($E,t.lens,0,19,t.lencode,0,t.work,ae),t.lenbits=ae.bits,H){n.msg="invalid code lengths set",t.mode=Hn;break}t.have=0,t.mode=xy;case xy:for(;t.have<t.nlen+t.ndist;){for(;N=t.lencode[h&(1<<t.lenbits)-1],P=N>>>24,L=N>>>16&255,T=N&65535,!(P<=d);){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}if(T<16)h>>>=P,d-=P,t.lens[t.have++]=T;else{if(T===16){for(I=P+2;d<I;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}if(h>>>=P,d-=P,t.have===0){n.msg="invalid bit length repeat",t.mode=Hn;break}U=t.lens[t.have-1],g=3+(h&3),h>>>=2,d-=2}else if(T===17){for(I=P+3;d<I;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}h>>>=P,d-=P,U=0,g=3+(h&7),h>>>=3,d-=3}else{for(I=P+7;d<I;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}h>>>=P,d-=P,U=0,g=11+(h&127),h>>>=7,d-=7}if(t.have+g>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Hn;break}for(;g--;)t.lens[t.have++]=U}}if(t.mode===Hn)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Hn;break}if(t.lenbits=9,ae={bits:t.lenbits},H=nd(Tb,t.lens,0,t.nlen,t.lencode,0,t.work,ae),t.lenbits=ae.bits,H){n.msg="invalid literal/lengths set",t.mode=Hn;break}if(t.distbits=6,t.distcode=t.distdyn,ae={bits:t.distbits},H=nd(Ob,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,ae),t.distbits=ae.bits,H){n.msg="invalid distances set",t.mode=Hn;break}if(t.mode=Of,e===Tf)break e;case Of:t.mode=Rf;case Rf:if(l>=6&&u>=258){n.next_out=o,n.avail_out=u,n.next_in=s,n.avail_in=l,t.hold=h,t.bits=d,BE(n,y),o=n.next_out,i=n.output,u=n.avail_out,s=n.next_in,r=n.input,l=n.avail_in,h=t.hold,d=t.bits,t.mode===jo&&(t.back=-1);break}for(t.back=0;N=t.lencode[h&(1<<t.lenbits)-1],P=N>>>24,L=N>>>16&255,T=N&65535,!(P<=d);){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}if(L&&(L&240)===0){for(j=P,D=L,Q=T;N=t.lencode[Q+((h&(1<<j+D)-1)>>j)],P=N>>>24,L=N>>>16&255,T=N&65535,!(j+P<=d);){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}h>>>=j,d-=j,t.back+=j}if(h>>>=P,d-=P,t.back+=P,t.length=T,L===0){t.mode=Py;break}if(L&32){t.back=-1,t.mode=jo;break}if(L&64){n.msg="invalid literal/length code",t.mode=Hn;break}t.extra=L&15,t.mode=Sy;case Sy:if(t.extra){for(I=t.extra;d<I;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}t.length+=h&(1<<t.extra)-1,h>>>=t.extra,d-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=ky;case ky:for(;N=t.distcode[h&(1<<t.distbits)-1],P=N>>>24,L=N>>>16&255,T=N&65535,!(P<=d);){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}if((L&240)===0){for(j=P,D=L,Q=T;N=t.distcode[Q+((h&(1<<j+D)-1)>>j)],P=N>>>24,L=N>>>16&255,T=N&65535,!(j+P<=d);){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}h>>>=j,d-=j,t.back+=j}if(h>>>=P,d-=P,t.back+=P,L&64){n.msg="invalid distance code",t.mode=Hn;break}t.offset=T,t.extra=L&15,t.mode=Ny;case Ny:if(t.extra){for(I=t.extra;d<I;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}t.offset+=h&(1<<t.extra)-1,h>>>=t.extra,d-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Hn;break}t.mode=Ay;case Ay:if(u===0)break e;if(g=y-u,t.offset>g){if(g=t.offset-g,g>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Hn;break}g>t.wnext?(g-=t.wnext,_=t.wsize-g):_=t.wnext-g,g>t.length&&(g=t.length),k=t.window}else k=i,_=o-t.offset,g=t.length;g>u&&(g=u),u-=g,t.length-=g;do i[o++]=k[_++];while(--g);t.length===0&&(t.mode=Rf);break;case Py:if(u===0)break e;i[o++]=t.length,u--,t.mode=Rf;break;case Zg:if(t.wrap){for(;d<32;){if(l===0)break e;l--,h|=r[s++]<<d,d+=8}if(y-=u,n.total_out+=y,t.total+=y,t.wrap&4&&y&&(n.adler=t.check=t.flags?Da(t.check,i,y,o-y):Jm(t.check,i,y,o-y)),y=u,t.wrap&4&&(t.flags?h:jy(h))!==t.check){n.msg="incorrect data check",t.mode=Hn;break}h=0,d=0}t.mode=Cy;case Cy:if(t.wrap&&t.flags){for(;d<32;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}if(t.wrap&4&&h!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Hn;break}h=0,d=0}t.mode=Ey;case Ey:H=GE;break e;case Hn:H=Rb;break e;case Ib:return Mb;case Db:default:return Fs}return n.next_out=o,n.avail_out=u,n.next_in=s,n.avail_in=l,t.hold=h,t.bits=d,(t.wsize||y!==n.avail_out&&t.mode<Hn&&(t.mode<Zg||e!==oy))&&Wb(n,n.output,n.next_out,y-n.avail_out),m-=n.avail_in,y-=n.avail_out,n.total_in+=m,n.total_out+=y,t.total+=y,t.wrap&4&&y&&(n.adler=t.check=t.flags?Da(t.check,i,y,n.next_out-y):Jm(t.check,i,y,n.next_out-y)),n.data_type=t.bits+(t.last?64:0)+(t.mode===jo?128:0)+(t.mode===Of||t.mode===Qg?256:0),(m===0&&y===0||e===oy)&&H===Bc&&(H=YE),H},ij=n=>{if(Wc(n))return Fs;let e=n.state;return e.window&&(e.window=null),n.state=null,Bc},sj=(n,e)=>{if(Wc(n))return Fs;const t=n.state;return(t.wrap&2)===0?Fs:(t.head=e,e.done=!1,Bc)},aj=(n,e)=>{const t=e.length;let r,i,s;return Wc(n)||(r=n.state,r.wrap!==0&&r.mode!==gp)?Fs:r.mode===gp&&(i=1,i=Jm(i,e,t,0),i!==r.check)?Rb:(s=Wb(n,e,t,t),s?(r.mode=Ib,Mb):(r.havedict=1,Bc))};var oj=Bb,lj=Ub,cj=Fb,uj=tj,hj=zb,dj=rj,fj=ij,pj=sj,gj=aj,mj="pako inflate (from Nodeca project)",Mo={inflateReset:oj,inflateReset2:lj,inflateResetKeep:cj,inflateInit:uj,inflateInit2:hj,inflate:dj,inflateEnd:fj,inflateGetHeader:pj,inflateSetDictionary:gj,inflateInfo:mj};function vj(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var yj=vj;const qb=Object.prototype.toString,{Z_NO_FLUSH:wj,Z_FINISH:bj,Z_OK:Sd,Z_STREAM_END:nm,Z_NEED_DICT:rm,Z_STREAM_ERROR:_j,Z_DATA_ERROR:Ty,Z_MEM_ERROR:xj}=Eb;function Pd(n){this.options=jb.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new DE,this.strm.avail_out=0;let t=Mo.inflateInit2(this.strm,e.windowBits);if(t!==Sd)throw new Error(Xm[t]);if(this.header=new yj,Mo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Qm.string2buf(e.dictionary):qb.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Mo.inflateSetDictionary(this.strm,e.dictionary),t!==Sd)))throw new Error(Xm[t])}Pd.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?bj:wj,qb.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),s=Mo.inflate(t,o),s===rm&&i&&(s=Mo.inflateSetDictionary(t,i),s===Sd?s=Mo.inflate(t,o):s===Ty&&(s=rm));t.avail_in>0&&s===nm&&t.state.wrap>0&&n[t.next_in]!==0;)Mo.inflateReset(t),s=Mo.inflate(t,o);switch(s){case _j:case Ty:case rm:case xj:return this.onEnd(s),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||s===nm))if(this.options.to==="string"){let u=Qm.utf8border(t.output,t.next_out),h=t.next_out-u,d=Qm.buf2string(t.output,u);t.next_out=h,t.avail_out=r-h,h&&t.output.set(t.output.subarray(u,u+h),0),this.onData(d)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===Sd&&l===0)){if(s===nm)return s=Mo.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Pd.prototype.onData=function(n){this.chunks.push(n)};Pd.prototype.onEnd=function(n){n===Sd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=jb.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function Sj(n,e){const t=new Pd(e);if(t.push(n),t.err)throw t.msg||Xm[t.err];return t.result}var kj=Pd,Nj=Sj,Aj={Inflate:kj,inflate:Nj};const{Inflate:Pj,inflate:Cj}=Aj;var Oy=Pj,Ej=Cj;const Hb=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;Hb[n]=e}const Ry=4294967295;function jj(n,e,t){let r=n;for(let i=0;i<t;i++)r=Hb[(r^e[i])&255]^r>>>8;return r}function Lj(n,e){return(jj(Ry,n,e)^Ry)>>>0}function My(n,e,t){const r=n.readUint32(),i=Lj(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function $b(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function Vb(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function Gb(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function Kb(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=n[s]+(t[s]>>1)&255;for(;s<r;s++)e[s]=n[s]+(e[s-i]+t[s]>>1)&255}}function Yb(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=n[s]+t[s]&255;for(;s<r;s++)e[s]=n[s]+Tj(e[s-i],t[s],t[s-i])&255}}function Tj(n,e,t){const r=n+e-t,i=Math.abs(r-n),s=Math.abs(r-e),o=Math.abs(r-t);return i<=s&&i<=o?n:s<=o?e:t}function Oj(n,e,t,r,i,s){switch(n){case 0:$b(e,t,i);break;case 1:Vb(e,t,i,s);break;case 2:Gb(e,t,r,i);break;case 3:Kb(e,t,r,i,s);break;case 4:Yb(e,t,r,i,s);break;default:throw new Error(`Unsupported filter: ${n}`)}}const Rj=new Uint16Array([255]),Mj=new Uint8Array(Rj.buffer),Ij=Mj[0]===255;function Dj(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*i,u=new Uint8Array(r*t*l);let h=0;for(let d=0;d<7;d++){const m=o[d],y=Math.ceil((t-m.x)/m.xStep),g=Math.ceil((r-m.y)/m.yStep);if(y<=0||g<=0)continue;const _=y*l,k=new Uint8Array(_);for(let N=0;N<g;N++){const P=e[h++],L=e.subarray(h,h+_);h+=_;const T=new Uint8Array(_);Oj(P,L,T,k,_,l),k.set(T);for(let j=0;j<y;j++){const D=m.x+j*m.xStep,Q=m.y+N*m.yStep;if(!(D>=t||Q>=r))for(let U=0;U<l;U++)u[(Q*t+D)*l+U]=T[j*l+U]}}}if(s===16){const d=new Uint16Array(u.buffer);if(Ij)for(let m=0;m<d.length;m++)d[m]=Fj(d[m]);return d}else return u}function Fj(n){return(n&255)<<8|n>>8&255}const Bj=new Uint16Array([255]),Uj=new Uint8Array(Bj.buffer),zj=Uj[0]===255,Wj=new Uint8Array(0);function Iy(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,o=Math.ceil(s/8)*i,l=Math.ceil(s/8*i*t),u=new Uint8Array(r*l);let h=Wj,d=0,m,y;for(let g=0;g<r;g++){switch(m=e.subarray(d+1,d+1+l),y=u.subarray(g*l,(g+1)*l),e[d]){case 0:$b(m,y,l);break;case 1:Vb(m,y,l,o);break;case 2:Gb(m,y,h,l);break;case 3:Kb(m,y,h,l,o);break;case 4:Yb(m,y,h,l,o);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}h=y,d+=l+1}if(s===16){const g=new Uint16Array(u.buffer);if(zj)for(let _=0;_<g.length;_++)g[_]=qj(g[_]);return g}else return u}function qj(n){return(n&255)<<8|n>>8&255}const Hf=Uint8Array.of(137,80,78,71,13,10,26,10);function Dy(n){if(!Hj(n.readBytes(Hf.length)))throw new Error("wrong PNG signature")}function Hj(n){if(n.length<Hf.length)return!1;for(let e=0;e<Hf.length;e++)if(n[e]!==Hf[e])return!1;return!0}const $j="tEXt",Vj=0,Jb=new TextDecoder("latin1");function Gj(n){if(Yj(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const Kj=/^[\u0000-\u00FF]*$/;function Yj(n){if(!Kj.test(n))throw new Error("invalid latin1 text")}function Jj(n,e,t){const r=Xb(e);n[r]=Xj(e,t-r.length-1)}function Xb(n){for(n.mark();n.readByte()!==Vj;);const e=n.offset;n.reset();const t=Jb.decode(n.readBytes(e-n.offset-1));return n.skip(1),Gj(t),t}function Xj(n,e){return Jb.decode(n.readBytes(e))}const ds={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},im={UNKNOWN:-1,DEFLATE:0},Fy={UNKNOWN:-1,ADAPTIVE:0},sm={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Mf={NONE:0,BACKGROUND:1,PREVIOUS:2},am={SOURCE:0,OVER:1};class Qj extends D0{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new Oy,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=im.UNKNOWN,this._filterMethod=Fy.UNKNOWN,this._interlaceMethod=sm.UNKNOWN,this._colorType=ds.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Dy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(Dy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case $j:Jj(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?My(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?My(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Zj(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case ds.GREYSCALE:r=1;break;case ds.TRUECOLOUR:r=3;break;case ds.INDEXED_COLOUR:r=1;break;case ds.GREYSCALE_ALPHA:r=2;break;case ds.TRUECOLOUR_ALPHA:r=4;break;case ds.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==im.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<t;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ds.GREYSCALE:case ds.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case ds.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case ds.UNKNOWN:case ds.GREYSCALE_ALPHA:case ds.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=Xb(this),r=this.readUint8();if(r!==im.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:Ej(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=Iy({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case Mf.NONE:break;case Mf.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const o=(i*e.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)r.data[o+l]=0}break;case Mf.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,i=(s,o)=>{const l=((s+t.yOffset)*this._png.width+t.xOffset+o)*this._png.channels,u=(s*t.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(t.blendOp){case am.SOURCE:for(let s=0;s<t.height;s++)for(let o=0;o<t.width;o++){const{index:l,frameIndex:u}=i(s,o);for(let h=0;h<this._png.channels;h++)e.data[l+h]=t.data[u+h]}break;case am.OVER:for(let s=0;s<t.height;s++)for(let o=0;o<t.width;o++){const{index:l,frameIndex:u}=i(s,o);for(let h=0;h<this._png.channels;h++){const d=t.data[u+this._png.channels-1]/r,m=h%(this._png.channels-1)===0?1:t.data[u+h],y=Math.floor(d*m+(1-d)*e.data[l+h]);e.data[l+h]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Fy.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===sm.NO_INTERLACE)this._png.data=Iy({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===sm.ADAM7)this._png.data=Dj({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Mf.NONE,blendOp:am.SOURCE,data:e}),this._inflator=new Oy,this._writingDataChunks=!1}}function Zj(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var By;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(By||(By={}));function eL(n,e){return new Qj(n,e).decode()}var jt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function om(){jt.console&&typeof jt.console.log=="function"&&jt.console.log.apply(jt.console,arguments)}var An={log:om,warn:function(n){jt.console&&(typeof jt.console.warn=="function"?jt.console.warn.apply(jt.console,arguments):om.call(null,arguments))},error:function(n){jt.console&&(typeof jt.console.error=="function"?jt.console.error.apply(jt.console,arguments):om(n))}};function lm(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Ac(r.response,e,t)},r.onerror=function(){An.error("could not download file")},r.send()}function Uy(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function If(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Ac=jt.saveAs||((typeof window>"u"?"undefined":wn(window))!=="object"||window!==jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=jt.URL||jt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?Uy(i.href)?lm(n,e,t):If(i,i.target="_blank"):If(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){If(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Uy(n))lm(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){If(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:wn(s)!=="object"&&(An.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return lm(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(jt.HTMLElement)||jt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":wn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},l.readAsDataURL(n)}else{var u=jt.URL||jt.webkitURL,h=u.createObjectURL(n);r?r.location=h:location.href=h,r=null,setTimeout(function(){u.revokeObjectURL(h)},4e4)}});function Qb(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,o=i.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),h=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),"#"+l+u+h}}var $f=jt.atob.bind(jt),zy=jt.btoa.bind(jt);function cm(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=hi(t,r,i,s,e[0],7,-680876936),s=hi(s,t,r,i,e[1],12,-389564586),i=hi(i,s,t,r,e[2],17,606105819),r=hi(r,i,s,t,e[3],22,-1044525330),t=hi(t,r,i,s,e[4],7,-176418897),s=hi(s,t,r,i,e[5],12,1200080426),i=hi(i,s,t,r,e[6],17,-1473231341),r=hi(r,i,s,t,e[7],22,-45705983),t=hi(t,r,i,s,e[8],7,1770035416),s=hi(s,t,r,i,e[9],12,-1958414417),i=hi(i,s,t,r,e[10],17,-42063),r=hi(r,i,s,t,e[11],22,-1990404162),t=hi(t,r,i,s,e[12],7,1804603682),s=hi(s,t,r,i,e[13],12,-40341101),i=hi(i,s,t,r,e[14],17,-1502002290),t=di(t,r=hi(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=di(s,t,r,i,e[6],9,-1069501632),i=di(i,s,t,r,e[11],14,643717713),r=di(r,i,s,t,e[0],20,-373897302),t=di(t,r,i,s,e[5],5,-701558691),s=di(s,t,r,i,e[10],9,38016083),i=di(i,s,t,r,e[15],14,-660478335),r=di(r,i,s,t,e[4],20,-405537848),t=di(t,r,i,s,e[9],5,568446438),s=di(s,t,r,i,e[14],9,-1019803690),i=di(i,s,t,r,e[3],14,-187363961),r=di(r,i,s,t,e[8],20,1163531501),t=di(t,r,i,s,e[13],5,-1444681467),s=di(s,t,r,i,e[2],9,-51403784),i=di(i,s,t,r,e[7],14,1735328473),t=fi(t,r=di(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=fi(s,t,r,i,e[8],11,-2022574463),i=fi(i,s,t,r,e[11],16,1839030562),r=fi(r,i,s,t,e[14],23,-35309556),t=fi(t,r,i,s,e[1],4,-1530992060),s=fi(s,t,r,i,e[4],11,1272893353),i=fi(i,s,t,r,e[7],16,-155497632),r=fi(r,i,s,t,e[10],23,-1094730640),t=fi(t,r,i,s,e[13],4,681279174),s=fi(s,t,r,i,e[0],11,-358537222),i=fi(i,s,t,r,e[3],16,-722521979),r=fi(r,i,s,t,e[6],23,76029189),t=fi(t,r,i,s,e[9],4,-640364487),s=fi(s,t,r,i,e[12],11,-421815835),i=fi(i,s,t,r,e[15],16,530742520),t=pi(t,r=fi(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=pi(s,t,r,i,e[7],10,1126891415),i=pi(i,s,t,r,e[14],15,-1416354905),r=pi(r,i,s,t,e[5],21,-57434055),t=pi(t,r,i,s,e[12],6,1700485571),s=pi(s,t,r,i,e[3],10,-1894986606),i=pi(i,s,t,r,e[10],15,-1051523),r=pi(r,i,s,t,e[1],21,-2054922799),t=pi(t,r,i,s,e[8],6,1873313359),s=pi(s,t,r,i,e[15],10,-30611744),i=pi(i,s,t,r,e[6],15,-1560198380),r=pi(r,i,s,t,e[13],21,1309151649),t=pi(t,r,i,s,e[4],6,-145523070),s=pi(s,t,r,i,e[11],10,-1120210379),i=pi(i,s,t,r,e[2],15,718787259),r=pi(r,i,s,t,e[9],21,-343485551),n[0]=Ol(t,n[0]),n[1]=Ol(r,n[1]),n[2]=Ol(i,n[2]),n[3]=Ol(s,n[3])}function Ip(n,e,t,r,i,s){return e=Ol(Ol(e,n),Ol(r,s)),Ol(e<<i|e>>>32-i,t)}function hi(n,e,t,r,i,s,o){return Ip(e&t|~e&r,n,e,i,s,o)}function di(n,e,t,r,i,s,o){return Ip(e&r|t&~r,n,e,i,s,o)}function fi(n,e,t,r,i,s,o){return Ip(e^t^r,n,e,i,s,o)}function pi(n,e,t,r,i,s,o){return Ip(t^(e|~r),n,e,i,s,o)}function Zb(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)cm(r,tL(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(cm(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,cm(r,i),r}function tL(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var Wy="0123456789abcdef".split("");function nL(n){for(var e="",t=0;t<4;t++)e+=Wy[n>>8*t+4&15]+Wy[n>>8*t&15];return e}function rL(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Zm(n){return Zb(n).map(rL).join("")}var iL=(function(n){for(var e=0;e<n.length;e++)n[e]=nL(n[e]);return n.join("")})(Zb("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ol(n,e){if(iL){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function e0(n,e){var t,r,i,s;if(n!==t){for(var o=(i=n,s=1+(256/n.length|0),new Array(s+1).join(i)),l=[],u=0;u<256;u++)l[u]=u;var h=0;for(u=0;u<256;u++){var d=l[u];h=(h+d+o.charCodeAt(u))%256,l[u]=l[h],l[h]=d}t=n,r=l}else l=r;var m=e.length,y=0,g=0,_="";for(u=0;u<m;u++)g=(g+(d=l[y=(y+1)%256]))%256,l[y]=l[g],l[g]=d,o=l[(l[y]+l[g])%256],_+=String.fromCharCode(e.charCodeAt(u)^o);return _}var qy={print:4,modify:8,copy:16,"annot-forms":32};function Ru(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(l){if(qy.perm!==void 0)throw new Error("Invalid permission: "+l);i+=qy[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Zm(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=e0(this.encryptionKey,this.padding)}function Mu(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function Hy(n){if(wn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(l){jt.console&&An.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function mp(n){if(!(this instanceof mp))return new mp(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function e_(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Ec(n,e,t,r,i){if(!(this instanceof Ec))return new Ec(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,e_.call(this,r,i)}function Uu(n,e,t,r,i){if(!(this instanceof Uu))return new Uu(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,e_.call(this,r,i)}function ht(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],l=1,u=16,h="S",d=null;wn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(d=n.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),h=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var m=n.putOnlyUsedFonts||!1,y={},g={internal:{},__private__:{}};g.__private__.PubSub=Hy;var _="1.3",k=g.__private__.getPdfVersion=function(){return _};g.__private__.setPdfVersion=function(x){_=x};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return N};var P=g.__private__.getPageFormat=function(x){return N[x]};i=i||"a4";var L="compat",T="advanced",j=L;function D(){this.saveGraphicsState(),X(new wt(At,0,0,-At,0,Di()*At).toString()+" cm"),this.setFontSize(this.getFontSize()/At),h="n",j=T}function Q(){this.restoreGraphicsState(),h="S",j=L}var U=g.__private__.combineFontStyleAndFontWeight=function(x,M){if(x=="bold"&&M=="normal"||x=="bold"&&M==400||x=="normal"&&M=="italic"||x=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(x=M==400||M==="normal"?x==="italic"?"italic":"normal":M!=700&&M!=="bold"||x!=="normal"?(M==700?"bold":M)+""+x:"bold"),x};g.advancedAPI=function(x){var M=j===L;return M&&D.call(this),typeof x!="function"||(x(this),M&&Q.call(this)),this},g.compatAPI=function(x){var M=j===T;return M&&Q.call(this),typeof x!="function"||(x(this),M&&D.call(this)),this},g.isAdvancedAPI=function(){return j===T};var H,W=function(x){if(j!==T)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ae=g.roundToPrecision=g.__private__.roundToPrecision=function(x,M){var te=e||M;if(isNaN(x)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(te).replace(/0+$/,"")};H=g.hpf=g.__private__.hpf=typeof u=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return ae(x,u)}:u==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return ae(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return ae(x,16)};var I=g.f2=g.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return ae(x,2)},q=g.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return ae(x,3)},ne=g.scale=g.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return j===L?x*At:j===T?x:void 0},re=function(x){return ne((function(M){return j===L?Di()-M:j===T?M:void 0})(x))};g.__private__.setPrecision=g.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var ve,be="00000000000000000000000000000000",he=g.__private__.getFileId=function(){return be},$=g.__private__.setFileId=function(x){return be=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():be.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(fr=new Ru(d.userPermissions,d.userPassword,d.ownerPassword,be)),be};g.setFileId=function(x){return $(x),this},g.getFileId=function(){return he()};var ie=g.__private__.convertDateToPDFDate=function(x){var M=x.getTimezoneOffset(),te=M<0?"+":"-",ue=Math.floor(Math.abs(M/60)),we=Math.abs(M%60),Oe=[te,ee(ue),"'",ee(we),"'"].join("");return["D:",x.getFullYear(),ee(x.getMonth()+1),ee(x.getDate()),ee(x.getHours()),ee(x.getMinutes()),ee(x.getSeconds()),Oe].join("")},le=g.__private__.convertPDFDateToDate=function(x){var M=parseInt(x.substr(2,4),10),te=parseInt(x.substr(6,2),10)-1,ue=parseInt(x.substr(8,2),10),we=parseInt(x.substr(10,2),10),Oe=parseInt(x.substr(12,2),10),Ie=parseInt(x.substr(14,2),10);return new Date(M,te,ue,we,Oe,Ie,0)},K=g.__private__.setCreationDate=function(x){var M;if(x===void 0&&(x=new Date),x instanceof Date)M=ie(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=x}return ve=M},O=g.__private__.getCreationDate=function(x){var M=ve;return x==="jsDate"&&(M=le(ve)),M};g.setCreationDate=function(x){return K(x),this},g.getCreationDate=function(x){return O(x)};var Y,ee=g.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},oe=g.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},ce=0,ye=[],_e=[],Ae=0,Te=[],Ue=[],Ve=!1,He=_e;g.__private__.setCustomOutputDestination=function(x){Ve=!0,He=x};var lt=function(x){Ve||(He=x)};g.__private__.resetCustomOutputDestination=function(){Ve=!1,He=_e};var X=g.__private__.out=function(x){return x=x.toString(),Ae+=x.length+1,He.push(x),He},$e=g.__private__.write=function(x){return X(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},Mt=g.__private__.getArrayBuffer=function(x){for(var M=x.length,te=new ArrayBuffer(M),ue=new Uint8Array(te);M--;)ue[M]=x.charCodeAt(M);return te},mt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return mt};var De=n.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(x){return De=j===T?x/At:x,this};var dt,Ge=g.__private__.getFontSize=g.getFontSize=function(){return j===L?De:De*At},gt=n.R2L||!1;g.__private__.setR2L=g.setR2L=function(x){return gt=x,this},g.__private__.getR2L=g.getR2L=function(){return gt};var ft,Qt=g.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))dt=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');dt=x}else dt=parseInt(x,10)};g.__private__.getZoomMode=function(){return dt};var Wt,Lt=g.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');ft=x};g.__private__.getPageMode=function(){return ft};var qt=g.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');Wt=x};g.__private__.getLayoutMode=function(){return Wt},g.__private__.setDisplayMode=g.setDisplayMode=function(x,M,te){return Qt(x),qt(M),Lt(te),this};var Ut={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(x){if(Object.keys(Ut).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ut[x]},g.__private__.getDocumentProperties=function(){return Ut},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(x){for(var M in Ut)Ut.hasOwnProperty(M)&&x[M]&&(Ut[M]=x[M]);return this},g.__private__.setDocumentProperty=function(x,M){if(Object.keys(Ut).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ut[x]=M};var rt,At,nt,$n,Kt,Bt={},zt={},bn=[],pt={},cn={},vt={},Ct={},on=null,Ot=0,yt=[],Zt=new Hy(g),ma=n.hotfixes||[],Pr={},ys={},Ei=[],wt=function x(M,te,ue,we,Oe,Ie){if(!(this instanceof x))return new x(M,te,ue,we,Oe,Ie);isNaN(M)&&(M=1),isNaN(te)&&(te=0),isNaN(ue)&&(ue=0),isNaN(we)&&(we=1),isNaN(Oe)&&(Oe=0),isNaN(Ie)&&(Ie=0),this._matrix=[M,te,ue,we,Oe,Ie]};Object.defineProperty(wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wt.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(H).join(x)},wt.prototype.multiply=function(x){var M=x.sx*this.sx+x.shy*this.shx,te=x.sx*this.shy+x.shy*this.sy,ue=x.shx*this.sx+x.sy*this.shx,we=x.shx*this.shy+x.sy*this.sy,Oe=x.tx*this.sx+x.ty*this.shx+this.tx,Ie=x.tx*this.shy+x.ty*this.sy+this.ty;return new wt(M,te,ue,we,Oe,Ie)},wt.prototype.decompose=function(){var x=this.sx,M=this.shy,te=this.shx,ue=this.sy,we=this.tx,Oe=this.ty,Ie=Math.sqrt(x*x+M*M),Qe=(x/=Ie)*te+(M/=Ie)*ue;te-=x*Qe,ue-=M*Qe;var st=Math.sqrt(te*te+ue*ue);return Qe/=st,x*(ue/=st)<M*(te/=st)&&(x=-x,M=-M,Qe=-Qe,Ie=-Ie),{scale:new wt(Ie,0,0,st,0,0),translate:new wt(1,0,0,1,we,Oe),rotate:new wt(x,M,-M,x,0,0),skew:new wt(1,0,Qe,1,0,0)}},wt.prototype.toString=function(x){return this.join(" ")},wt.prototype.inversed=function(){var x=this.sx,M=this.shy,te=this.shx,ue=this.sy,we=this.tx,Oe=this.ty,Ie=1/(x*ue-M*te),Qe=ue*Ie,st=-M*Ie,Pt=-te*Ie,Tt=x*Ie;return new wt(Qe,st,Pt,Tt,-Qe*we-Pt*Oe,-st*we-Tt*Oe)},wt.prototype.applyToPoint=function(x){var M=x.x*this.sx+x.y*this.shx+this.tx,te=x.x*this.shy+x.y*this.sy+this.ty;return new Ri(M,te)},wt.prototype.applyToRectangle=function(x){var M=this.applyToPoint(x),te=this.applyToPoint(new Ri(x.x+x.w,x.y+x.h));return new io(M.x,M.y,te.x-M.x,te.y-M.y)},wt.prototype.clone=function(){var x=this.sx,M=this.shy,te=this.shx,ue=this.sy,we=this.tx,Oe=this.ty;return new wt(x,M,te,ue,we,Oe)},g.Matrix=wt;var gi=g.matrixMult=function(x,M){return M.multiply(x)},Xi=new wt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Xi;var Ir=function(x,M){if(!cn[x]){var te=(M instanceof Ec?"Sh":"P")+(Object.keys(pt).length+1).toString(10);M.id=te,cn[x]=te,pt[te]=M,Zt.publish("addPattern",M)}};g.ShadingPattern=Ec,g.TilingPattern=Uu,g.addShadingPattern=function(x,M){return W("addShadingPattern()"),Ir(x,M),this},g.beginTilingPattern=function(x){W("beginTilingPattern()"),Mi(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},g.endTilingPattern=function(x,M){W("endTilingPattern()"),M.stream=Ue[Y].join(`
`),Ir(x,M),Zt.publish("endTilingPattern",M),Ei.pop().restore()};var ji,_n=g.__private__.newObject=function(){var x=Vn();return tr(x,!0),x},Vn=g.__private__.newObjectDeferred=function(){return ce++,ye[ce]=function(){return Ae},ce},tr=function(x,M){return M=typeof M=="boolean"&&M,ye[x]=Ae,M&&X(x+" 0 obj"),x},Us=g.__private__.newAdditionalObject=function(){var x={objId:Vn(),content:""};return Te.push(x),x},va=Vn(),Qi=Vn(),ws=g.__private__.decodeColorString=function(x){var M=x.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length!==5||M[4]!=="k"&&M[4]!=="K"||(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var te=parseFloat(M[0]);M=[te,te,te,"r"]}for(var ue="#",we=0;we<3;we++)ue+=("0"+Math.floor(255*parseFloat(M[we])).toString(16)).slice(-2);return ue},Cr=g.__private__.encodeColorString=function(x){var M;typeof x=="string"&&(x={ch1:x});var te=x.ch1,ue=x.ch2,we=x.ch3,Oe=x.ch4,Ie=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var Qe=new Qb(te);if(Qe.ok)te=Qe.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var st=parseInt(te.substr(1),16);te=st>>16&255,ue=st>>8&255,we=255&st}if(ue===void 0||Oe===void 0&&te===ue&&ue===we)M=typeof te=="string"?te+" "+Ie[0]:x.precision===2?I(te/255)+" "+Ie[0]:q(te/255)+" "+Ie[0];else if(Oe===void 0||wn(Oe)==="object"){if(Oe&&!isNaN(Oe.a)&&Oe.a===0)return["1.","1.","1.",Ie[1]].join(" ");M=typeof te=="string"?[te,ue,we,Ie[1]].join(" "):x.precision===2?[I(te/255),I(ue/255),I(we/255),Ie[1]].join(" "):[q(te/255),q(ue/255),q(we/255),Ie[1]].join(" ")}else M=typeof te=="string"?[te,ue,we,Oe,Ie[2]].join(" "):x.precision===2?[I(te),I(ue),I(we),I(Oe),Ie[2]].join(" "):[q(te),q(ue),q(we),q(Oe),Ie[2]].join(" ");return M},Li=g.__private__.getFilters=function(){return o},mi=g.__private__.putStream=function(x){var M=(x=x||{}).data||"",te=x.filters||Li(),ue=x.alreadyAppliedFilters||[],we=x.addLength1||!1,Oe=M.length,Ie=x.objectId,Qe=function(pr){return pr};if(d!==null&&Ie===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Qe=fr.encryptor(Ie,0));var st={};te===!0&&(te=["FlateEncode"]);var Pt=x.additionalKeyValues||[],Tt=(st=ht.API.processDataByFilters!==void 0?ht.API.processDataByFilters(M,te):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(ue)?ue.join(" "):ue.toString());if(st.data.length!==0&&(Pt.push({key:"Length",value:st.data.length}),we===!0&&Pt.push({key:"Length1",value:Oe})),Tt.length!=0)if(Tt.split("/").length-1==1)Pt.push({key:"Filter",value:Tt});else{Pt.push({key:"Filter",value:"["+Tt+"]"});for(var Jt=0;Jt<Pt.length;Jt+=1)if(Pt[Jt].key==="DecodeParms"){for(var Mn=[],ir=0;ir<st.reverseChain.split("/").length-1;ir+=1)Mn.push("null");Mn.push(Pt[Jt].value),Pt[Jt].value="["+Mn.join(" ")+"]"}}X("<<");for(var xn=0;xn<Pt.length;xn++)X("/"+Pt[xn].key+" "+Pt[xn].value);X(">>"),st.data.length!==0&&(X("stream"),X(Qe(st.data)),X("endstream"))},Ga=g.__private__.putPage=function(x){var M=x.number,te=x.data,ue=x.objId,we=x.contentsObjId;tr(ue,!0),X("<</Type /Page"),X("/Parent "+x.rootDictionaryObjId+" 0 R"),X("/Resources "+x.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(H(x.mediaBox.bottomLeftX))+" "+parseFloat(H(x.mediaBox.bottomLeftY))+" "+H(x.mediaBox.topRightX)+" "+H(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&X("/CropBox ["+H(x.cropBox.bottomLeftX)+" "+H(x.cropBox.bottomLeftY)+" "+H(x.cropBox.topRightX)+" "+H(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&X("/BleedBox ["+H(x.bleedBox.bottomLeftX)+" "+H(x.bleedBox.bottomLeftY)+" "+H(x.bleedBox.topRightX)+" "+H(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&X("/TrimBox ["+H(x.trimBox.bottomLeftX)+" "+H(x.trimBox.bottomLeftY)+" "+H(x.trimBox.topRightX)+" "+H(x.trimBox.topRightY)+"]"),x.artBox!==null&&X("/ArtBox ["+H(x.artBox.bottomLeftX)+" "+H(x.artBox.bottomLeftY)+" "+H(x.artBox.topRightX)+" "+H(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&X("/UserUnit "+x.userUnit),Zt.publish("putPage",{objId:ue,pageContext:yt[M],pageNumber:M,page:te}),X("/Contents "+we+" 0 R"),X(">>"),X("endobj");var Oe=te.join(`
`);return j===T&&(Oe+=`
Q`),tr(we,!0),mi({data:Oe,filters:Li(),objectId:we}),X("endobj"),ue},Zi=g.__private__.putPages=function(){var x,M,te=[];for(x=1;x<=Ot;x++)yt[x].objId=Vn(),yt[x].contentsObjId=Vn();for(x=1;x<=Ot;x++)te.push(Ga({number:x,data:Ue[x],objId:yt[x].objId,contentsObjId:yt[x].contentsObjId,mediaBox:yt[x].mediaBox,cropBox:yt[x].cropBox,bleedBox:yt[x].bleedBox,trimBox:yt[x].trimBox,artBox:yt[x].artBox,userUnit:yt[x].userUnit,rootDictionaryObjId:va,resourceDictionaryObjId:Qi}));tr(va,!0),X("<</Type /Pages");var ue="/Kids [";for(M=0;M<Ot;M++)ue+=te[M]+" 0 R ";X(ue+"]"),X("/Count "+Ot),X(">>"),X("endobj"),Zt.publish("postPutPages")},ya=function(x){Zt.publish("putFont",{font:x,out:X,newObject:_n,putStream:mi}),x.isAlreadyPutted!==!0&&(x.objectNumber=_n(),X("<<"),X("/Type /Font"),X("/BaseFont /"+Mu(x.postScriptName)),X("/Subtype /Type1"),typeof x.encoding=="string"&&X("/Encoding /"+x.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Ka=function(x){x.objectNumber=_n();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[H(x.x),H(x.y),H(x.x+x.width),H(x.y+x.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var te=x.pages[1].join(`
`);mi({data:te,additionalKeyValues:M,objectId:x.objectNumber}),X("endobj")},Ya=function(x,M){M||(M=21);var te=_n(),ue=(function(Ie,Qe){var st,Pt=[],Tt=1/(Qe-1);for(st=0;st<1;st+=Tt)Pt.push(st);if(Pt.push(1),Ie[0].offset!=0){var Jt={offset:0,color:Ie[0].color};Ie.unshift(Jt)}if(Ie[Ie.length-1].offset!=1){var Mn={offset:1,color:Ie[Ie.length-1].color};Ie.push(Mn)}for(var ir="",xn=0,pr=0;pr<Pt.length;pr++){for(st=Pt[pr];st>Ie[xn+1].offset;)xn++;var Gn=Ie[xn].offset,Er=(st-Gn)/(Ie[xn+1].offset-Gn),qs=Ie[xn].color,ns=Ie[xn+1].color;ir+=oe(Math.round((1-Er)*qs[0]+Er*ns[0]).toString(16))+oe(Math.round((1-Er)*qs[1]+Er*ns[1]).toString(16))+oe(Math.round((1-Er)*qs[2]+Er*ns[2]).toString(16))}return ir.trim()})(x.colors,M),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+M+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),mi({data:ue,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),X("endobj"),x.objectNumber=_n(),X("<< /ShadingType "+x.type),X("/ColorSpace /DeviceRGB");var Oe="/Coords ["+H(parseFloat(x.coords[0]))+" "+H(parseFloat(x.coords[1]))+" ";x.type===2?Oe+=H(parseFloat(x.coords[2]))+" "+H(parseFloat(x.coords[3])):Oe+=H(parseFloat(x.coords[2]))+" "+H(parseFloat(x.coords[3]))+" "+H(parseFloat(x.coords[4]))+" "+H(parseFloat(x.coords[5])),X(Oe+="]"),x.matrix&&X("/Matrix ["+x.matrix.toString()+"]"),X("/Function "+te+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},qo=function(x,M){var te=Vn(),ue=_n();M.push({resourcesOid:te,objectOid:ue}),x.objectNumber=ue;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+x.boundingBox.map(H).join(" ")+"]"}),we.push({key:"XStep",value:H(x.xStep)}),we.push({key:"YStep",value:H(x.yStep)}),we.push({key:"Resources",value:te+" 0 R"}),x.matrix&&we.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),mi({data:x.stream,additionalKeyValues:we,objectId:x.objectNumber}),X("endobj")},ah=function(x){for(var M in x.objectNumber=_n(),X("<<"),x)switch(M){case"opacity":X("/ca "+I(x[M]));break;case"stroke-opacity":X("/CA "+I(x[M]))}X(">>"),X("endobj")},kn=function(x){tr(x.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var M in X("/Font <<"),Bt)Bt.hasOwnProperty(M)&&(m===!1||m===!0&&y.hasOwnProperty(M))&&X("/"+M+" "+Bt[M].objectNumber+" 0 R");X(">>")})(),(function(){if(Object.keys(pt).length>0){for(var M in X("/Shading <<"),pt)pt.hasOwnProperty(M)&&pt[M]instanceof Ec&&pt[M].objectNumber>=0&&X("/"+M+" "+pt[M].objectNumber+" 0 R");Zt.publish("putShadingPatternDict"),X(">>")}})(),(function(M){if(Object.keys(pt).length>0){for(var te in X("/Pattern <<"),pt)pt.hasOwnProperty(te)&&pt[te]instanceof g.TilingPattern&&pt[te].objectNumber>=0&&pt[te].objectNumber<M&&X("/"+te+" "+pt[te].objectNumber+" 0 R");Zt.publish("putTilingPatternDict"),X(">>")}})(x.objectOid),(function(){if(Object.keys(vt).length>0){var M;for(M in X("/ExtGState <<"),vt)vt.hasOwnProperty(M)&&vt[M].objectNumber>=0&&X("/"+M+" "+vt[M].objectNumber+" 0 R");Zt.publish("putGStateDict"),X(">>")}})(),(function(){for(var M in X("/XObject <<"),Pr)Pr.hasOwnProperty(M)&&Pr[M].objectNumber>=0&&X("/"+M+" "+Pr[M].objectNumber+" 0 R");Zt.publish("putXobjectDict"),X(">>")})(),X(">>"),X("endobj")},Hc=function(x){zt[x.fontName]=zt[x.fontName]||{},zt[x.fontName][x.fontStyle]=x.id},Ho=function(x,M,te,ue,we){var Oe={id:"F"+(Object.keys(Bt).length+1).toString(10),postScriptName:x,fontName:M,fontStyle:te,encoding:ue,isStandardFont:we||!1,metadata:{}};return Zt.publish("addFont",{font:Oe,instance:this}),Bt[Oe.id]=Oe,Hc(Oe),Oe.id},vi=g.__private__.pdfEscape=g.pdfEscape=function(x,M){return(function(te,ue){var we,Oe,Ie,Qe,st,Pt,Tt,Jt,Mn;if(Ie=(ue=ue||{}).sourceEncoding||"Unicode",st=ue.outputEncoding,(ue.autoencode||st)&&Bt[rt].metadata&&Bt[rt].metadata[Ie]&&Bt[rt].metadata[Ie].encoding&&(Qe=Bt[rt].metadata[Ie].encoding,!st&&Bt[rt].encoding&&(st=Bt[rt].encoding),!st&&Qe.codePages&&(st=Qe.codePages[0]),typeof st=="string"&&(st=Qe[st]),st)){for(Tt=!1,Pt=[],we=0,Oe=te.length;we<Oe;we++)(Jt=st[te.charCodeAt(we)])?Pt.push(String.fromCharCode(Jt)):Pt.push(te[we]),Pt[we].charCodeAt(0)>>8&&(Tt=!0);te=Pt.join("")}for(we=te.length;Tt===void 0&&we!==0;)te.charCodeAt(we-1)>>8&&(Tt=!0),we--;if(!Tt)return te;for(Pt=ue.noBOM?[]:[254,255],we=0,Oe=te.length;we<Oe;we++){if((Mn=(Jt=te.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+te+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Pt.push(Mn),Pt.push(Jt-(Mn<<8))}return String.fromCharCode.apply(void 0,Pt)})(x,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wa=g.__private__.beginPage=function(x){Ue[++Ot]=[],yt[Ot]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},Ja(Ot),lt(Ue[Y])},$c=function(x,M){var te,ue,we;switch(t=M||t,typeof x=="string"&&(te=P(x.toLowerCase()),Array.isArray(te)&&(ue=te[0],we=te[1])),Array.isArray(x)&&(ue=x[0]*At,we=x[1]*At),isNaN(ue)&&(ue=i[0],we=i[1]),(ue>14400||we>14400)&&(An.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ue=Math.min(14400,ue),we=Math.min(14400,we)),i=[ue,we],t.substr(0,1)){case"l":we>ue&&(i=[we,ue]);break;case"p":ue>we&&(i=[we,ue])}wa(i),xt(Oi),X(no),Gl!==0&&X(Gl+" J"),Kl!==0&&X(Kl+" j"),Zt.publish("addPage",{pageNumber:Ot})},$o=function(x){x>0&&x<=Ot&&(Ue.splice(x,1),yt.splice(x,1),Ot--,Y>Ot&&(Y=Ot),this.setPage(Y))},Ja=function(x){x>0&&x<=Ot&&(Y=x)},yi=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Ue.length-1},Vc=function(x,M,te){var ue,we=void 0;return te=te||{},x=x!==void 0?x:Bt[rt].fontName,M=M!==void 0?M:Bt[rt].fontStyle,ue=x.toLowerCase(),zt[ue]!==void 0&&zt[ue][M]!==void 0?we=zt[ue][M]:zt[x]!==void 0&&zt[x][M]!==void 0?we=zt[x][M]:te.disableWarning===!1&&An.warn("Unable to look up font label for font '"+x+"', '"+M+"'. Refer to getFontList() for available fonts."),we||te.noFallback||(we=zt.times[M])==null&&(we=zt.times.normal),we},nr=g.__private__.putInfo=function(){var x=_n(),M=function(ue){return ue};for(var te in d!==null&&(M=fr.encryptor(x,0)),X("<<"),X("/Producer ("+vi(M("jsPDF "+ht.version))+")"),Ut)Ut.hasOwnProperty(te)&&Ut[te]&&X("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+vi(M(Ut[te]))+")");X("/CreationDate ("+vi(M(ve))+")"),X(">>"),X("endobj")},Vo=g.__private__.putCatalog=function(x){var M=(x=x||{}).rootDictionaryObjId||va;switch(_n(),X("<<"),X("/Type /Catalog"),X("/Pages "+M+" 0 R"),dt||(dt="fullwidth"),dt){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+dt;te.substr(te.length-1)==="%"&&(dt=parseInt(dt)/100),typeof dt=="number"&&X("/OpenAction [3 0 R /XYZ null null "+I(dt)+"]")}switch(Wt||(Wt="continuous"),Wt){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}ft&&X("/PageMode /"+ft),Zt.publish("putCatalog"),X(">>"),X("endobj")},oh=g.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(ce+1)),X("/Root "+ce+" 0 R"),X("/Info "+(ce-1)+" 0 R"),d!==null&&X("/Encrypt "+fr.oid+" 0 R"),X("/ID [ <"+be+"> <"+be+"> ]"),X(">>")},rr=g.__private__.putHeader=function(){X("%PDF-"+_),X("%")},Xa=g.__private__.putXRef=function(){var x="0000000000";X("xref"),X("0 "+(ce+1)),X("0000000000 65535 f ");for(var M=1;M<=ce;M++)typeof ye[M]=="function"?X((x+ye[M]()).slice(-10)+" 00000 n "):ye[M]!==void 0?X((x+ye[M]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},wi=g.__private__.buildDocument=function(){var x;ce=0,Ae=0,_e=[],ye=[],Te=[],va=Vn(),Qi=Vn(),lt(_e),Zt.publish("buildDocument"),rr(),Zi(),(function(){Zt.publish("putAdditionalObjects");for(var te=0;te<Te.length;te++){var ue=Te[te];tr(ue.objId,!0),X(ue.content),X("endobj")}Zt.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var te in Bt)Bt.hasOwnProperty(te)&&(m===!1||m===!0&&y.hasOwnProperty(te))&&ya(Bt[te])})(),(function(){var te;for(te in vt)vt.hasOwnProperty(te)&&ah(vt[te])})(),(function(){for(var te in Pr)Pr.hasOwnProperty(te)&&Ka(Pr[te])})(),(function(te){var ue;for(ue in pt)pt.hasOwnProperty(ue)&&(pt[ue]instanceof Ec?Ya(pt[ue]):pt[ue]instanceof Uu&&qo(pt[ue],te))})(x),Zt.publish("putResources"),x.forEach(kn),kn({resourcesOid:Qi,objectOid:Number.MAX_SAFE_INTEGER}),Zt.publish("postPutResources"),d!==null&&(fr.oid=_n(),X("<<"),X("/Filter /Standard"),X("/V "+fr.v),X("/R "+fr.r),X("/U <"+fr.toHexString(fr.U)+">"),X("/O <"+fr.toHexString(fr.O)+">"),X("/P "+fr.P),X(">>"),X("endobj")),nr(),Vo();var M=Ae;return Xa(),oh(),X("startxref"),X(""+M),X("%%EOF"),lt(Ue[Y]),_e.join(`
`)},bs=g.__private__.getBlob=function(x){return new Blob([Mt(x)],{type:"application/pdf"})},Qa=g.output=g.__private__.output=(ji=function(x,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",x){case void 0:return wi();case"save":g.save(M.filename);break;case"arraybuffer":return Mt(wi());case"blob":return bs(wi());case"bloburi":case"bloburl":if(jt.URL!==void 0&&typeof jt.URL.createObjectURL=="function")return jt.URL&&jt.URL.createObjectURL(bs(wi()))||void 0;An.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",ue=wi();try{te=zy(ue)}catch{te=zy(unescape(encodeURIComponent(ue)))}return"data:application/pdf;filename="+M.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Oe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(we=M.pdfObjectUrl,Oe="");var Ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Oe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",Qe=jt.open();return Qe!==null&&Qe.document.write(Ie),Qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',Pt=jt.open();if(Pt!==null){Pt.document.write(st);var Tt=this;Pt.document.documentElement.querySelector("#pdfViewer").onload=function(){Pt.document.title=M.filename,Pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Tt.output("bloburl"))}}return Pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',Mn=jt.open();if(Mn!==null&&(Mn.document.write(Jt),Mn.document.title=M.filename),Mn||typeof safari>"u")return Mn;break;case"datauri":case"dataurl":return jt.document.location.href=this.output("datauristring",M);default:return null}},ji.foo=function(){try{return ji.apply(this,arguments)}catch(te){var x=te.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var M="Error in function "+x.split(`
`)[0].split("<")[0]+": "+te.message;if(!jt.console)throw new Error(M);jt.console.error(M,te),jt.alert&&alert(M)}},ji.foo.bar=ji,ji.foo),Ti=function(x){return Array.isArray(ma)===!0&&ma.indexOf(x)>-1};switch(r){case"pt":At=1;break;case"mm":At=72/25.4;break;case"cm":At=72/2.54;break;case"in":At=72;break;case"px":At=Ti("px_scaling")==1?.75:96/72;break;case"pc":case"em":At=12;break;case"ex":At=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);At=r}var fr=null;K(),$();var es=g.__private__.getPageInfo=g.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:yt[x].objId,pageNumber:x,pageContext:yt[x]}},ql=g.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in yt)if(yt[M].objId===x)break;return es(M)},Hl=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:yt[Y].objId,pageNumber:Y,pageContext:yt[Y]}};g.addPage=function(){return $c.apply(this,arguments),this},g.setPage=function(){return Ja.apply(this,arguments),lt.call(this,Ue[Y]),this},g.insertPage=function(x){return this.addPage(),this.movePage(Y,x),this},g.movePage=function(x,M){var te,ue;if(x>M){te=Ue[x],ue=yt[x];for(var we=x;we>M;we--)Ue[we]=Ue[we-1],yt[we]=yt[we-1];Ue[M]=te,yt[M]=ue,this.setPage(M)}else if(x<M){te=Ue[x],ue=yt[x];for(var Oe=x;Oe<M;Oe++)Ue[Oe]=Ue[Oe+1],yt[Oe]=yt[Oe+1];Ue[M]=te,yt[M]=ue,this.setPage(M)}return this},g.deletePage=function(){return $o.apply(this,arguments),this},g.__private__.text=g.text=function(x,M,te,ue,we){var Oe,Ie,Qe,st,Pt,Tt,Jt,Mn,ir,xn=(ue=ue||{}).scope||this;if(typeof x=="number"&&typeof M=="number"&&(typeof te=="string"||Array.isArray(te))){var pr=te;te=M,M=x,x=pr}if(arguments[3]instanceof wt==0?(Qe=arguments[4],st=arguments[5],wn(Jt=arguments[3])==="object"&&Jt!==null||(typeof Qe=="string"&&(st=Qe,Qe=null),typeof Jt=="string"&&(st=Jt,Jt=null),typeof Jt=="number"&&(Qe=Jt,Jt=null),ue={flags:Jt,angle:Qe,align:st})):(W("The transform parameter of text() with a Matrix value"),ir=we),isNaN(M)||isNaN(te)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return xn;var Gn,Er="",qs=typeof ue.lineHeightFactor=="number"?ue.lineHeightFactor:ti,ns=xn.internal.scaleFactor;function Hs(en){return en=en.split("	").join(Array(ue.TabLen||9).join(" ")),vi(en,Jt)}function oo(en){for(var un,Un=en.concat(),sr=[],ss=Un.length;ss--;)typeof(un=Un.shift())=="string"?sr.push(un):Array.isArray(en)&&(un.length===1||un[1]===void 0&&un[2]===void 0)?sr.push(un[0]):sr.push([un[0],un[1],un[2]]);return sr}function el(en,un){var Un;if(typeof en=="string")Un=un(en)[0];else if(Array.isArray(en)){for(var sr,ss,Ql=en.concat(),sl=[],Ys=Ql.length;Ys--;)typeof(sr=Ql.shift())=="string"?sl.push(un(sr)[0]):Array.isArray(sr)&&typeof sr[0]=="string"&&(ss=un(sr[0],sr[1],sr[2]),sl.push([ss[0],ss[1],ss[2]]));Un=sl}return Un}var xa=!1,lo=!0;if(typeof x=="string")xa=!0;else if(Array.isArray(x)){var Sa=x.concat();Ie=[];for(var ka,jr=Sa.length;jr--;)(typeof(ka=Sa.shift())!="string"||Array.isArray(ka)&&typeof ka[0]!="string")&&(lo=!1);xa=lo}if(xa===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var co=De/xn.internal.scaleFactor,uo=co*(qs-1);switch(ue.baseline){case"bottom":te-=uo;break;case"top":te+=co-uo;break;case"hanging":te+=co-2*uo;break;case"middle":te+=co/2-uo}if((Tt=ue.maxWidth||0)>0&&(typeof x=="string"?x=xn.splitTextToSize(x,Tt):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(en,un){return en.concat(xn.splitTextToSize(un,Tt))},[]))),Oe={text:x,x:M,y:te,options:ue,mutex:{pdfEscape:vi,activeFontKey:rt,fonts:Bt,activeFontSize:De}},Zt.publish("preProcessText",Oe),x=Oe.text,Qe=(ue=Oe.options).angle,ir instanceof wt==0&&Qe&&typeof Qe=="number"){Qe*=Math.PI/180,ue.rotationDirection===0&&(Qe=-Qe),j===T&&(Qe=-Qe);var Jl=Math.cos(Qe),Xl=Math.sin(Qe);ir=new wt(Jl,Xl,-Xl,Jl,0,0)}else Qe&&Qe instanceof wt&&(ir=Qe);j!==T||ir||(ir=Xi),(Pt=ue.charSpace||ni)!==void 0&&(Er+=H(ne(Pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mn=ue.horizontalScale)!==void 0&&(Er+=H(100*Mn)+` Tz
`),ue.lang;var Vr=-1,rs=ue.renderingMode!==void 0?ue.renderingMode:ue.stroke,Ns=xn.internal.getCurrentPageInfo().pageContext;switch(rs){case 0:case!1:case"fill":Vr=0;break;case 1:case!0:case"stroke":Vr=1;break;case 2:case"fillThenStroke":Vr=2;break;case 3:case"invisible":Vr=3;break;case 4:case"fillAndAddForClipping":Vr=4;break;case 5:case"strokeAndAddPathForClipping":Vr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Vr=6;break;case 7:case"addToPathForClipping":Vr=7}var Xc=Ns.usedRenderingMode!==void 0?Ns.usedRenderingMode:-1;Vr!==-1?Er+=Vr+` Tr
`:Xc!==-1&&(Er+=`0 Tr
`),Vr!==-1&&(Ns.usedRenderingMode=Vr),st=ue.align||"left";var _i,Na=De*qs,tl=xn.internal.pageSize.getWidth(),nl=Bt[rt];Pt=ue.charSpace||ni,Tt=ue.maxWidth||0,Jt=Object.assign({autoencode:!0,noBOM:!0},ue.flags);var $s=[],Fi=function(en){return xn.getStringUnitWidth(en,{font:nl,charSpace:Pt,fontSize:De,doKerning:!1})*De/ns};if(Object.prototype.toString.call(x)==="[object Array]"){var xi;Ie=oo(x),st!=="left"&&(_i=Ie.map(Fi));var Si,Aa=0;if(st==="right"){M-=_i[0],x=[],jr=Ie.length;for(var As=0;As<jr;As++)As===0?(Si=bi(M),xi=zs(te)):(Si=ne(Aa-_i[As]),xi=-Na),x.push([Ie[As],Si,xi]),Aa=_i[As]}else if(st==="center"){M-=_i[0]/2,x=[],jr=Ie.length;for(var Vs=0;Vs<jr;Vs++)Vs===0?(Si=bi(M),xi=zs(te)):(Si=ne((Aa-_i[Vs])/2),xi=-Na),x.push([Ie[Vs],Si,xi]),Aa=_i[Vs]}else if(st==="left"){x=[],jr=Ie.length;for(var Gs=0;Gs<jr;Gs++)x.push(Ie[Gs])}else if(st==="justify"&&nl.encoding==="Identity-H"){x=[],jr=Ie.length,Tt=Tt!==0?Tt:tl;for(var Ps=0,Kn=0;Kn<jr;Kn++)if(xi=Kn===0?zs(te):-Na,Si=Kn===0?bi(M):Ps,Kn<jr-1){var ho=ne((Tt-_i[Kn])/(Ie[Kn].split(" ").length-1)),Cs=Ie[Kn].split(" ");x.push([Cs[0]+" ",Si,xi]),Ps=0;for(var is=1;is<Cs.length;is++){var fo=(Fi(Cs[is-1]+" "+Cs[is])-Fi(Cs[is]))*ns+ho;is==Cs.length-1?x.push([Cs[is],fo,0]):x.push([Cs[is]+" ",fo,0]),Ps-=fo}}else x.push([Ie[Kn],Si,xi]);x.push(["",Ps,0])}else{if(st!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],jr=Ie.length,Tt=Tt!==0?Tt:tl,Kn=0;Kn<jr;Kn++){xi=Kn===0?zs(te):-Na,Si=Kn===0?bi(M):0;var po=Ie[Kn].split(" ").length-1,rl=po>0?(Tt-_i[Kn])/po:0;Kn<jr-1?$s.push(H(ne(rl))):$s.push(0),x.push([Ie[Kn],Si,xi])}}}(typeof ue.R2L=="boolean"?ue.R2L:gt)===!0&&(x=el(x,function(en,un,Un){return[en.split("").reverse().join(""),un,Un]})),Oe={text:x,x:M,y:te,options:ue,mutex:{pdfEscape:vi,activeFontKey:rt,fonts:Bt,activeFontSize:De}},Zt.publish("postProcessText",Oe),x=Oe.text,Gn=Oe.mutex.isHex||!1;var il=Bt[rt].encoding;il!=="WinAnsiEncoding"&&il!=="StandardEncoding"||(x=el(x,function(en,un,Un){return[Hs(en),un,Un]})),Ie=oo(x),x=[];for(var Ks,Pa,Ca,go=Array.isArray(Ie[0])?1:0,Ea="",mo=function(en,un,Un){var sr="";return Un instanceof wt?(Un=typeof ue.angle=="number"?gi(Un,new wt(1,0,0,1,en,un)):gi(new wt(1,0,0,1,en,un),Un),j===T&&(Un=gi(new wt(1,0,0,-1,0,0),Un)),sr=Un.join(" ")+` Tm
`):sr=H(en)+" "+H(un)+` Td
`,sr},Bn=0;Bn<Ie.length;Bn++){switch(Ea="",go){case 1:Ca=(Gn?"<":"(")+Ie[Bn][0]+(Gn?">":")"),Ks=parseFloat(Ie[Bn][1]),Pa=parseFloat(Ie[Bn][2]);break;case 0:Ca=(Gn?"<":"(")+Ie[Bn]+(Gn?">":")"),Ks=bi(M),Pa=zs(te)}$s!==void 0&&$s[Bn]!==void 0&&(Ea=$s[Bn]+` Tw
`),Bn===0?x.push(Ea+mo(Ks,Pa,ir)+Ca):go===0?x.push(Ea+Ca):go===1&&x.push(Ea+mo(Ks,Pa,ir)+Ca)}x=go===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var ri=`BT
/`;return ri+=rt+" "+De+` Tf
`,ri+=H(De*qs)+` TL
`,ri+=ts+`
`,ri+=Er,ri+=x,X(ri+="ET"),y[rt]=!0,xn};var Za=g.__private__.clip=g.clip=function(x){return X(x==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Za("evenodd")},g.__private__.discardPath=g.discardPath=function(){return X("n"),this};var _s=g.__private__.isValidStyle=function(x){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(M=!0),M};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(x){return _s(x)&&(h=x),this};var Go=g.__private__.getStyle=g.getStyle=function(x){var M=h;switch(x){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=x}return M},Xt=g.close=function(){return X("h"),this};g.stroke=function(){return X("S"),this},g.fill=function(x){return eo("f",x),this},g.fillEvenOdd=function(x){return eo("f*",x),this},g.fillStroke=function(x){return eo("B",x),this},g.fillStrokeEvenOdd=function(x){return eo("B*",x),this};var eo=function(x,M){wn(M)==="object"?Gc(M,x):X(x)},ba=function(x){x===null||j===T&&x===void 0||(x=Go(x),X(x))};function $l(x,M,te,ue,we){var Oe=new Uu(M||this.boundingBox,te||this.xStep,ue||this.yStep,this.gState,we||this.matrix);Oe.stream=this.stream;var Ie=x+"$$"+this.cloneIndex+++"$$";return Ir(Ie,Oe),Oe}var Gc=function(x,M){var te=cn[x.key],ue=pt[te];if(ue instanceof Ec)X("q"),X(Kc(M)),ue.gState&&g.setGState(ue.gState),X(x.matrix.toString()+" cm"),X("/"+te+" sh"),X("Q");else if(ue instanceof Uu){var we=new wt(1,0,0,-1,0,Di());x.matrix&&(we=we.multiply(x.matrix||Xi),te=$l.call(ue,x.key,x.boundingBox,x.xStep,x.yStep,we).id),X("q"),X("/Pattern cs"),X("/"+te+" scn"),ue.gState&&g.setGState(ue.gState),X(M),X("Q")}},Kc=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ko=g.moveTo=function(x,M){return X(H(ne(x))+" "+H(re(M))+" m"),this},Yo=g.lineTo=function(x,M){return X(H(ne(x))+" "+H(re(M))+" l"),this},ei=g.curveTo=function(x,M,te,ue,we,Oe){return X([H(ne(x)),H(re(M)),H(ne(te)),H(re(ue)),H(ne(we)),H(re(Oe)),"c"].join(" ")),this};g.__private__.line=g.line=function(x,M,te,ue,we){if(isNaN(x)||isNaN(M)||isNaN(te)||isNaN(ue)||!_s(we))throw new Error("Invalid arguments passed to jsPDF.line");return j===L?this.lines([[te-x,ue-M]],x,M,[1,1],we||"S"):this.lines([[te-x,ue-M]],x,M,[1,1]).stroke()},g.__private__.lines=g.lines=function(x,M,te,ue,we,Oe){var Ie,Qe,st,Pt,Tt,Jt,Mn,ir,xn,pr,Gn,Er;if(typeof x=="number"&&(Er=te,te=M,M=x,x=Er),ue=ue||[1,1],Oe=Oe||!1,isNaN(M)||isNaN(te)||!Array.isArray(x)||!Array.isArray(ue)||!_s(we)||typeof Oe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ko(M,te),Ie=ue[0],Qe=ue[1],Pt=x.length,pr=M,Gn=te,st=0;st<Pt;st++)(Tt=x[st]).length===2?(pr=Tt[0]*Ie+pr,Gn=Tt[1]*Qe+Gn,Yo(pr,Gn)):(Jt=Tt[0]*Ie+pr,Mn=Tt[1]*Qe+Gn,ir=Tt[2]*Ie+pr,xn=Tt[3]*Qe+Gn,pr=Tt[4]*Ie+pr,Gn=Tt[5]*Qe+Gn,ei(Jt,Mn,ir,xn,pr,Gn));return Oe&&Xt(),ba(we),this},g.path=function(x){for(var M=0;M<x.length;M++){var te=x[M],ue=te.c;switch(te.op){case"m":Ko(ue[0],ue[1]);break;case"l":Yo(ue[0],ue[1]);break;case"c":ei.apply(this,ue);break;case"h":Xt()}}return this},g.__private__.rect=g.rect=function(x,M,te,ue,we){if(isNaN(x)||isNaN(M)||isNaN(te)||isNaN(ue)||!_s(we))throw new Error("Invalid arguments passed to jsPDF.rect");return j===L&&(ue=-ue),X([H(ne(x)),H(re(M)),H(ne(te)),H(ne(ue)),"re"].join(" ")),ba(we),this},g.__private__.triangle=g.triangle=function(x,M,te,ue,we,Oe,Ie){if(isNaN(x)||isNaN(M)||isNaN(te)||isNaN(ue)||isNaN(we)||isNaN(Oe)||!_s(Ie))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-x,ue-M],[we-te,Oe-ue],[x-we,M-Oe]],x,M,[1,1],Ie,!0),this},g.__private__.roundedRect=g.roundedRect=function(x,M,te,ue,we,Oe,Ie){if(isNaN(x)||isNaN(M)||isNaN(te)||isNaN(ue)||isNaN(we)||isNaN(Oe)||!_s(Ie))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Qe=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*te),Oe=Math.min(Oe,.5*ue),this.lines([[te-2*we,0],[we*Qe,0,we,Oe-Oe*Qe,we,Oe],[0,ue-2*Oe],[0,Oe*Qe,-we*Qe,Oe,-we,Oe],[2*we-te,0],[-we*Qe,0,-we,-Oe*Qe,-we,-Oe],[0,2*Oe-ue],[0,-Oe*Qe,we*Qe,-Oe,we,-Oe]],x+we,M,[1,1],Ie,!0),this},g.__private__.ellipse=g.ellipse=function(x,M,te,ue,we){if(isNaN(x)||isNaN(M)||isNaN(te)||isNaN(ue)||!_s(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Oe=4/3*(Math.SQRT2-1)*te,Ie=4/3*(Math.SQRT2-1)*ue;return Ko(x+te,M),ei(x+te,M-Ie,x+Oe,M-ue,x,M-ue),ei(x-Oe,M-ue,x-te,M-Ie,x-te,M),ei(x-te,M+Ie,x-Oe,M+ue,x,M+ue),ei(x+Oe,M+ue,x+te,M+Ie,x+te,M),ba(we),this},g.__private__.circle=g.circle=function(x,M,te,ue){if(isNaN(x)||isNaN(M)||isNaN(te)||!_s(ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,M,te,te,ue)},g.setFont=function(x,M,te){return te&&(M=U(M,te)),rt=Vc(x,M,{disableWarning:!1}),this};var xs=g.__private__.getFont=g.getFont=function(){return Bt[Vc.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var x,M,te={};for(x in zt)if(zt.hasOwnProperty(x))for(M in te[x]=[],zt[x])zt[x].hasOwnProperty(M)&&te[x].push(M);return te},g.addFont=function(x,M,te,ue,we){var Oe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Oe.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Oe.indexOf(arguments[3])==-1&&(te=U(te,ue)),Ho.call(this,x,M,te,we=we||"Identity-H")};var ti,Oi=n.lineWidth||.200025,to=g.__private__.getLineWidth=g.getLineWidth=function(){return Oi},xt=g.__private__.setLineWidth=g.setLineWidth=function(x){return Oi=x,X(H(ne(x))+" w"),this};g.__private__.setLineDash=ht.API.setLineDash=ht.API.setLineDashPattern=function(x,M){if(x=x||[],M=M||0,isNaN(M)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(te){return H(ne(te))}).join(" "),M=H(ne(M)),X("["+x+"] "+M+" d"),this};var Ss=g.__private__.getLineHeight=g.getLineHeight=function(){return De*ti};g.__private__.getLineHeight=g.getLineHeight=function(){return De*ti};var lh=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(ti=x),this},Yc=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return ti};lh(n.lineHeight);var bi=g.__private__.getHorizontalCoordinate=function(x){return ne(x)},zs=g.__private__.getVerticalCoordinate=function(x){return j===T?x:yt[Y].mediaBox.topRightY-yt[Y].mediaBox.bottomLeftY-ne(x)},Jc=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(x){return H(bi(x))},Jo=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(x){return H(zs(x))},no=n.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return ws(no)},g.__private__.setStrokeColor=g.setDrawColor=function(x,M,te,ue){return no=Cr({ch1:x,ch2:M,ch3:te,ch4:ue,pdfColorType:"draw",precision:2}),X(no),this};var Vl=n.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return ws(Vl)},g.__private__.setFillColor=g.setFillColor=function(x,M,te,ue){return Vl=Cr({ch1:x,ch2:M,ch3:te,ch4:ue,pdfColorType:"fill",precision:2}),X(Vl),this};var ts=n.textColor||"0 g",ro=g.__private__.getTextColor=g.getTextColor=function(){return ws(ts)};g.__private__.setTextColor=g.setTextColor=function(x,M,te,ue){return ts=Cr({ch1:x,ch2:M,ch3:te,ch4:ue,pdfColorType:"text",precision:3}),this};var ni=n.charSpace,Xo=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(ni||0)};g.__private__.setCharSpace=g.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ni=x,this};var Gl=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(x){var M=g.CapJoinStyles[x];if(M===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gl=M,X(M+" J"),this};var Kl=0;g.__private__.setLineJoin=g.setLineJoin=function(x){var M=g.CapJoinStyles[x];if(M===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kl=M,X(M+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(H(ne(x))+" M"),this},g.GState=mp,g.setGState=function(x){(x=typeof x=="string"?vt[Ct[x]]:Qo(null,x)).equals(on)||(X("/"+x.id+" gs"),on=x)};var Qo=function(x,M){if(!x||!Ct[x]){var te=!1;for(var ue in vt)if(vt.hasOwnProperty(ue)&&vt[ue].equals(M)){te=!0;break}if(te)M=vt[ue];else{var we="GS"+(Object.keys(vt).length+1).toString(10);vt[we]=M,M.id=we}return x&&(Ct[x]=M.id),Zt.publish("addGState",M),M}};g.addGState=function(x,M){return Qo(x,M),this},g.saveGraphicsState=function(){return X("q"),bn.push({key:rt,size:De,color:ts}),this},g.restoreGraphicsState=function(){X("Q");var x=bn.pop();return rt=x.key,De=x.size,ts=x.color,on=null,this},g.setCurrentTransformationMatrix=function(x){return X(x.toString()+" cm"),this},g.comment=function(x){return X("#"+x),this};var Ri=function(x,M){var te=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(Oe){isNaN(Oe)||(te=parseFloat(Oe))}});var ue=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ue},set:function(Oe){isNaN(Oe)||(ue=parseFloat(Oe))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Oe){we=Oe.toString()}}),this},io=function(x,M,te,ue){Ri.call(this,x,M),this.type="rect";var we=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(Ie){isNaN(Ie)||(we=parseFloat(Ie))}});var Oe=ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Oe},set:function(Ie){isNaN(Ie)||(Oe=parseFloat(Ie))}}),this},so=function(){this.page=Ot,this.currentPage=Y,this.pages=Ue.slice(0),this.pagesContext=yt.slice(0),this.x=nt,this.y=$n,this.matrix=Kt,this.width=_a(Y),this.height=ao(Y),this.outputDestination=He,this.id="",this.objectNumber=-1};so.prototype.restore=function(){Ot=this.page,Y=this.currentPage,yt=this.pagesContext,Ue=this.pages,nt=this.x,$n=this.y,Kt=this.matrix,Yl(Y,this.width),Ii(Y,this.height),He=this.outputDestination};var Mi=function(x,M,te,ue,we){Ei.push(new so),Ot=Y=0,Ue=[],nt=x,$n=M,Kt=we,wa([te,ue])};for(var Ws in g.beginFormObject=function(x,M,te,ue,we){return Mi(x,M,te,ue,we),this},g.endFormObject=function(x){return(function(M){if(ys[M])Ei.pop().restore();else{var te=new so,ue="Xo"+(Object.keys(Pr).length+1).toString(10);te.id=ue,ys[M]=ue,Pr[ue]=te,Zt.publish("addFormObject",te),Ei.pop().restore()}})(x),this},g.doFormObject=function(x,M){var te=Pr[ys[x]];return X("q"),X(M.toString()+" cm"),X("/"+te.id+" Do"),X("Q"),this},g.getFormObject=function(x){var M=Pr[ys[x]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},g.save=function(x,M){return x=x||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(Ac(bs(wi()),x),typeof Ac.unload=="function"&&jt.setTimeout&&setTimeout(Ac.unload,911),this):new Promise(function(te,ue){try{var we=Ac(bs(wi()),x);typeof Ac.unload=="function"&&jt.setTimeout&&setTimeout(Ac.unload,911),te(we)}catch(Oe){ue(Oe.message)}})},ht.API)ht.API.hasOwnProperty(Ws)&&(Ws==="events"&&ht.API.events.length?(function(x,M){var te,ue,we;for(we=M.length-1;we!==-1;we--)te=M[we][0],ue=M[we][1],x.subscribe.apply(x,[te].concat(typeof ue=="function"?[ue]:ue))})(Zt,ht.API.events):g[Ws]=ht.API[Ws]);function _a(x){return yt[x].mediaBox.topRightX-yt[x].mediaBox.bottomLeftX}function Yl(x,M){yt[x].mediaBox.topRightX=M+yt[x].mediaBox.bottomLeftX}function ao(x){return yt[x].mediaBox.topRightY-yt[x].mediaBox.bottomLeftY}function Ii(x,M){yt[x].mediaBox.topRightY=M+yt[x].mediaBox.bottomLeftY}var ks=g.getPageWidth=function(x){return _a(x=x||Y)/At},Dr=g.setPageWidth=function(x,M){Yl(x,M*At)},Di=g.getPageHeight=function(x){return ao(x=x||Y)/At},Zo=g.setPageHeight=function(x,M){Ii(x,M*At)};return g.internal={pdfEscape:vi,getStyle:Go,getFont:xs,getFontSize:Ge,getCharSpace:Xo,getTextColor:ro,getLineHeight:Ss,getLineHeightFactor:Yc,getLineWidth:to,write:$e,getHorizontalCoordinate:bi,getVerticalCoordinate:zs,getCoordinateString:Jc,getVerticalCoordinateString:Jo,collections:{},newObject:_n,newAdditionalObject:Us,newObjectDeferred:Vn,newObjectDeferredBegin:tr,getFilters:Li,putStream:mi,events:Zt,scaleFactor:At,pageSize:{getWidth:function(){return ks(Y)},setWidth:function(x){Dr(Y,x)},getHeight:function(){return Di(Y)},setHeight:function(x){Zo(Y,x)}},encryptionOptions:d,encryption:fr,getEncryptor:function(x){return d!==null?fr.encryptor(x,0):function(M){return M}},output:Qa,getNumberOfPages:yi,get pages(){return Ue},out:X,f2:I,f3:q,getPageInfo:es,getPageInfoByObjId:ql,getCurrentPageInfo:Hl,getPDFVersion:k,Point:Ri,Rectangle:io,Matrix:wt,hasHotfix:Ti},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return ks(Y)},set:function(x){Dr(Y,x)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Di(Y)},set:function(x){Zo(Y,x)},enumerable:!0,configurable:!0}),(function(x){for(var M=0,te=mt.length;M<te;M++){var ue=Ho.call(this,x[M][0],x[M][1],x[M][2],mt[M][3],!0);m===!1&&(y[ue]=!0);var we=x[M][0].split("-");Hc({id:ue,fontName:we[0],fontStyle:we[1]||""})}Zt.publish("addFonts",{fonts:Bt,dictionary:zt})}).call(g,mt),rt="F1",$c(i,t),Zt.publish("initialized"),g}Ru.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Ru.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ru.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Ru.prototype.processOwnerPassword=function(n,e){return e0(Zm(e).substr(0,5),n)},Ru.prototype.encryptor=function(n,e){var t=Zm(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return e0(t,r)}},mp.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||wn(n)!==wn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},ht.API={events:[]},ht.version="4.0.0";var ur=ht.API,F0=1,qc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Eu=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Dt=function(n){return n.toFixed(2)},Al=function(n){return n.toFixed(5)};ur.__acroform__={};var Ji=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},$y=function(n){return n*F0},Ba=function(n){var e=new n_,t=tt.internal.getHeight(n)||0,r=tt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Dt(r)),Number(Dt(t))],e},sL=ur.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},aL=ur.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},oL=ur.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},yr=ur.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return oL(n,e-1)},wr=ur.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return sL(n,e-1)},br=ur.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return aL(n,e-1)},lL=ur.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],l=n[3],u={};return u.lowerLeft_X=t(i)||0,u.lowerLeft_Y=r(s+l)||0,u.upperRight_X=t(i+o)||0,u.upperRight_Y=r(s)||0,[Number(Dt(u.lowerLeft_X)),Number(Dt(u.lowerLeft_Y)),Number(Dt(u.upperRight_X)),Number(Dt(u.upperRight_Y))]},cL=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=t0(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Dt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ba(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},t0=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var s=t,o=tt.internal.getHeight(n)||0;o=o<0?-o:o;var l=tt.internal.getWidth(n)||0;l=l<0?-l:l;var u=function(I,q,ne){if(I+1<i.length){var re=q+" "+i[I+1][0];return Df(re,n,ne).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var h,d,m=Df("3",n,s).height,y=n.multiline?o-s:(o-m)/2,g=y+=2,_=0,k=0,N=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Df(e,n,s=12).width+", FieldWidth:"+l+`
`;break}for(var P="",L=0,T=0;T<i.length;T++)if(i.hasOwnProperty(T)){var j=!1;if(i[T].length!==1&&N!==i[T].length-1){if((m+2)*(L+2)+2>o)continue e;P+=i[T][N],j=!0,k=T,T--}else{P=(P+=i[T][N]+" ").substr(P.length-1)==" "?P.substr(0,P.length-1):P;var D=parseInt(T),Q=u(D,P,s),U=T>=i.length-1;if(Q&&!U){P+=" ",N=0;continue}if(Q||U){if(U)k=D;else if(n.multiline&&(m+2)*(L+2)+2>o)continue e}else{if(!n.multiline||(m+2)*(L+2)+2>o)continue e;k=D}}for(var H="",W=_;W<=k;W++){var ae=i[W];if(n.multiline){if(W===k){H+=ae[N]+" ",N=(N+1)%ae.length;continue}if(W===_){H+=ae[ae.length-1]+" ";continue}}H+=ae[0]+" "}switch(H=H.substr(H.length-1)==" "?H.substr(0,H.length-1):H,d=Df(H,n,s).width,n.textAlign){case"right":h=l-d-2;break;case"center":h=(l-d)/2;break;default:h=2}e+=Dt(h)+" "+Dt(g)+` Td
`,e+="("+qc(H)+`) Tj
`,e+=-Dt(h)+` 0 Td
`,g=-(s+2),d=0,_=j?k:k+1,L++,P=""}break}return r.text=e,r.fontSize=s,r},Df=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},uL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hL=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},dL=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(pa.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(uL)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");F0=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new r_,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&hL(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var l=r[o],u=[],h=l.Rect;if(l.Rect&&(l.Rect=lL(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=tt.createDefaultAppearanceStream(l),wn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=h,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=cL(l);u.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var m="";for(var y in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(y)){var g=l.appearanceStreamContent[y];if(m+="/"+y+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var _=g[o];typeof _=="function"&&(_=_.call(i,l)),m+="/"+o+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=g)=="function"&&(_=_.call(i,l)),m+="/"+o+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:l.objId}),i.internal.out("endobj")}s&&(function(k,N){for(var P in k)if(k.hasOwnProperty(P)){var L=P,T=k[P];N.internal.newObjectDeferredBegin(T.objId,!0),wn(T)==="object"&&typeof T.putStream=="function"&&T.putStream(),delete k[L]}})(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},t_=ur.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),wn(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+qc(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},um=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+qc(r(n))+")"},qa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qa.prototype.toString=function(){return this.objId+" 0 R"},qa.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},qa.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:t_(i,this.objId,this.scope)}):i instanceof qa?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var n_=function(){qa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ji(n_,qa);var r_=function(){qa.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+qc(t(n))+")"}},set:function(t){n=t}})};Ji(r_,qa);var pa=function n(){qa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute F supplied.');e=P}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!yr(e,3)},set:function(P){P?this.F=wr(e,3):this.F=br(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute Ff supplied.');t=P}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(P){r=P!==void 0?P:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(P){r[0]=P}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(P){r[1]=P}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(P){r[2]=P}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(P){r[3]=P}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(P){switch(P){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=P;break;default:throw new Error('Invalid value "'+P+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof vp)return;s="FieldObject"+n.FieldNum++}var P=function(L){return L};return this.scope&&(P=this.scope.internal.getEncryptor(this.objId)),"("+qc(P(s))+")"},set:function(P){s=P.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(P){s=P}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(P){o=P}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(P){l=P}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(P){u=P}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/F0:h},set:function(P){h=P}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(P){d=P}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof vp||this instanceof Rc))return um(m,this.objId,this.scope)},set:function(P){P=P.toString(),m=P}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof $r==0?um(y,this.objId,this.scope):y},set:function(P){P=P.toString(),y=this instanceof $r==0?P.substr(0,1)==="("?Eu(P.substr(1,P.length-2)):Eu(P):P}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $r==1?Eu(y.substr(1,y.length-1)):y},set:function(P){P=P.toString(),y=this instanceof $r==1?"/"+P:P}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(P){this.V=P}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof $r==0?um(g,this.objId,this.scope):g},set:function(P){P=P.toString(),g=this instanceof $r==0?P.substr(0,1)==="("?Eu(P.substr(1,P.length-2)):Eu(P):P}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $r==1?Eu(g.substr(1,g.length-1)):g},set:function(P){P=P.toString(),g=this instanceof $r==1?"/"+P:P}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(P){P=!!P,k=P}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(P){_=P}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,1)},set:function(P){P?this.Ff=wr(this.Ff,1):this.Ff=br(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,2)},set:function(P){P?this.Ff=wr(this.Ff,2):this.Ff=br(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,3)},set:function(P){P?this.Ff=wr(this.Ff,3):this.Ff=br(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(P){if([0,1,2].indexOf(P)===-1)throw new Error('Invalid value "'+P+'" for attribute Q supplied.');N=P}}),Object.defineProperty(this,"textAlign",{get:function(){var P;switch(N){case 0:default:P="left";break;case 1:P="center";break;case 2:P="right"}return P},configurable:!0,enumerable:!0,set:function(P){switch(P){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};Ji(pa,qa);var Hu=function(){pa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return t_(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(s,o,l){l||(l=1);for(var u,h=[];u=o.exec(s);)h.push(u[l]);return h})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,18)},set:function(t){t?this.Ff=wr(this.Ff,18):this.Ff=br(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=wr(this.Ff,19):this.Ff=br(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,20)},set:function(t){t?(this.Ff=wr(this.Ff,20),e.sort()):this.Ff=br(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,22)},set:function(t){t?this.Ff=wr(this.Ff,22):this.Ff=br(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,23)},set:function(t){t?this.Ff=wr(this.Ff,23):this.Ff=br(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,27)},set:function(t){t?this.Ff=wr(this.Ff,27):this.Ff=br(this.Ff,27)}}),this.hasAppearanceStream=!1};Ji(Hu,pa);var $u=function(){Hu.call(this),this.fontName="helvetica",this.combo=!1};Ji($u,Hu);var Vu=function(){$u.call(this),this.combo=!0};Ji(Vu,$u);var Vf=function(){Vu.call(this),this.edit=!0};Ji(Vf,Vu);var $r=function(){pa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,15)},set:function(t){t?this.Ff=wr(this.Ff,15):this.Ff=br(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,16)},set:function(t){t?this.Ff=wr(this.Ff,16):this.Ff=br(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,17)},set:function(t){t?this.Ff=wr(this.Ff,17):this.Ff=br(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,26)},set:function(t){t?this.Ff=wr(this.Ff,26):this.Ff=br(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+qc(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){wn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Ji($r,pa);var Gf=function(){$r.call(this),this.pushButton=!0};Ji(Gf,$r);var Gu=function(){$r.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ji(Gu,$r);var vp=function(){var n,e;pa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+qc(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){wn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=tt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ji(vp,pa),Gu.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Gu.prototype.createOption=function(n){var e=new vp;return e.Parent=this,e.optionName=n,this.Kids.push(e),fL.call(this.scope,e),e};var Kf=function(){$r.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=tt.CheckBox.createAppearanceStream()};Ji(Kf,$r);var Rc=function(){pa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,13)},set:function(e){e?this.Ff=wr(this.Ff,13):this.Ff=br(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,21)},set:function(e){e?this.Ff=wr(this.Ff,21):this.Ff=br(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,23)},set:function(e){e?this.Ff=wr(this.Ff,23):this.Ff=br(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,24)},set:function(e){e?this.Ff=wr(this.Ff,24):this.Ff=br(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,25)},set:function(e){e?this.Ff=wr(this.Ff,25):this.Ff=br(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,26)},set:function(e){e?this.Ff=wr(this.Ff,26):this.Ff=br(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ji(Rc,pa);var Yf=function(){Rc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,14)},set:function(n){n?this.Ff=wr(this.Ff,14):this.Ff=br(this.Ff,14)}}),this.password=!0};Ji(Yf,Rc);var tt={CheckBox:{createAppearanceStream:function(){return{N:{On:tt.CheckBox.YesNormal},D:{On:tt.CheckBox.YesPushDown,Off:tt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Ba(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=t0(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Dt(tt.internal.getWidth(n))+" "+Dt(tt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Dt(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Ba(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=tt.internal.getHeight(n),o=tt.internal.getWidth(n),l=t0(n,n.caption);return i.push("1 g"),i.push("0 0 "+Dt(o)+" "+Dt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Dt(o-1)+" "+Dt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Dt(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Ba(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Dt(tt.internal.getWidth(n))+" "+Dt(tt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:tt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=tt.RadioButton.Circle.YesNormal,e.D[n]=tt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Ba(n);e.scope=n.scope;var t=[],r=tt.internal.getWidth(n)<=tt.internal.getHeight(n)?tt.internal.getWidth(n)/4:tt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=tt.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Al(tt.internal.getWidth(n)/2)+" "+Al(tt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ba(n);e.scope=n.scope;var t=[],r=tt.internal.getWidth(n)<=tt.internal.getHeight(n)?tt.internal.getWidth(n)/4:tt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*tt.internal.Bezier_C).toFixed(5)),o=Number((r*tt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Al(tt.internal.getWidth(n)/2)+" "+Al(tt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Al(tt.internal.getWidth(n)/2)+" "+Al(tt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Ba(n);e.scope=n.scope;var t=[],r=tt.internal.getWidth(n)<=tt.internal.getHeight(n)?tt.internal.getWidth(n)/4:tt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*tt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Al(tt.internal.getWidth(n)/2)+" "+Al(tt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:tt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=tt.RadioButton.Cross.YesNormal,e.D[n]=tt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Ba(n);e.scope=n.scope;var t=[],r=tt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Dt(tt.internal.getWidth(n)-2)+" "+Dt(tt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Dt(r.x1.x)+" "+Dt(r.x1.y)+" m"),t.push(Dt(r.x2.x)+" "+Dt(r.x2.y)+" l"),t.push(Dt(r.x4.x)+" "+Dt(r.x4.y)+" m"),t.push(Dt(r.x3.x)+" "+Dt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ba(n);e.scope=n.scope;var t=tt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Dt(tt.internal.getWidth(n))+" "+Dt(tt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Dt(tt.internal.getWidth(n)-2)+" "+Dt(tt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Dt(t.x1.x)+" "+Dt(t.x1.y)+" m"),r.push(Dt(t.x2.x)+" "+Dt(t.x2.y)+" l"),r.push(Dt(t.x4.x)+" "+Dt(t.x4.y)+" m"),r.push(Dt(t.x3.x)+" "+Dt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Ba(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Dt(tt.internal.getWidth(n))+" "+Dt(tt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};tt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=tt.internal.getWidth(n),t=tt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},tt.internal.getWidth=function(n){var e=0;return wn(n)==="object"&&(e=$y(n.Rect[2])),e},tt.internal.getHeight=function(n){var e=0;return wn(n)==="object"&&(e=$y(n.Rect[3])),e};var fL=ur.addField=function(n){if(dL(this,n),!(n instanceof pa))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};ur.AcroFormChoiceField=Hu,ur.AcroFormListBox=$u,ur.AcroFormComboBox=Vu,ur.AcroFormEditBox=Vf,ur.AcroFormButton=$r,ur.AcroFormPushButton=Gf,ur.AcroFormRadioButton=Gu,ur.AcroFormCheckBox=Kf,ur.AcroFormTextField=Rc,ur.AcroFormPasswordField=Yf,ur.AcroFormAppearance=tt,ur.AcroForm={ChoiceField:Hu,ListBox:$u,ComboBox:Vu,EditBox:Vf,Button:$r,PushButton:Gf,RadioButton:Gu,CheckBox:Kf,TextField:Rc,PasswordField:Yf,Appearance:tt},ht.AcroForm={ChoiceField:Hu,ListBox:$u,ComboBox:Vu,EditBox:Vf,Button:$r,PushButton:Gf,RadioButton:Gu,CheckBox:Kf,TextField:Rc,PasswordField:Yf,Appearance:tt};ht.AcroForm;function i_(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(I,q){var ne,re,ve,be,he,$=t;if((q=q||t)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(Q(I))for(he in r)for(ve=r[he],ne=0;ne<ve.length;ne+=1){for(be=!0,re=0;re<ve[ne].length;re+=1)if(ve[ne][re]!==void 0&&ve[ne][re]!==I[re]){be=!1;break}if(be===!0){$=he;break}}else for(he in r)for(ve=r[he],ne=0;ne<ve.length;ne+=1){for(be=!0,re=0;re<ve[ne].length;re+=1)if(ve[ne][re]!==void 0&&ve[ne][re]!==I.charCodeAt(re)){be=!1;break}if(be===!0){$=he;break}}return $===t&&q!==t&&($=q),$},s=function I(q){for(var ne=this.internal.write,re=this.internal.putStream,ve=(0,this.internal.getFilters)();ve.indexOf("FlateEncode")!==-1;)ve.splice(ve.indexOf("FlateEncode"),1);q.objectId=this.internal.newObject();var be=[];if(be.push({key:"Type",value:"/XObject"}),be.push({key:"Subtype",value:"/Image"}),be.push({key:"Width",value:q.width}),be.push({key:"Height",value:q.height}),q.colorSpace===P.INDEXED?be.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(q.palette.length/3-1)+" "+("sMask"in q&&q.sMask!==void 0?q.objectId+2:q.objectId+1)+" 0 R]"}):(be.push({key:"ColorSpace",value:"/"+q.colorSpace}),q.colorSpace===P.DEVICE_CMYK&&be.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),be.push({key:"BitsPerComponent",value:q.bitsPerComponent}),"decodeParameters"in q&&q.decodeParameters!==void 0&&be.push({key:"DecodeParms",value:"<<"+q.decodeParameters+">>"}),"transparency"in q&&Array.isArray(q.transparency)&&q.transparency.length>0){for(var he="",$=0,ie=q.transparency.length;$<ie;$++)he+=q.transparency[$]+" "+q.transparency[$]+" ";be.push({key:"Mask",value:"["+he+"]"})}q.sMask!==void 0&&be.push({key:"SMask",value:q.objectId+1+" 0 R"});var le=q.filter!==void 0?["/"+q.filter]:void 0;if(re({data:q.data,additionalKeyValues:be,alreadyAppliedFilters:le,objectId:q.objectId}),ne("endobj"),"sMask"in q&&q.sMask!==void 0){var K,O=(K=q.sMaskBitsPerComponent)!==null&&K!==void 0?K:q.bitsPerComponent,Y={width:q.width,height:q.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:q.sMask};"filter"in q&&(Y.decodeParameters="/Predictor ".concat(q.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(q.width),Y.filter=q.filter),I.call(this,Y)}if(q.colorSpace===P.INDEXED){var ee=this.internal.newObject();re({data:H(new Uint8Array(q.palette)),objectId:ee}),ne("endobj")}},o=function(){var I=this.internal.collections[e+"images"];for(var q in I)s.call(this,I[q])},l=function(){var I,q=this.internal.collections[e+"images"],ne=this.internal.write;for(var re in q)ne("/I"+(I=q[re]).index,I.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},h=function(){var I=this.internal.collections[e+"images"];return u.call(this),I},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(I){return typeof n["process"+I.toUpperCase()]=="function"},y=function(I){return wn(I)==="object"&&I.nodeType===1},g=function(I,q){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var ne=""+I.getAttribute("src");if(ne.indexOf("data:image/")===0)return $f(unescape(ne).split("base64,").pop());var re=n.loadFile(ne,!0);if(re!==void 0)return re}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var ve;switch(q){case"PNG":ve="image/png";break;case"WEBP":ve="image/webp";break;default:ve="image/jpeg"}return $f(I.toDataURL(ve,1).split("base64,").pop())}},_=function(I){var q=this.internal.collections[e+"images"];if(q){for(var ne in q)if(I===q[ne].alias)return q[ne]}},k=function(I,q,ne){return I||q||(I=-96,q=-96),I<0&&(I=-1*ne.width*72/I/this.internal.scaleFactor),q<0&&(q=-1*ne.height*72/q/this.internal.scaleFactor),I===0&&(I=q*ne.width/ne.height),q===0&&(q=I*ne.height/ne.width),[I,q]},N=function(I,q,ne,re,ve,be){var he=k.call(this,ne,re,ve),$=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,le=h.call(this);if(ne=he[0],re=he[1],le[ve.index]=ve,be){be*=Math.PI/180;var K=Math.cos(be),O=Math.sin(be),Y=function(oe){return oe.toFixed(4)},ee=[Y(K),Y(O),Y(-1*O),Y(K),0,0,"cm"]}this.internal.write("q"),be?(this.internal.write([1,"0","0",1,$(I),ie(q+re),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([$(ne),"0","0",$(re),"0","0","cm"].join(" "))):this.internal.write([$(ne),"0","0",$(re),$(I),ie(q+re),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ve.index+" Do"),this.internal.write("Q")},P=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=n.__addimage__.sHashCode=function(I){var q,ne,re=0;if(typeof I=="string")for(ne=I.length,q=0;q<ne;q++)re=(re<<5)-re+I.charCodeAt(q),re|=0;else if(Q(I))for(ne=I.byteLength/2,q=0;q<ne;q++)re=(re<<5)-re+I[q],re|=0;return re},j=n.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var q=!0;return I.length===0&&(q=!1),I.length%4!=0&&(q=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(q=!1),q},D=n.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var q=I.indexOf(",");return q<0?null:I.substring(0,q).trim().endsWith("base64")?I.substring(q+1):null};n.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var Q=n.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},U=n.__addimage__.binaryStringToUint8Array=function(I){for(var q=I.length,ne=new Uint8Array(q),re=0;re<q;re++)ne[re]=I.charCodeAt(re);return ne},H=n.__addimage__.arrayBufferToBinaryString=function(I){for(var q="",ne=Q(I)?I:new Uint8Array(I),re=0;re<ne.length;re+=8192)q+=String.fromCharCode.apply(null,ne.subarray(re,re+8192));return q};n.addImage=function(){var I,q,ne,re,ve,be,he,$,ie;if(typeof arguments[1]=="number"?(q=t,ne=arguments[1],re=arguments[2],ve=arguments[3],be=arguments[4],he=arguments[5],$=arguments[6],ie=arguments[7]):(q=arguments[1],ne=arguments[2],re=arguments[3],ve=arguments[4],be=arguments[5],he=arguments[6],$=arguments[7],ie=arguments[8]),wn(I=arguments[0])==="object"&&!y(I)&&"imageData"in I){var le=I;I=le.imageData,q=le.format||q||t,ne=le.x||ne||0,re=le.y||re||0,ve=le.w||le.width||ve,be=le.h||le.height||be,he=le.alias||he,$=le.compression||$,ie=le.rotation||le.angle||ie}var K=this.internal.getFilters();if($===void 0&&K.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(ne)||isNaN(re))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var O=W.call(this,I,q,he,$);return N.call(this,ne,re,ve,be,O,ie),this};var W=function(I,q,ne,re){var ve,be,he;if(typeof I=="string"&&i(I)===t){I=unescape(I);var $=ae(I,!1);($!==""||($=n.loadFile(I,!0))!==void 0)&&(I=$)}if(y(I)&&(I=g(I,q)),q=i(I,q),!m(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(((he=ne)==null||he.length===0)&&(ne=(function(ie){return typeof ie=="string"||Q(ie)?T(ie):Q(ie.data)?T(ie.data):null})(I)),(ve=_.call(this,ne))||(I instanceof Uint8Array||q==="RGBA"||(be=I,I=U(I)),ve=this["process"+q.toUpperCase()](I,d.call(this),ne,(function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in n.image_compression?ie:L.NONE})(re),be)),!ve)throw new Error("An unknown error occurred whilst processing the image.");return ve},ae=n.__addimage__.convertBase64ToBinaryString=function(I,q){q=typeof q!="boolean"||q;var ne,re="";if(typeof I=="string"){var ve;ne=(ve=D(I))!==null&&ve!==void 0?ve:I;try{re=$f(ne)}catch(be){if(q)throw j(ne)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+be.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return re};n.getImageProperties=function(I){var q,ne,re="";if(y(I)&&(I=g(I)),typeof I=="string"&&i(I)===t&&((re=ae(I,!1))===""&&(re=n.loadFile(I)||""),I=re),ne=i(I),!m(ne))throw new Error("addImage does not support files of type '"+ne+"', please ensure that a plugin for '"+ne+"' support is added.");if(I instanceof Uint8Array||(I=U(I)),!(q=this["process"+ne.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return q.fileType=ne,q}})(ht.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};ht.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,d=!1,m=0;m<h.length&&!d;m++)switch((r=h[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var y=0;y<h.length;y++){r=h[y];var g=this.internal.pdfEscape,_=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),P=this.internal.getEncryptor(k.objId),L=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+g(P(r.contents))+")",s+=" /Popup "+N.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+g(P(L))+") >>",k.content=s;var T=k.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+T,r.open&&(s+=" /Open true"),s+=" >>",N.content=s,this.internal.write(k.objId,"0 R",N.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var j=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(_(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var D=this.annotations._nameMap[r.options.name];r.options.pageNumber=D.page,r.options.top=D.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(_(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var Q=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+Q+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(t),y:h(r),w:u(t+i),h:h(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,l,u=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var d=this.splitTextToSize(t,l).length;o=Math.ceil(h*d)}else l=u,o=h;return this.text(t,r,i,s),i+=.2*h,s.align==="center"&&(r-=u/2),s.align==="right"&&(r-=u),this.link(r,i-h,l,o,s),u},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(ht.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(k){return e[k.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},l=n.__arabicParser__.isArabicEndLetter=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(k){return o(k)&&i.indexOf(k.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length>=1};var h=n.__arabicParser__.arabicLetterHasFinalForm=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length>=3};var d=n.__arabicParser__.arabicLetterHasMedialForm=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length==4},m=n.__arabicParser__.resolveLigatures=function(k){var N=0,P=t,L="",T=0;for(N=0;N<k.length;N+=1)P[k.charCodeAt(N)]!==void 0?(T++,typeof(P=P[k.charCodeAt(N)])=="number"&&(L+=String.fromCharCode(P),P=t,T=0),N===k.length-1&&(P=t,L+=k.charAt(N-(T-1)),N-=T-1,T=0)):(P=t,L+=k.charAt(N-T),N-=T,T=0);return L};n.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&r[k.charCodeAt(0)]!==void 0};var y=n.__arabicParser__.getCorrectForm=function(k,N,P){return o(k)?s(k)===!1?-1:!h(k)||!o(N)&&!o(P)||!o(P)&&l(N)||l(k)&&!o(N)||l(k)&&u(N)||l(k)&&l(N)?0:d(k)&&o(N)&&!l(N)&&o(P)&&h(P)?3:l(k)||!o(P)?1:2:-1},g=function(k){var N=0,P=0,L=0,T="",j="",D="",Q=(k=k||"").split("\\s+"),U=[];for(N=0;N<Q.length;N+=1){for(U.push(""),P=0;P<Q[N].length;P+=1)T=Q[N][P],j=Q[N][P-1],D=Q[N][P+1],o(T)?(L=y(T,j,D),U[N]+=L!==-1?String.fromCharCode(e[T.charCodeAt(0)][L]):T):U[N]+=T;U[N]=m(U[N])}return U.join(" ")},_=n.__arabicParser__.processArabic=n.processArabic=function(){var k,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,P=[];if(Array.isArray(N)){var L=0;for(P=[],L=0;L<N.length;L+=1)Array.isArray(N[L])?P.push([g(N[L][0]),N[L][1],N[L][2]]):P.push([g(N[L])]);k=P}else k=g(N);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};n.events.push(["preProcessText",_])})(ht.API),ht.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(ht.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(k){u=k}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(k){h=k}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(k){d=k}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(k){m=k}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(k){y=k}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(k){g=k}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(k){_=k}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,h){r.call(this);var d=(h=h||{}).fontSize||this.getFontSize(),m=h.font||this.getFont(),y=h.scaleFactor||this.internal.scaleFactor,g=0,_=0,k=0,N=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var P=h.maxWidth;P>0?typeof u=="string"?u=this.splitTextToSize(u,P):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(T,j){return T.concat(N.splitTextToSize(j,P))},[])):u=Array.isArray(u)?u:[u];for(var L=0;L<u.length;L++)g<(k=this.getStringUnitWidth(u[L],{font:m})*d)&&(g=k);return g!==0&&(_=u.length),{w:g/=y,h:Math.max((_*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/y,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var h=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===u.lineNumber?(u.x=(h.x||0)+(h.width||0),u.y=h.y||0):h.y+h.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,g&&y&&(this.printHeaderRow(u.lineNumber,!0),u.y+=y[0].height)):u.y=h.y+h.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-d,u.y+d,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+d,{align:"center",baseline:"top",maxWidth:u.width-d-d}):this.text(u.text,u.x+d,u.y+d,{align:"left",baseline:"top",maxWidth:u.width-d-d})),this.internal.__cell__.lastCell=u,this};n.table=function(u,h,d,m,y){if(r.call(this),!d)throw new Error("No data for PDF table.");var g,_,k,N,P=[],L=[],T=[],j={},D={},Q=[],U=[],H=(y=y||{}).autoSize||!1,W=y.printHeaders!==!1,ae=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,I=y.margins||Object.assign({width:this.getPageWidth()},e),q=typeof y.padding=="number"?y.padding:3,ne=y.headerBackgroundColor||"#c8c8c8",re=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=W,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=ae,this.internal.__cell__.padding=q,this.internal.__cell__.headerBackgroundColor=ne,this.internal.__cell__.headerTextColor=re,this.setFontSize(ae),m==null)L=P=Object.keys(d[0]),T=P.map(function(){return"left"});else if(Array.isArray(m)&&wn(m[0])==="object")for(P=m.map(function(le){return le.name}),L=m.map(function(le){return le.prompt||le.name||""}),T=m.map(function(le){return le.align||"left"}),g=0;g<m.length;g+=1)D[m[g].name]=.7499990551181103*m[g].width;else Array.isArray(m)&&typeof m[0]=="string"&&(L=P=m,T=P.map(function(){return"left"}));if(H||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<P.length;g+=1){for(j[N=P[g]]=d.map(function(le){return le[N]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(L[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=j[N],this.setFont(void 0,"normal"),k=0;k<_.length;k+=1)Q.push(this.getTextDimensions(_[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[N]=Math.max.apply(null,Q)+q+q,Q=[]}if(W){var ve={};for(g=0;g<P.length;g+=1)ve[P[g]]={},ve[P[g]].text=L[g],ve[P[g]].align=T[g];var be=l.call(this,ve,D);U=P.map(function(le){return new s(u,h,D[le],be,ve[le].text,void 0,ve[le].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var he=m.reduce(function(le,K){return le[K.name]=K.align,le},{});for(g=0;g<d.length;g+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:g,data:d[g]},this);var $=l.call(this,d[g],D);for(k=0;k<P.length;k+=1){var ie=d[g][P[k]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:g,col:k,data:ie},this),o.call(this,new s(u,h,D[P[k]],$,ie,g+2,he[P[k]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=h,this};var l=function(u,h){var d=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(u).map(function(g){var _=u[g];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,h[g]-d-d)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/y+d+d},this).reduce(function(g,_){return Math.max(g,_)},0)};n.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){d=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(d.y=this.internal.__cell__.margins.top||0,y.push(d)),d.lineNumber=u;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(_)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),t=!1}})(ht.API);var s_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},a_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],n0=i_(a_),o_=[100,200,300,400,500,600,700,800,900],pL=i_(o_);function hm(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return s_[s=s||"normal"]?s:"normal"})(n.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(n.weight),i=(function(s){return typeof n0[s=s||"normal"]=="number"?s:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function Vy(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var gL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Gy={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ky(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Yy(n){return n.trimLeft()}function mL(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function vL(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Ff,Jy,Xy,ju,Bf,Qy,Zy,e5,dm=["times"];function t5(n,e,t,r,i){var s=4,o=r5;switch(i){case ht.API.image_compression.FAST:s=1,o=n5;break;case ht.API.image_compression.MEDIUM:s=6,o=i5;break;case ht.API.image_compression.SLOW:s=9,o=s5}n=(function(u,h,d,m){for(var y,g=u.length/h,_=new Uint8Array(u.length+g),k=[yL,n5,r5,i5,s5],N=0;N<g;N+=1){var P=N*h,L=u.subarray(P,P+h);if(m)_.set(m(L,d,y),P+N);else{for(var T=k.length,j=[],D=0;D<T;D+=1)j[D]=k[D](L,d,y);var Q=bL(j.concat());_.set(j[Q],P+N)}y=L}return _})(n,e,Math.ceil(t*r/8),o);var l=Ym(n,{level:s});return ht.API.__addimage__.arrayBufferToBinaryString(l)}function yL(n){var e=Array.apply([],n);return e.unshift(0),e}function n5(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var s=n[i-e]||0;r[i+1]=n[i]-s+256&255}return r}function r5(n,e,t){var r=n.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=t&&t[s]||0;i[s+1]=n[s]-o+256&255}return i}function i5(n,e,t){var r=n.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=n[s-e]||0,l=t&&t[s]||0;i[s+1]=n[s]+256-(o+l>>>1)&255}return i}function s5(n,e,t){var r=n.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=wL(n[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=n[s]-o+256&255}return i}function wL(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),s=Math.abs(n+e-t-t);return r<=i&&r<=s?n:i<=s?e:t}function bL(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function fm(n,e,t){var r=e*t,i=Math.floor(r/8),s=16-(r-8*i+t),o=(1<<t)-1;return l_(n,i)>>s&o}function a5(n,e,t,r){var i=t*r,s=Math.floor(i/8),o=16-(i-8*s+r),l=(1<<r)-1,u=(e&l)<<o;(function(h,d,m){if(d+1<h.byteLength)h.setUint16(d,m,!1);else{var y=m>>8&255;h.setUint8(d,y)}})(n,s,l_(n,s)&~(l<<o)&65535|u)}function l_(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function _L(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,o=1<<1+(7&i);n[e++],n[e++];var l=null,u=null;s&&(l=e,u=o,e+=3*o);var h=!0,d=[],m=0,y=null,g=0,_=null;for(this.width=t,this.height=r;h&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,_=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var k=n[e++];m=n[e++]|n[e++]<<8,y=n[e++],1&k||(y=null),g=k>>2&7,e++;break;case 254:for(;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var N=n[e++]|n[e++]<<8,P=n[e++]|n[e++]<<8,L=n[e++]|n[e++]<<8,T=n[e++]|n[e++]<<8,j=n[e++],D=j>>6&1,Q=1<<1+(7&j),U=l,H=u,W=!1;j>>7&&(W=!0,U=e,H=Q,e+=3*Q);var ae=e;for(e++;;){var I;if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}d.push({x:N,y:P,width:L,height:T,has_local_palette:W,palette_offset:U,palette_size:H,data_offset:ae,data_length:e-ae,transparent_index:y,interlaced:!!D,delay:m,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return _},this.frameInfo=function(q){if(q<0||q>=d.length)throw new Error("Frame index out of range.");return d[q]},this.decodeAndBlitFrameBGRA=function(q,ne){var re=this.frameInfo(q),ve=re.width*re.height,be=new Uint8Array(ve);o5(n,re.data_offset,be,ve);var he=re.palette_offset,$=re.transparent_index;$===null&&($=256);var ie=re.width,le=t-ie,K=ie,O=4*(re.y*t+re.x),Y=4*((re.y+re.height)*t+re.x),ee=O,oe=4*le;re.interlaced===!0&&(oe+=4*t*7);for(var ce=8,ye=0,_e=be.length;ye<_e;++ye){var Ae=be[ye];if(K===0&&(K=ie,(ee+=oe)>=Y&&(oe=4*le+4*t*(ce-1),ee=O+(ie+le)*(ce<<1),ce>>=1)),Ae===$)ee+=4;else{var Te=n[he+3*Ae],Ue=n[he+3*Ae+1],Ve=n[he+3*Ae+2];ne[ee++]=Ve,ne[ee++]=Ue,ne[ee++]=Te,ne[ee++]=255}--K}},this.decodeAndBlitFrameRGBA=function(q,ne){var re=this.frameInfo(q),ve=re.width*re.height,be=new Uint8Array(ve);o5(n,re.data_offset,be,ve);var he=re.palette_offset,$=re.transparent_index;$===null&&($=256);var ie=re.width,le=t-ie,K=ie,O=4*(re.y*t+re.x),Y=4*((re.y+re.height)*t+re.x),ee=O,oe=4*le;re.interlaced===!0&&(oe+=4*t*7);for(var ce=8,ye=0,_e=be.length;ye<_e;++ye){var Ae=be[ye];if(K===0&&(K=ie,(ee+=oe)>=Y&&(oe=4*le+4*t*(ce-1),ee=O+(ie+le)*(ce<<1),ce>>=1)),Ae===$)ee+=4;else{var Te=n[he+3*Ae],Ue=n[he+3*Ae+1],Ve=n[he+3*Ae+2];ne[ee++]=Te,ne[ee++]=Ue,ne[ee++]=Ve,ne[ee++]=255}--K}}}function o5(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,l=o+1,u=i+1,h=(1<<u)-1,d=0,m=0,y=0,g=n[e++],_=new Int32Array(4096),k=null;;){for(;d<16&&g!==0;)m|=n[e++]<<d,d+=8,g===1?g=n[e++]:--g;if(d<u)break;var N=m&h;if(m>>=u,d-=u,N!==s){if(N===o)break;for(var P=N<l?N:k,L=0,T=P;T>s;)T=_[T]>>8,++L;var j=T;if(y+L+(P!==N?1:0)>r)return void An.log("Warning, gif stream longer than expected.");t[y++]=j;var D=y+=L;for(P!==N&&(t[y++]=j),T=P;L--;)T=_[T],t[--D]=255&T,T>>=8;k!==null&&l<4096&&(_[l++]=k<<8|j,l>=h+1&&u<12&&(++u,h=h<<1|1)),k=N}else l=o+1,h=(1<<(u=i+1))-1,k=null}return y!==r&&An.log("Warning, gif stream shorter than expected."),t}function pm(n){var e,t,r,i,s,o=Math.floor,l=new Array(64),u=new Array(64),h=new Array(64),d=new Array(64),m=new Array(65535),y=new Array(65535),g=new Array(64),_=new Array(64),k=[],N=0,P=7,L=new Array(64),T=new Array(64),j=new Array(64),D=new Array(256),Q=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],H=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ne=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ve=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function be(O,Y){for(var ee=0,oe=0,ce=new Array,ye=1;ye<=16;ye++){for(var _e=1;_e<=O[ye];_e++)ce[Y[oe]]=[],ce[Y[oe]][0]=ee,ce[Y[oe]][1]=ye,oe++,ee++;ee*=2}return ce}function he(O){for(var Y=O[0],ee=O[1]-1;ee>=0;)Y&1<<ee&&(N|=1<<P),ee--,--P<0&&(N==255?($(255),$(0)):$(N),P=7,N=0)}function $(O){k.push(O)}function ie(O){$(O>>8&255),$(255&O)}function le(O,Y,ee,oe,ce){for(var ye,_e=ce[0],Ae=ce[240],Te=(function(De,dt){var Ge,gt,ft,Qt,Wt,Lt,qt,Ut,rt,At,nt=0;for(rt=0;rt<8;++rt){Ge=De[nt],gt=De[nt+1],ft=De[nt+2],Qt=De[nt+3],Wt=De[nt+4],Lt=De[nt+5],qt=De[nt+6];var $n=Ge+(Ut=De[nt+7]),Kt=Ge-Ut,Bt=gt+qt,zt=gt-qt,bn=ft+Lt,pt=ft-Lt,cn=Qt+Wt,vt=Qt-Wt,Ct=$n+cn,on=$n-cn,Ot=Bt+bn,yt=Bt-bn;De[nt]=Ct+Ot,De[nt+4]=Ct-Ot;var Zt=.707106781*(yt+on);De[nt+2]=on+Zt,De[nt+6]=on-Zt;var ma=.382683433*((Ct=vt+pt)-(yt=zt+Kt)),Pr=.5411961*Ct+ma,ys=1.306562965*yt+ma,Ei=.707106781*(Ot=pt+zt),wt=Kt+Ei,gi=Kt-Ei;De[nt+5]=gi+Pr,De[nt+3]=gi-Pr,De[nt+1]=wt+ys,De[nt+7]=wt-ys,nt+=8}for(nt=0,rt=0;rt<8;++rt){Ge=De[nt],gt=De[nt+8],ft=De[nt+16],Qt=De[nt+24],Wt=De[nt+32],Lt=De[nt+40],qt=De[nt+48];var Xi=Ge+(Ut=De[nt+56]),Ir=Ge-Ut,ji=gt+qt,_n=gt-qt,Vn=ft+Lt,tr=ft-Lt,Us=Qt+Wt,va=Qt-Wt,Qi=Xi+Us,ws=Xi-Us,Cr=ji+Vn,Li=ji-Vn;De[nt]=Qi+Cr,De[nt+32]=Qi-Cr;var mi=.707106781*(Li+ws);De[nt+16]=ws+mi,De[nt+48]=ws-mi;var Ga=.382683433*((Qi=va+tr)-(Li=_n+Ir)),Zi=.5411961*Qi+Ga,ya=1.306562965*Li+Ga,Ka=.707106781*(Cr=tr+_n),Ya=Ir+Ka,qo=Ir-Ka;De[nt+40]=qo+Zi,De[nt+24]=qo-Zi,De[nt+8]=Ya+ya,De[nt+56]=Ya-ya,nt++}for(rt=0;rt<64;++rt)At=De[rt]*dt[rt],g[rt]=At>0?At+.5|0:At-.5|0;return g})(O,Y),Ue=0;Ue<64;++Ue)_[U[Ue]]=Te[Ue];var Ve=_[0]-ee;ee=_[0],Ve==0?he(oe[0]):(he(oe[y[ye=32767+Ve]]),he(m[ye]));for(var He=63;He>0&&_[He]==0;)He--;if(He==0)return he(_e),ee;for(var lt,X=1;X<=He;){for(var $e=X;_[X]==0&&X<=He;)++X;var Mt=X-$e;if(Mt>=16){lt=Mt>>4;for(var mt=1;mt<=lt;++mt)he(Ae);Mt&=15}ye=32767+_[X],he(ce[(Mt<<4)+y[ye]]),he(m[ye]),X++}return He!=63&&he(_e),ee}function K(O){O=Math.min(Math.max(O,1),100),s!=O&&((function(Y){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var ce=o((ee[oe]*Y+50)/100);ce=Math.min(Math.max(ce,1),255),l[U[oe]]=ce}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var Ae=o((ye[_e]*Y+50)/100);Ae=Math.min(Math.max(Ae,1),255),u[U[_e]]=Ae}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ue=0,Ve=0;Ve<8;Ve++)for(var He=0;He<8;He++)h[Ue]=1/(l[U[Ue]]*Te[Ve]*Te[He]*8),d[Ue]=1/(u[U[Ue]]*Te[Ve]*Te[He]*8),Ue++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),s=O)}this.encode=function(O,Y){Y&&K(Y),k=new Array,N=0,P=7,ie(65496),ie(65504),ie(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),ie(1),ie(1),$(0),$(0),(function(){ie(65499),ie(132),$(0);for(var gt=0;gt<64;gt++)$(l[gt]);$(1);for(var ft=0;ft<64;ft++)$(u[ft])})(),(function(gt,ft){ie(65472),ie(17),$(8),ie(ft),ie(gt),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)})(O.width,O.height),(function(){ie(65476),ie(418),$(0);for(var gt=0;gt<16;gt++)$(H[gt+1]);for(var ft=0;ft<=11;ft++)$(W[ft]);$(16);for(var Qt=0;Qt<16;Qt++)$(ae[Qt+1]);for(var Wt=0;Wt<=161;Wt++)$(I[Wt]);$(1);for(var Lt=0;Lt<16;Lt++)$(q[Lt+1]);for(var qt=0;qt<=11;qt++)$(ne[qt]);$(17);for(var Ut=0;Ut<16;Ut++)$(re[Ut+1]);for(var rt=0;rt<=161;rt++)$(ve[rt])})(),ie(65498),ie(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var ee=0,oe=0,ce=0;N=0,P=7,this.encode.displayName="_encode_";for(var ye,_e,Ae,Te,Ue,Ve,He,lt,X,$e=O.data,Mt=O.width,mt=O.height,De=4*Mt,dt=0;dt<mt;){for(ye=0;ye<De;){for(Ue=De*dt+ye,He=-1,lt=0,X=0;X<64;X++)Ve=Ue+(lt=X>>3)*De+(He=4*(7&X)),dt+lt>=mt&&(Ve-=De*(dt+1+lt-mt)),ye+He>=De&&(Ve-=ye+He-De+4),_e=$e[Ve++],Ae=$e[Ve++],Te=$e[Ve++],L[X]=(Q[_e]+Q[Ae+256|0]+Q[Te+512|0]>>16)-128,T[X]=(Q[_e+768|0]+Q[Ae+1024|0]+Q[Te+1280|0]>>16)-128,j[X]=(Q[_e+1280|0]+Q[Ae+1536|0]+Q[Te+1792|0]>>16)-128;ee=le(L,h,ee,e,r),oe=le(T,d,oe,t,i),ce=le(j,d,ce,t,i),ye+=32}dt+=8}if(P>=0){var Ge=[];Ge[1]=P+1,Ge[0]=(1<<P+1)-1,he(Ge)}return ie(65497),new Uint8Array(k)},n=n||50,(function(){for(var O=String.fromCharCode,Y=0;Y<256;Y++)D[Y]=O(Y)})(),e=be(H,W),t=be(q,ne),r=be(ae,I),i=be(re,ve),(function(){for(var O=1,Y=2,ee=1;ee<=15;ee++){for(var oe=O;oe<Y;oe++)y[32767+oe]=ee,m[32767+oe]=[],m[32767+oe][1]=ee,m[32767+oe][0]=oe;for(var ce=-(Y-1);ce<=-O;ce++)y[32767+ce]=ee,m[32767+ce]=[],m[32767+ce][1]=ee,m[32767+ce][0]=Y-1+ce;O<<=1,Y<<=1}})(),(function(){for(var O=0;O<256;O++)Q[O]=19595*O,Q[O+256|0]=38470*O,Q[O+512|0]=7471*O+32768,Q[O+768|0]=-11059*O,Q[O+1024|0]=-21709*O,Q[O+1280|0]=32768*O+8421375,Q[O+1536|0]=-27439*O,Q[O+1792|0]=-5329*O})(),K(n)}function sa(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function l5(n){function e(W){if(!W)throw Error("assert :P")}function t(W,ae,I){for(var q=0;4>q;q++)if(W[ae+q]!=I.charCodeAt(q))return!0;return!1}function r(W,ae,I,q,ne){for(var re=0;re<ne;re++)W[ae+re]=I[q+re]}function i(W,ae,I,q){for(var ne=0;ne<q;ne++)W[ae+ne]=I}function s(W){return new Int32Array(W)}function o(W,ae){for(var I=[],q=0;q<W;q++)I.push(new ae);return I}function l(W,ae){var I=[];return(function q(ne,re,ve){for(var be=ve[re],he=0;he<be&&(ne.push(ve.length>re+1?[]:new ae),!(ve.length<re+1));he++)q(ne[he],re+1,ve)})(I,0,W),I}var u=function(){var W=this;function ae(p,w){for(var A=1<<w-1>>>0;p&A;)A>>>=1;return A?(p&A-1)+A:p}function I(p,w,A,E,R){e(!(E%A));do p[w+(E-=A)]=R;while(0<E)}function q(p,w,A,E,R){if(e(2328>=R),512>=R)var B=s(512);else if((B=s(R))==null)return 0;return(function(z,V,G,J,fe,Se){var Z,ge,xe=V,Le=1<<G,Ne=s(16),Ee=s(16);for(e(fe!=0),e(J!=null),e(z!=null),e(0<G),ge=0;ge<fe;++ge){if(15<J[ge])return 0;++Ne[J[ge]]}if(Ne[0]==fe)return 0;for(Ee[1]=0,Z=1;15>Z;++Z){if(Ne[Z]>1<<Z)return 0;Ee[Z+1]=Ee[Z]+Ne[Z]}for(ge=0;ge<fe;++ge)Z=J[ge],0<J[ge]&&(Se[Ee[Z]++]=ge);if(Ee[15]==1)return(J=new ne).g=0,J.value=Se[0],I(z,xe,1,Le,J),Le;var je,Re=-1,Me=Le-1,at=0,Ye=1,Rt=1,Ze=1<<G;for(ge=0,Z=1,fe=2;Z<=G;++Z,fe<<=1){if(Ye+=Rt<<=1,0>(Rt-=Ne[Z]))return 0;for(;0<Ne[Z];--Ne[Z])(J=new ne).g=Z,J.value=Se[ge++],I(z,xe+at,fe,Ze,J),at=ae(at,Z)}for(Z=G+1,fe=2;15>=Z;++Z,fe<<=1){if(Ye+=Rt<<=1,0>(Rt-=Ne[Z]))return 0;for(;0<Ne[Z];--Ne[Z]){if(J=new ne,(at&Me)!=Re){for(xe+=Ze,je=1<<(Re=Z)-G;15>Re&&!(0>=(je-=Ne[Re]));)++Re,je<<=1;Le+=Ze=1<<(je=Re-G),z[V+(Re=at&Me)].g=je+G,z[V+Re].value=xe-V-Re}J.g=Z-G,J.value=Se[ge++],I(z,xe+(at>>G),fe,Ze,J),at=ae(at,Z)}}return Ye!=2*Ee[15]-1?0:Le})(p,w,A,E,R,B)}function ne(){this.value=this.g=0}function re(){this.value=this.g=0}function ve(){this.G=o(5,ne),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Fi,re)}function be(p,w,A,E){e(p!=null),e(w!=null),e(2147483648>E),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=w,p.pa=A,p.Jd=w,p.Yc=A+E,p.Zc=4<=E?A+E-4+1:A,_e(p)}function he(p,w){for(var A=0;0<w--;)A|=Te(p,128)<<w;return A}function $(p,w){var A=he(p,w);return Ae(p)?-A:A}function ie(p,w,A,E){var R,B=0;for(e(p!=null),e(w!=null),e(4294967288>E),p.Sb=E,p.Ra=0,p.u=0,p.h=0,4<E&&(E=4),R=0;R<E;++R)B+=w[A+R]<<8*R;p.Ra=B,p.bb=E,p.oa=w,p.pa=A}function le(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Aa-8>>>0,++p.bb,p.u-=8;oe(p)&&(p.h=1,p.u=0)}function K(p,w){if(e(0<=w),!p.h&&w<=Si){var A=ee(p)&xi[w];return p.u+=w,le(p),A}return p.h=1,p.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(p){return p.Ra>>>(p.u&Aa-1)>>>0}function oe(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Aa}function ce(p,w){p.u=w,p.h=oe(p)}function ye(p){p.u>=As&&(e(p.u>=As),le(p))}function _e(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Ae(p){return he(p,1)}function Te(p,w){var A=p.Ca;0>p.b&&_e(p);var E=p.b,R=A*w>>>8,B=(p.I>>>E>R)+0;for(B?(A-=R,p.I-=R+1<<E>>>0):A=R+1,E=A,R=0;256<=E;)R+=8,E>>=8;return E=7^R+Vs[E],p.b-=E,p.Ca=(A<<E)-1,B}function Ue(p,w,A){p[w+0]=A>>24&255,p[w+1]=A>>16&255,p[w+2]=A>>8&255,p[w+3]=255&A}function Ve(p,w){return p[w+0]|p[w+1]<<8}function He(p,w){return Ve(p,w)|p[w+2]<<16}function lt(p,w){return Ve(p,w)|Ve(p,w+2)<<16}function X(p,w){var A=1<<w;return e(p!=null),e(0<w),p.X=s(A),p.X==null?0:(p.Mb=32-w,p.Xa=w,1)}function $e(p,w){e(p!=null),e(w!=null),e(p.Xa==w.Xa),r(w.X,0,p.X,0,1<<w.Xa)}function Mt(){this.X=[],this.Xa=this.Mb=0}function mt(p,w,A,E){e(A!=null),e(E!=null);var R=A[0],B=E[0];return R==0&&(R=(p*B+w/2)/w),B==0&&(B=(w*R+p/2)/p),0>=R||0>=B?0:(A[0]=R,E[0]=B,1)}function De(p,w){return p+(1<<w)-1>>>w}function dt(p,w){return((4278255360&p)+(4278255360&w)>>>0&4278255360)+((16711935&p)+(16711935&w)>>>0&16711935)>>>0}function Ge(p,w){W[w]=function(A,E,R,B,z,V,G){var J;for(J=0;J<z;++J){var fe=W[p](V[G+J-1],R,B+J);V[G+J]=dt(A[E+J],fe)}}}function gt(){this.ud=this.hd=this.jd=0}function ft(p,w){return((4278124286&(p^w))>>>1)+(p&w)>>>0}function Qt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Wt(p,w){return Qt(p+(p-w+.5>>1))}function Lt(p,w,A){return Math.abs(w-A)-Math.abs(p-A)}function qt(p,w,A,E,R,B,z){for(E=B[z-1],A=0;A<R;++A)B[z+A]=E=dt(p[w+A],E)}function Ut(p,w,A,E,R){var B;for(B=0;B<A;++B){var z=p[w+B],V=z>>8&255,G=16711935&(G=(G=16711935&z)+((V<<16)+V));E[R+B]=(4278255360&z)+G>>>0}}function rt(p,w){w.jd=255&p,w.hd=p>>8&255,w.ud=p>>16&255}function At(p,w,A,E,R,B){var z;for(z=0;z<E;++z){var V=w[A+z],G=V>>>8,J=V,fe=255&(fe=(fe=V>>>16)+((p.jd<<24>>24)*(G<<24>>24)>>>5));J=255&(J=(J+=(p.hd<<24>>24)*(G<<24>>24)>>>5)+((p.ud<<24>>24)*(fe<<24>>24)>>>5)),R[B+z]=(4278255360&V)+(fe<<16)+J}}function nt(p,w,A,E,R){W[w]=function(B,z,V,G,J,fe,Se,Z,ge){for(G=Se;G<Z;++G)for(Se=0;Se<ge;++Se)J[fe++]=R(V[E(B[z++])])},W[p]=function(B,z,V,G,J,fe,Se){var Z=8>>B.b,ge=B.Ea,xe=B.K[0],Le=B.w;if(8>Z)for(B=(1<<B.b)-1,Le=(1<<Z)-1;z<V;++z){var Ne,Ee=0;for(Ne=0;Ne<ge;++Ne)Ne&B||(Ee=E(G[J++])),fe[Se++]=R(xe[Ee&Le]),Ee>>=Z}else W["VP8LMapColor"+A](G,J,xe,Le,fe,Se,z,V,ge)}}function $n(p,w,A,E,R){for(A=w+A;w<A;){var B=p[w++];E[R++]=B>>16&255,E[R++]=B>>8&255,E[R++]=255&B}}function Kt(p,w,A,E,R){for(A=w+A;w<A;){var B=p[w++];E[R++]=B>>16&255,E[R++]=B>>8&255,E[R++]=255&B,E[R++]=B>>24&255}}function Bt(p,w,A,E,R){for(A=w+A;w<A;){var B=(z=p[w++])>>16&240|z>>12&15,z=240&z|z>>28&15;E[R++]=B,E[R++]=z}}function zt(p,w,A,E,R){for(A=w+A;w<A;){var B=(z=p[w++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;E[R++]=B,E[R++]=z}}function bn(p,w,A,E,R){for(A=w+A;w<A;){var B=p[w++];E[R++]=255&B,E[R++]=B>>8&255,E[R++]=B>>16&255}}function pt(p,w,A,E,R,B){if(B==0)for(A=w+A;w<A;)Ue(E,((B=p[w++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),R+=32;else r(E,R,p,w,A)}function cn(p,w){W[w][0]=W[p+"0"],W[w][1]=W[p+"1"],W[w][2]=W[p+"2"],W[w][3]=W[p+"3"],W[w][4]=W[p+"4"],W[w][5]=W[p+"5"],W[w][6]=W[p+"6"],W[w][7]=W[p+"7"],W[w][8]=W[p+"8"],W[w][9]=W[p+"9"],W[w][10]=W[p+"10"],W[w][11]=W[p+"11"],W[w][12]=W[p+"12"],W[w][13]=W[p+"13"],W[w][14]=W[p+"0"],W[w][15]=W[p+"0"]}function vt(p){return p==ll||p==wo||p==rc||p==ic}function Ct(){this.eb=[],this.size=this.A=this.fb=0}function on(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ot(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ct,this.f.kb=new on,this.sd=null}function yt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Zt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ma(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Pr(p,w){var A=p.T,E=w.ba.f.RGBA,R=E.eb,B=E.fb+p.ka*E.A,z=si[w.ba.S],V=p.y,G=p.O,J=p.f,fe=p.N,Se=p.ea,Z=p.W,ge=w.cc,xe=w.dc,Le=w.Mc,Ne=w.Nc,Ee=p.ka,je=p.ka+p.T,Re=p.U,Me=Re+1>>1;for(Ee==0?z(V,G,null,null,J,fe,Se,Z,J,fe,Se,Z,R,B,null,null,Re):(z(w.ec,w.fc,V,G,ge,xe,Le,Ne,J,fe,Se,Z,R,B-E.A,R,B,Re),++A);Ee+2<je;Ee+=2)ge=J,xe=fe,Le=Se,Ne=Z,fe+=p.Rc,Z+=p.Rc,B+=2*E.A,z(V,(G+=2*p.fa)-p.fa,V,G,ge,xe,Le,Ne,J,fe,Se,Z,R,B-E.A,R,B,Re);return G+=p.fa,p.j+je<p.o?(r(w.ec,w.fc,V,G,Re),r(w.cc,w.dc,J,fe,Me),r(w.Mc,w.Nc,Se,Z,Me),A--):1&je||z(V,G,null,null,J,fe,Se,Z,J,fe,Se,Z,R,B+E.A,null,null,Re),A}function ys(p,w,A){var E=p.F,R=[p.J];if(E!=null){var B=p.U,z=w.ba.S,V=z==nc||z==rc;w=w.ba.f.RGBA;var G=[0],J=p.ka;G[0]=p.T,p.Kb&&(J==0?--G[0]:(--J,R[0]-=p.width),p.j+p.ka+p.T==p.o&&(G[0]=p.o-p.j-J));var fe=w.eb;J=w.fb+J*w.A,p=ec(E,R[0],p.width,B,G,fe,J+(V?0:3),w.A),e(A==G),p&&vt(z)&&yo(fe,J,V,B,G,w.A)}return 0}function Ei(p){var w=p.ma,A=w.ba.S,E=11>A,R=A==ja||A==tc||A==nc||A==fn||A==12||vt(A);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!tl(w.Oa,p,R?11:12))return 0;if(R&&vt(A)&&oo(),p.da)alert("todo:use_scaling");else{if(E){if(w.Ib=ma,p.Kb){if(A=p.U+1>>1,w.memory=s(p.U+2*A),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+p.U,w.Mc=w.cc,w.Nc=w.dc+A,w.Ib=Pr,oo()}}else alert("todo:EmitYUV");R&&(w.Jb=ys,E&&ns())}if(E&&!Lr){for(p=0;256>p;++p)ai[p]=89858*(p-128)+as>>Js,oi[p]=-22014*(p-128)+as,dl[p]=-45773*(p-128),So[p]=113618*(p-128)+as>>Js;for(p=ln;p<hn;++p)w=76283*(p-16)+as>>Js,iu[p-ln]=nr(w,255),Od[p-ln]=nr(w+8>>4,15);Lr=1}return 1}function wt(p){var w=p.ma,A=p.U,E=p.T;return e(!(1&p.ka)),0>=A||0>=E?0:(A=w.Ib(p,w),w.Jb!=null&&w.Jb(p,w,A),w.Dc+=A,1)}function gi(p){p.ma.memory=null}function Xi(p,w,A,E){return K(p,8)!=47?0:(w[0]=K(p,14)+1,A[0]=K(p,14)+1,E[0]=K(p,1),K(p,3)!=0?0:!p.h)}function Ir(p,w){if(4>p)return p+1;var A=p-2>>1;return(2+(1&p)<<A)+K(w,A)+1}function ji(p,w){return 120<w?w-120:1<=(A=((A=Up[w-1])>>4)*p+(8-(15&A)))?A:1;var A}function _n(p,w,A){var E=ee(A),R=p[w+=255&E].g-8;return 0<R&&(ce(A,A.u+8),E=ee(A),w+=p[w].value,w+=E&(1<<R)-1),ce(A,A.u+p[w].g),p[w].value}function Vn(p,w,A){return A.g+=p.g,A.value+=p.value<<w>>>0,e(8>=A.g),p.g}function tr(p,w,A){var E=p.xc;return e((w=E==0?0:p.vc[p.md*(A>>E)+(w>>E)])<p.Wb),p.Ya[w]}function Us(p,w,A,E){var R=p.ab,B=p.c*w,z=p.C;w=z+w;var V=A,G=E;for(E=p.Ta,A=p.Ua;0<R--;){var J=p.gc[R],fe=z,Se=w,Z=V,ge=G,xe=(G=E,V=A,J.Ea);switch(e(fe<Se),e(Se<=J.nc),J.hc){case 2:Kn(Z,ge,(Se-fe)*xe,G,V);break;case 0:var Le=fe,Ne=Se,Ee=G,je=V,Re=(Ze=J).Ea;Le==0&&(Gs(Z,ge,null,null,1,Ee,je),qt(Z,ge+1,0,0,Re-1,Ee,je+1),ge+=Re,je+=Re,++Le);for(var Me=1<<Ze.b,at=Me-1,Ye=De(Re,Ze.b),Rt=Ze.K,Ze=Ze.w+(Le>>Ze.b)*Ye;Le<Ne;){var $t=Rt,zn=Ze,It=1;for(Ps(Z,ge,Ee,je-Re,1,Ee,je);It<Re;){var Je=(It&~at)+Me;Je>Re&&(Je=Re),(0,po[$t[zn++]>>8&15])(Z,ge+ +It,Ee,je+It-Re,Je-It,Ee,je+It),It=Je}ge+=Re,je+=Re,++Le&at||(Ze+=Ye)}Se!=J.nc&&r(G,V-xe,G,V+(Se-fe-1)*xe,xe);break;case 1:for(xe=Z,Ne=ge,Re=(Z=J.Ea)-(je=Z&~(Ee=(ge=1<<J.b)-1)),Le=De(Z,J.b),Me=J.K,J=J.w+(fe>>J.b)*Le;fe<Se;){for(at=Me,Ye=J,Rt=new gt,Ze=Ne+je,$t=Ne+Z;Ne<Ze;)rt(at[Ye++],Rt),rl(Rt,xe,Ne,ge,G,V),Ne+=ge,V+=ge;Ne<$t&&(rt(at[Ye++],Rt),rl(Rt,xe,Ne,Re,G,V),Ne+=Re,V+=Re),++fe&Ee||(J+=Le)}break;case 3:if(Z==G&&ge==V&&0<J.b){for(Ne=G,Z=xe=V+(Se-fe)*xe-(je=(Se-fe)*De(J.Ea,J.b)),ge=G,Ee=V,Le=[],je=(Re=je)-1;0<=je;--je)Le[je]=ge[Ee+je];for(je=Re-1;0<=je;--je)Ne[Z+je]=Le[je];ho(J,fe,Se,G,xe,G,V)}else ho(J,fe,Se,Z,ge,G,V)}V=E,G=A}G!=A&&r(E,A,V,G,B)}function va(p,w){var A=p.V,E=p.Ba+p.c*p.C,R=w-p.C;if(e(w<=p.l.o),e(16>=R),0<R){var B=p.l,z=p.Ta,V=p.Ua,G=B.width;if(Us(p,R,A,E),R=V=[V],e((A=p.C)<(E=w)),e(B.v<B.va),E>B.o&&(E=B.o),A<B.j){var J=B.j-A;A=B.j,R[0]+=J*G}if(A>=E?A=0:(R[0]+=4*B.v,B.ka=A-B.j,B.U=B.va-B.v,B.T=E-A,A=1),A){if(V=V[0],11>(A=p.ca).S){var fe=A.f.RGBA,Se=(E=A.S,R=B.U,B=B.T,J=fe.eb,fe.A),Z=B;for(fe=fe.fb+p.Ma*fe.A;0<Z--;){var ge=z,xe=V,Le=R,Ne=J,Ee=fe;switch(E){case eu:il(ge,xe,Le,Ne,Ee);break;case ja:Ks(ge,xe,Le,Ne,Ee);break;case ll:Ks(ge,xe,Le,Ne,Ee),yo(Ne,Ee,0,Le,1,0);break;case Cd:go(ge,xe,Le,Ne,Ee);break;case tc:pt(ge,xe,Le,Ne,Ee,1);break;case wo:pt(ge,xe,Le,Ne,Ee,1),yo(Ne,Ee,0,Le,1,0);break;case nc:pt(ge,xe,Le,Ne,Ee,0);break;case rc:pt(ge,xe,Le,Ne,Ee,0),yo(Ne,Ee,1,Le,1,0);break;case fn:Pa(ge,xe,Le,Ne,Ee);break;case ic:Pa(ge,xe,Le,Ne,Ee),uh(Ne,Ee,Le,1,0);break;case tu:Ca(ge,xe,Le,Ne,Ee);break;default:e(0)}V+=G,fe+=Se}p.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=A.height)}}p.C=w,e(p.C<=p.i)}function Qi(p){var w;if(0<p.ua)return 0;for(w=0;w<p.Wb;++w){var A=p.Ya[w].G,E=p.Ya[w].H;if(0<A[1][E[1]+0].g||0<A[2][E[2]+0].g||0<A[3][E[3]+0].g)return 0}return 1}function ws(p,w,A,E,R,B){if(p.Z!=0){var z=p.qd,V=p.rd;for(e(Fr[p.Z]!=null);w<A;++w)Fr[p.Z](z,V,E,R,E,R,B),z=E,V=R,R+=B;p.qd=z,p.rd=V}}function Cr(p,w){var A=p.l.ma,E=A.Z==0||A.Z==1?p.l.j:p.C;if(E=p.C<E?E:p.C,e(w<=p.l.o),w>E){var R=p.l.width,B=A.ca,z=A.tb+R*E,V=p.V,G=p.Ba+p.c*E,J=p.gc;e(p.ab==1),e(J[0].hc==3),is(J[0],E,w,V,G,B,z),ws(A,E,w,B,z,R)}p.C=p.Ma=w}function Li(p,w,A,E,R,B,z){var V=p.$/E,G=p.$%E,J=p.m,fe=p.s,Se=A+p.$,Z=Se;R=A+E*R;var ge=A+E*B,xe=280+fe.ua,Le=p.Pb?V:16777216,Ne=0<fe.ua?fe.Wa:null,Ee=fe.wc,je=Se<ge?tr(fe,G,V):null;e(p.C<B),e(ge<=R);var Re=!1;e:for(;;){for(;Re||Se<ge;){var Me=0;if(V>=Le){var at=Se-A;e((Le=p).Pb),Le.wd=Le.m,Le.xd=at,0<Le.s.ua&&$e(Le.s.Wa,Le.s.vb),Le=V+ru}if(G&Ee||(je=tr(fe,G,V)),e(je!=null),je.Qb&&(w[Se]=je.qb,Re=!0),!Re)if(ye(J),je.jc){Me=J,at=w;var Ye=Se,Rt=je.pd[ee(Me)&Fi-1];e(je.jc),256>Rt.g?(ce(Me,Me.u+Rt.g),at[Ye]=Rt.value,Me=0):(ce(Me,Me.u+Rt.g-256),e(256<=Rt.value),Me=Rt.value),Me==0&&(Re=!0)}else Me=_n(je.G[0],je.H[0],J);if(J.h)break;if(Re||256>Me){if(!Re)if(je.nd)w[Se]=(je.qb|Me<<8)>>>0;else{if(ye(J),Re=_n(je.G[1],je.H[1],J),ye(J),at=_n(je.G[2],je.H[2],J),Ye=_n(je.G[3],je.H[3],J),J.h)break;w[Se]=(Ye<<24|Re<<16|Me<<8|at)>>>0}if(Re=!1,++Se,++G>=E&&(G=0,++V,z!=null&&V<=B&&!(V%16)&&z(p,V),Ne!=null))for(;Z<Se;)Me=w[Z++],Ne.X[(506832829*Me&4294967295)>>>Ne.Mb]=Me}else if(280>Me){if(Me=Ir(Me-256,J),at=_n(je.G[4],je.H[4],J),ye(J),at=ji(E,at=Ir(at,J)),J.h)break;if(Se-A<at||R-Se<Me)break e;for(Ye=0;Ye<Me;++Ye)w[Se+Ye]=w[Se+Ye-at];for(Se+=Me,G+=Me;G>=E;)G-=E,++V,z!=null&&V<=B&&!(V%16)&&z(p,V);if(e(Se<=R),G&Ee&&(je=tr(fe,G,V)),Ne!=null)for(;Z<Se;)Me=w[Z++],Ne.X[(506832829*Me&4294967295)>>>Ne.Mb]=Me}else{if(!(Me<xe))break e;for(Re=Me-280,e(Ne!=null);Z<Se;)Me=w[Z++],Ne.X[(506832829*Me&4294967295)>>>Ne.Mb]=Me;Me=Se,e(!(Re>>>(at=Ne).Xa)),w[Me]=at.X[Re],Re=!0}Re||e(J.h==oe(J))}if(p.Pb&&J.h&&Se<R)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&$e(p.s.vb,p.s.Wa);else{if(J.h)break e;z?.(p,V>B?B:V),p.a=0,p.$=Se-A}return 1}return p.a=3,0}function mi(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var w=p.Wa;w!=null&&(w.X=null),p.vb=null,e(p!=null)}function Ga(){var p=new Pt;return p==null?null:(p.a=0,p.xb=ul,cn("Predictor","VP8LPredictors"),cn("Predictor","VP8LPredictors_C"),cn("PredictorAdd","VP8LPredictorsAdd"),cn("PredictorAdd","VP8LPredictorsAdd_C"),Kn=Ut,rl=At,il=$n,Ks=Kt,Pa=Bt,Ca=zt,go=bn,W.VP8LMapColor32b=Cs,W.VP8LMapColor8b=fo,p)}function Zi(p,w,A,E,R){var B=1,z=[p],V=[w],G=E.m,J=E.s,fe=null,Se=0;e:for(;;){if(A)for(;B&&K(G,1);){var Z=z,ge=V,xe=E,Le=1,Ne=xe.m,Ee=xe.gc[xe.ab],je=K(Ne,2);if(xe.Oc&1<<je)B=0;else{switch(xe.Oc|=1<<je,Ee.hc=je,Ee.Ea=Z[0],Ee.nc=ge[0],Ee.K=[null],++xe.ab,e(4>=xe.ab),je){case 0:case 1:Ee.b=K(Ne,3)+2,Le=Zi(De(Ee.Ea,Ee.b),De(Ee.nc,Ee.b),0,xe,Ee.K),Ee.K=Ee.K[0];break;case 3:var Re,Me=K(Ne,8)+1,at=16<Me?0:4<Me?1:2<Me?2:3;if(Z[0]=De(Ee.Ea,at),Ee.b=at,Re=Le=Zi(Me,1,0,xe,Ee.K)){var Ye,Rt=Me,Ze=Ee,$t=1<<(8>>Ze.b),zn=s($t);if(zn==null)Re=0;else{var It=Ze.K[0],Je=Ze.w;for(zn[0]=Ze.K[0][0],Ye=1;Ye<1*Rt;++Ye)zn[Ye]=dt(It[Je+Ye],zn[Ye-1]);for(;Ye<4*$t;++Ye)zn[Ye]=0;Ze.K[0]=null,Ze.K[0]=zn,Re=1}}Le=Re;break;case 2:break;default:e(0)}B=Le}}if(z=z[0],V=V[0],B&&K(G,1)&&!(B=1<=(Se=K(G,4))&&11>=Se)){E.a=3;break e}var qe;if(qe=B)t:{var Yn,kt,Ht,Sn=E,xr=z,ar=V,In=Se,gr=A,Sr=Sn.m,En=Sn.s,Gt=[null],tn=1,jn=0,nn=jd[In];n:for(;;){if(gr&&K(Sr,1)){var Wn=K(Sr,3)+2,qn=De(xr,Wn),pn=De(ar,Wn),Br=qn*pn;if(!Zi(qn,pn,0,Sn,Gt))break n;for(Gt=Gt[0],En.xc=Wn,Yn=0;Yn<Br;++Yn){var dn=Gt[Yn]>>8&65535;Gt[Yn]=dn,dn>=tn&&(tn=dn+1)}}if(Sr.h)break n;for(kt=0;5>kt;++kt){var gn=bo[kt];!kt&&0<In&&(gn+=1<<In),jn<gn&&(jn=gn)}var or=o(tn*nn,ne),Tr=tn,li=o(Tr,ve);if(li==null)var Jn=null;else e(65536>=Tr),Jn=li;var Xn=s(jn);if(Jn==null||Xn==null||or==null){Sn.a=1;break n}var Ur=or;for(Yn=Ht=0;Yn<tn;++Yn){var mn=Jn[Yn],zr=mn.G,zi=mn.H,os=0,kr=1,Qn=0;for(kt=0;5>kt;++kt){gn=bo[kt],zr[kt]=Ur,zi[kt]=Ht,!kt&&0<In&&(gn+=1<<In);i:{var Oa,Qs=gn,fl=Sn,Ls=Xn,Md=Ur,xh=Ht,Nn=0,ls=fl.m,Sh=K(ls,1);if(i(Ls,0,0,Qs),Sh){var kh=K(ls,1)+1,su=K(ls,1),au=K(ls,su==0?1:8);Ls[au]=1,kh==2&&(Ls[au=K(ls,8)]=1);var Ts=1}else{var Ln=s(19),lr=K(ls,4)+4;if(19<lr){fl.a=3;var Zn=0;break i}for(Oa=0;Oa<lr;++Oa)Ln[Bp[Oa]]=K(ls,3);var pl=void 0,Zs=void 0,gl=fl,$p=Ln,mr=Qs,ou=Ls,cc=0,Os=gl.m,cs=8,ki=o(128,ne);r:for(;q(ki,0,7,$p,19);){if(K(Os,1)){var uc=2+2*K(Os,3);if((pl=2+K(Os,uc))>mr)break r}else pl=mr;for(Zs=0;Zs<mr&&pl--;){ye(Os);var lu=ki[0+(127&ee(Os))];ce(Os,Os.u+lu.g);var Ra=lu.value;if(16>Ra)ou[Zs++]=Ra,Ra!=0&&(cs=Ra);else{var Id=Ra==16,Nh=Ra-16,Dd=nu[Nh],Ah=K(Os,sc[Nh])+Dd;if(Zs+Ah>mr)break r;for(var Fd=Id?cs:0;0<Ah--;)ou[Zs++]=Fd}}cc=1;break r}cc||(gl.a=3),Ts=cc}(Ts=Ts&&!ls.h)&&(Nn=q(Md,xh,8,Ls,Qs)),Ts&&Nn!=0?Zn=Nn:(fl.a=3,Zn=0)}if(Zn==0)break n;if(kr&&Ed[kt]==1&&(kr=Ur[Ht].g==0),os+=Ur[Ht].g,Ht+=Zn,3>=kt){var ml,cu=Xn[0];for(ml=1;ml<gn;++ml)Xn[ml]>cu&&(cu=Xn[ml]);Qn+=cu}}if(mn.nd=kr,mn.Qb=0,kr&&(mn.qb=(zr[3][zi[3]+0].value<<24|zr[1][zi[1]+0].value<<16|zr[2][zi[2]+0].value)>>>0,os==0&&256>zr[0][zi[0]+0].value&&(mn.Qb=1,mn.qb+=zr[0][zi[0]+0].value<<8)),mn.jc=!mn.Qb&&6>Qn,mn.jc){var hc,Ni=mn;for(hc=0;hc<Fi;++hc){var ea=hc,us=Ni.pd[ea],No=Ni.G[0][Ni.H[0]+ea];256<=No.value?(us.g=No.g+256,us.value=No.value):(us.g=0,us.value=0,ea>>=Vn(No,8,us),ea>>=Vn(Ni.G[1][Ni.H[1]+ea],16,us),ea>>=Vn(Ni.G[2][Ni.H[2]+ea],0,us),Vn(Ni.G[3][Ni.H[3]+ea],24,us))}}}En.vc=Gt,En.Wb=tn,En.Ya=Jn,En.yc=or,qe=1;break t}qe=0}if(!(B=qe)){E.a=3;break e}if(0<Se){if(J.ua=1<<Se,!X(J.Wa,Se)){E.a=1,B=0;break e}}else J.ua=0;var uu=E,hu=z,Bd=V,du=uu.s,fu=du.xc;if(uu.c=hu,uu.i=Bd,du.md=De(hu,fu),du.wc=fu==0?-1:(1<<fu)-1,A){E.xb=js;break e}if((fe=s(z*V))==null){E.a=1,B=0;break e}B=(B=Li(E,fe,0,z,V,V,null))&&!G.h;break e}return B?(R!=null?R[0]=fe:(e(fe==null),e(A)),E.$=0,A||mi(J)):mi(J),B}function ya(p,w){var A=p.c*p.i,E=A+w+16*w;return e(p.c<=w),p.V=s(E),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+A+w,1)}function Ka(p,w){var A=p.C,E=w-A,R=p.V,B=p.Ba+p.c*A;for(e(w<=p.l.o);0<E;){var z=16<E?16:E,V=p.l.ma,G=p.l.width,J=G*z,fe=V.ca,Se=V.tb+G*A,Z=p.Ta,ge=p.Ua;Us(p,z,R,B),hh(Z,ge,fe,Se,J),ws(V,A,A+z,fe,Se,G),E-=z,R+=z*p.c,A+=z}e(A==w),p.C=p.Ma=w}function Ya(){this.ub=this.yd=this.td=this.Rb=0}function qo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ah(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function kn(){this.Yb=(function(){var p=[];return(function w(A,E,R){for(var B=R[E],z=0;z<B&&(A.push(R.length>E+1?[]:0),!(R.length<E+1));z++)w(A[z],E+1,R)})(p,0,[3,11]),p})()}function Hc(){this.jb=s(3),this.Wc=l([4,8],kn),this.Xc=l([4,17],kn)}function Ho(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function vi(){this.ld=this.La=this.dd=this.tc=0}function wa(){this.Na=this.la=0}function $c(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $o(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ja(){this.uc=this.M=this.Nb=0,this.wa=Array(new vi),this.Y=0,this.ya=Array(new $o),this.aa=0,this.l=new Vo}function yi(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Vc(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new Ya,this.Kc=new qo,this.ed=new Ho,this.Qa=new ah,this.Ic=this.$c=this.Aa=0,this.D=new Ja,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,O),this.ia=0,this.pb=o(4,$c),this.Pa=new Hc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new yi),this.Hd=0,this.rb=Array(new wa),this.sb=0,this.wa=Array(new vi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $o),this.L=this.aa=0,this.gd=l([4,2],vi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function nr(p,w){return 0>p?0:p>w?w:p}function Vo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function oh(){var p=new Vc;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,_o||(_o=bs)),p}function rr(p,w,A){return p.a==0&&(p.a=w,p.sc=A,p.cb=0),0}function Xa(p,w,A){return 3<=A&&p[w+0]==157&&p[w+1]==1&&p[w+2]==42}function wi(p,w){if(p==null)return 0;if(p.a=0,p.sc="OK",w==null)return rr(p,2,"null VP8Io passed to VP8GetHeaders()");var A=w.data,E=w.w,R=w.ha;if(4>R)return rr(p,7,"Truncated header.");var B=A[E+0]|A[E+1]<<8|A[E+2]<<16,z=p.Od;if(z.Rb=!(1&B),z.td=B>>1&7,z.yd=B>>4&1,z.ub=B>>5,3<z.td)return rr(p,3,"Incorrect keyframe parameters.");if(!z.yd)return rr(p,4,"Frame not displayable.");E+=3,R-=3;var V=p.Kc;if(z.Rb){if(7>R)return rr(p,7,"cannot parse picture header");if(!Xa(A,E,R))return rr(p,3,"Bad code word");V.c=16383&(A[E+4]<<8|A[E+3]),V.Td=A[E+4]>>6,V.i=16383&(A[E+6]<<8|A[E+5]),V.Ud=A[E+6]>>6,E+=7,R-=7,p.za=V.c+15>>4,p.Ub=V.i+15>>4,w.width=V.c,w.height=V.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,i((B=p.Pa).jb,0,255,B.jb.length),e((B=p.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,i(B.Zb,0,0,B.Zb.length),i(B.Lb,0,0,B.Lb)}if(z.ub>R)return rr(p,7,"bad partition length");be(B=p.m,A,E,z.ub),E+=z.ub,R-=z.ub,z.Rb&&(V.Ld=Ae(B),V.Kd=Ae(B)),V=p.Qa;var G,J=p.Pa;if(e(B!=null),e(V!=null),V.Cb=Ae(B),V.Cb){if(V.Bb=Ae(B),Ae(B)){for(V.Fb=Ae(B),G=0;4>G;++G)V.Zb[G]=Ae(B)?$(B,7):0;for(G=0;4>G;++G)V.Lb[G]=Ae(B)?$(B,6):0}if(V.Bb)for(G=0;3>G;++G)J.jb[G]=Ae(B)?he(B,8):255}else V.Bb=0;if(B.Ka)return rr(p,3,"cannot parse segment header");if((V=p.ed).zd=Ae(B),V.Tb=he(B,6),V.wb=he(B,3),V.Pc=Ae(B),V.Pc&&Ae(B)){for(J=0;4>J;++J)Ae(B)&&(V.vd[J]=$(B,6));for(J=0;4>J;++J)Ae(B)&&(V.od[J]=$(B,6))}if(p.L=V.Tb==0?0:V.zd?1:2,B.Ka)return rr(p,3,"cannot parse filter header");var fe=R;if(R=G=E,E=G+fe,V=fe,p.Xb=(1<<he(p.m,2))-1,fe<3*(J=p.Xb))A=7;else{for(G+=3*J,V-=3*J,fe=0;fe<J;++fe){var Se=A[R+0]|A[R+1]<<8|A[R+2]<<16;Se>V&&(Se=V),be(p.Jc[+fe],A,G,Se),G+=Se,V-=Se,R+=3}be(p.Jc[+J],A,G,V),A=G<E?0:5}if(A!=0)return rr(p,A,"cannot parse partitions");for(A=he(G=p.m,7),R=Ae(G)?$(G,4):0,E=Ae(G)?$(G,4):0,V=Ae(G)?$(G,4):0,J=Ae(G)?$(G,4):0,G=Ae(G)?$(G,4):0,fe=p.Qa,Se=0;4>Se;++Se){if(fe.Cb){var Z=fe.Zb[Se];fe.Fb||(Z+=A)}else{if(0<Se){p.pb[Se]=p.pb[0];continue}Z=A}var ge=p.pb[Se];ge.Sc[0]=cl[nr(Z+R,127)],ge.Sc[1]=ac[nr(Z+0,127)],ge.Eb[0]=2*cl[nr(Z+E,127)],ge.Eb[1]=101581*ac[nr(Z+V,127)]>>16,8>ge.Eb[1]&&(ge.Eb[1]=8),ge.Qc[0]=cl[nr(Z+J,117)],ge.Qc[1]=ac[nr(Z+G,127)],ge.lc=Z+G}if(!z.Rb)return rr(p,4,"Not a key frame.");for(Ae(B),z=p.Pa,A=0;4>A;++A){for(R=0;8>R;++R)for(E=0;3>E;++E)for(V=0;11>V;++V)J=Te(B,Wp[A][R][E][V])?he(B,8):Td[A][R][E][V],z.Wc[A][R].Yb[E][V]=J;for(R=0;17>R;++R)z.Xc[A][R]=z.Wc[A][wh[R]]}return p.kc=Ae(B),p.kc&&(p.Bd=he(B,8)),p.cb=1}function bs(p,w,A,E,R,B,z){var V=w[R].Yb[A];for(A=0;16>R;++R){if(!Te(p,V[A+0]))return R;for(;!Te(p,V[A+1]);)if(V=w[++R].Yb[0],A=0,R==16)return 16;var G=w[R+1].Yb;if(Te(p,V[A+2])){var J=p,fe=0;if(Te(J,(Z=V)[(Se=A)+3]))if(Te(J,Z[Se+6])){for(V=0,Se=2*(fe=Te(J,Z[Se+8]))+(Z=Te(J,Z[Se+9+fe])),fe=0,Z=vh[Se];Z[V];++V)fe+=fe+Te(J,Z[V]);fe+=3+(8<<Se)}else Te(J,Z[Se+7])?(fe=7+2*Te(J,165),fe+=Te(J,145)):fe=5+Te(J,159);else fe=Te(J,Z[Se+4])?3+Te(J,Z[Se+5]):2;V=G[2]}else fe=1,V=G[1];G=z+yh[R],0>(J=p).b&&_e(J);var Se,Z=J.b,ge=(Se=J.Ca>>1)-(J.I>>Z)>>31;--J.b,J.Ca+=ge,J.Ca|=1,J.I-=(Se+1&ge)<<Z,B[G]=((fe^ge)-ge)*E[(0<R)+0]}return 16}function Qa(p){var w=p.rb[p.sb-1];w.la=0,w.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function Ti(p,w,A,E,R){R=p[w+A+32*E]+(R>>3),p[w+A+32*E]=-256&R?0>R?0:255:R}function fr(p,w,A,E,R,B){Ti(p,w,0,A,E+R),Ti(p,w,1,A,E+B),Ti(p,w,2,A,E-B),Ti(p,w,3,A,E-R)}function es(p){return(20091*p>>16)+p}function ql(p,w,A,E){var R,B=0,z=s(16);for(R=0;4>R;++R){var V=p[w+0]+p[w+8],G=p[w+0]-p[w+8],J=(35468*p[w+4]>>16)-es(p[w+12]),fe=es(p[w+4])+(35468*p[w+12]>>16);z[B+0]=V+fe,z[B+1]=G+J,z[B+2]=G-J,z[B+3]=V-fe,B+=4,w++}for(R=B=0;4>R;++R)V=(p=z[B+0]+4)+z[B+8],G=p-z[B+8],J=(35468*z[B+4]>>16)-es(z[B+12]),Ti(A,E,0,0,V+(fe=es(z[B+4])+(35468*z[B+12]>>16))),Ti(A,E,1,0,G+J),Ti(A,E,2,0,G-J),Ti(A,E,3,0,V-fe),B++,E+=32}function Hl(p,w,A,E){var R=p[w+0]+4,B=35468*p[w+4]>>16,z=es(p[w+4]),V=35468*p[w+1]>>16;fr(A,E,0,R+z,p=es(p[w+1]),V),fr(A,E,1,R+B,p,V),fr(A,E,2,R-B,p,V),fr(A,E,3,R-z,p,V)}function Za(p,w,A,E,R){ql(p,w,A,E),R&&ql(p,w+16,A,E+4)}function _s(p,w,A,E){mo(p,w+0,A,E,1),mo(p,w+32,A,E+128,1)}function Go(p,w,A,E){var R;for(p=p[w+0]+4,R=0;4>R;++R)for(w=0;4>w;++w)Ti(A,E,w,R,p)}function Xt(p,w,A,E){p[w+0]&&en(p,w+0,A,E),p[w+16]&&en(p,w+16,A,E+4),p[w+32]&&en(p,w+32,A,E+128),p[w+48]&&en(p,w+48,A,E+128+4)}function eo(p,w,A,E){var R,B=s(16);for(R=0;4>R;++R){var z=p[w+0+R]+p[w+12+R],V=p[w+4+R]+p[w+8+R],G=p[w+4+R]-p[w+8+R],J=p[w+0+R]-p[w+12+R];B[0+R]=z+V,B[8+R]=z-V,B[4+R]=J+G,B[12+R]=J-G}for(R=0;4>R;++R)z=(p=B[0+4*R]+3)+B[3+4*R],V=B[1+4*R]+B[2+4*R],G=B[1+4*R]-B[2+4*R],J=p-B[3+4*R],A[E+0]=z+V>>3,A[E+16]=J+G>>3,A[E+32]=z-V>>3,A[E+48]=J-G>>3,E+=64}function ba(p,w,A){var E,R=w-32,B=Gr,z=255-p[R-1];for(E=0;E<A;++E){var V,G=B,J=z+p[w-1];for(V=0;V<A;++V)p[w+V]=G[J+p[R+V]];w+=32}}function $l(p,w){ba(p,w,4)}function Gc(p,w){ba(p,w,8)}function Kc(p,w){ba(p,w,16)}function Ko(p,w){var A;for(A=0;16>A;++A)r(p,w+32*A,p,w-32,16)}function Yo(p,w){var A;for(A=16;0<A;--A)i(p,w,p[w-1],16),w+=32}function ei(p,w,A){var E;for(E=0;16>E;++E)i(w,A+32*E,p,16)}function xs(p,w){var A,E=16;for(A=0;16>A;++A)E+=p[w-1+32*A]+p[w+A-32];ei(E>>5,p,w)}function ti(p,w){var A,E=8;for(A=0;16>A;++A)E+=p[w-1+32*A];ei(E>>4,p,w)}function Oi(p,w){var A,E=8;for(A=0;16>A;++A)E+=p[w+A-32];ei(E>>4,p,w)}function to(p,w){ei(128,p,w)}function xt(p,w,A){return p+2*w+A+2>>2}function Ss(p,w){var A,E=w-32;for(E=new Uint8Array([xt(p[E-1],p[E+0],p[E+1]),xt(p[E+0],p[E+1],p[E+2]),xt(p[E+1],p[E+2],p[E+3]),xt(p[E+2],p[E+3],p[E+4])]),A=0;4>A;++A)r(p,w+32*A,E,0,E.length)}function lh(p,w){var A=p[w-1],E=p[w-1+32],R=p[w-1+64],B=p[w-1+96];Ue(p,w+0,16843009*xt(p[w-1-32],A,E)),Ue(p,w+32,16843009*xt(A,E,R)),Ue(p,w+64,16843009*xt(E,R,B)),Ue(p,w+96,16843009*xt(R,B,B))}function Yc(p,w){var A,E=4;for(A=0;4>A;++A)E+=p[w+A-32]+p[w-1+32*A];for(E>>=3,A=0;4>A;++A)i(p,w+32*A,E,4)}function bi(p,w){var A=p[w-1+0],E=p[w-1+32],R=p[w-1+64],B=p[w-1-32],z=p[w+0-32],V=p[w+1-32],G=p[w+2-32],J=p[w+3-32];p[w+0+96]=xt(E,R,p[w-1+96]),p[w+1+96]=p[w+0+64]=xt(A,E,R),p[w+2+96]=p[w+1+64]=p[w+0+32]=xt(B,A,E),p[w+3+96]=p[w+2+64]=p[w+1+32]=p[w+0+0]=xt(z,B,A),p[w+3+64]=p[w+2+32]=p[w+1+0]=xt(V,z,B),p[w+3+32]=p[w+2+0]=xt(G,V,z),p[w+3+0]=xt(J,G,V)}function zs(p,w){var A=p[w+1-32],E=p[w+2-32],R=p[w+3-32],B=p[w+4-32],z=p[w+5-32],V=p[w+6-32],G=p[w+7-32];p[w+0+0]=xt(p[w+0-32],A,E),p[w+1+0]=p[w+0+32]=xt(A,E,R),p[w+2+0]=p[w+1+32]=p[w+0+64]=xt(E,R,B),p[w+3+0]=p[w+2+32]=p[w+1+64]=p[w+0+96]=xt(R,B,z),p[w+3+32]=p[w+2+64]=p[w+1+96]=xt(B,z,V),p[w+3+64]=p[w+2+96]=xt(z,V,G),p[w+3+96]=xt(V,G,G)}function Jc(p,w){var A=p[w-1+0],E=p[w-1+32],R=p[w-1+64],B=p[w-1-32],z=p[w+0-32],V=p[w+1-32],G=p[w+2-32],J=p[w+3-32];p[w+0+0]=p[w+1+64]=B+z+1>>1,p[w+1+0]=p[w+2+64]=z+V+1>>1,p[w+2+0]=p[w+3+64]=V+G+1>>1,p[w+3+0]=G+J+1>>1,p[w+0+96]=xt(R,E,A),p[w+0+64]=xt(E,A,B),p[w+0+32]=p[w+1+96]=xt(A,B,z),p[w+1+32]=p[w+2+96]=xt(B,z,V),p[w+2+32]=p[w+3+96]=xt(z,V,G),p[w+3+32]=xt(V,G,J)}function Jo(p,w){var A=p[w+0-32],E=p[w+1-32],R=p[w+2-32],B=p[w+3-32],z=p[w+4-32],V=p[w+5-32],G=p[w+6-32],J=p[w+7-32];p[w+0+0]=A+E+1>>1,p[w+1+0]=p[w+0+64]=E+R+1>>1,p[w+2+0]=p[w+1+64]=R+B+1>>1,p[w+3+0]=p[w+2+64]=B+z+1>>1,p[w+0+32]=xt(A,E,R),p[w+1+32]=p[w+0+96]=xt(E,R,B),p[w+2+32]=p[w+1+96]=xt(R,B,z),p[w+3+32]=p[w+2+96]=xt(B,z,V),p[w+3+64]=xt(z,V,G),p[w+3+96]=xt(V,G,J)}function no(p,w){var A=p[w-1+0],E=p[w-1+32],R=p[w-1+64],B=p[w-1+96];p[w+0+0]=A+E+1>>1,p[w+2+0]=p[w+0+32]=E+R+1>>1,p[w+2+32]=p[w+0+64]=R+B+1>>1,p[w+1+0]=xt(A,E,R),p[w+3+0]=p[w+1+32]=xt(E,R,B),p[w+3+32]=p[w+1+64]=xt(R,B,B),p[w+3+64]=p[w+2+64]=p[w+0+96]=p[w+1+96]=p[w+2+96]=p[w+3+96]=B}function Vl(p,w){var A=p[w-1+0],E=p[w-1+32],R=p[w-1+64],B=p[w-1+96],z=p[w-1-32],V=p[w+0-32],G=p[w+1-32],J=p[w+2-32];p[w+0+0]=p[w+2+32]=A+z+1>>1,p[w+0+32]=p[w+2+64]=E+A+1>>1,p[w+0+64]=p[w+2+96]=R+E+1>>1,p[w+0+96]=B+R+1>>1,p[w+3+0]=xt(V,G,J),p[w+2+0]=xt(z,V,G),p[w+1+0]=p[w+3+32]=xt(A,z,V),p[w+1+32]=p[w+3+64]=xt(E,A,z),p[w+1+64]=p[w+3+96]=xt(R,E,A),p[w+1+96]=xt(B,R,E)}function ts(p,w){var A;for(A=0;8>A;++A)r(p,w+32*A,p,w-32,8)}function ro(p,w){var A;for(A=0;8>A;++A)i(p,w,p[w-1],8),w+=32}function ni(p,w,A){var E;for(E=0;8>E;++E)i(w,A+32*E,p,8)}function Xo(p,w){var A,E=8;for(A=0;8>A;++A)E+=p[w+A-32]+p[w-1+32*A];ni(E>>4,p,w)}function Gl(p,w){var A,E=4;for(A=0;8>A;++A)E+=p[w+A-32];ni(E>>3,p,w)}function Kl(p,w){var A,E=4;for(A=0;8>A;++A)E+=p[w-1+32*A];ni(E>>3,p,w)}function Qo(p,w){ni(128,p,w)}function Ri(p,w,A){var E=p[w-A],R=p[w+0],B=3*(R-E)+Es[1020+p[w-2*A]-p[w+A]],z=ol[112+(B+4>>3)];p[w-A]=Gr[255+E+ol[112+(B+3>>3)]],p[w+0]=Gr[255+R-z]}function io(p,w,A,E){var R=p[w+0],B=p[w+A];return Bi[255+p[w-2*A]-p[w-A]]>E||Bi[255+B-R]>E}function so(p,w,A,E){return 4*Bi[255+p[w-A]-p[w+0]]+Bi[255+p[w-2*A]-p[w+A]]<=E}function Mi(p,w,A,E,R){var B=p[w-3*A],z=p[w-2*A],V=p[w-A],G=p[w+0],J=p[w+A],fe=p[w+2*A],Se=p[w+3*A];return 4*Bi[255+V-G]+Bi[255+z-J]>E?0:Bi[255+p[w-4*A]-B]<=R&&Bi[255+B-z]<=R&&Bi[255+z-V]<=R&&Bi[255+Se-fe]<=R&&Bi[255+fe-J]<=R&&Bi[255+J-G]<=R}function Ws(p,w,A,E){var R=2*E+1;for(E=0;16>E;++E)so(p,w+E,A,R)&&Ri(p,w+E,A)}function _a(p,w,A,E){var R=2*E+1;for(E=0;16>E;++E)so(p,w+E*A,1,R)&&Ri(p,w+E*A,1)}function Yl(p,w,A,E){var R;for(R=3;0<R;--R)Ws(p,w+=4*A,A,E)}function ao(p,w,A,E){var R;for(R=3;0<R;--R)_a(p,w+=4,A,E)}function Ii(p,w,A,E,R,B,z,V){for(B=2*B+1;0<R--;){if(Mi(p,w,A,B,z))if(io(p,w,A,V))Ri(p,w,A);else{var G=p,J=w,fe=A,Se=G[J-2*fe],Z=G[J-fe],ge=G[J+0],xe=G[J+fe],Le=G[J+2*fe],Ne=27*(je=Es[1020+3*(ge-Z)+Es[1020+Se-xe]])+63>>7,Ee=18*je+63>>7,je=9*je+63>>7;G[J-3*fe]=Gr[255+G[J-3*fe]+je],G[J-2*fe]=Gr[255+Se+Ee],G[J-fe]=Gr[255+Z+Ne],G[J+0]=Gr[255+ge-Ne],G[J+fe]=Gr[255+xe-Ee],G[J+2*fe]=Gr[255+Le-je]}w+=E}}function ks(p,w,A,E,R,B,z,V){for(B=2*B+1;0<R--;){if(Mi(p,w,A,B,z))if(io(p,w,A,V))Ri(p,w,A);else{var G=p,J=w,fe=A,Se=G[J-fe],Z=G[J+0],ge=G[J+fe],xe=ol[112+(4+(Le=3*(Z-Se))>>3)],Le=ol[112+(Le+3>>3)],Ne=xe+1>>1;G[J-2*fe]=Gr[255+G[J-2*fe]+Ne],G[J-fe]=Gr[255+Se+Le],G[J+0]=Gr[255+Z-xe],G[J+fe]=Gr[255+ge-Ne]}w+=E}}function Dr(p,w,A,E,R,B){Ii(p,w,A,1,16,E,R,B)}function Di(p,w,A,E,R,B){Ii(p,w,1,A,16,E,R,B)}function Zo(p,w,A,E,R,B){var z;for(z=3;0<z;--z)ks(p,w+=4*A,A,1,16,E,R,B)}function x(p,w,A,E,R,B){var z;for(z=3;0<z;--z)ks(p,w+=4,1,A,16,E,R,B)}function M(p,w,A,E,R,B,z,V){Ii(p,w,R,1,8,B,z,V),Ii(A,E,R,1,8,B,z,V)}function te(p,w,A,E,R,B,z,V){Ii(p,w,1,R,8,B,z,V),Ii(A,E,1,R,8,B,z,V)}function ue(p,w,A,E,R,B,z,V){ks(p,w+4*R,R,1,8,B,z,V),ks(A,E+4*R,R,1,8,B,z,V)}function we(p,w,A,E,R,B,z,V){ks(p,w+4,1,R,8,B,z,V),ks(A,E+4,1,R,8,B,z,V)}function Oe(){this.ba=new Ot,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Zt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ie(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Qe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function st(){this.ua=0,this.Wa=new Mt,this.vb=new Mt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ve,this.yc=new ne}function Pt(){this.xb=this.a=0,this.l=new Vo,this.ca=new Ot,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new st,this.ab=0,this.gc=o(4,Qe),this.Oc=0}function Tt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Vo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Jt(p,w,A,E,R,B,z){for(p=p==null?0:p[w+0],w=0;w<z;++w)R[B+w]=p+A[E+w]&255,p=R[B+w]}function Mn(p,w,A,E,R,B,z){var V;if(p==null)Jt(null,null,A,E,R,B,z);else for(V=0;V<z;++V)R[B+V]=p[w+V]+A[E+V]&255}function ir(p,w,A,E,R,B,z){if(p==null)Jt(null,null,A,E,R,B,z);else{var V,G=p[w+0],J=G,fe=G;for(V=0;V<z;++V)J=fe+(G=p[w+V])-J,fe=A[E+V]+(-256&J?0>J?0:255:J)&255,J=G,R[B+V]=fe}}function xn(p,w,A,E){var R=w.width,B=w.o;if(e(p!=null&&w!=null),0>A||0>=E||A+E>B)return null;if(!p.Cc){if(p.ga==null){var z;if(p.ga=new Tt,(z=p.ga==null)||(z=w.width*w.o,e(p.Gb.length==0),p.Gb=s(z),p.Uc=0,p.Gb==null?z=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,z=1),z=!z),!z){z=p.ga;var V=p.Fa,G=p.P,J=p.qc,fe=p.mb,Se=p.nb,Z=G+1,ge=J-1,xe=z.l;if(e(V!=null&&fe!=null&&w!=null),Fr[0]=null,Fr[1]=Jt,Fr[2]=Mn,Fr[3]=ir,z.ca=fe,z.tb=Se,z.c=w.width,z.i=w.height,e(0<z.c&&0<z.i),1>=J)w=0;else if(z.$a=3&V[G+0],z.Z=V[G+0]>>2&3,z.Lc=V[G+0]>>4&3,G=V[G+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||G)w=0;else if(xe.put=wt,xe.ac=Ei,xe.bc=gi,xe.ma=z,xe.width=w.width,xe.height=w.height,xe.Da=w.Da,xe.v=w.v,xe.va=w.va,xe.j=w.j,xe.o=w.o,z.$a)e:{e(z.$a==1),w=Ga();t:for(;;){if(w==null){w=0;break e}if(e(z!=null),z.mc=w,w.c=z.c,w.i=z.i,w.l=z.l,w.l.ma=z,w.l.width=z.c,w.l.height=z.i,w.a=0,ie(w.m,V,Z,ge),!Zi(z.c,z.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Qi(w.s)?(z.ic=1,V=w.c*w.i,w.Ta=null,w.Ua=0,w.V=s(V),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(z.ic=0,w=ya(w,z.c)),!w))break t;w=1;break e}z.mc=null,w=0}else w=ge>=z.c*z.i;z=!w}if(z)return null;p.ga.Lc!=1?p.Ga=0:E=B-A}e(p.ga!=null),e(A+E<=B);e:{if(w=(V=p.ga).c,B=V.l.o,V.$a==0){if(Z=p.rc,ge=p.Vc,xe=p.Fa,G=p.P+1+A*w,J=p.mb,fe=p.nb+A*w,e(G<=p.P+p.qc),V.Z!=0)for(e(Fr[V.Z]!=null),z=0;z<E;++z)Fr[V.Z](Z,ge,xe,G,J,fe,w),Z=J,ge=fe,fe+=w,G+=w;else for(z=0;z<E;++z)r(J,fe,xe,G,w),Z=J,ge=fe,fe+=w,G+=w;p.rc=Z,p.Vc=ge}else{if(e(V.mc!=null),w=A+E,e((z=V.mc)!=null),e(w<=z.i),z.C>=w)w=1;else if(V.ic||ns(),V.ic){V=z.V,Z=z.Ba,ge=z.c;var Le=z.i,Ne=(xe=1,G=z.$/ge,J=z.$%ge,fe=z.m,Se=z.s,z.$),Ee=ge*Le,je=ge*w,Re=Se.wc,Me=Ne<je?tr(Se,J,G):null;e(Ne<=Ee),e(w<=Le),e(Qi(Se));t:for(;;){for(;!fe.h&&Ne<je;){if(J&Re||(Me=tr(Se,J,G)),e(Me!=null),ye(fe),256>(Le=_n(Me.G[0],Me.H[0],fe)))V[Z+Ne]=Le,++Ne,++J>=ge&&(J=0,++G<=w&&!(G%16)&&Cr(z,G));else{if(!(280>Le)){xe=0;break t}Le=Ir(Le-256,fe);var at,Ye=_n(Me.G[4],Me.H[4],fe);if(ye(fe),!(Ne>=(Ye=ji(ge,Ye=Ir(Ye,fe)))&&Ee-Ne>=Le)){xe=0;break t}for(at=0;at<Le;++at)V[Z+Ne+at]=V[Z+Ne+at-Ye];for(Ne+=Le,J+=Le;J>=ge;)J-=ge,++G<=w&&!(G%16)&&Cr(z,G);Ne<je&&J&Re&&(Me=tr(Se,J,G))}e(fe.h==oe(fe))}Cr(z,G>w?w:G);break t}!xe||fe.h&&Ne<Ee?(xe=0,z.a=fe.h?5:3):z.$=Ne,w=xe}else w=Li(z,z.V,z.Ba,z.c,z.i,w,Ka);if(!w){E=0;break e}}A+E>=B&&(p.Cc=1),E=1}if(!E)return null;if(p.Cc&&((E=p.ga)!=null&&(E.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+A*R}function pr(p,w,A,E,R,B){for(;0<R--;){var z,V=p,G=w+(A?1:0),J=p,fe=w+(A?0:3);for(z=0;z<E;++z){var Se=J[fe+4*z];Se!=255&&(Se*=32897,V[G+4*z+0]=V[G+4*z+0]*Se>>23,V[G+4*z+1]=V[G+4*z+1]*Se>>23,V[G+4*z+2]=V[G+4*z+2]*Se>>23)}w+=B}}function Gn(p,w,A,E,R){for(;0<E--;){var B;for(B=0;B<A;++B){var z=p[w+2*B+0],V=15&(J=p[w+2*B+1]),G=4369*V,J=(240&J|J>>4)*G>>16;p[w+2*B+0]=(240&z|z>>4)*G>>16&240|(15&z|z<<4)*G>>16>>4&15,p[w+2*B+1]=240&J|V}w+=R}}function Er(p,w,A,E,R,B,z,V){var G,J,fe=255;for(J=0;J<R;++J){for(G=0;G<E;++G){var Se=p[w+G];B[z+4*G]=Se,fe&=Se}w+=A,z+=V}return fe!=255}function qs(p,w,A,E,R){var B;for(B=0;B<R;++B)A[E+B]=p[w+B]>>8}function ns(){yo=pr,uh=Gn,ec=Er,hh=qs}function Hs(p,w,A){W[p]=function(E,R,B,z,V,G,J,fe,Se,Z,ge,xe,Le,Ne,Ee,je,Re){var Me,at=Re-1>>1,Ye=V[G+0]|J[fe+0]<<16,Rt=Se[Z+0]|ge[xe+0]<<16;e(E!=null);var Ze=3*Ye+Rt+131074>>2;for(w(E[R+0],255&Ze,Ze>>16,Le,Ne),B!=null&&(Ze=3*Rt+Ye+131074>>2,w(B[z+0],255&Ze,Ze>>16,Ee,je)),Me=1;Me<=at;++Me){var $t=V[G+Me]|J[fe+Me]<<16,zn=Se[Z+Me]|ge[xe+Me]<<16,It=Ye+$t+Rt+zn+524296,Je=It+2*($t+Rt)>>3;Ze=Je+Ye>>1,Ye=(It=It+2*(Ye+zn)>>3)+$t>>1,w(E[R+2*Me-1],255&Ze,Ze>>16,Le,Ne+(2*Me-1)*A),w(E[R+2*Me-0],255&Ye,Ye>>16,Le,Ne+(2*Me-0)*A),B!=null&&(Ze=It+Rt>>1,Ye=Je+zn>>1,w(B[z+2*Me-1],255&Ze,Ze>>16,Ee,je+(2*Me-1)*A),w(B[z+2*Me+0],255&Ye,Ye>>16,Ee,je+(2*Me+0)*A)),Ye=$t,Rt=zn}1&Re||(Ze=3*Ye+Rt+131074>>2,w(E[R+Re-1],255&Ze,Ze>>16,Le,Ne+(Re-1)*A),B!=null&&(Ze=3*Rt+Ye+131074>>2,w(B[z+Re-1],255&Ze,Ze>>16,Ee,je+(Re-1)*A)))}}function oo(){si[eu]=qp,si[ja]=La,si[Cd]=Hp,si[tc]=hl,si[nc]=xo,si[fn]=oc,si[tu]=bh,si[ll]=La,si[wo]=hl,si[rc]=xo,si[ic]=oc}function el(p){return p&-16384?0>p?0:255:p>>Ta}function xa(p,w){return el((19077*p>>8)+(26149*w>>8)-14234)}function lo(p,w,A){return el((19077*p>>8)-(6419*w>>8)-(13320*A>>8)+8708)}function Sa(p,w){return el((19077*p>>8)+(33050*w>>8)-17685)}function ka(p,w,A,E,R){E[R+0]=xa(p,A),E[R+1]=lo(p,w,A),E[R+2]=Sa(p,w)}function jr(p,w,A,E,R){E[R+0]=Sa(p,w),E[R+1]=lo(p,w,A),E[R+2]=xa(p,A)}function co(p,w,A,E,R){var B=lo(p,w,A);w=B<<3&224|Sa(p,w)>>3,E[R+0]=248&xa(p,A)|B>>5,E[R+1]=w}function uo(p,w,A,E,R){var B=240&Sa(p,w)|15;E[R+0]=240&xa(p,A)|lo(p,w,A)>>4,E[R+1]=B}function Jl(p,w,A,E,R){E[R+0]=255,ka(p,w,A,E,R+1)}function Xl(p,w,A,E,R){jr(p,w,A,E,R),E[R+3]=255}function Vr(p,w,A,E,R){ka(p,w,A,E,R),E[R+3]=255}function rs(p,w,A){W[p]=function(E,R,B,z,V,G,J,fe,Se){for(var Z=fe+(-2&Se)*A;fe!=Z;)w(E[R+0],B[z+0],V[G+0],J,fe),w(E[R+1],B[z+0],V[G+0],J,fe+A),R+=2,++z,++G,fe+=2*A;1&Se&&w(E[R+0],B[z+0],V[G+0],J,fe)}}function Ns(p,w,A){return A==0?p==0?w==0?6:5:w==0?4:0:A}function Xc(p,w,A,E,R){switch(p>>>30){case 3:mo(w,A,E,R,0);break;case 2:Bn(w,A,E,R);break;case 1:en(w,A,E,R)}}function _i(p,w){var A,E,R=w.M,B=w.Nb,z=p.oc,V=p.pc+40,G=p.oc,J=p.pc+584,fe=p.oc,Se=p.pc+600;for(A=0;16>A;++A)z[V+32*A-1]=129;for(A=0;8>A;++A)G[J+32*A-1]=129,fe[Se+32*A-1]=129;for(0<R?z[V-1-32]=G[J-1-32]=fe[Se-1-32]=129:(i(z,V-32-1,127,21),i(G,J-32-1,127,9),i(fe,Se-32-1,127,9)),E=0;E<p.za;++E){var Z=w.ya[w.aa+E];if(0<E){for(A=-1;16>A;++A)r(z,V+32*A-4,z,V+32*A+12,4);for(A=-1;8>A;++A)r(G,J+32*A-4,G,J+32*A+4,4),r(fe,Se+32*A-4,fe,Se+32*A+4,4)}var ge=p.Gd,xe=p.Hd+E,Le=Z.ad,Ne=Z.Hc;if(0<R&&(r(z,V-32,ge[xe].y,0,16),r(G,J-32,ge[xe].f,0,8),r(fe,Se-32,ge[xe].ea,0,8)),Z.Za){var Ee=z,je=V-32+16;for(0<R&&(E>=p.za-1?i(Ee,je,ge[xe].y[15],4):r(Ee,je,ge[xe+1].y,0,4)),A=0;4>A;A++)Ee[je+128+A]=Ee[je+256+A]=Ee[je+384+A]=Ee[je+0+A];for(A=0;16>A;++A,Ne<<=2)Ee=z,je=V+_h[A],Ui[Z.Ob[A]](Ee,je),Xc(Ne,Le,16*+A,Ee,je)}else if(Ee=Ns(E,R,Z.Ob[0]),Kr[Ee](z,V),Ne!=0)for(A=0;16>A;++A,Ne<<=2)Xc(Ne,Le,16*+A,z,V+_h[A]);for(A=Z.Gc,Ee=Ns(E,R,Z.Dd),ii[Ee](G,J),ii[Ee](fe,Se),Ne=Le,Ee=G,je=J,255&(Z=0|A)&&(170&Z?ri(Ne,256,Ee,je):un(Ne,256,Ee,je)),Z=fe,Ne=Se,255&(A>>=8)&&(170&A?ri(Le,320,Z,Ne):un(Le,320,Z,Ne)),R<p.Ub-1&&(r(ge[xe].y,0,z,V+480,16),r(ge[xe].f,0,G,J+224,8),r(ge[xe].ea,0,fe,Se+224,8)),A=8*B*p.B,ge=p.sa,xe=p.ta+16*E+16*B*p.R,Le=p.qa,Z=p.ra+8*E+A,Ne=p.Ha,Ee=p.Ia+8*E+A,A=0;16>A;++A)r(ge,xe+A*p.R,z,V+32*A,16);for(A=0;8>A;++A)r(Le,Z+A*p.B,G,J+32*A,8),r(Ne,Ee+A*p.B,fe,Se+32*A,8)}}function Na(p,w,A,E,R,B,z,V,G){var J=[0],fe=[0],Se=0,Z=G!=null?G.kd:0,ge=G??new Ie;if(p==null||12>A)return 7;ge.data=p,ge.w=w,ge.ha=A,w=[w],A=[A],ge.gb=[ge.gb];e:{var xe=w,Le=A,Ne=ge.gb;if(e(p!=null),e(Le!=null),e(Ne!=null),Ne[0]=0,12<=Le[0]&&!t(p,xe[0],"RIFF")){if(t(p,xe[0]+8,"WEBP")){Ne=3;break e}var Ee=lt(p,xe[0]+4);if(12>Ee||4294967286<Ee){Ne=3;break e}if(Z&&Ee>Le[0]-8){Ne=7;break e}Ne[0]=Ee,xe[0]+=12,Le[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Ee=0<ge.gb[0],A=A[0];;){e:{var je=p;Le=w,Ne=A;var Re=J,Me=fe,at=xe=[0];if((Ze=Se=[Se])[0]=0,8>Ne[0])Ne=7;else{if(!t(je,Le[0],"VP8X")){if(lt(je,Le[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var Ye=lt(je,Le[0]+8),Rt=1+He(je,Le[0]+12);if(2147483648<=Rt*(je=1+He(je,Le[0]+15))){Ne=3;break e}at!=null&&(at[0]=Ye),Re!=null&&(Re[0]=Rt),Me!=null&&(Me[0]=je),Le[0]+=18,Ne[0]-=18,Ze[0]=1}Ne=0}}if(Se=Se[0],xe=xe[0],Ne!=0)return Ne;if(Le=!!(2&xe),!Ee&&Se)return 3;if(B!=null&&(B[0]=!!(16&xe)),z!=null&&(z[0]=Le),V!=null&&(V[0]=0),z=J[0],xe=fe[0],Se&&Le&&G==null){Ne=0;break}if(4>A){Ne=7;break}if(Ee&&Se||!Ee&&!Se&&!t(p,w[0],"ALPH")){A=[A],ge.na=[ge.na],ge.P=[ge.P],ge.Sa=[ge.Sa];e:{Ye=p,Ne=w,Ee=A;var Ze=ge.gb;Re=ge.na,Me=ge.P,at=ge.Sa,Rt=22,e(Ye!=null),e(Ee!=null),je=Ne[0];var $t=Ee[0];for(e(Re!=null),e(at!=null),Re[0]=null,Me[0]=null,at[0]=0;;){if(Ne[0]=je,Ee[0]=$t,8>$t){Ne=7;break e}var zn=lt(Ye,je+4);if(4294967286<zn){Ne=3;break e}var It=8+zn+1&-2;if(Rt+=It,0<Ze&&Rt>Ze){Ne=3;break e}if(!t(Ye,je,"VP8 ")||!t(Ye,je,"VP8L")){Ne=0;break e}if($t[0]<It){Ne=7;break e}t(Ye,je,"ALPH")||(Re[0]=Ye,Me[0]=je+8,at[0]=zn),je+=It,$t-=It}}if(A=A[0],ge.na=ge.na[0],ge.P=ge.P[0],ge.Sa=ge.Sa[0],Ne!=0)break}A=[A],ge.Ja=[ge.Ja],ge.xa=[ge.xa];e:if(Ze=p,Ne=w,Ee=A,Re=ge.gb[0],Me=ge.Ja,at=ge.xa,Ye=Ne[0],je=!t(Ze,Ye,"VP8 "),Rt=!t(Ze,Ye,"VP8L"),e(Ze!=null),e(Ee!=null),e(Me!=null),e(at!=null),8>Ee[0])Ne=7;else{if(je||Rt){if(Ze=lt(Ze,Ye+4),12<=Re&&Ze>Re-12){Ne=3;break e}if(Z&&Ze>Ee[0]-8){Ne=7;break e}Me[0]=Ze,Ne[0]+=8,Ee[0]-=8,at[0]=Rt}else at[0]=5<=Ee[0]&&Ze[Ye+0]==47&&!(Ze[Ye+4]>>5),Me[0]=Ee[0];Ne=0}if(A=A[0],ge.Ja=ge.Ja[0],ge.xa=ge.xa[0],w=w[0],Ne!=0)break;if(4294967286<ge.Ja)return 3;if(V==null||Le||(V[0]=ge.xa?2:1),z=[z],xe=[xe],ge.xa){if(5>A){Ne=7;break}V=z,Z=xe,Le=B,p==null||5>A?p=0:5<=A&&p[w+0]==47&&!(p[w+4]>>5)?(Ee=[0],Ze=[0],Re=[0],ie(Me=new Y,p,w,A),Xi(Me,Ee,Ze,Re)?(V!=null&&(V[0]=Ee[0]),Z!=null&&(Z[0]=Ze[0]),Le!=null&&(Le[0]=Re[0]),p=1):p=0):p=0}else{if(10>A){Ne=7;break}V=xe,p==null||10>A||!Xa(p,w+3,A-3)?p=0:(Z=p[w+0]|p[w+1]<<8|p[w+2]<<16,Le=16383&(p[w+7]<<8|p[w+6]),p=16383&(p[w+9]<<8|p[w+8]),1&Z||3<(Z>>1&7)||!(Z>>4&1)||Z>>5>=ge.Ja||!Le||!p?p=0:(z&&(z[0]=Le),V&&(V[0]=p),p=1))}if(!p||(z=z[0],xe=xe[0],Se&&(J[0]!=z||fe[0]!=xe)))return 3;G!=null&&(G[0]=ge,G.offset=w-G.w,e(4294967286>w-G.w),e(G.offset==G.ha-A));break}return Ne==0||Ne==7&&Se&&G==null?(B!=null&&(B[0]|=ge.na!=null&&0<ge.na.length),E!=null&&(E[0]=z),R!=null&&(R[0]=xe),0):Ne}function tl(p,w,A){var E=w.width,R=w.height,B=0,z=0,V=E,G=R;if(w.Da=p!=null&&0<p.Da,w.Da&&(V=p.cd,G=p.bd,B=p.v,z=p.j,11>A||(B&=-2,z&=-2),0>B||0>z||0>=V||0>=G||B+V>E||z+G>R))return 0;if(w.v=B,w.j=z,w.va=B+V,w.o=z+G,w.U=V,w.T=G,w.da=p!=null&&0<p.da,w.da){if(!mt(V,G,A=[p.ib],B=[p.hb]))return 0;w.ib=A[0],w.hb=B[0]}return w.ob=p!=null&&p.ob,w.Kb=p==null||!p.Sd,w.da&&(w.ob=w.ib<3*E/4&&w.hb<3*R/4,w.Kb=0),1}function nl(p){if(p==null)return 2;if(11>p.S){var w=p.f.RGBA;w.fb+=(p.height-1)*w.A,w.A=-w.A}else w=p.f.kb,p=p.height,w.O+=(p-1)*w.fa,w.fa=-w.fa,w.N+=(p-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(p-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(p-1)*w.lb,w.lb=-w.lb);return 0}function $s(p,w,A,E){if(E==null||0>=p||0>=w)return 2;if(A!=null){if(A.Da){var R=A.cd,B=A.bd,z=-2&A.v,V=-2&A.j;if(0>z||0>V||0>=R||0>=B||z+R>p||V+B>w)return 2;p=R,w=B}if(A.da){if(!mt(p,w,R=[A.ib],B=[A.hb]))return 2;p=R[0],w=B[0]}}E.width=p,E.height=w;e:{var G=E.width,J=E.height;if(p=E.S,0>=G||0>=J||!(p>=eu&&13>p))p=2;else{if(0>=E.Rd&&E.sd==null){z=B=R=w=0;var fe=(V=G*lc[p])*J;if(11>p||(B=(J+1)/2*(w=(G+1)/2),p==12&&(z=(R=G)*J)),(J=s(fe+2*B+z))==null){p=1;break e}E.sd=J,11>p?((G=E.f.RGBA).eb=J,G.fb=0,G.A=V,G.size=fe):((G=E.f.kb).y=J,G.O=0,G.fa=V,G.Fd=fe,G.f=J,G.N=0+fe,G.Ab=w,G.Cd=B,G.ea=J,G.W=0+fe+B,G.Db=w,G.Ed=B,p==12&&(G.F=J,G.J=0+fe+2*B),G.Tc=z,G.lb=R)}if(w=1,R=E.S,B=E.width,z=E.height,R>=eu&&13>R)if(11>R)p=E.f.RGBA,w&=(V=Math.abs(p.A))*(z-1)+B<=p.size,w&=V>=B*lc[R],w&=p.eb!=null;else{p=E.f.kb,V=(B+1)/2,fe=(z+1)/2,G=Math.abs(p.fa),J=Math.abs(p.Ab);var Se=Math.abs(p.Db),Z=Math.abs(p.lb),ge=Z*(z-1)+B;w&=G*(z-1)+B<=p.Fd,w&=J*(fe-1)+V<=p.Cd,w=(w&=Se*(fe-1)+V<=p.Ed)&G>=B&J>=V&Se>=V,w&=p.y!=null,w&=p.f!=null,w&=p.ea!=null,R==12&&(w&=Z>=B,w&=ge<=p.Tc,w&=p.F!=null)}else w=0;p=w?0:2}}return p!=0||A!=null&&A.fd&&(p=nl(E)),p}var Fi=64,xi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Si=24,Aa=32,As=8,Vs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ge("Predictor0","PredictorAdd0"),W.Predictor0=function(){return 4278190080},W.Predictor1=function(p){return p},W.Predictor2=function(p,w,A){return w[A+0]},W.Predictor3=function(p,w,A){return w[A+1]},W.Predictor4=function(p,w,A){return w[A-1]},W.Predictor5=function(p,w,A){return ft(ft(p,w[A+1]),w[A+0])},W.Predictor6=function(p,w,A){return ft(p,w[A-1])},W.Predictor7=function(p,w,A){return ft(p,w[A+0])},W.Predictor8=function(p,w,A){return ft(w[A-1],w[A+0])},W.Predictor9=function(p,w,A){return ft(w[A+0],w[A+1])},W.Predictor10=function(p,w,A){return ft(ft(p,w[A-1]),ft(w[A+0],w[A+1]))},W.Predictor11=function(p,w,A){var E=w[A+0];return 0>=Lt(E>>24&255,p>>24&255,(w=w[A-1])>>24&255)+Lt(E>>16&255,p>>16&255,w>>16&255)+Lt(E>>8&255,p>>8&255,w>>8&255)+Lt(255&E,255&p,255&w)?E:p},W.Predictor12=function(p,w,A){var E=w[A+0];return(Qt((p>>24&255)+(E>>24&255)-((w=w[A-1])>>24&255))<<24|Qt((p>>16&255)+(E>>16&255)-(w>>16&255))<<16|Qt((p>>8&255)+(E>>8&255)-(w>>8&255))<<8|Qt((255&p)+(255&E)-(255&w)))>>>0},W.Predictor13=function(p,w,A){var E=w[A-1];return(Wt((p=ft(p,w[A+0]))>>24&255,E>>24&255)<<24|Wt(p>>16&255,E>>16&255)<<16|Wt(p>>8&255,E>>8&255)<<8|Wt(255&p,255&E))>>>0};var Gs=W.PredictorAdd0;W.PredictorAdd1=qt,Ge("Predictor2","PredictorAdd2"),Ge("Predictor3","PredictorAdd3"),Ge("Predictor4","PredictorAdd4"),Ge("Predictor5","PredictorAdd5"),Ge("Predictor6","PredictorAdd6"),Ge("Predictor7","PredictorAdd7"),Ge("Predictor8","PredictorAdd8"),Ge("Predictor9","PredictorAdd9"),Ge("Predictor10","PredictorAdd10"),Ge("Predictor11","PredictorAdd11"),Ge("Predictor12","PredictorAdd12"),Ge("Predictor13","PredictorAdd13");var Ps=W.PredictorAdd2;nt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Kn,ho=W.ColorIndexInverseTransform,Cs=W.MapARGB,is=W.VP8LColorIndexInverseTransformAlpha,fo=W.MapAlpha,po=W.VP8LPredictorsAdd=[];po.length=16,(W.VP8LPredictors=[]).length=16,(W.VP8LPredictorsAdd_C=[]).length=16,(W.VP8LPredictors_C=[]).length=16;var rl,il,Ks,Pa,Ca,go,Ea,mo,Bn,ri,en,un,Un,sr,ss,Ql,sl,Ys,Qc,al,Zc,ch,Zl,vo,yo,uh,ec,hh,dh=s(511),fh=s(2041),ph=s(225),gh=s(767),mh=0,Es=fh,ol=ph,Gr=gh,Bi=dh,eu=0,ja=1,Cd=2,tc=3,nc=4,fn=5,tu=6,ll=7,wo=8,rc=9,ic=10,sc=[2,3,7],nu=[3,3,11],bo=[280,256,256,256,40],Ed=[0,1,1,1,0],Bp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Up=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],jd=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ru=8,cl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ac=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_o=null,vh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],yh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ld=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Td=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],zp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Wp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],wh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Kr=[],Ui=[],ii=[],js=1,ul=2,Fr=[],si=[];Hs("UpsampleRgbLinePair",ka,3),Hs("UpsampleBgrLinePair",jr,3),Hs("UpsampleRgbaLinePair",Vr,4),Hs("UpsampleBgraLinePair",Xl,4),Hs("UpsampleArgbLinePair",Jl,4),Hs("UpsampleRgba4444LinePair",uo,2),Hs("UpsampleRgb565LinePair",co,2);var qp=W.UpsampleRgbLinePair,Hp=W.UpsampleBgrLinePair,La=W.UpsampleRgbaLinePair,hl=W.UpsampleBgraLinePair,xo=W.UpsampleArgbLinePair,oc=W.UpsampleRgba4444LinePair,bh=W.UpsampleRgb565LinePair,Js=16,as=1<<Js-1,ln=-227,hn=482,Ta=6,Lr=0,ai=s(256),So=s(256),dl=s(256),oi=s(256),iu=s(hn-ln),Od=s(hn-ln);rs("YuvToRgbRow",ka,3),rs("YuvToBgrRow",jr,3),rs("YuvToRgbaRow",Vr,4),rs("YuvToBgraRow",Xl,4),rs("YuvToArgbRow",Jl,4),rs("YuvToRgba4444Row",uo,2),rs("YuvToRgb565Row",co,2);var _h=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ko=[0,2,8],Rd=[8,7,6,4,4,2,2,2,1,1,1,1],Xs=1;this.WebPDecodeRGBA=function(p,w,A,E,R){var B=ja,z=new Oe,V=new Ot;z.ba=V,V.S=B,V.width=[V.width],V.height=[V.height];var G=V.width,J=V.height,fe=new yt;if(fe==null||p==null)var Se=2;else e(fe!=null),Se=Na(p,w,A,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(Se!=0?G=0:(G!=null&&(G[0]=fe.width[0]),J!=null&&(J[0]=fe.height[0]),G=1),G){V.width=V.width[0],V.height=V.height[0],E!=null&&(E[0]=V.width),R!=null&&(R[0]=V.height);e:{if(E=new Vo,(R=new Ie).data=p,R.w=w,R.ha=A,R.kd=1,w=[0],e(R!=null),((p=Na(R.data,R.w,R.ha,null,null,null,w,null,R))==0||p==7)&&w[0]&&(p=4),(w=p)==0){if(e(z!=null),E.data=R.data,E.w=R.w+R.offset,E.ha=R.ha-R.offset,E.put=wt,E.ac=Ei,E.bc=gi,E.ma=z,R.xa){if((p=Ga())==null){z=1;break e}if((function(Z,ge){var xe=[0],Le=[0],Ne=[0];t:for(;;){if(Z==null)return 0;if(ge==null)return Z.a=2,0;if(Z.l=ge,Z.a=0,ie(Z.m,ge.data,ge.w,ge.ha),!Xi(Z.m,xe,Le,Ne)){Z.a=3;break t}if(Z.xb=ul,ge.width=xe[0],ge.height=Le[0],!Zi(xe[0],Le[0],1,Z,null))break t;return 1}return e(Z.a!=0),0})(p,E)){if(E=(w=$s(E.width,E.height,z.Oa,z.ba))==0){t:{E=p;n:for(;;){if(E==null){E=0;break t}if(e(E.s.yc!=null),e(E.s.Ya!=null),e(0<E.s.Wb),e((A=E.l)!=null),e((R=A.ma)!=null),E.xb!=0){if(E.ca=R.ba,E.tb=R.tb,e(E.ca!=null),!tl(R.Oa,A,tc)){E.a=2;break n}if(!ya(E,A.width)||A.da)break n;if((A.da||vt(E.ca.S))&&ns(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&ns()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!X(E.s.vb,E.s.Wa.Xa)){E.a=1;break n}E.xb=0}if(!Li(E,E.V,E.Ba,E.c,E.i,A.o,va))break n;R.Dc=E.Ma,E=1;break t}e(E.a!=0),E=0}E=!E}E&&(w=p.a)}else w=p.a}else{if((p=new oh)==null){z=1;break e}if(p.Fa=R.na,p.P=R.P,p.qc=R.Sa,wi(p,E)){if((w=$s(E.width,E.height,z.Oa,z.ba))==0){if(p.Aa=0,A=z.Oa,e((R=p)!=null),A!=null){if(0<(G=0>(G=A.Md)?0:100<G?255:255*G/100)){for(J=fe=0;4>J;++J)12>(Se=R.pb[J]).lc&&(Se.ia=G*Rd[0>Se.lc?0:Se.lc]>>3),fe|=Se.ia;fe&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=A.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}(function(Z,ge){if(Z==null)return 0;if(ge==null)return rr(Z,2,"NULL VP8Io parameter in VP8Decode().");if(!Z.cb&&!wi(Z,ge))return 0;if(e(Z.cb),ge.ac==null||ge.ac(ge)){ge.ob&&(Z.L=0);var xe=ko[Z.L];if(Z.L==2?(Z.yb=0,Z.zb=0):(Z.yb=ge.v-xe>>4,Z.zb=ge.j-xe>>4,0>Z.yb&&(Z.yb=0),0>Z.zb&&(Z.zb=0)),Z.Va=ge.o+15+xe>>4,Z.Hb=ge.va+15+xe>>4,Z.Hb>Z.za&&(Z.Hb=Z.za),Z.Va>Z.Ub&&(Z.Va=Z.Ub),0<Z.L){var Le=Z.ed;for(xe=0;4>xe;++xe){var Ne;if(Z.Qa.Cb){var Ee=Z.Qa.Lb[xe];Z.Qa.Fb||(Ee+=Le.Tb)}else Ee=Le.Tb;for(Ne=0;1>=Ne;++Ne){var je=Z.gd[xe][Ne],Re=Ee;if(Le.Pc&&(Re+=Le.vd[0],Ne&&(Re+=Le.od[0])),0<(Re=0>Re?0:63<Re?63:Re)){var Me=Re;0<Le.wb&&(Me=4<Le.wb?Me>>2:Me>>1)>9-Le.wb&&(Me=9-Le.wb),1>Me&&(Me=1),je.dd=Me,je.tc=2*Re+Me,je.ld=40<=Re?2:15<=Re?1:0}else je.tc=0;je.La=Ne}}}xe=0}else rr(Z,6,"Frame setup failed"),xe=Z.a;if(xe=xe==0){if(xe){Z.$c=0,0<Z.Aa||(Z.Ic=Xs);t:{xe=Z.Ic,Le=4*(Me=Z.za);var at=32*Me,Ye=Me+1,Rt=0<Z.L?Me*(0<Z.Aa?2:1):0,Ze=(Z.Aa==2?2:1)*Me;if((je=Le+832+(Ne=3*(16*xe+ko[Z.L])/2*at)+(Ee=Z.Fa!=null&&0<Z.Fa.length?Z.Kc.c*Z.Kc.i:0))!=je)xe=0;else{if(je>Z.Vb){if(Z.Vb=0,Z.Ec=s(je),Z.Fc=0,Z.Ec==null){xe=rr(Z,1,"no memory during frame initialization.");break t}Z.Vb=je}je=Z.Ec,Re=Z.Fc,Z.Ac=je,Z.Bc=Re,Re+=Le,Z.Gd=o(at,yi),Z.Hd=0,Z.rb=o(Ye+1,wa),Z.sb=1,Z.wa=Rt?o(Rt,vi):null,Z.Y=0,Z.D.Nb=0,Z.D.wa=Z.wa,Z.D.Y=Z.Y,0<Z.Aa&&(Z.D.Y+=Me),e(!0),Z.oc=je,Z.pc=Re,Re+=832,Z.ya=o(Ze,$o),Z.aa=0,Z.D.ya=Z.ya,Z.D.aa=Z.aa,Z.Aa==2&&(Z.D.aa+=Me),Z.R=16*Me,Z.B=8*Me,Me=(at=ko[Z.L])*Z.R,at=at/2*Z.B,Z.sa=je,Z.ta=Re+Me,Z.qa=Z.sa,Z.ra=Z.ta+16*xe*Z.R+at,Z.Ha=Z.qa,Z.Ia=Z.ra+8*xe*Z.B+at,Z.$c=0,Re+=Ne,Z.mb=Ee?je:null,Z.nb=Ee?Re:null,e(Re+Ee<=Z.Fc+Z.Vb),Qa(Z),i(Z.Ac,Z.Bc,0,Le),xe=1}}if(xe){if(ge.ka=0,ge.y=Z.sa,ge.O=Z.ta,ge.f=Z.qa,ge.N=Z.ra,ge.ea=Z.Ha,ge.Vd=Z.Ia,ge.fa=Z.R,ge.Rc=Z.B,ge.F=null,ge.J=0,!mh){for(xe=-255;255>=xe;++xe)dh[255+xe]=0>xe?-xe:xe;for(xe=-1020;1020>=xe;++xe)fh[1020+xe]=-128>xe?-128:127<xe?127:xe;for(xe=-112;112>=xe;++xe)ph[112+xe]=-16>xe?-16:15<xe?15:xe;for(xe=-255;510>=xe;++xe)gh[255+xe]=0>xe?0:255<xe?255:xe;mh=1}Ea=eo,mo=Za,ri=_s,en=Go,un=Xt,Bn=Hl,Un=Dr,sr=Di,ss=M,Ql=te,sl=Zo,Ys=x,Qc=ue,al=we,Zc=Ws,ch=_a,Zl=Yl,vo=ao,Ui[0]=Yc,Ui[1]=$l,Ui[2]=Ss,Ui[3]=lh,Ui[4]=bi,Ui[5]=Jc,Ui[6]=zs,Ui[7]=Jo,Ui[8]=Vl,Ui[9]=no,Kr[0]=xs,Kr[1]=Kc,Kr[2]=Ko,Kr[3]=Yo,Kr[4]=ti,Kr[5]=Oi,Kr[6]=to,ii[0]=Xo,ii[1]=Gc,ii[2]=ts,ii[3]=ro,ii[4]=Kl,ii[5]=Gl,ii[6]=Qo,xe=1}else xe=0}xe&&(xe=(function($t,zn){for($t.M=0;$t.M<$t.Va;++$t.M){var It,Je=$t.Jc[$t.M&$t.Xb],qe=$t.m,Yn=$t;for(It=0;It<Yn.za;++It){var kt=qe,Ht=Yn,Sn=Ht.Ac,xr=Ht.Bc+4*It,ar=Ht.zc,In=Ht.ya[Ht.aa+It];if(Ht.Qa.Bb?In.$b=Te(kt,Ht.Pa.jb[0])?2+Te(kt,Ht.Pa.jb[2]):Te(kt,Ht.Pa.jb[1]):In.$b=0,Ht.kc&&(In.Ad=Te(kt,Ht.Bd)),In.Za=!Te(kt,145)+0,In.Za){var gr=In.Ob,Sr=0;for(Ht=0;4>Ht;++Ht){var En,Gt=ar[0+Ht];for(En=0;4>En;++En){Gt=zp[Sn[xr+En]][Gt];for(var tn=Ld[Te(kt,Gt[0])];0<tn;)tn=Ld[2*tn+Te(kt,Gt[tn])];Gt=-tn,Sn[xr+En]=Gt}r(gr,Sr,Sn,xr,4),Sr+=4,ar[0+Ht]=Gt}}else Gt=Te(kt,156)?Te(kt,128)?1:3:Te(kt,163)?2:0,In.Ob[0]=Gt,i(Sn,xr,Gt,4),i(ar,0,Gt,4);In.Dd=Te(kt,142)?Te(kt,114)?Te(kt,183)?1:3:2:0}if(Yn.m.Ka)return rr($t,7,"Premature end-of-partition0 encountered.");for(;$t.ja<$t.za;++$t.ja){if(Yn=Je,kt=(qe=$t).rb[qe.sb-1],Sn=qe.rb[qe.sb+qe.ja],It=qe.ya[qe.aa+qe.ja],xr=qe.kc?It.Ad:0)kt.la=Sn.la=0,It.Za||(kt.Na=Sn.Na=0),It.Hc=0,It.Gc=0,It.ia=0;else{var jn,nn;if(kt=Sn,Sn=Yn,xr=qe.Pa.Xc,ar=qe.ya[qe.aa+qe.ja],In=qe.pb[ar.$b],Ht=ar.ad,gr=0,Sr=qe.rb[qe.sb-1],Gt=En=0,i(Ht,gr,0,384),ar.Za)var Wn=0,qn=xr[3];else{tn=s(16);var pn=kt.Na+Sr.Na;if(pn=_o(Sn,xr[1],pn,In.Eb,0,tn,0),kt.Na=Sr.Na=(0<pn)+0,1<pn)Ea(tn,0,Ht,gr);else{var Br=tn[0]+3>>3;for(tn=0;256>tn;tn+=16)Ht[gr+tn]=Br}Wn=1,qn=xr[0]}var dn=15&kt.la,gn=15&Sr.la;for(tn=0;4>tn;++tn){var or=1&gn;for(Br=nn=0;4>Br;++Br)dn=dn>>1|(or=(pn=_o(Sn,qn,pn=or+(1&dn),In.Sc,Wn,Ht,gr))>Wn)<<7,nn=nn<<2|(3<pn?3:1<pn?2:Ht[gr+0]!=0),gr+=16;dn>>=4,gn=gn>>1|or<<7,En=(En<<8|nn)>>>0}for(qn=dn,Wn=gn>>4,jn=0;4>jn;jn+=2){for(nn=0,dn=kt.la>>4+jn,gn=Sr.la>>4+jn,tn=0;2>tn;++tn){for(or=1&gn,Br=0;2>Br;++Br)pn=or+(1&dn),dn=dn>>1|(or=0<(pn=_o(Sn,xr[2],pn,In.Qc,0,Ht,gr)))<<3,nn=nn<<2|(3<pn?3:1<pn?2:Ht[gr+0]!=0),gr+=16;dn>>=2,gn=gn>>1|or<<5}Gt|=nn<<4*jn,qn|=dn<<4<<jn,Wn|=(240&gn)<<jn}kt.la=qn,Sr.la=Wn,ar.Hc=En,ar.Gc=Gt,ar.ia=43690&Gt?0:In.ia,xr=!(En|Gt)}if(0<qe.L&&(qe.wa[qe.Y+qe.ja]=qe.gd[It.$b][It.Za],qe.wa[qe.Y+qe.ja].La|=!xr),Yn.Ka)return rr($t,7,"Premature end-of-file encountered.")}if(Qa($t),qe=zn,Yn=1,It=(Je=$t).D,kt=0<Je.L&&Je.M>=Je.zb&&Je.M<=Je.Va,Je.Aa==0)t:{if(It.M=Je.M,It.uc=kt,_i(Je,It),Yn=1,It=(nn=Je.D).Nb,kt=(Gt=ko[Je.L])*Je.R,Sn=Gt/2*Je.B,tn=16*It*Je.R,Br=8*It*Je.B,xr=Je.sa,ar=Je.ta-kt+tn,In=Je.qa,Ht=Je.ra-Sn+Br,gr=Je.Ha,Sr=Je.Ia-Sn+Br,gn=(dn=nn.M)==0,En=dn>=Je.Va-1,Je.Aa==2&&_i(Je,nn),nn.uc)for(or=(pn=Je).D.M,e(pn.D.uc),nn=pn.yb;nn<pn.Hb;++nn){Wn=nn,qn=or;var Tr=(li=(Qn=pn).D).Nb;jn=Qn.R;var li=li.wa[li.Y+Wn],Jn=Qn.sa,Xn=Qn.ta+16*Tr*jn+16*Wn,Ur=li.dd,mn=li.tc;if(mn!=0)if(e(3<=mn),Qn.L==1)0<Wn&&ch(Jn,Xn,jn,mn+4),li.La&&vo(Jn,Xn,jn,mn),0<qn&&Zc(Jn,Xn,jn,mn+4),li.La&&Zl(Jn,Xn,jn,mn);else{var zr=Qn.B,zi=Qn.qa,os=Qn.ra+8*Tr*zr+8*Wn,kr=Qn.Ha,Qn=Qn.Ia+8*Tr*zr+8*Wn;Tr=li.ld,0<Wn&&(sr(Jn,Xn,jn,mn+4,Ur,Tr),Ql(zi,os,kr,Qn,zr,mn+4,Ur,Tr)),li.La&&(Ys(Jn,Xn,jn,mn,Ur,Tr),al(zi,os,kr,Qn,zr,mn,Ur,Tr)),0<qn&&(Un(Jn,Xn,jn,mn+4,Ur,Tr),ss(zi,os,kr,Qn,zr,mn+4,Ur,Tr)),li.La&&(sl(Jn,Xn,jn,mn,Ur,Tr),Qc(zi,os,kr,Qn,zr,mn,Ur,Tr))}}if(Je.ia&&alert("todo:DitherRow"),qe.put!=null){if(nn=16*dn,dn=16*(dn+1),gn?(qe.y=Je.sa,qe.O=Je.ta+tn,qe.f=Je.qa,qe.N=Je.ra+Br,qe.ea=Je.Ha,qe.W=Je.Ia+Br):(nn-=Gt,qe.y=xr,qe.O=ar,qe.f=In,qe.N=Ht,qe.ea=gr,qe.W=Sr),En||(dn-=Gt),dn>qe.o&&(dn=qe.o),qe.F=null,qe.J=null,Je.Fa!=null&&0<Je.Fa.length&&nn<dn&&(qe.J=xn(Je,qe,nn,dn-nn),qe.F=Je.mb,qe.F==null&&qe.F.length==0)){Yn=rr(Je,3,"Could not decode alpha data.");break t}nn<qe.j&&(Gt=qe.j-nn,nn=qe.j,e(!(1&Gt)),qe.O+=Je.R*Gt,qe.N+=Je.B*(Gt>>1),qe.W+=Je.B*(Gt>>1),qe.F!=null&&(qe.J+=qe.width*Gt)),nn<dn&&(qe.O+=qe.v,qe.N+=qe.v>>1,qe.W+=qe.v>>1,qe.F!=null&&(qe.J+=qe.v),qe.ka=nn-qe.j,qe.U=qe.va-qe.v,qe.T=dn-nn,Yn=qe.put(qe))}It+1!=Je.Ic||En||(r(Je.sa,Je.ta-kt,xr,ar+16*Je.R,kt),r(Je.qa,Je.ra-Sn,In,Ht+8*Je.B,Sn),r(Je.Ha,Je.Ia-Sn,gr,Sr+8*Je.B,Sn))}if(!Yn)return rr($t,6,"Output aborted.")}return 1})(Z,ge)),ge.bc!=null&&ge.bc(ge),xe&=1}return xe?(Z.cb=0,xe):0})(p,E)||(w=p.a)}}else w=p.a}w==0&&z.Oa!=null&&z.Oa.fd&&(w=nl(z.ba))}z=w}B=z!=0?null:11>B?V.f.RGBA.eb:V.f.kb.y}else B=null;return B};var lc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(W,ae){for(var I="",q=0;q<4;q++)I+=String.fromCharCode(W[ae++]);return I}function d(W,ae){return W[ae+0]|W[ae+1]<<8}function m(W,ae){return(W[ae+0]|W[ae+1]<<8|W[ae+2]<<16)>>>0}function y(W,ae){return(W[ae+0]|W[ae+1]<<8|W[ae+2]<<16|W[ae+3]<<24)>>>0}new u;var g=[0],_=[0],k=[],N=new u,P=n,L=(function(W,ae){var I={},q=0,ne=!1,re=0,ve=0;if(I.frames=[],!(function(O,Y){for(var ee=0;ee<4;ee++)if(O[Y+ee]!="RIFF".charCodeAt(ee))return!0;return!1})(W,ae)){for(y(W,ae+=4),ae+=8;ae<W.length;){var be=h(W,ae),he=y(W,ae+=4);ae+=4;var $=he+(1&he);switch(be){case"VP8 ":case"VP8L":I.frames[q]===void 0&&(I.frames[q]={}),(K=I.frames[q]).src_off=ne?ve:ae-8,K.src_size=re+he+8,q++,ne&&(ne=!1,re=0,ve=0);break;case"VP8X":(K=I.header={}).feature_flags=W[ae];var ie=ae+4;K.canvas_width=1+m(W,ie),ie+=3,K.canvas_height=1+m(W,ie),ie+=3;break;case"ALPH":ne=!0,re=$+8,ve=ae-8;break;case"ANIM":(K=I.header).bgcolor=y(W,ae),ie=ae+4,K.loop_count=d(W,ie),ie+=2;break;case"ANMF":var le,K;(K=I.frames[q]={}).offset_x=2*m(W,ae),ae+=3,K.offset_y=2*m(W,ae),ae+=3,K.width=1+m(W,ae),ae+=3,K.height=1+m(W,ae),ae+=3,K.duration=m(W,ae),ae+=3,le=W[ae++],K.dispose=1&le,K.blend=le>>1&1}be!="ANMF"&&(ae+=$)}return I}})(P,0);L.response=P,L.rgbaoutput=!0,L.dataurl=!1;var T=L.header?L.header:null,j=L.frames?L.frames:null;if(T){T.loop_counter=T.loop_count,g=[T.canvas_height],_=[T.canvas_width];for(var D=0;D<j.length&&j[D].blend!=0;D++);}var Q=j[0],U=N.WebPDecodeRGBA(P,Q.src_off,Q.src_size,_,g);Q.rgba=U,Q.imgwidth=_[0],Q.imgheight=g[0];for(var H=0;H<_[0]*g[0]*4;H++)k[H]=U[H];return this.width=_,this.height=g,this.data=k,this}(function(n){var e,t,r,i,s,o,l,u,h,d=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new u,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new o,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new o,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,h=new d}]);var m=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=O;Object.defineProperty(this,"pdf",{get:function(){return Y}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(X){ee=!!X}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(X){oe=!!X}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(X){isNaN(X)||(ce=X)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(X){isNaN(X)||(ye=X)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(X){var $e;typeof X=="number"?$e=[X,X,X,X]:(($e=new Array(4))[0]=X[0],$e[1]=X.length>=2?X[1]:$e[0],$e[2]=X.length>=3?X[2]:$e[0],$e[3]=X.length>=4?X[3]:$e[1]),h.margin=$e}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(X){_e=X}});var Ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ae},set:function(X){Ae=X}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(X){Te=X}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(X){X instanceof d&&(h=X)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(X){h.path=X}});var Ue=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ue},set:function(X){Ue=X}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(X){var $e;$e=y(X),this.ctx.fillStyle=$e.style,this.ctx.isFillTransparent=$e.a===0,this.ctx.fillOpacity=$e.a,this.pdf.setFillColor($e.r,$e.g,$e.b,{a:$e.a}),this.pdf.setTextColor($e.r,$e.g,$e.b,{a:$e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(X){var $e=y(X);this.ctx.strokeStyle=$e.style,this.ctx.isStrokeTransparent=$e.a===0,this.ctx.strokeOpacity=$e.a,$e.a===0?this.pdf.setDrawColor(255,255,255):($e.a,this.pdf.setDrawColor($e.r,$e.g,$e.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(X){["butt","round","square"].indexOf(X)!==-1&&(this.ctx.lineCap=X,this.pdf.setLineCap(X))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(X){isNaN(X)||(this.ctx.lineWidth=X,this.pdf.setLineWidth(X))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(X){["bevel","round","miter"].indexOf(X)!==-1&&(this.ctx.lineJoin=X,this.pdf.setLineJoin(X))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(X){isNaN(X)||(this.ctx.miterLimit=X,this.pdf.setMiterLimit(X))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(X){this.ctx.textBaseline=X}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(X){["right","end","center","left","start"].indexOf(X)!==-1&&(this.ctx.textAlign=X)}});var Ve=null,He=null,lt=null;Object.defineProperty(this,"fontFaces",{get:function(){return lt},set:function(X){Ve=null,He=null,lt=X}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(X){var $e;if(this.ctx.font=X,($e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(X))!==null){var Mt=$e[1];$e[2];var mt=$e[3],De=$e[4];$e[5];var dt=$e[6],Ge=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(De)[2];De=Math.floor(Ge==="px"?parseFloat(De)*this.pdf.internal.scaleFactor:Ge==="em"?parseFloat(De)*this.pdf.getFontSize():parseFloat(De)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(De);var gt=(function(nt){var $n,Kt,Bt=[],zt=nt.trim();if(zt==="")return dm;if(zt in Gy)return[Gy[zt]];for(;zt!=="";){switch(Kt=null,$n=(zt=Yy(zt)).charAt(0)){case'"':case"'":Kt=mL(zt.substring(1),$n);break;default:Kt=vL(zt)}if(Kt===null||(Bt.push(Kt[0]),(zt=Yy(Kt[1]))!==""&&zt.charAt(0)!==","))return dm;zt=zt.replace(/^,/,"")}return Bt})(dt);if(this.fontFaces){var ft=(function(nt,$n){var Kt=nt.getFontList(),Bt=JSON.stringify(Kt);if(Ve===null||He!==Bt){var zt=(function(bn){var pt=[];return Object.keys(bn).forEach(function(cn){bn[cn].forEach(function(vt){var Ct=null;switch(vt){case"bold":Ct={family:cn,weight:"bold"};break;case"italic":Ct={family:cn,style:"italic"};break;case"bolditalic":Ct={family:cn,weight:"bold",style:"italic"};break;case"":case"normal":Ct={family:cn}}Ct!==null&&(Ct.ref={name:cn,style:vt},pt.push(Ct))})}),pt})(Kt);Ve=(function(bn){for(var pt={},cn=0;cn<bn.length;++cn){var vt=hm(bn[cn]),Ct=vt.family,on=vt.stretch,Ot=vt.style,yt=vt.weight;pt[Ct]=pt[Ct]||{},pt[Ct][on]=pt[Ct][on]||{},pt[Ct][on][Ot]=pt[Ct][on][Ot]||{},pt[Ct][on][Ot][yt]=vt}return pt})(zt.concat($n)),He=Bt}return Ve})(this.pdf,this.fontFaces),Qt=gt.map(function(nt){return{family:nt,stretch:"normal",weight:mt,style:Mt}}),Wt=(function(nt,$n,Kt){for(var Bt=(Kt=Kt||{}).defaultFontFamily||"times",zt=Object.assign({},gL,Kt.genericFontFamilies||{}),bn=null,pt=null,cn=0;cn<$n.length;++cn)if(zt[(bn=hm($n[cn])).family]&&(bn.family=zt[bn.family]),nt.hasOwnProperty(bn.family)){pt=nt[bn.family];break}if(!(pt=pt||nt[Bt]))throw new Error("Could not find a font-family for the rule '"+Ky(bn)+"' and default family '"+Bt+"'.");if(pt=(function(vt,Ct){if(Ct[vt])return Ct[vt];var on=n0[vt],Ot=on<=n0.normal?-1:1,yt=Vy(Ct,a_,on,Ot);if(!yt)throw new Error("Could not find a matching font-stretch value for "+vt);return yt})(bn.stretch,pt),pt=(function(vt,Ct){if(Ct[vt])return Ct[vt];for(var on=s_[vt],Ot=0;Ot<on.length;++Ot)if(Ct[on[Ot]])return Ct[on[Ot]];throw new Error("Could not find a matching font-style for "+vt)})(bn.style,pt),!(pt=(function(vt,Ct){if(Ct[vt])return Ct[vt];if(vt===400&&Ct[500])return Ct[500];if(vt===500&&Ct[400])return Ct[400];var on=pL[vt],Ot=Vy(Ct,o_,on,vt<400?-1:1);if(!Ot)throw new Error("Could not find a matching font-weight for value "+vt);return Ot})(bn.weight,pt)))throw new Error("Failed to resolve a font for the rule '"+Ky(bn)+"'.");return pt})(ft,Qt);this.pdf.setFont(Wt.ref.name,Wt.ref.style)}else{var Lt="";(mt==="bold"||parseInt(mt,10)>=700||Mt==="bold")&&(Lt="bold"),Mt==="italic"&&(Lt+="italic"),Lt.length===0&&(Lt="normal");for(var qt="",Ut={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},rt=0;rt<gt.length;rt++){if(this.pdf.internal.getFont(gt[rt],Lt,{noFallback:!0,disableWarning:!0})!==void 0){qt=gt[rt];break}if(Lt==="bolditalic"&&this.pdf.internal.getFont(gt[rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)qt=gt[rt],Lt="bold";else if(this.pdf.internal.getFont(gt[rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){qt=gt[rt],Lt="normal";break}}if(qt===""){for(var At=0;At<gt.length;At++)if(Ut[gt[At]]){qt=Ut[gt[At]];break}}qt=qt===""?"Times":qt,this.pdf.setFont(qt,Lt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(X){this.ctx.globalCompositeOperation=X}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(X){this.ctx.globalAlpha=X}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(X){this.ctx.lineDashOffset=X,K.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(X){this.ctx.lineDash=X,K.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(X){this.ctx.ignoreClearRect=!!X}})};m.prototype.setLineDash=function(O){this.lineDash=O},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){j.call(this,"fill",!1)},m.prototype.stroke=function(){j.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(O,Y){if(isNaN(O)||isNaN(Y))throw An.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new o(O,Y));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(O,Y)},m.prototype.closePath=function(){var O=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&wn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){O=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(O.x,O.y)},m.prototype.lineTo=function(O,Y){if(isNaN(O)||isNaN(Y))throw An.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new o(O,Y));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},m.prototype.quadraticCurveTo=function(O,Y,ee,oe){if(isNaN(ee)||isNaN(oe)||isNaN(O)||isNaN(Y))throw An.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new o(ee,oe)),ye=this.ctx.transform.applyToPoint(new o(O,Y));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},m.prototype.bezierCurveTo=function(O,Y,ee,oe,ce,ye){if(isNaN(ce)||isNaN(ye)||isNaN(O)||isNaN(Y)||isNaN(ee)||isNaN(oe))throw An.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new o(ce,ye)),Ae=this.ctx.transform.applyToPoint(new o(O,Y)),Te=this.ctx.transform.applyToPoint(new o(ee,oe));this.path.push({type:"bct",x1:Ae.x,y1:Ae.y,x2:Te.x,y2:Te.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new o(_e.x,_e.y)},m.prototype.arc=function(O,Y,ee,oe,ce,ye){if(isNaN(O)||isNaN(Y)||isNaN(ee)||isNaN(oe)||isNaN(ce))throw An.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new o(O,Y));O=_e.x,Y=_e.y;var Ae=this.ctx.transform.applyToPoint(new o(0,ee)),Te=this.ctx.transform.applyToPoint(new o(0,0));ee=Math.sqrt(Math.pow(Ae.x-Te.x,2)+Math.pow(Ae.y-Te.y,2))}Math.abs(ce-oe)>=2*Math.PI&&(oe=0,ce=2*Math.PI),this.path.push({type:"arc",x:O,y:Y,radius:ee,startAngle:oe,endAngle:ce,counterclockwise:ye})},m.prototype.arcTo=function(O,Y,ee,oe,ce){throw new Error("arcTo not implemented.")},m.prototype.rect=function(O,Y,ee,oe){if(isNaN(O)||isNaN(Y)||isNaN(ee)||isNaN(oe))throw An.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,Y),this.lineTo(O+ee,Y),this.lineTo(O+ee,Y+oe),this.lineTo(O,Y+oe),this.lineTo(O,Y),this.lineTo(O+ee,Y),this.lineTo(O,Y)},m.prototype.fillRect=function(O,Y,ee,oe){if(isNaN(O)||isNaN(Y)||isNaN(ee)||isNaN(oe))throw An.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,Y,ee,oe),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},m.prototype.strokeRect=function(O,Y,ee,oe){if(isNaN(O)||isNaN(Y)||isNaN(ee)||isNaN(oe))throw An.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(O,Y,ee,oe),this.stroke())},m.prototype.clearRect=function(O,Y,ee,oe){if(isNaN(O)||isNaN(Y)||isNaN(ee)||isNaN(oe))throw An.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,Y,ee,oe))},m.prototype.save=function(O){O=typeof O!="boolean"||O;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},m.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(O){var Y,ee,oe,ce;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))Y=0,ee=0,oe=0,ce=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(ye!==null)Y=parseInt(ye[1]),ee=parseInt(ye[2]),oe=parseInt(ye[3]),ce=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)Y=parseInt(ye[1]),ee=parseInt(ye[2]),oe=parseInt(ye[3]),ce=parseFloat(ye[4]);else{if(ce=1,typeof O=="string"&&O.charAt(0)!=="#"){var _e=new Qb(O);O=_e.ok?_e.toHex():"#000000"}O.length===4?(Y=O.substring(1,2),Y+=Y,ee=O.substring(2,3),ee+=ee,oe=O.substring(3,4),oe+=oe):(Y=O.substring(1,3),ee=O.substring(3,5),oe=O.substring(5,7)),Y=parseInt(Y,16),ee=parseInt(ee,16),oe=parseInt(oe,16)}}return{r:Y,g:ee,b:oe,a:ce,style:O}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(O,Y,ee,oe){if(isNaN(Y)||isNaN(ee)||typeof O!="string")throw An.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!g.call(this)){var ce=$(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;q.call(this,{text:O,x:Y,y:ee,scale:ye,angle:ce,align:this.textAlign,maxWidth:oe})}},m.prototype.strokeText=function(O,Y,ee,oe){if(isNaN(Y)||isNaN(ee)||typeof O!="string")throw An.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){oe=isNaN(oe)?void 0:oe;var ce=$(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;q.call(this,{text:O,x:Y,y:ee,scale:ye,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:oe})}},m.prototype.measureText=function(O){if(typeof O!="string")throw An.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,ee=this.pdf.internal.scaleFactor,oe=Y.internal.getFontSize(),ce=Y.getStringUnitWidth(O)*oe/Y.internal.scaleFactor;return new function(ye){var _e=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _e}}),this}({width:ce*=Math.round(96*ee/72*1e4)/1e4})},m.prototype.scale=function(O,Y){if(isNaN(O)||isNaN(Y))throw An.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new u(O,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},m.prototype.rotate=function(O){if(isNaN(O))throw An.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new u(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},m.prototype.translate=function(O,Y){if(isNaN(O)||isNaN(Y))throw An.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new u(1,0,0,1,O,Y);this.ctx.transform=this.ctx.transform.multiply(ee)},m.prototype.transform=function(O,Y,ee,oe,ce,ye){if(isNaN(O)||isNaN(Y)||isNaN(ee)||isNaN(oe)||isNaN(ce)||isNaN(ye))throw An.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new u(O,Y,ee,oe,ce,ye);this.ctx.transform=this.ctx.transform.multiply(_e)},m.prototype.setTransform=function(O,Y,ee,oe,ce,ye){O=isNaN(O)?1:O,Y=isNaN(Y)?0:Y,ee=isNaN(ee)?0:ee,oe=isNaN(oe)?1:oe,ce=isNaN(ce)?0:ce,ye=isNaN(ye)?0:ye,this.ctx.transform=new u(O,Y,ee,oe,ce,ye)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(O,Y,ee,oe,ce,ye,_e,Ae,Te){var Ue=this.pdf.getImageProperties(O),Ve=1,He=1,lt=1,X=1;oe!==void 0&&Ae!==void 0&&(lt=Ae/oe,X=Te/ce,Ve=Ue.width/oe*Ae/oe,He=Ue.height/ce*Te/ce),ye===void 0&&(ye=Y,_e=ee,Y=0,ee=0),oe!==void 0&&Ae===void 0&&(Ae=oe,Te=ce),oe===void 0&&Ae===void 0&&(Ae=Ue.width,Te=Ue.height);var $e=this.ctx.transform.decompose(),Mt=$($e.rotate.shx),mt=new u,De=(mt=(mt=(mt=mt.multiply($e.translate)).multiply($e.skew)).multiply($e.scale)).applyToRectangle(new l(ye-Y*lt,_e-ee*X,oe*Ve,ce*He));if(this.autoPaging){for(var dt,Ge=N.call(this,De),gt=[],ft=0;ft<Ge.length;ft+=1)gt.indexOf(Ge[ft])===-1&&gt.push(Ge[ft]);T(gt);for(var Qt=gt[0],Wt=gt[gt.length-1],Lt=Qt;Lt<Wt+1;Lt++){this.pdf.setPage(Lt);var qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ut=Lt===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=Lt===1?0:rt+(Lt-2)*At;if(this.ctx.clip_path.length!==0){var $n=this.path;dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(dt,this.posX+this.margin[3],-nt+Ut+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=$n}var Kt=JSON.parse(JSON.stringify(De));Kt=L([Kt],this.posX+this.margin[3],-nt+Ut+this.ctx.prevPageLastElemOffset)[0];var Bt=(Lt>Qt||Lt<Wt)&&k.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qt,At,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,Mt),Bt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(O,"JPEG",De.x,De.y,De.w,De.h,null,null,Mt)};var N=function(O,Y,ee){var oe=[];Y=Y||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":oe.push(Math.floor((O.y+ce)/ee)+1);break;case"arc":oe.push(Math.floor((O.y+ce-O.radius)/ee)+1),oe.push(Math.floor((O.y+ce+O.radius)/ee)+1);break;case"qct":var ye=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);oe.push(Math.floor((ye.y+ce)/ee)+1),oe.push(Math.floor((ye.y+ye.h+ce)/ee)+1);break;case"bct":var _e=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);oe.push(Math.floor((_e.y+ce)/ee)+1),oe.push(Math.floor((_e.y+_e.h+ce)/ee)+1);break;case"rect":oe.push(Math.floor((O.y+ce)/ee)+1),oe.push(Math.floor((O.y+O.h+ce)/ee)+1)}for(var Ae=0;Ae<oe.length;Ae+=1)for(;this.pdf.internal.getNumberOfPages()<oe[Ae];)P.call(this);return oe},P=function(){var O=this.fillStyle,Y=this.strokeStyle,ee=this.font,oe=this.lineCap,ce=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=Y,this.font=ee,this.lineCap=oe,this.lineWidth=ce,this.lineJoin=ye},L=function(O,Y,ee){for(var oe=0;oe<O.length;oe++)switch(O[oe].type){case"bct":O[oe].x2+=Y,O[oe].y2+=ee;case"qct":O[oe].x1+=Y,O[oe].y1+=ee;default:O[oe].x+=Y,O[oe].y+=ee}return O},T=function(O){return O.sort(function(Y,ee){return Y-ee})},j=function(O,Y){var ee=this.fillStyle,oe=this.strokeStyle,ce=this.lineCap,ye=this.lineWidth,_e=Math.abs(ye*this.ctx.transform.scaleX),Ae=this.lineJoin;if(this.autoPaging){for(var Te,Ue,Ve=JSON.parse(JSON.stringify(this.path)),He=JSON.parse(JSON.stringify(this.path)),lt=[],X=0;X<He.length;X++)if(He[X].x!==void 0)for(var $e=N.call(this,He[X]),Mt=0;Mt<$e.length;Mt+=1)lt.indexOf($e[Mt])===-1&&lt.push($e[Mt]);for(var mt=0;mt<lt.length;mt++)for(;this.pdf.internal.getNumberOfPages()<lt[mt];)P.call(this);T(lt);for(var De=lt[0],dt=lt[lt.length-1],Ge=De;Ge<dt+1;Ge++){this.pdf.setPage(Ge),this.fillStyle=ee,this.strokeStyle=oe,this.lineCap=ce,this.lineWidth=_e,this.lineJoin=Ae;var gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=Ge===1?this.posY+this.margin[0]:this.margin[0],Qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Lt=Ge===1?0:Qt+(Ge-2)*Wt;if(this.ctx.clip_path.length!==0){var qt=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Te,this.posX+this.margin[3],-Lt+ft+this.ctx.prevPageLastElemOffset),D.call(this,O,!0),this.path=qt}if(Ue=JSON.parse(JSON.stringify(Ve)),this.path=L(Ue,this.posX+this.margin[3],-Lt+ft+this.ctx.prevPageLastElemOffset),Y===!1||Ge===0){var Ut=(Ge>De||Ge<dt)&&k.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,Wt,null).clip().discardPath()),D.call(this,O,Y),Ut&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}this.path=Ve}else this.lineWidth=_e,D.call(this,O,Y),this.lineWidth=ye},D=function(O,Y){if((O!=="stroke"||Y||!_.call(this))&&(O==="stroke"||Y||!g.call(this))){for(var ee,oe,ce=[],ye=this.path,_e=0;_e<ye.length;_e++){var Ae=ye[_e];switch(Ae.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Ae,deltas:[],abs:[]});break;case"lt":var Te=ce.length;if(ye[_e-1]&&!isNaN(ye[_e-1].x)&&(ee=[Ae.x-ye[_e-1].x,Ae.y-ye[_e-1].y],Te>0)){for(;Te>=0;Te--)if(ce[Te-1].close!==!0&&ce[Te-1].begin!==!0){ce[Te-1].deltas.push(ee),ce[Te-1].abs.push(Ae);break}}break;case"bct":ee=[Ae.x1-ye[_e-1].x,Ae.y1-ye[_e-1].y,Ae.x2-ye[_e-1].x,Ae.y2-ye[_e-1].y,Ae.x-ye[_e-1].x,Ae.y-ye[_e-1].y],ce[ce.length-1].deltas.push(ee);break;case"qct":var Ue=ye[_e-1].x+2/3*(Ae.x1-ye[_e-1].x),Ve=ye[_e-1].y+2/3*(Ae.y1-ye[_e-1].y),He=Ae.x+2/3*(Ae.x1-Ae.x),lt=Ae.y+2/3*(Ae.y1-Ae.y),X=Ae.x,$e=Ae.y;ee=[Ue-ye[_e-1].x,Ve-ye[_e-1].y,He-ye[_e-1].x,lt-ye[_e-1].y,X-ye[_e-1].x,$e-ye[_e-1].y],ce[ce.length-1].deltas.push(ee);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Ae)}}oe=Y?null:O==="stroke"?"stroke":"fill";for(var Mt=!1,mt=0;mt<ce.length;mt++)if(ce[mt].arc)for(var De=ce[mt].abs,dt=0;dt<De.length;dt++){var Ge=De[dt];Ge.type==="arc"?H.call(this,Ge.x,Ge.y,Ge.radius,Ge.startAngle,Ge.endAngle,Ge.counterclockwise,void 0,Y,!Mt):ne.call(this,Ge.x,Ge.y),Mt=!0}else if(ce[mt].close===!0)this.pdf.internal.out("h"),Mt=!1;else if(ce[mt].begin!==!0){var gt=ce[mt].start.x,ft=ce[mt].start.y;re.call(this,ce[mt].deltas,gt,ft),Mt=!0}oe&&W.call(this,oe),Y&&ae.call(this)}},Q=function(O){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-ee;case"top":return O+Y-ee;case"hanging":return O+Y-2*ee;case"middle":return O+Y/2-ee;default:return O}},U=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(Y,ee){this.colorStops.push([Y,ee])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var H=function(O,Y,ee,oe,ce,ye,_e,Ae,Te){for(var Ue=be.call(this,ee,oe,ce,ye),Ve=0;Ve<Ue.length;Ve++){var He=Ue[Ve];Ve===0&&(Te?I.call(this,He.x1+O,He.y1+Y):ne.call(this,He.x1+O,He.y1+Y)),ve.call(this,O,Y,He.x2,He.y2,He.x3,He.y3,He.x4,He.y4)}Ae?ae.call(this):W.call(this,_e)},W=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ae=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(O,Y){this.pdf.internal.out(t(O)+" "+r(Y)+" m")},q=function(O){var Y;switch(O.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var ee,oe,ce,ye=this.pdf.getTextDimensions(O.text),_e=Q.call(this,O.y),Ae=U.call(this,_e)-ye.h,Te=this.ctx.transform.applyToPoint(new o(O.x,_e));if(this.autoPaging){var Ue=this.ctx.transform.decompose(),Ve=new u;Ve=(Ve=(Ve=Ve.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale);for(var He=this.ctx.transform.applyToRectangle(new l(O.x,_e,ye.w,ye.h)),lt=Ve.applyToRectangle(new l(O.x,Ae,ye.w,ye.h)),X=N.call(this,lt),$e=[],Mt=0;Mt<X.length;Mt+=1)$e.indexOf(X[Mt])===-1&&$e.push(X[Mt]);T($e);for(var mt=$e[0],De=$e[$e.length-1],dt=mt;dt<De+1;dt++){this.pdf.setPage(dt);var Ge=dt===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[2],Qt=ft-this.margin[0],Wt=this.pdf.internal.pageSize.width-this.margin[1],Lt=Wt-this.margin[3],qt=dt===1?0:gt+(dt-2)*Qt;if(this.ctx.clip_path.length!==0){var Ut=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(ee,this.posX+this.margin[3],-1*qt+Ge),D.call(this,"fill",!0),this.path=Ut}var rt=L([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-qt+Ge+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*O.scale),ce=this.lineWidth,this.lineWidth=ce*O.scale);var At=this.autoPaging!=="text";if(At||rt.y+rt.h<=ft){if(At||rt.y>=Ge&&rt.x<=Wt){var nt=At?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Wt-rt.x)[0],$n=L([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-qt+Ge+this.ctx.prevPageLastElemOffset)[0],Kt=At&&(dt>mt||dt<De)&&k.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Lt,Qt,null).clip().discardPath()),this.pdf.text(nt,$n.x,$n.y,{angle:O.angle,align:Y,renderingMode:O.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else rt.y<ft&&(this.ctx.prevPageLastElemOffset+=ft-rt.y);O.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=ce)}}else O.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*O.scale),ce=this.lineWidth,this.lineWidth=ce*O.scale),this.pdf.text(O.text,Te.x+this.posX,Te.y+this.posY,{angle:O.angle,align:Y,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=ce)},ne=function(O,Y,ee,oe){ee=ee||0,oe=oe||0,this.pdf.internal.out(t(O+ee)+" "+r(Y+oe)+" l")},re=function(O,Y,ee){return this.pdf.lines(O,Y,ee,null,null)},ve=function(O,Y,ee,oe,ce,ye,_e,Ae){this.pdf.internal.out([e(i(ee+O)),e(s(oe+Y)),e(i(ce+O)),e(s(ye+Y)),e(i(_e+O)),e(s(Ae+Y)),"c"].join(" "))},be=function(O,Y,ee,oe){for(var ce=2*Math.PI,ye=Math.PI/2;Y>ee;)Y-=ce;var _e=Math.abs(ee-Y);_e<ce&&oe&&(_e=ce-_e);for(var Ae=[],Te=oe?-1:1,Ue=Y;_e>1e-5;){var Ve=Ue+Te*Math.min(_e,ye);Ae.push(he.call(this,O,Ue,Ve)),_e-=Math.abs(Ve-Ue),Ue=Ve}return Ae},he=function(O,Y,ee){var oe=(ee-Y)/2,ce=O*Math.cos(oe),ye=O*Math.sin(oe),_e=ce,Ae=-ye,Te=_e*_e+Ae*Ae,Ue=Te+_e*ce+Ae*ye,Ve=4/3*(Math.sqrt(2*Te*Ue)-Ue)/(_e*ye-Ae*ce),He=_e-Ve*Ae,lt=Ae+Ve*_e,X=He,$e=-lt,Mt=oe+Y,mt=Math.cos(Mt),De=Math.sin(Mt);return{x1:O*Math.cos(Y),y1:O*Math.sin(Y),x2:He*mt-lt*De,y2:He*De+lt*mt,x3:X*mt-$e*De,y3:X*De+$e*mt,x4:O*Math.cos(ee),y4:O*Math.sin(ee)}},$=function(O){return 180*O/Math.PI},ie=function(O,Y,ee,oe,ce,ye){var _e=O+.5*(ee-O),Ae=Y+.5*(oe-Y),Te=ce+.5*(ee-ce),Ue=ye+.5*(oe-ye),Ve=Math.min(O,ce,_e,Te),He=Math.max(O,ce,_e,Te),lt=Math.min(Y,ye,Ae,Ue),X=Math.max(Y,ye,Ae,Ue);return new l(Ve,lt,He-Ve,X-lt)},le=function(O,Y,ee,oe,ce,ye,_e,Ae){var Te,Ue,Ve,He,lt,X,$e,Mt,mt,De,dt,Ge,gt,ft,Qt=ee-O,Wt=oe-Y,Lt=ce-ee,qt=ye-oe,Ut=_e-ce,rt=Ae-ye;for(Ue=0;Ue<41;Ue++)mt=($e=(Ve=O+(Te=Ue/40)*Qt)+Te*((lt=ee+Te*Lt)-Ve))+Te*(lt+Te*(ce+Te*Ut-lt)-$e),De=(Mt=(He=Y+Te*Wt)+Te*((X=oe+Te*qt)-He))+Te*(X+Te*(ye+Te*rt-X)-Mt),Ue==0?(dt=mt,Ge=De,gt=mt,ft=De):(dt=Math.min(dt,mt),Ge=Math.min(Ge,De),gt=Math.max(gt,mt),ft=Math.max(ft,De));return new l(Math.round(dt),Math.round(Ge),Math.round(gt-dt),Math.round(ft-Ge))},K=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,Y,ee=(O=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:Y}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(ht.API),(function(n){var e=function(o){var l,u,h,d,m,y,g,_,k,N;for(u=[],h=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>h;h+=4)(m=(o.charCodeAt(h)<<24)+(o.charCodeAt(h+1)<<16)+(o.charCodeAt(h+2)<<8)+o.charCodeAt(h+3))!==0?(y=(m=((m=((m=((m=(m-(N=m%85))/85)-(k=m%85))/85)-(_=m%85))/85)-(g=m%85))/85)%85,u.push(y+33,g+33,_+33,k+33,N+33)):u.push(122);return(function(P,L){for(var T=L;T>0;T--)P.pop()})(u,l.length),String.fromCharCode.apply(String,u)+"~>"},t=function(o){var l,u,h,d,m,y=String,g="length",_=255,k="charCodeAt",N="slice",P="replace";for(o[N](-2),o=o[N](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),h=[],d=0,m=(o+=l="uuuuu"[N](o[g]%5||5))[g];m>d;d+=5)u=52200625*(o[k](d)-33)+614125*(o[k](d+1)-33)+7225*(o[k](d+2)-33)+85*(o[k](d+3)-33)+(o[k](d+4)-33),h.push(_&u>>24,_&u>>16,_&u>>8,_&u);return(function(L,T){for(var j=T;j>0;j--)L.pop()})(h,l[g]),y.fromCharCode.apply(y,h)},r=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var u="",h=0;h<o.length;h+=2)u+=String.fromCharCode("0x"+(o[h]+o[h+1]));return u},s=function(o){for(var l=new Uint8Array(o.length),u=o.length;u--;)l[u]=o.charCodeAt(u);return(l=Ym(l)).reduce(function(h,d){return h+String.fromCharCode(d)},"")};n.processDataByFilters=function(o,l){var u=0,h=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":h=t(h),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=r(h),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=s(h),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:h,reverseChain:d.reverse().join(" ")}}})(ht.API),(function(n){n.loadFile=function(e,t,r){return(function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(u,h,d){var m=new XMLHttpRequest,y=0,g=function(_){var k=_.length,N=[],P=String.fromCharCode;for(y=0;y<k;y+=1)N.push(P(255&_.charCodeAt(y)));return N.join("")};if(m.open("GET",u,!h),m.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(m.onload=function(){m.status===200?d(g(this.responseText)):d(void 0)}),m.send(null),h&&m.status===200)return g(m.responseText)})(i,s,o)}catch{}return l})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(ht.API),(function(n){function e(){return(jt.html2canvas?Promise.resolve(jt.html2canvas):qf(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(jt.DOMPurify?Promise.resolve(jt.DOMPurify):qf(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var u=wn(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(l,u){var h=document.createElement(l);for(var d in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[d]=u.style[d];return h},s=function l(u,h){for(var d=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)h!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||d.appendChild(l(m,h));return u.nodeType===1&&(u.nodeName==="CANVAS"?(d.width=u.width,d.height=u.height,d.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(d.value=u.value),d.addEventListener("load",function(){d.scrollTop=u.scrollTop,d.scrollLeft=u.scrollLeft},!0)),d},o=function l(u){var h=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),h);return(d=d.setProgress(1,l,1,[l])).set(u)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,u){return l.__proto__=u||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,u){return this.then(function(){switch(u=u||(function(h){switch(r(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),u){case"string":return this.then(t).then(function(h){return this.set({src:i("div",{innerHTML:l,dompurify:h})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var h=this.opt.jsPDF,d=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=d,d)for(var g=0;g<d.length;++g){var _=d[g],k=_.src.find(function(N){return N.format==="truetype"});k&&h.addFont(k.url,_.ref.name,_.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,h.context2d.save(!0),u(this.prop.container,y)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},o.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(r(l)!=="object")return this;var u=Object.keys(l||{}).map(function(h){if(h in o.template.prop)return function(){this.prop[h]=l[h]};switch(h){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[h]=l[h]}}},this);return this.then(function(){return this.thenList(u)})},o.prototype.get=function(l,u){return this.then(function(){var h=l in o.template.prop?this.prop[l]:this.opt[l];return u?u(h):h})},o.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function u(h,d){return Math.floor(h*d/72*96)}return this.then(function(){(l=l||ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,u,h,d){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,u,h,d){return this.setProgress(l?this.progress.val+l:null,u||null,h?this.progress.n+h:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,u){var h=this;return this.thenCore(l,u,function(d,m){return h.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(y){return h.updateProgress(null,d),y}).then(d,m).then(function(y){return h.updateProgress(1),y})})},o.prototype.thenCore=function(l,u,h){h=h||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),u&&(u=u.bind(d));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),y=h.call(m,l,u);return o.convert(y,d.__proto__)},o.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},o.prototype.thenList=function(l){var u=this;return l.forEach(function(h){u=u.thenCore(h)}),u},o.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return o.convert(u,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ht.getPageSize=function(l,u,h){if(wn(l)==="object"){var d=l;l=d.orientation,u=d.unit||u,h=d.format||h}u=u||"mm",h=h||"a4",l=(""+(l||"P")).toLowerCase();var m,y=(""+h).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var _,k=0,N=0;if(g.hasOwnProperty(y))k=g[y][1]/m,N=g[y][0]/m;else try{k=h[1],N=h[0]}catch{throw new Error("Invalid format: "+h)}if(l==="p"||l==="portrait")l="p",N>k&&(_=N,N=k,k=_);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",k>N&&(_=N,N=k,k=_)}return{width:N,height:k,unit:u,k:m,orientation:l}},n.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(hm):null;var h=new o(u);return u.worker?h:h.from(l).doCallback()}})(ht.API),ht.API.addJS=function(n){return Xy=n,this.internal.events.subscribe("postPutResources",function(){Ff=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ff+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Jy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Xy+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ff!==void 0&&Jy!==void 0&&this.internal.out("/Names <</JavaScript "+Ff+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],l=r.exec(o);if(l!=null){var u=l[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,d=[];for(s=0;s<h;s++){var m=t.internal.newObject();d.push(m);var y=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var g=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<d.length;s++)t.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+g+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var u=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(ht.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,l){var u,h=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,u=(function(m){for(var y,g=256*m.charCodeAt(4)+m.charCodeAt(5),_=m.length,k={width:0,height:0,numcomponents:1},N=4;N<_;N+=2){if(N+=g,e.indexOf(m.charCodeAt(N+1))!==-1){y=256*m.charCodeAt(N+5)+m.charCodeAt(N+6),k={width:256*m.charCodeAt(N+7)+m.charCodeAt(N+8),height:y,numcomponents:m.charCodeAt(N+9)};break}g=256*m.charCodeAt(N+2)+m.charCodeAt(N+3)}return k})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),u.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:t,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:h,index:r,alias:i}}return d}})(ht.API),ht.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,s=eL(n,{checkCrc:!0}),o=s.width,l=s.height,u=s.channels,h=s.palette,d=s.depth;i=h&&u===1?(function(H){for(var W=H.width,ae=H.height,I=H.data,q=H.palette,ne=H.depth,re=!1,ve=[],be=[],he=void 0,$=!1,ie=0,le=0;le<q.length;le++){var K=ty(q[le],4),O=K[0],Y=K[1],ee=K[2],oe=K[3];ve.push(O,Y,ee),oe!=null&&(oe===0?(ie++,be.length<1&&be.push(le)):oe<255&&($=!0))}if($||ie>1){re=!0,be=void 0;var ce=W*ae;he=new Uint8Array(ce);for(var ye=new DataView(I.buffer),_e=0;_e<ce;_e++){var Ae=fm(ye,_e,ne),Te=ty(q[Ae],4)[3];he[_e]=Te}}else ie===0&&(be=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:re?8:void 0,colorBytes:I,alphaBytes:he,needSMask:re,palette:ve,mask:be}})(s):u===2||u===4?(function(H){for(var W=H.data,ae=H.width,I=H.height,q=H.channels,ne=H.depth,re=q===2?"DeviceGray":"DeviceRGB",ve=q-1,be=ae*I,he=ve,$=be*he,ie=1*be,le=Math.ceil($*ne/8),K=Math.ceil(ie*ne/8),O=new Uint8Array(le),Y=new Uint8Array(K),ee=new DataView(W.buffer),oe=new DataView(O.buffer),ce=new DataView(Y.buffer),ye=!1,_e=0;_e<be;_e++){for(var Ae=_e*q,Te=0;Te<he;Te++)a5(oe,fm(ee,Ae+Te,ne),_e*he+Te,ne);var Ue=fm(ee,Ae+he,ne);Ue<(1<<ne)-1&&(ye=!0),a5(ce,Ue,1*_e,ne)}return{colorSpace:re,colorsPerPixel:ve,sMaskBitsPerComponent:ye?ne:void 0,colorBytes:O,alphaBytes:Y,needSMask:ye}})(s):(function(H){var W=H.data,ae=H.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ae,colorsPerPixel:ae==="DeviceGray"?1:3,colorBytes:W instanceof Uint16Array?(function(I){for(var q=I.length,ne=new Uint8Array(2*q),re=new DataView(ne.buffer,ne.byteOffset,ne.byteLength),ve=0;ve<q;ve++)re.setUint16(2*ve,I[ve],!1);return ne})(W):W,needSMask:!1}})(s);var m,y,g,_=i,k=_.colorSpace,N=_.colorsPerPixel,P=_.sMaskBitsPerComponent,L=_.colorBytes,T=_.alphaBytes,j=_.needSMask,D=_.palette,Q=_.mask,U=null;return r!==ht.API.image_compression.NONE&&typeof Ym=="function"?(U=(function(H){var W;switch(H){case ht.API.image_compression.FAST:W=11;break;case ht.API.image_compression.MEDIUM:W=13;break;case ht.API.image_compression.SLOW:W=14;break;default:W=12}return W})(r),m=this.decode.FLATE_DECODE,y="/Predictor ".concat(U," /Colors ").concat(N," /BitsPerComponent ").concat(d," /Columns ").concat(o),n=t5(L,Math.ceil(o*N*d/8),N,d,r),j&&(g=t5(T,Math.ceil(o*P/8),1,P,r))):(m=void 0,y=void 0,n=L,j&&(g=T)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:t,data:n,index:e,filter:m,decodeParameters:y,transparency:Q,palette:D,sMask:g,predictor:U,width:o,height:l,bitsPerComponent:d,sMaskBitsPerComponent:P,colorSpace:k}}},(function(n){n.processGIF89A=function(e,t,r,i){var s=new _L(e),o=s.width,l=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var h={data:u,width:o,height:l},d=new pm(100).encode(h,100);return n.processJPEG.call(this,d,t,r,i)},n.processGIF87A=n.processGIF89A})(ht.API),sa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},sa.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){An.log("bit decode error:"+t)}},sa.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var u=this.palette[s>>7-l&1];this.data[o+4*l]=u.blue,this.data[o+4*l+1]=u.green,this.data[o+4*l+2]=u.red,this.data[o+4*l+3]=255}t!==0&&(this.pos+=4-t)}},sa.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,l=s>>4,u=15&s,h=this.palette[l];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*i+1>=this.width)break;h=this.palette[u],this.data[o+4]=h.blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},sa.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},sa.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,u=(s>>10&e)/e*255|0,h=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=h}this.pos+=n}},sa.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,u=(o>>5&t)/t*255|0,h=(o>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=h,this.data[d+1]=u,this.data[d+2]=l,this.data[d+3]=255}this.pos+=n}},sa.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},sa.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=o}},sa.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var s=new sa(e,!1),o=s.width,l=s.height,u={data:s.getData(),width:o,height:l},h=new pm(100).encode(u,100);return n.processJPEG.call(this,h,t,r,i)}})(ht.API),l5.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var s=new l5(e),o=s.width,l=s.height,u={data:s.getData(),width:o,height:l},h=new pm(100).encode(u,100);return n.processJPEG.call(this,h,t,r,i)}})(ht.API),ht.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,u=0,h=0;h<i;h+=4){var d=r[h],m=r[h+1],y=r[h+2],g=r[h+3];s[l++]=d,s[l++]=m,s[l++]=y,o[u++]=g}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:_,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},ht.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ju=ht.API,Bf=ju.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,u=l.fof?l.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=h.fof?h.fof:1,m=e.doKerning!==!1,y=0,g=n.length,_=0,k=l[0]||u,N=[];for(t=0;t<g;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?N.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(y=m&&wn(h[r])==="object"&&!isNaN(parseInt(h[r][_],10))?h[r][_]/d:0,N.push((l[r]||k)/u+y)),_=r;return N},Qy=ju.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return ju.processArabic&&(n=ju.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Bf.apply(this,arguments).reduce(function(s,o){return s+o},0)},Zy=function(n,e,t,r){for(var i=[],s=0,o=n.length,l=0;s!==o&&l+e[s]<t;)l+=e[s],s++;i.push(n.slice(0,s));var u=s;for(l=0;s!==o;)l+e[s]>r&&(i.push(n.slice(u,s)),l=0,u=s),l+=e[s],s++;return u!==s&&i.push(n.slice(u,s)),i},e5=function(n,e,t){t||(t={});var r,i,s,o,l,u,h,d=[],m=[d],y=t.textIndent||0,g=0,_=0,k=n.split(" "),N=Bf.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?k[0].length+2:t.lineIndent||0){var P=Array(u).join(" "),L=[];k.map(function(j){(j=j.split(/\s*\n/)).length>1?L=L.concat(j.map(function(D,Q){return(Q&&D.length?`
`:"")+D})):L.push(j[0])}),k=L,u=Qy.apply(this,[P,t])}for(s=0,o=k.length;s<o;s++){var T=0;if(r=k[s],u&&r[0]==`
`&&(r=r.substr(1),T=1),y+g+(_=(i=Bf.apply(this,[r,t])).reduce(function(j,D){return j+D},0))>e||T){if(_>e){for(l=Zy.apply(this,[r,i,e-(y+g),e]),d.push(l.shift()),d=[l.pop()];l.length;)m.push([l.shift()]);_=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(j,D){return j+D},0)}else d=[r];m.push(d),y=_+u,g=N}else d.push(r),y+=g+_,g=N}return h=u?function(j,D){return(D?P:"")+j.join(" ")}:function(j){return j.join(" ")},m.map(h)},ju.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var m=this.internal.getFont(d.fontName,d.fontStyle),y="Unicode";return m.metadata[y]?{widths:m.metadata[y].widths||{0:1},kerning:m.metadata[y].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var l,u,h=[];for(l=0,u=r.length;l<u;l++)h=h.concat(e5.apply(this,[r[l],o,s]));return h},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[t[s]]=e[s],i[e[s]]=t[s];var o=function(y){return"0x"+parseInt(y,10).toString(16)},l=n.__fontmetrics__.compress=function(y){var g,_,k,N,P=["{"];for(var L in y){if(g=y[L],isNaN(parseInt(L,10))?_="'"+L+"'":(L=parseInt(L,10),_=(_=o(L).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof g=="number")g<0?(k=o(g).slice(3),N="-"):(k=o(g).slice(2),N=""),k=N+k.slice(0,-1)+i[k.slice(-1)];else{if(wn(g)!=="object")throw new Error("Don't know what to do with value type "+wn(g)+".");k=l(g)}P.push(_+k)}return P.push("}"),P.join("")},u=n.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,_,k,N,P={},L=1,T=P,j=[],D="",Q="",U=y.length-1,H=1;H<U;H+=1)(N=y[H])=="'"?g?(k=g.join(""),g=void 0):g=[]:g?g.push(N):N=="{"?(j.push([T,k]),T={},k=void 0):N=="}"?((_=j.pop())[0][_[1]]=T,k=void 0,T=_[0]):N=="-"?L=-1:k===void 0?r.hasOwnProperty(N)?(D+=r[N],k=parseInt(D,16)*L,L=1,D=""):D+=N:r.hasOwnProperty(N)?(Q+=r[N],T[k]=parseInt(Q,16)*L,L=1,k=void 0,Q=""):Q+=N;return P},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(y){var g=y.font,_=m.Unicode[g.postScriptName];_&&(g.metadata.Unicode={},g.metadata.Unicode.widths=_.widths,g.metadata.Unicode.kerning=_.kerning);var k=d.Unicode[g.postScriptName];k&&(g.metadata.Unicode.encoding=k,g.encoding=k.codePages[0])}])})(ht.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e($f(l)),o.metadata=n.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])})(ht),ht.API.addSvgAsImage=function(n,e,t,r,i,s,o,l){if(isNaN(e)||isNaN(t))throw An.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw An.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=r,u.height=i;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(jt.canvg?Promise.resolve(jt.canvg):qf(()=>import("./index.es-B9d-2u7t.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(h,n,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(d)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),e,t,r,i,o,l)})},ht.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},ht.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),u=[],h=0,d=0,m=0;function y(_,k){var N,P=!1;for(N=0;N<_.length;N+=1)_[N]===k&&(P=!0);return P}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var g=l.length;for(m=0;m<g;m+=1)t[l[m]].value=t[l[m]].defaultValue,t[l[m]].explicitSet=!1}if(wn(n)==="object"){for(i in n)if(s=n[i],y(l,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&y(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(h=0;h<s.length;h+=1)if(r=!0,s[h].length===1&&typeof s[h][0]=="number")u.push(String(s[h]-1));else if(s[h].length>1){for(d=0;d<s[h].length;d+=1)typeof s[h][d]!="number"&&(r=!1);r===!0&&u.push([s[h][0]-1,s[h][1]-1].join(" "))}t[i].value="["+u.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,k=[];for(_ in t)t[_].explicitSet===!0&&(t[_].type==="name"?k.push("/"+_+" /"+t[_].value):k.push("/"+_+" "+t[_].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+o.length+l.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+l+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(ht.API),(function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var l,u=o.metadata.Unicode.widths,h=["","0","00","000","0000"],d=[""],m=0,y=s.length;m<y;++m){if(l=o.metadata.characterToGlyph(s.charCodeAt(m)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(m),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(h[4-l.length],l)}return d.join("")},r=function(s){var o,l,u,h,d,m,y;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,y=(l=Object.keys(s).sort(function(g,_){return g-_})).length;m<y;m++)o=l[m],u.length>=100&&(d+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(h=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+h+">"));return u.length&&(d+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var l=o.font,u=o.out,h=o.newObject,d=o.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,y=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",_=0;_<y.length;_++)g+=String.fromCharCode(y[_]);var k=h();d({data:g,addLength1:!0,objectId:k}),u("endobj");var N=h();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:N}),u("endobj");var P=h();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Mu(l.fontName)),u("/FontFile2 "+k+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var L=h();u("<<"),u("/Type /Font"),u("/BaseFont /"+Mu(l.fontName)),u("/FontDescriptor "+P+" 0 R"),u("/W "+n.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=h(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+N+" 0 R"),u("/BaseFont /"+Mu(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+L+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var l=o.font,u=o.out,h=o.newObject,d=o.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,y="",g=0;g<m.length;g++)y+=String.fromCharCode(m[g]);var _=h();d({data:y,addLength1:!0,objectId:_}),u("endobj");var k=h();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:k}),u("endobj");var N=h();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+_+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+Mu(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=h();for(var P=0;P<l.metadata.hmtx.widths.length;P++)l.metadata.hmtx.widths[P]=parseInt(l.metadata.hmtx.widths[P]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+Mu(l.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,l=s.text||"",u=s.x,h=s.y,d=s.options||{},m=s.mutex||{},y=m.pdfEscape,g=m.activeFontKey,_=m.fonts,k=g,N="",P=0,L="",T=_[k].encoding;if(_[k].encoding!=="Identity-H")return{text:l,x:u,y:h,options:d,mutex:m};for(L=l,k=g,Array.isArray(l)&&(L=l[0]),P=0;P<L.length;P+=1)_[k].metadata.hasOwnProperty("cmap")&&(o=_[k].metadata.cmap.unicode.codeMap[L[P].charCodeAt(0)]),o||L[P].charCodeAt(0)<256&&_[k].metadata.hasOwnProperty("Unicode")?N+=L[P]:N+="";var j="";return parseInt(k.slice(1))<14||T==="WinAnsiEncoding"?j=y(N,k).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(j=t(N,_[k])),m.isHex=!0,{text:j,x:u,y:h,options:d,mutex:m}};e.events.push(["postProcessText",function(s){var o=s.text||"",l=[],u={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&o[h].length===3?l.push([i(Object.assign({},u,{text:o[h][0]})).text,o[h][1],o[h][2]]):l.push(i(Object.assign({},u,{text:o[h]})).text);s.text=l}else s.text=i(Object.assign({},u,{text:o})).text}])})(ht),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(ht.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,l,u,h,d,m=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],P=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,T=0;this.__bidiEngine__={};var j=function(I){var q=I.charCodeAt(),ne=q>>8,re=k[ne];return re!==void 0?m[256*re+(255&q)]:ne===252||ne===253?"AL":P.test(ne)?"L":ne===8?"R":"N"},D=function(I){for(var q,ne=0;ne<I.length;ne++){if((q=j(I.charAt(ne)))==="L")return!1;if(q==="R")return!0}return!1},Q=function(I,q,ne,re){var ve,be,he,$,ie=q[re];switch(ie){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"N":case"AN":break;case"EN":L&&(ie="AN");break;case"AL":L=!0,ie="R";break;case"WS":case"BN":ie="N";break;case"CS":re<1||re+1>=q.length||(ve=ne[re-1])!=="EN"&&ve!=="AN"||(be=q[re+1])!=="EN"&&be!=="AN"?ie="N":L&&(be="AN"),ie=be===ve?be:"N";break;case"ES":ie=(ve=re>0?ne[re-1]:"B")==="EN"&&re+1<q.length&&q[re+1]==="EN"?"EN":"N";break;case"ET":if(re>0&&ne[re-1]==="EN"){ie="EN";break}if(L){ie="N";break}for(he=re+1,$=q.length;he<$&&q[he]==="ET";)he++;ie=he<$&&q[he]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for($=q.length,he=re+1;he<$&&q[he]==="NSM";)he++;if(he<$){var le=I[re],K=le>=1425&&le<=2303||le===64286;if(ve=q[he],K&&(ve==="R"||ve==="AL")){ie="R";break}}}ie=re<1||(ve=q[re-1])==="B"?"N":ne[re-1];break;case"B":L=!1,i=!0,ie=T;break;case"S":s=!0,ie="N"}return ie},U=function(I,q,ne){var re=I.split("");return ne&&H(re,ne,{hiLevel:T}),re.reverse(),q&&q.reverse(),re.join("")},H=function(I,q,ne){var re,ve,be,he,$,ie=-1,le=I.length,K=0,O=[],Y=T?g:y,ee=[];for(L=!1,i=!1,s=!1,ve=0;ve<le;ve++)ee[ve]=j(I[ve]);for(be=0;be<le;be++){if($=K,O[be]=Q(I,ee,O,be),re=240&(K=Y[$][_[O[be]]]),K&=15,q[be]=he=Y[K][5],re>0)if(re===16){for(ve=ie;ve<be;ve++)q[ve]=1;ie=-1}else ie=-1;if(Y[K][6])ie===-1&&(ie=be);else if(ie>-1){for(ve=ie;ve<be;ve++)q[ve]=he;ie=-1}ee[be]==="B"&&(q[be]=0),ne.hiLevel|=he}s&&(function(oe,ce,ye){for(var _e=0;_e<ye;_e++)if(oe[_e]==="S"){ce[_e]=T;for(var Ae=_e-1;Ae>=0&&oe[Ae]==="WS";Ae--)ce[Ae]=T}})(ee,q,le)},W=function(I,q,ne,re,ve){if(!(ve.hiLevel<I)){if(I===1&&T===1&&!i)return q.reverse(),void(ne&&ne.reverse());for(var be,he,$,ie,le=q.length,K=0;K<le;){if(re[K]>=I){for($=K+1;$<le&&re[$]>=I;)$++;for(ie=K,he=$-1;ie<he;ie++,he--)be=q[ie],q[ie]=q[he],q[he]=be,ne&&(be=ne[ie],ne[ie]=ne[he],ne[he]=be);K=$}K++}}},ae=function(I,q,ne){var re=I.split(""),ve={hiLevel:T};return ne||(ne=[]),H(re,ne,ve),(function(be,he,$){if($.hiLevel!==0&&d)for(var ie,le=0;le<be.length;le++)he[le]===1&&(ie=N.indexOf(be[le]))>=0&&(be[le]=N[ie+1])})(re,ne,ve),W(2,re,q,ne,ve),W(1,re,q,ne,ve),re.join("")};return this.__bidiEngine__.doBidiReorder=function(I,q,ne){if((function(ve,be){if(be)for(var he=0;he<ve.length;he++)be[he]=he;l===void 0&&(l=D(ve)),h===void 0&&(h=D(ve))})(I,q),o||!u||h)if(o&&u&&l^h)T=l?1:0,I=U(I,q,ne);else if(!o&&u&&h)T=l?1:0,I=ae(I,q,ne),I=U(I,q);else if(!o||l||u||h){if(o&&!u&&l^h)I=U(I,q),l?(T=0,I=ae(I,q,ne)):(T=1,I=ae(I,q,ne),I=U(I,q));else if(o&&l&&!u&&h)T=1,I=ae(I,q,ne),I=U(I,q);else if(!o&&!u&&l^h){var re=d;l?(T=1,I=ae(I,q,ne),T=0,d=!1,I=ae(I,q,ne),d=re):(T=0,I=ae(I,q,ne),I=U(I,q),T=1,d=!1,I=ae(I,q,ne),d=re,I=U(I,q))}}else T=0,I=ae(I,q,ne);else T=l?1:0,I=ae(I,q,ne);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,u=I.isOutputVisual,l=I.isInputRtl,h=I.isOutputRtl,d=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([t.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([t.doBidiReorder(i[l])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(ht),ht.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Ul(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new IL(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new xL(this.contents),this.head=new kL(this),this.name=new EL(this),this.cmap=new c_(this),this.toUnicode={},this.hhea=new NL(this),this.maxp=new jL(this),this.hmtx=new LL(this),this.post=new PL(this),this.os2=new AL(this),this.loca=new ML(this),this.glyf=new TL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,u,h;for(h=[],o=0,l=(u=this.bbox).length;o<l;o++)e=u[o],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,l;for(o=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var ga,Ul=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,l,u;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*l+u},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n})(),xL=(function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,o,l,u,h,d,m,y,g,_,k;for(k in g=Object.keys(t).length,u=Math.log(2),m=16*Math.floor(Math.log(g)/u),o=Math.floor(m/u),d=16*g-m,(i=new Ul).writeInt(this.scalarType),i.writeShort(g),i.writeShort(m),i.writeShort(o),i.writeShort(d),s=16*g,h=i.pos+s,l=null,_=[],t)for(y=t[k],i.writeString(k),i.writeInt(n(y)),i.writeInt(h),i.writeInt(y.length),_=_.concat(y),k==="head"&&(l=h),h+=y.length;h%4;)_.push(0),h++;return i.write(_),r=2981146554-n(i.data),i.pos=l+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=u_.call(t);t.length%4;)t.push(0);for(s=new Ul(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),SL={}.hasOwnProperty,Va=function(n,e){for(var t in e)SL.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};ga=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var kL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Va(n,ga),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Ul).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),c5=(function(){function n(e,t){var r,i,s,o,l,u,h,d,m,y,g,_,k,N,P,L,T;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(g=e.readUInt16(),y=g/2,e.pos+=6,s=(function(){var j,D;for(D=[],u=j=0;0<=y?j<y:j>y;u=0<=y?++j:--j)D.push(e.readUInt16());return D})(),e.pos+=2,k=(function(){var j,D;for(D=[],u=j=0;0<=y?j<y:j>y;u=0<=y?++j:--j)D.push(e.readUInt16());return D})(),h=(function(){var j,D;for(D=[],u=j=0;0<=y?j<y:j>y;u=0<=y?++j:--j)D.push(e.readUInt16());return D})(),d=(function(){var j,D;for(D=[],u=j=0;0<=y?j<y:j>y;u=0<=y?++j:--j)D.push(e.readUInt16());return D})(),i=(this.length-e.pos+this.offset)/2,l=(function(){var j,D;for(D=[],u=j=0;0<=i?j<i:j>i;u=0<=i?++j:--j)D.push(e.readUInt16());return D})(),u=P=0,T=s.length;P<T;u=++P)for(N=s[u],r=L=_=k[u];_<=N?L<=N:L>=N;r=_<=N?++L:--L)d[u]===0?o=r+h[u]:(o=l[d[u]/2+(r-_)-(y-u)]||0)!==0&&(o+=h[u]),this.codeMap[r]=65535&o}e.pos=m}return n.encode=function(e,t){var r,i,s,o,l,u,h,d,m,y,g,_,k,N,P,L,T,j,D,Q,U,H,W,ae,I,q,ne,re,ve,be,he,$,ie,le,K,O,Y,ee,oe,ce,ye,_e,Ae,Te,Ue,Ve;switch(re=new Ul,o=Object.keys(e).sort(function(He,lt){return He-lt}),t){case"macroman":for(k=0,N=(function(){var He=[];for(_=0;_<256;++_)He.push(0);return He})(),L={0:0},s={},ve=0,ie=o.length;ve<ie;ve++)L[Ae=e[i=o[ve]]]==null&&(L[Ae]=++k),s[i]={old:e[i],new:L[e[i]]},N[i]=L[e[i]];return re.writeUInt16(1),re.writeUInt16(0),re.writeUInt32(12),re.writeUInt16(0),re.writeUInt16(262),re.writeUInt16(0),re.write(N),{charMap:s,subtable:re.data,maxGlyphID:k+1};case"unicode":for(q=[],m=[],T=0,L={},r={},P=h=null,be=0,le=o.length;be<le;be++)L[D=e[i=o[be]]]==null&&(L[D]=++T),r[i]={old:D,new:L[D]},l=L[D]-i,P!=null&&l===h||(P&&m.push(P),q.push(i),h=l),P=i;for(P&&m.push(P),m.push(65535),q.push(65535),ae=2*(W=q.length),H=2*Math.pow(Math.log(W)/Math.LN2,2),y=Math.log(H/2)/Math.LN2,U=2*W-H,u=[],Q=[],g=[],_=he=0,K=q.length;he<K;_=++he){if(I=q[_],d=m[_],I===65535){u.push(0),Q.push(0);break}if(I-(ne=r[I].new)>=32768)for(u.push(0),Q.push(2*(g.length+W-_)),i=$=I;I<=d?$<=d:$>=d;i=I<=d?++$:--$)g.push(r[i].new);else u.push(ne-I),Q.push(0)}for(re.writeUInt16(3),re.writeUInt16(1),re.writeUInt32(12),re.writeUInt16(4),re.writeUInt16(16+8*W+2*g.length),re.writeUInt16(0),re.writeUInt16(ae),re.writeUInt16(H),re.writeUInt16(y),re.writeUInt16(U),ye=0,O=m.length;ye<O;ye++)i=m[ye],re.writeUInt16(i);for(re.writeUInt16(0),_e=0,Y=q.length;_e<Y;_e++)i=q[_e],re.writeUInt16(i);for(Te=0,ee=u.length;Te<ee;Te++)l=u[Te],re.writeUInt16(l);for(Ue=0,oe=Q.length;Ue<oe;Ue++)j=Q[Ue],re.writeUInt16(j);for(Ve=0,ce=g.length;Ve<ce;Ve++)k=g[Ve],re.writeUInt16(k);return{charMap:r,subtable:re.data,maxGlyphID:T+1}}},n})(),c_=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Va(n,ga),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new c5(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=c5.encode(e,t),(i=new Ul).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),NL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Va(n,ga),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),AL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Va(n,ga),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),PL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Va(n,ga),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,l,u;for(u=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)u.push(e.readUInt32());return u}).call(this)}},n})(),CL=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},EL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Va(n,ga),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,s,o,l,u,h,d,m,y;for(e.pos=this.offset,e.readShort(),t=e.readShort(),l=e.readShort(),r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(u={},s=d=0,m=r.length;d<m;s=++d)i=r[s],e.pos=i.offset,h=e.readString(i.length),o=new CL(h,i),u[y=i.nameID]==null&&(u[y]=[]),u[i.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},n})(),jL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Va(n,ga),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),LL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Va(n,ga),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,s,o,l,u;for(e.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,d;for(d=[],t=h=0;0<=i?h<i:h>i;t=0<=i?++h:--h)d.push(e.readInt16());return d})(),this.widths=(function(){var h,d,m,y;for(y=[],h=0,d=(m=this.metrics).length;h<d;h++)s=m[h],y.push(s.advance);return y}).call(this),r=this.widths[this.widths.length-1],u=[],t=o=0;0<=i?o<i:o>i;t=0<=i?++o:--o)u.push(this.widths.push(r));return u},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),u_=[].slice,TL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Va(n,ga),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,s,o,l,u,h,d,m;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,o=(l=new Ul(t.read(i))).readShort(),h=l.readShort(),m=l.readShort(),u=l.readShort(),d=l.readShort(),this.cache[e]=o===-1?new RL(l,h,m,u,d):new OL(l,o,h,m,u,d),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,s,o,l,u;for(o=[],s=[],l=0,u=t.length;l<u;l++)i=e[t[l]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},n})(),OL=(function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),RL=(function(){function n(e,t,r,i,s){var o,l;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Ul(u_.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),ML=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Va(n,ga),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<t.length&&t[s]==o){++s,r[o]=i;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(i+=u)}for(var h=new Array(4*r.length),d=0;d<r.length;++d)h[4*d+3]=255&r[d],h[4*d+2]=(65280&r[d])>>8,h[4*d+1]=(16711680&r[d])>>16,h[4*d]=(4278190080&r[d])>>24;return h},n})(),IL=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,l,u;for(i={},o=0,l=e.length;o<l;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in u=this.glyphsFor(t))r=u[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,o,l,u,h,d,m,y,g,_,k,N,P;for(i in r=c_.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),g={0:0},P=r.charMap)g[(u=P[i]).old]=u.new;for(_ in y=r.maxGlyphID,o)_ in g||(g[_]=y++);return d=(function(L){var T,j;for(T in j={},L)j[L[T]]=T;return j})(g),m=Object.keys(d).sort(function(L,T){return L-T}),k=(function(){var L,T,j;for(j=[],L=0,T=m.length;L<T;L++)l=m[L],j.push(d[l]);return j})(),s=this.font.glyf.encode(o,k,g),h=this.font.loca.encode(s.offsets,k),N={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},n})();ht.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,o;if(Array.isArray(t))return"["+(function(){var l,u,h;for(h=[],l=0,u=t.length;l<u;l++)r=t[l],h.push(e.convert(r));return h})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)o=t[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e})();function h_(n,e,t,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,l=i.internal.getFontSize()/o,u=i.getLineHeightFactor?i.getLineHeightFactor():s,h=l*u,d=/\r\n|\r|\n/g,m="",y=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(m=typeof n=="string"?n.split(d):n,y=m.length||1),t+=l*(2-s),r.valign==="middle"?t-=y/2*h:r.valign==="bottom"&&(t-=y*h),r.halign==="center"||r.halign==="right"){var g=l;if(r.halign==="center"&&(g*=.5),m&&y>=1){for(var _=0;_<m.length;_++)i.text(m[_],e-i.getStringUnitWidth(m[_])*g,t),t+=h;return i}e-=i.getStringUnitWidth(n)*g}return r.halign==="justify"?i.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(n,e,t),i}var u5={},Ku=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:u5=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,i,s;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,u=o.fontName;if(e.font&&(u=e.font),e.fontStyle){l=e.fontStyle;var h=this.getFontList()[u];h&&h.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),l=h[0])}if(this.jsPDFDocument.setFont(u,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var d=n.unifyColor(e.fillColor);d&&(r=this.jsPDFDocument).setFillColor.apply(r,d),d=n.unifyColor(e.textColor),d&&(i=this.jsPDFDocument).setTextColor.apply(i,d),d=n.unifyColor(e.lineColor),d&&(s=this.jsPDFDocument).setDrawColor.apply(s,d),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,i,s){return this.jsPDFDocument.rect(e,t,r,i,s)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return u5||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),r0=function(n,e){return r0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},r0(n,e)};function d_(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r0(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var f_=(function(n){d_(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function DL(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function FL(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function yp(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],i=r.map(function(s){return t.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function p_(n,e,t,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;n.applyStyles({lineWidth:i,lineColor:s});var o=g_(i,!1);o&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,o)}function g_(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function Dp(n,e){var t,r,i,s;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(i=n.right)!==null&&i!==void 0?i:e,bottom:(s=n.bottom)!==null&&s!==void 0?s:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function m_(n,e){var t=Dp(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function BL(n,e,t,r,i){var s={},o=1.3333333333333333,l=gm(e,function(T){return i.getComputedStyle(T).backgroundColor});l!=null&&(s.fillColor=l);var u=gm(e,function(T){return i.getComputedStyle(T).color});u!=null&&(s.textColor=u);var h=zL(r,t);h&&(s.cellPadding=h);var d="borderTopColor",m=o*t,y=r.borderTopWidth;if(r.borderBottomWidth===y&&r.borderRightWidth===y&&r.borderLeftWidth===y){var g=(parseFloat(y)||0)/m;g&&(s.lineWidth=g)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/m,right:(parseFloat(r.borderRightWidth)||0)/m,bottom:(parseFloat(r.borderBottomWidth)||0)/m,left:(parseFloat(r.borderLeftWidth)||0)/m},s.lineWidth.top||(s.lineWidth.right?d="borderRightColor":s.lineWidth.bottom?d="borderBottomColor":s.lineWidth.left&&(d="borderLeftColor"));var _=gm(e,function(T){return i.getComputedStyle(T)[d]});_!=null&&(s.lineColor=_);var k=["left","right","center","justify"];k.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),k=["middle","bottom","top"],k.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var N=parseInt(r.fontSize||"");isNaN(N)||(s.fontSize=N/o);var P=UL(r);P&&(s.fontStyle=P);var L=(r.fontFamily||"").toLowerCase();return n.indexOf(L)!==-1&&(s.font=L),s}function UL(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function gm(n,e){var t=v_(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function v_(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:v_(n.parentElement,e):t}function zL(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),i=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,s=t.map(function(l){return parseInt(l||"0")/r}),o=Dp(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function y_(n,e,t,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var l;typeof e=="string"?l=t.document.querySelector(e):l=e;var u=Object.keys(n.getFontList()),h=n.scaleFactor(),d=[],m=[],y=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:d,body:m,foot:y};for(var g=0;g<l.rows.length;g++){var _=l.rows[g],k=(o=(s=_?.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),N=WL(u,h,t,_,r,i);N&&(k==="thead"?d.push(N):k==="tfoot"?y.push(N):m.push(N))}return{head:d,body:m,foot:y}}function WL(n,e,t,r,i,s){for(var o=new f_(r),l=0;l<r.cells.length;l++){var u=r.cells[l],h=t.getComputedStyle(u);if(i||h.display!=="none"){var d=void 0;s&&(d=BL(n,u,e,h,t)),o.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:d,_element:u,content:qL(u)})}}var m=t.getComputedStyle(r);if(o.length>0&&(i||m.display!=="none"))return o}function qL(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function HL(n,e,t){for(var r=0,i=[n,e,t];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Fo(n,e,t,r,i){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(n),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s}function w_(n,e){var t=new Ku(n),r=t.getDocumentOptions(),i=t.getGlobalOptions();HL(i,r,e);var s=Fo({},i,r,e),o;typeof window<"u"&&(o=window);var l=$L(i,r,e),u=VL(i,r,e),h=GL(t,s),d=YL(t,s,o);return{id:e.tableId,content:d,hooks:u,styles:l,settings:h}}function $L(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(u){if(u==="columnStyles"){var h=n[u],d=e[u],m=t[u];r.columnStyles=Fo({},h,d,m)}else{var y=[n,e,t],g=y.map(function(_){return _[u]||{}});r[u]=Fo({},g[0],g[1],g[2])}},s=0,o=Object.keys(r);s<o.length;s++){var l=o[s];i(l)}return r}function VL(n,e,t){for(var r=[n,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var l=o[s];l.didParseCell&&i.didParseCell.push(l.didParseCell),l.willDrawCell&&i.willDrawCell.push(l.willDrawCell),l.didDrawCell&&i.didDrawCell.push(l.didDrawCell),l.willDrawPage&&i.willDrawPage.push(l.willDrawPage),l.didDrawPage&&i.didDrawPage.push(l.didDrawPage)}return i}function GL(n,e){var t,r,i,s,o,l,u,h,d,m,y,g,_=Dp(e.margin,40/n.scaleFactor()),k=(t=KL(n,e.startY))!==null&&t!==void 0?t:_.top,N;e.showFoot===!0?N="everyPage":e.showFoot===!1?N="never":N=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var P;e.showHead===!0?P="everyPage":e.showHead===!1?P="never":P=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var L=(s=e.useCss)!==null&&s!==void 0?s:!1,T=e.theme||(L?"plain":"striped"),j=!!e.horizontalPageBreak,D=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:L,theme:T,startY:k,margin:_,pageBreak:(u=e.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(h=e.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(d=e.tableWidth)!==null&&d!==void 0?d:"auto",showHead:P,showFoot:N,tableLineWidth:(m=e.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(y=e.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:j,horizontalPageBreakRepeat:D,horizontalPageBreakBehaviour:(g=e.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function KL(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),i=n.pageNumber(),s=!1;if(t&&t.startPageNumber){var o=t.startPageNumber+t.pageNumber-1;s=o===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&t?.finalY!=null?t.finalY+20/r:null}function YL(n,e,t){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(t){var l=y_(n,e.html,t,o,e.useCss)||{};r=l.head||r,i=l.body||r,s=l.foot||r}else console.error("Cannot parse html in non browser environment")}var u=e.columns||JL(r,i,s);return{columns:u,head:r,body:i,foot:s}}function JL(n,e,t){var r=n[0]||e[0]||t[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,l;Array.isArray(r)?l=r[parseInt(s)]:l=r[s],typeof l=="object"&&!Array.isArray(l)&&(o=l?.colSpan||1);for(var u=0;u<o;u++){var h=void 0;Array.isArray(r)?h=i.length:h=s+(u>0?"_".concat(u):"");var d={dataKey:h};i.push(d)}}),i}var i0=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),XL=(function(n){d_(e,n);function e(t,r,i,s,o,l){var u=n.call(this,t,r,l)||this;return u.cell=i,u.row=s,u.column=o,u.section=s.section,u}return e})(i0),QL=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,i,s,o){for(var l=0,u=t;l<u.length;l++){var h=u[l],d=new XL(e,this,r,i,s,o),m=h(d)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],m)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new i0(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new i0(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),b_=(function(){function n(e,t,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof f_&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=i,this.spansMultiplePages=s}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=t.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var i=t.cells[r.index];return i?i.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var l=t.getLineHeight(o.styles.fontSize),u=o.padding("vertical"),h=u+l;return h>i?h:i},0)},n})(),__=(function(){function n(e,t,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=Dp(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),ZL=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(t=Math.max(t,o.styles.cellWidth))}return t},n})();function eT(n,e){tT(n,e);var t=[],r=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,t.push(s)),r+=s.width});var i=e.getWidth(n.pageSize().width)-r;i&&(i=s0(t,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=s0(t,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/n.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),rT(e),iT(e,n),nT(e)}function tT(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,i=m_(n,e);e.allRows().forEach(function(s){for(var o=0,l=e.columns;o<l.length;o++){var u=l[o],h=s.cells[u.index];if(h){var d=e.hooks.didParseCell;e.callCellHooks(n,d,h,s,u,null);var m=h.padding("horizontal");h.contentWidth=yp(h.text,h.styles,n)+m;var y=yp(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,n);if(h.minReadableWidth=y+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||r===!0)h.contentWidth>i?(h.minWidth=i,h.wrappedWidth=i):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var g=10/t;h.minWidth=h.styles.minCellWidth||g,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,l=e.columns;o<l.length;o++){var u=l[o],h=s.cells[u.index];if(h&&h.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,h.wrappedWidth),u.minWidth=Math.max(u.minWidth,h.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,h.minReadableWidth);else{var d=e.styles.columnStyles[u.dataKey]||e.styles.columnStyles[u.index]||{},m=d.cellWidth||d.minCellWidth;m&&typeof m=="number"&&(u.minWidth=m,u.wrappedWidth=m)}h&&(h.colSpan>1&&!u.minWidth&&(u.minWidth=h.minWidth),h.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=h.minWidth))}})}function s0(n,e,t){for(var r=e,i=n.reduce(function(g,_){return g+_.wrappedWidth},0),s=0;s<n.length;s++){var o=n[s],l=o.wrappedWidth/i,u=r*l,h=o.width+u,d=t(o),m=h<d?d:h;e-=m-o.width,o.width=m}if(e=Math.round(e*1e10)/1e10,e){var y=n.filter(function(g){return e<0?g.width>t(g):!0});y.length&&(e=s0(y,e,t))}return e}function nT(n){for(var e={},t=1,r=n.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,l=n.columns;o<l.length;o++){var u=l[o],h=e[u.index];if(t>1)t--,delete s.cells[u.index];else if(h)h.cell.height+=s.height,t=h.cell.colSpan,delete s.cells[u.index],h.left--,h.left<=1&&delete e[u.index];else{var d=s.cells[u.index];if(!d)continue;if(d.height=s.height,d.rowSpan>1){var m=r.length-i,y=d.rowSpan>m?m:d.rowSpan;e[u.index]={cell:d,left:y,row:s}}}}}function rT(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],i=null,s=0,o=0,l=0;l<n.columns.length;l++){var u=n.columns[l];if(o-=1,o>1&&n.columns[l+1])s+=u.width,delete r.cells[u.index];else if(i){var h=i;delete r.cells[u.index],i=null,h.width=u.width+s}else{var h=r.cells[u.index];if(!h)continue;if(o=h.colSpan,s=0,h.colSpan>1){i=h,s+=u.width;continue}h.width=u.width+s}}}function iT(n,e){for(var t={count:0,height:0},r=0,i=n.allRows();r<i.length;r++){for(var s=i[r],o=0,l=n.columns;o<l.length;o++){var u=l[o],h=s.cells[u.index];if(h){e.applyStyles(h.styles,!0);var d=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=e.splitTextToSize(h.text,d+1/e.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=h5(h.text,d,h.styles,e,"...");else if(h.styles.overflow==="hidden")h.text=h5(h.text,d,h.styles,e,"");else if(typeof h.styles.overflow=="function"){var m=h.styles.overflow(h.text,d);typeof m=="string"?h.text=[m]:h.text=m}h.contentHeight=h.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var y=h.contentHeight/h.rowSpan;h.rowSpan>1&&t.count*t.height<y*h.rowSpan?t={height:y,count:h.rowSpan}:t&&t.count>0&&t.height>y&&(y=t.height),y>s.height&&(s.height=y)}}t.count--}}function h5(n,e,t,r,i){return n.map(function(s){return sT(s,e,t,r,i)})}function sT(n,e,t,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=yp(n,t,r))return n;for(;e<yp(n+i,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+i}function x_(n,e){var t=new Ku(n),r=aT(e,t.scaleFactor()),i=new QL(e,r);return eT(t,i),t.applyStyles(t.userStyles),i}function aT(n,e){var t=n.content,r=lT(t.columns);if(t.head.length===0){var i=d5(r,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=d5(r,"foot");i&&t.foot.push(i)}var s=n.settings.theme,o=n.styles;return{columns:r,head:mm("head",t.head,r,o,s,e),body:mm("body",t.body,r,o,s,e),foot:mm("foot",t.foot,r,o,s,e)}}function mm(n,e,t,r,i,s){var o={},l=e.map(function(u,h){for(var d=0,m={},y=0,g=0,_=0,k=t;_<k.length;_++){var N=k[_];if(o[N.index]==null||o[N.index].left===0)if(g===0){var P=void 0;Array.isArray(u)?P=u[N.index-y-d]:P=u[N.dataKey];var L={};typeof P=="object"&&!Array.isArray(P)&&(L=P?.styles||{});var T=cT(n,N,h,i,r,s,L),j=new __(P,T,n);m[N.dataKey]=j,m[N.index]=j,g=j.colSpan-1,o[N.index]={left:j.rowSpan-1,times:g}}else g--,y++;else o[N.index].left--,g=o[N.index].times,d++}return new b_(u,h,n,m)});return l}function d5(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var i=oT(e,r.raw);i!=null&&(t[r.dataKey]=i)}}),Object.keys(t).length>0?t:null}function oT(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function lT(n){return n.map(function(e,t){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:t:i=t,new ZL(i,e,t)})}function cT(n,e,t,r,i,s,o){var l=FL(r),u;n==="head"?u=i.headStyles:n==="body"?u=i.bodyStyles:n==="foot"&&(u=i.footStyles);var h=Fo({},l.table,l[n],i.styles,u),d=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},m=n==="body"?d:{},y=n==="body"&&t%2===0?Fo({},l.alternateRow,i.alternateRowStyles):{},g=DL(s),_=Fo({},g,h,y,m);return Fo(_,o)}function uT(n,e,t){var r;t===void 0&&(t={});var i=m_(n,e),s=new Map,o=[],l=[],u=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?u=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(u=[e.settings.horizontalPageBreakRepeat]),u.forEach(function(y){var g=e.columns.find(function(_){return _.dataKey===y||_.index===y});g&&!s.has(g.index)&&(s.set(g.index,!0),o.push(g.index),l.push(e.columns[g.index]),i-=g.wrappedWidth)});for(var h=!0,d=(r=t?.start)!==null&&r!==void 0?r:0;d<e.columns.length;){if(s.has(d)){d++;continue}var m=e.columns[d].wrappedWidth;if(h||i>=m)h=!1,o.push(d),l.push(e.columns[d]),i-=m;else break;d++}return{colIndexes:o,columns:l,lastIndex:d-1}}function hT(n,e){for(var t=[],r=0;r<e.columns.length;r++){var i=uT(n,e,{start:r});i.columns.length&&(t.push(i),r=i.lastIndex)}return t}function S_(n,e){var t=e.settings,r=t.startY,i=t.margin,s={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=r+i.bottom+o;if(t.pageBreak==="avoid"){var u=e.body,h=u.reduce(function(y,g){return y+g.height},0);l+=h}var d=new Ku(n);(t.pageBreak==="always"||t.startY!=null&&l>d.pageSize().height)&&(N_(d),s.y=i.top),e.callWillDrawPageHooks(d,s);var m=Fo({},s);e.startPageNumber=d.pageNumber(),t.horizontalPageBreak?dT(d,e,m,s):(d.applyStyles(d.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(y){return Uo(d,e,y,s,e.columns)}),d.applyStyles(d.userStyles),e.body.forEach(function(y,g){var _=g===e.body.length-1;wp(d,e,y,_,m,s,e.columns)}),d.applyStyles(d.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(y){return Uo(d,e,y,s,e.columns)})),p_(d,e,m,s),e.callEndPageHooks(d,s),e.finalY=s.y,n.lastAutoTable=e,d.applyStyles(d.userStyles)}function dT(n,e,t,r){var i=hT(n,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(h,d){n.applyStyles(n.userStyles),d>0?rd(n,e,t,r,h.columns,!0):f5(n,e,r,h.columns),fT(n,e,t,r,h.columns),vm(n,e,r,h.columns)});else for(var o=-1,l=i[0],u=function(){var h=o;if(l){n.applyStyles(n.userStyles);var d=l.columns;o>=0?rd(n,e,t,r,d,!0):f5(n,e,r,d),h=p5(n,e,o+1,r,d),vm(n,e,r,d)}var m=h-o;i.slice(1).forEach(function(y){n.applyStyles(n.userStyles),rd(n,e,t,r,y.columns,!0),p5(n,e,o+1,r,y.columns,m),vm(n,e,r,y.columns)}),o=h};o<e.body.length-1;)u()}function f5(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Uo(n,e,s,t,r)})}function fT(n,e,t,r,i){n.applyStyles(n.userStyles),e.body.forEach(function(s,o){var l=o===e.body.length-1;wp(n,e,s,l,t,r,i)})}function p5(n,e,t,r,i,s){n.applyStyles(n.userStyles),s=s??e.body.length;var o=Math.min(t+s,e.body.length),l=-1;return e.body.slice(t,o).forEach(function(u,h){var d=t+h===e.body.length-1,m=k_(n,e,d,r);u.canEntireRowFit(m,i)&&(Uo(n,e,u,r,i),l=t+h)}),l}function vm(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Uo(n,e,s,t,r)})}function pT(n,e,t){var r=t.getLineHeight(n.styles.fontSize),i=n.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function gT(n,e,t,r){var i={};n.spansMultiplePages=!0,n.height=0;for(var s=0,o=0,l=t.columns;o<l.length;o++){var u=l[o],h=n.cells[u.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var d=new __(h.raw,h.styles,h.section);d=Fo(d,h),d.text=[];var m=pT(h,e,r);h.text.length>m&&(d.text=h.text.splice(m,h.text.length));var y=r.scaleFactor(),g=r.getLineHeightFactor();h.contentHeight=h.getContentHeight(y,g),h.contentHeight>=e&&(h.contentHeight=e,d.styles.minCellHeight-=e),h.contentHeight>n.height&&(n.height=h.contentHeight),d.contentHeight=d.getContentHeight(y,g),d.contentHeight>s&&(s=d.contentHeight),i[u.index]=d}}var _=new b_(n.raw,-1,n.section,i,!0);_.height=s;for(var k=0,N=t.columns;k<N.length;k++){var u=N[k],d=_.cells[u.index];d&&(d.height=_.height);var h=n.cells[u.index];h&&(h.height=n.height)}return _}function mT(n,e,t,r){var i=n.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,l=i-o;e.section==="body"&&(l-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var u=e.getMinimumRowHeight(r.columns,n),h=u<t;if(u>l)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var d=e.hasRowSpan(r.columns),m=e.getMaxCellHeight(r.columns)>l;return m?(d&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||r.settings.rowPageBreak==="avoid")}function wp(n,e,t,r,i,s,o){var l=k_(n,e,r,s);if(t.canEntireRowFit(l,o))Uo(n,e,t,s,o);else if(mT(n,t,l,e)){var u=gT(t,l,e,n);Uo(n,e,t,s,o),rd(n,e,i,s,o),wp(n,e,u,r,i,s,o)}else rd(n,e,i,s,o),wp(n,e,t,r,i,s,o)}function Uo(n,e,t,r,i){r.x=e.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var l=o[s],u=t.cells[l.index];if(!u){r.x+=l.width;continue}n.applyStyles(u.styles),u.x=r.x,u.y=r.y;var h=e.callCellHooks(n,e.hooks.willDrawCell,u,t,l,r);if(h===!1){r.x+=l.width;continue}vT(n,u,r);var d=u.getTextPos();h_(u.text,d.x,d.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,u,t,l,r),r.x+=l.width}r.y+=t.height}function vT(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=g_(r.lineWidth,r.fillColor);i&&n.rect(e.x,t.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),yT(n,e,t,r.lineWidth))}function yT(n,e,t,r){var i,s,o,l;r.top&&(i=t.x,s=t.y,o=t.x+e.width,l=t.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),u(r.top,i,s,o,l)),r.bottom&&(i=t.x,s=t.y+e.height,o=t.x+e.width,l=t.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),u(r.bottom,i,s,o,l)),r.left&&(i=t.x,s=t.y,o=t.x,l=t.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(l+=.5*r.bottom),u(r.left,i,s,o,l)),r.right&&(i=t.x+e.width,s=t.y,o=t.x+e.width,l=t.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(l+=.5*r.bottom),u(r.right,i,s,o,l));function u(h,d,m,y,g){n.getDocument().setLineWidth(h),n.getDocument().line(d,m,y,g,"S")}}function k_(n,e,t,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-i}function rd(n,e,t,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(l){return Uo(n,e,l,r,i)}),e.callEndPageHooks(n,r);var o=e.settings.margin;p_(n,e,t,r),N_(n),e.pageNumber++,r.x=o.left,r.y=o.top,t.y=o.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return Uo(n,e,l,r,i)}),n.applyStyles(n.userStyles))}function N_(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function wT(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=w_(this,r),s=x_(this,i);return S_(this,s),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,i){h_(e,t,r,i,this)},n.API.autoTableSetDefaults=function(e){return Ku.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Ku.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Ku(this),s=y_(i,e,window,t,!1),o=s.head,l=s.body,u=((r=o[0])===null||r===void 0?void 0:r.map(function(h){return h.content}))||[];return{columns:u,rows:l,data:l}}}var ym;function bT(n,e){var t=w_(n,e),r=x_(n,t);S_(n,r)}try{if(typeof window<"u"&&window){var g5=window,m5=g5.jsPDF||((ym=g5.jspdf)===null||ym===void 0?void 0:ym.jsPDF);m5&&wT(m5)}}catch(n){console.error("Could not apply autoTable plugin",n)}const _T=()=>{const[n,e]=de.useState([]),[t,r]=de.useState(!0),[i,s]=de.useState(1),[o,l]=de.useState(0),[u,h]=de.useState({search:"",user_id:"",status:"",date_from:"",date_to:""}),[d,m]=de.useState([]),{success:y,error:g}=$a();de.useEffect(()=>{_()},[]),de.useEffect(()=>{k()},[i,u]),de.useEffect(()=>{const U=ut.channel("activity-logs-realtime").on("postgres_changes",{event:"INSERT",schema:"public",table:"activity_logs"},H=>{k()}).subscribe();return()=>{ut.removeChannel(U)}},[]);const _=async()=>{const{data:U}=await ut.from("profiles").select("id, nama").order("nama");m(U||[])},k=async()=>{r(!0);try{let U=ut.from("activity_logs").select(`
          *,
          profiles:user_id (nama, email)
        `,{count:"exact"}).order("created_at",{ascending:!1}).range((i-1)*ua,i*ua-1);if(u.search&&(U=U.ilike("no_rm",`%${u.search}%`)),u.user_id&&(U=U.eq("user_id",u.user_id)),u.date_from&&(U=U.gte("created_at",u.date_from)),u.date_to){const I=new Date(u.date_to);I.setDate(I.getDate()+1),U=U.lt("created_at",I.toISOString())}const{data:H,count:W,error:ae}=await U;if(ae)throw ae;e(H||[]),l(W||0)}catch(U){g("Gagal memuat log aktivitas"),console.error(U)}r(!1)},N=Ep(U=>{h(H=>({...H,search:U})),s(1)},300),P=(U,H)=>{h(W=>({...W,[U]:H})),s(1)},L=()=>{h({search:"",user_id:"",status:"",date_from:"",date_to:""}),s(1)},T=async()=>{try{let U=ut.from("activity_logs").select(`
          *,
          profiles:user_id (nama, email)
        `).order("created_at",{ascending:!1}).limit(1e3);if(u.search&&(U=U.ilike("no_rm",`%${u.search}%`)),u.user_id&&(U=U.eq("user_id",u.user_id)),u.date_from&&(U=U.gte("created_at",u.date_from)),u.date_to){const q=new Date(u.date_to);q.setDate(q.getDate()+1),U=U.lt("created_at",q.toISOString())}const{data:H,error:W}=await U;if(W)throw W;const ae=new ht;ae.setFontSize(18),ae.text("RUMAH SAKIT UMUM DAERAH",105,20,{align:"center"}),ae.setFontSize(14),ae.text("LAPORAN AKTIVITAS SISTEM REKAM MEDIS",105,30,{align:"center"}),ae.setFontSize(10),ae.text(`Dicetak pada: ${Du(new Date().toISOString())}`,14,45),ae.text(`Filter: ${u.date_from?u.date_from:"Awal"} s/d ${u.date_to?u.date_to:"Sekarang"}`,14,50);const I=H.map(q=>[Du(q.created_at),q.profiles?.nama||"-",q.aksi,q.no_rm||"-",q.details?.status_lokasi?vs(q.details.status_lokasi,On):q.details?.keterangan||"-"]);bT(ae,{startY:55,head:[["Waktu","User","Aksi","No RM","Detail / Lokasi"]],body:I,theme:"grid",headStyles:{fillColor:[41,128,185]},styles:{fontSize:8}}),ae.save(`laporan-aktivitas-${new Date().toISOString().split("T")[0]}.pdf`),y("Laporan PDF berhasil didownload")}catch(U){g("Gagal membuat laporan PDF"),console.error(U)}},j=async()=>{try{let U=ut.from("activity_logs").select(`
          *,
          profiles:user_id (nama, email)
        `).order("created_at",{ascending:!1}).limit(1e3);if(u.search&&(U=U.ilike("no_rm",`%${u.search}%`)),u.user_id&&(U=U.eq("user_id",u.user_id)),u.date_from&&(U=U.gte("created_at",u.date_from)),u.date_to){const I=new Date(u.date_to);I.setDate(I.getDate()+1),U=U.lt("created_at",I.toISOString())}const{data:H,error:W}=await U;if(W)throw W;const ae=H.map(I=>({Tanggal:Du(I.created_at),User:I.profiles?.nama||"-",Email:I.profiles?.email||"-",Aksi:I.aksi,"No RM":I.no_rm||"-","Status Lokasi":I.details?.status_lokasi?vs(I.details.status_lokasi,On):"-",Keterangan:I.details?.keterangan||"-"}));xA(ae,`log-aktivitas-${new Date().toISOString().split("T")[0]}`),y("Data berhasil diexport")}catch(U){g("Gagal export data"),console.error(U)}},D=U=>U.includes("DELETE")?"badge-error":U.includes("CREATE")?"badge-success":U.includes("UPDATE")?"badge-warning":U==="LOGIN"||U==="LOGOUT"?"badge-primary":"badge-gray",Q=Math.ceil(o/ua);return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"page-header",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"page-title",children:"Log Aktivitas"}),b.jsx("p",{className:"page-subtitle",children:"Monitoring semua aktivitas sistem"})]}),b.jsxs("div",{className:"flex gap-sm",children:[b.jsxs("span",{className:"badge badge-primary",children:[b.jsx(iw,{size:12})," Realtime"]}),b.jsxs("button",{className:"btn btn-secondary",onClick:T,disabled:n.length===0,children:[b.jsx(Bo,{size:18}),"Export PDF"]}),b.jsxs("button",{className:"btn btn-secondary",onClick:j,disabled:n.length===0,children:[b.jsx(Download,{size:18}),"Export CSV"]})]})]})}),b.jsxs("div",{className:"page-content",children:[b.jsxs("div",{className:"filter-bar",children:[b.jsx("div",{className:"filter-item",style:{flex:2},children:b.jsxs("div",{className:"search-box",children:[b.jsx(Ml,{className:"search-box-icon",size:18}),b.jsx("input",{type:"text",className:"form-input",placeholder:"Cari No RM...",onChange:U=>N(U.target.value)})]})}),b.jsx("div",{className:"filter-item",children:b.jsxs("select",{className:"form-input form-select",value:u.user_id,onChange:U=>P("user_id",U.target.value),children:[b.jsx("option",{value:"",children:"Semua User"}),d.map(U=>b.jsx("option",{value:U.id,children:U.nama},U.id))]})}),b.jsx("div",{className:"filter-item",children:b.jsx("input",{type:"date",className:"form-input",value:u.date_from,onChange:U=>P("date_from",U.target.value),placeholder:"Dari tanggal"})}),b.jsx("div",{className:"filter-item",children:b.jsx("input",{type:"date",className:"form-input",value:u.date_to,onChange:U=>P("date_to",U.target.value),placeholder:"Sampai tanggal"})}),(u.search||u.user_id||u.date_from||u.date_to)&&b.jsx("button",{className:"btn btn-ghost btn-sm",onClick:L,children:"Reset"})]}),b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"table-container",children:b.jsxs("table",{className:"table",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{children:"Waktu"}),b.jsx("th",{children:"User"}),b.jsx("th",{children:"Aksi"}),b.jsx("th",{children:"No. RM"}),b.jsx("th",{children:"Detail"})]})}),b.jsx("tbody",{children:t?[...Array(10)].map((U,H)=>b.jsx("tr",{children:b.jsx("td",{colSpan:5,children:b.jsx("div",{className:"skeleton skeleton-text"})})},H)):n.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:5,children:b.jsxs("div",{className:"empty-state",children:[b.jsx(tp,{className:"empty-state-icon"}),b.jsx("p",{className:"empty-state-title",children:"Tidak ada log"}),b.jsx("p",{className:"empty-state-description",children:"Belum ada aktivitas yang tercatat"})]})})}):n.map(U=>b.jsxs("tr",{children:[b.jsx("td",{children:b.jsx("div",{className:"text-sm",children:Du(U.created_at)})}),b.jsx("td",{children:b.jsxs("div",{className:"flex items-center gap-sm",children:[b.jsx("div",{className:"user-avatar",style:{width:32,height:32,fontSize:"0.75rem",background:"var(--gray-200)",color:"var(--gray-700)"},children:U.profiles?.nama?.charAt(0).toUpperCase()||"S"}),b.jsx("span",{children:U.profiles?.nama||"System"})]})}),b.jsx("td",{children:b.jsx("span",{className:`badge ${D(U.aksi)}`,children:U.aksi})}),b.jsx("td",{children:U.no_rm?b.jsx("span",{className:"font-medium",style:{color:"var(--primary-600)"},children:U.no_rm}):b.jsx("span",{className:"text-muted",children:"-"})}),b.jsx("td",{children:U.details?b.jsxs("div",{className:"text-sm text-secondary",children:[U.details.status_lokasi&&b.jsxs("div",{children:["Lokasi: ",vs(U.details.status_lokasi,On)]}),U.details.keterangan&&b.jsxs("div",{children:["Note: ",U.details.keterangan]}),U.details.nama&&b.jsxs("div",{children:["Pasien: ",U.details.nama]}),U.details.email&&b.jsxs("div",{children:["Email: ",U.details.email]})]}):b.jsx("span",{className:"text-muted",children:"-"})})]},U.id))})]})}),Q>1&&b.jsx("div",{className:"card-footer",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{className:"text-sm text-secondary",children:["Menampilkan ",(i-1)*ua+1," - ",Math.min(i*ua,o)," dari ",o]}),b.jsxs("div",{className:"pagination",children:[b.jsx("button",{className:"pagination-btn",disabled:i===1,onClick:()=>s(U=>U-1),children:b.jsx(ChevronLeft,{size:16})}),[...Array(Math.min(Q,5))].map((U,H)=>{const W=H+1;return b.jsx("button",{className:`pagination-btn ${i===W?"active":""}`,onClick:()=>s(W),children:W},W)}),Q>5&&b.jsx("span",{className:"px-md",children:"..."}),b.jsx("button",{className:"pagination-btn",disabled:i===Q,onClick:()=>s(U=>U+1),children:b.jsx(Pp,{size:16})})]})]})})]})]})]})},xT=()=>{const n=zl(),e=Wl(),t=n.state?.patients||[],r=de.useRef(null),i=()=>{const o=document.createElement("canvas"),l=o.getContext("2d"),u=5,h=120,d=15,m=35,y=h+d*2,g=h+m+d*2,_=Math.ceil(t.length/u);o.width=u*y,o.height=_*g,l.fillStyle="#ffffff",l.fillRect(0,0,o.width,o.height);const k=t.map((N,P)=>new Promise(L=>{const T=P%u,j=Math.floor(P/u),D=T*y+d,Q=j*g+d,U=document.getElementById(`qr-canvas-${N.id}`);U&&l.drawImage(U,D+10,Q,h,h),l.strokeStyle="#cbd5e1",l.setLineDash([4,4]),l.lineWidth=1,l.strokeRect(D,Q-5,y-d,g-d+5),l.setLineDash([]),l.fillStyle="#1e293b",l.font="bold 11px Arial, sans-serif",l.textAlign="center",l.fillText(N.no_rm,D+y/2-d/2,Q+h+15),l.fillStyle="#64748b",l.font="9px Arial, sans-serif";const H=N.nama.length>18?N.nama.substring(0,18)+"...":N.nama;l.fillText(H,D+y/2-d/2,Q+h+28),L()}));Promise.all(k).then(()=>{setTimeout(()=>{const N=document.createElement("a");N.download=`label-qr-${new Date().toISOString().split("T")[0]}.png`,N.href=o.toDataURL("image/png",1),document.body.appendChild(N),N.click(),document.body.removeChild(N)},100)})},s=()=>{window.print()};return t.length===0?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"page-header no-print",children:b.jsx("h1",{className:"page-title",children:"Print QR Code"})}),b.jsx("div",{className:"page-content",children:b.jsx("div",{className:"card",children:b.jsx("div",{className:"card-body",children:b.jsxs("div",{className:"empty-state",children:[b.jsx("p",{children:"Tidak ada pasien yang dipilih"}),b.jsxs("button",{className:"btn btn-primary mt-md",onClick:()=>e("/admin/patients"),children:[b.jsx(Om,{size:18}),"Kembali ke Daftar Pasien"]})]})})})})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"page-header no-print",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"page-title",children:"Print QR Code"}),b.jsxs("p",{className:"page-subtitle",children:[t.length," label QR dipilih"]})]}),b.jsxs("div",{className:"flex gap-sm",children:[b.jsxs("button",{className:"btn btn-secondary",onClick:()=>e("/admin/patients"),children:[b.jsx(Om,{size:18}),"Kembali"]}),b.jsxs("button",{className:"btn btn-success",onClick:i,children:[b.jsx(Q3,{size:18}),"Download Gambar"]}),b.jsxs("button",{className:"btn btn-primary",onClick:s,children:[b.jsx(Rm,{size:18}),"Preview Print"]})]})]})}),b.jsxs("div",{className:"page-content",children:[b.jsx("div",{className:"card no-print mb-md",children:b.jsxs("div",{className:"card-body",children:[b.jsxs("div",{className:"flex items-center gap-md",children:[b.jsx(Bo,{size:24,style:{color:"var(--primary-500)"}}),b.jsxs("div",{children:[b.jsx("h3",{style:{fontSize:"1rem",fontWeight:600},children:"Label QR Code untuk Berkas"}),b.jsx("p",{className:"text-sm text-secondary",children:"Ukuran kecil untuk ditempel pada berkas rekam medis"})]})]}),b.jsxs("div",{className:"mt-md",style:{padding:"12px",background:"var(--gray-100)",borderRadius:"var(--radius-md)"},children:[b.jsxs("p",{className:"text-sm",children:[b.jsx("strong",{children:"Download Gambar:"})," Simpan sebagai file PNG untuk dicetak nanti"]}),b.jsxs("p",{className:"text-sm mt-xs",children:[b.jsx("strong",{children:"Preview Print:"})," Buka dialog print browser untuk langsung cetak"]})]})]})}),b.jsxs("div",{className:"print-area",ref:r,children:[b.jsx("style",{children:`
              @media print {
                @page {
                  size: A4;
                  margin: 8mm;
                }
                
                body {
                  print-color-adjust: exact;
                  -webkit-print-color-adjust: exact;
                }
                
                .print-area {
                  display: block !important;
                }
                
                .print-qr-grid {
                  display: grid !important;
                  grid-template-columns: repeat(5, 1fr) !important;
                  gap: 4mm !important;
                  padding: 0 !important;
                }
                
                .print-qr-item {
                  page-break-inside: avoid;
                  border: 1px dashed #999 !important;
                  padding: 2mm !important;
                }
                
                .no-print {
                  display: none !important;
                }

                .page-header, .card.no-print {
                  display: none !important;
                }
              }
            `}),b.jsx("div",{className:"print-qr-grid",style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"10px",padding:"16px",background:"white",borderRadius:"var(--radius-lg)"},children:t.map(o=>b.jsxs("div",{className:"print-qr-item",style:{textAlign:"center",padding:"10px",border:"1px dashed #e2e8f0",borderRadius:"4px",background:"white"},children:[b.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px"},children:b.jsx(qC,{id:`qr-canvas-${o.id}`,value:Yh(o.no_rm),size:100,level:"H"})}),b.jsx(wb,{value:Yh(o.no_rm),size:80,level:"H",style:{margin:"0 auto"}}),b.jsx("div",{style:{marginTop:"6px",fontWeight:600,fontSize:"10px",lineHeight:1.2,color:"#1e293b"},children:o.no_rm}),b.jsx("div",{style:{fontSize:"8px",color:"#64748b",marginTop:"2px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:o.nama})]},o.id))})]})]})]})},ST=()=>{const{profile:n,updateProfile:e,updatePassword:t}=Bs(),{success:r,error:i}=$a(),[s,o]=de.useState(n?.nama||""),[l,u]=de.useState(""),[h,d]=de.useState(""),[m,y]=de.useState(""),[g,_]=de.useState(!1),k=async P=>{if(P.preventDefault(),!s.trim()){i("Nama tidak boleh kosong");return}_(!0);try{const{error:L}=await e({nama:s});if(L)throw L;r("Profil berhasil diperbarui")}catch(L){i("Gagal memperbarui profil"),console.error(L)}_(!1)},N=async P=>{if(P.preventDefault(),h.length<6){i("Password baru minimal 6 karakter");return}if(h!==m){i("Konfirmasi password tidak cocok");return}_(!0);try{const{error:L}=await t(h);if(L)throw L;r("Password berhasil diperbarui"),d(""),y("")}catch(L){i(L.message||"Gagal memperbarui password"),console.error(L)}_(!1)};return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"page-header",children:b.jsxs("div",{children:[b.jsx("h1",{className:"page-title",children:"Profil Saya"}),b.jsx("p",{className:"page-subtitle",children:"Kelola informasi akun dan keamanan"})]})}),b.jsx("div",{className:"page-content",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-lg",children:[b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"card-header",children:b.jsxs("h3",{className:"card-title flex items-center gap-sm",children:[b.jsx(fd,{size:20}),"Informasi Akun"]})}),b.jsx("div",{className:"card-body",children:b.jsxs("form",{onSubmit:k,children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Email"}),b.jsx("input",{type:"email",className:"form-input",value:n?.email||"Loading...",disabled:!0,style:{backgroundColor:"var(--gray-50)",cursor:"not-allowed"}}),b.jsx("p",{className:"form-hint",children:"Email tidak dapat diubah"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Nama Lengkap"}),b.jsx("input",{type:"text",className:"form-input",value:s,onChange:P=>o(P.target.value),placeholder:"Nama lengkap Anda",required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Role"}),b.jsx("span",{className:"badge badge-primary inline-flex",children:n?.role?.toUpperCase()})]}),b.jsxs("button",{type:"submit",className:"btn btn-primary w-full mt-md",disabled:g,children:[b.jsx(Mm,{size:18}),"Simpan Perubahan"]})]})})]}),b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"card-header",children:b.jsxs("h3",{className:"card-title flex items-center gap-sm",children:[b.jsx(p0,{size:20}),"Ganti Password"]})}),b.jsx("div",{className:"card-body",children:b.jsxs("form",{onSubmit:N,children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Password Baru"}),b.jsx("input",{type:"password",className:"form-input",value:h,onChange:P=>d(P.target.value),placeholder:"Minimal 6 karakter",minLength:6,required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Konfirmasi Password Baru"}),b.jsx("input",{type:"password",className:"form-input",value:m,onChange:P=>y(P.target.value),placeholder:"Ulangi password baru",minLength:6,required:!0})]}),b.jsx("div",{className:"alert alert-info mt-md",children:b.jsx("p",{className:"text-sm",children:"Pastikan password baru Anda aman dan mudah diingat."})}),b.jsxs("button",{type:"submit",className:"btn btn-primary w-full mt-md",disabled:g,children:[b.jsx(Mm,{size:18}),"Update Password"]})]})})]})]})})]})},kT=()=>{const[n,e]=de.useState(!1),[t,r]=de.useState(null),[i,s]=de.useState(!1);de.useEffect(()=>{const u=h=>{h.preventDefault(),e(!0),r(h)};return window.matchMedia("(display-mode: standalone)").matches&&s(!0),window.addEventListener("beforeinstallprompt",u),()=>window.removeEventListener("beforeinstallprompt",u)},[]);const o=u=>{u.preventDefault(),t&&(t.prompt(),t.userChoice.then(h=>{h.outcome==="accepted"&&e(!1),r(null)}))},l=()=>{e(!1)};return!n||i?null:b.jsx("div",{className:"pwa-install-banner",children:b.jsxs("div",{className:"pwa-content",children:[b.jsxs("div",{className:"pwa-text",children:[b.jsx("strong",{children:"Install Aplikasi"}),b.jsx("p",{children:"Install aplikasi ini untuk pengalaman yang lebih baik dan akses lebih cepat."})]}),b.jsxs("div",{className:"pwa-actions",children:[b.jsx("button",{className:"btn btn-ghost btn-sm",onClick:l,children:"Nanti"}),b.jsx("button",{className:"btn btn-primary btn-sm",onClick:o,children:"Install"})]})]})})},NT=()=>{const{profile:n}=Bs(),e=[{path:"/petugas",icon:t4,label:"Home",end:!0},{path:"/petugas/scan",icon:Xu,label:"Scan"},{path:"/petugas/search",icon:Ml,label:"Cari"},{path:"/petugas/history",icon:dd,label:"Riwayat"},{path:"/petugas/profile",icon:fd,label:"Profil"}];return b.jsxs("div",{className:"mobile-layout",children:[b.jsxs("header",{className:"mobile-header",children:[b.jsx("div",{className:"mobile-header-title",children:"RM Tracer"}),b.jsxs("div",{className:"mobile-header-subtitle",children:["Selamat datang, ",n?.nama||"Petugas"]})]}),b.jsx("main",{className:"mobile-content",children:b.jsx(C5,{})}),b.jsx("nav",{className:"bottom-nav",children:e.map(t=>b.jsxs(j5,{to:t.path,end:t.end,className:({isActive:r})=>`bottom-nav-item ${r?"active":""}`,children:[b.jsx(t.icon,{className:"bottom-nav-icon",size:24}),b.jsx("span",{children:t.label})]},t.path))})]})},AT=()=>{const{profile:n}=Bs(),[e,t]=de.useState({todayScans:0,weekScans:0}),[r,i]=de.useState([]),[s,o]=de.useState(!0);de.useEffect(()=>{l()},[n]);const l=async()=>{if(n?.id){o(!0);try{const u=new Date;u.setHours(0,0,0,0);const h=new Date;h.setDate(h.getDate()-7),h.setHours(0,0,0,0);const{count:d}=await ut.from("activity_logs").select("*",{count:"exact",head:!0}).eq("user_id",n.id).eq("aksi","UPDATE_STATUS").gte("created_at",u.toISOString()),{count:m}=await ut.from("activity_logs").select("*",{count:"exact",head:!0}).eq("user_id",n.id).eq("aksi","UPDATE_STATUS").gte("created_at",h.toISOString());t({todayScans:d||0,weekScans:m||0});const{data:y}=await ut.from("activity_logs").select("*").eq("user_id",n.id).in("aksi",["UPDATE_STATUS","SCAN_QR"]).order("created_at",{ascending:!1}).limit(5);i(y||[])}catch(u){console.error("Error fetching data:",u)}o(!1)}};return b.jsxs("div",{className:"flex flex-col gap-lg",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-md",children:[b.jsxs("div",{className:"stat-card",children:[b.jsx("div",{className:"stat-value",children:e.todayScans}),b.jsx("div",{className:"stat-label",children:"Scan Hari Ini"}),b.jsx(Im,{className:"stat-icon",size:40})]}),b.jsxs("div",{className:"stat-card success",children:[b.jsx("div",{className:"stat-value",children:e.weekScans}),b.jsx("div",{className:"stat-label",children:"Scan Minggu Ini"}),b.jsx(Bo,{className:"stat-icon",size:40})]})]}),b.jsxs(Io,{to:"/petugas/scan",className:"btn btn-action",children:[b.jsx(Xu,{size:32}),b.jsx("span",{children:"Scan QR Code"})]}),b.jsxs("div",{className:"card",children:[b.jsxs("div",{className:"card-header flex justify-between items-center",children:[b.jsx("h3",{style:{fontSize:"1rem",fontWeight:600},children:"Scan Terakhir"}),b.jsxs(Io,{to:"/petugas/history",className:"btn btn-ghost btn-sm",children:[b.jsx(dd,{size:16}),"Lihat Semua"]})]}),b.jsx("div",{className:"card-body",style:{padding:0},children:s?b.jsx("div",{style:{padding:"var(--spacing-md)"},children:[1,2,3].map(u=>b.jsx("div",{className:"skeleton skeleton-text mb-sm"},u))}):r.length===0?b.jsxs("div",{className:"empty-state",style:{padding:"var(--spacing-xl)"},children:[b.jsx(Xu,{size:40,style:{opacity:.3}}),b.jsx("p",{className:"text-secondary mt-md",children:"Belum ada scan hari ini"}),b.jsx("p",{className:"text-sm text-muted",children:"Mulai scan untuk melacak berkas"})]}):b.jsx("div",{className:"recent-list",style:{padding:"var(--spacing-sm)"},children:r.map(u=>b.jsxs(Io,{to:"/petugas/scan",state:{noRm:u.no_rm},className:"recent-item",children:[b.jsx("div",{className:"recent-item-dot",style:{backgroundColor:u.details?.status_lokasi?ha(u.details.status_lokasi,On):"var(--gray-400)"}}),b.jsxs("div",{className:"recent-item-content",children:[b.jsx("div",{className:"recent-item-title",children:u.no_rm}),b.jsx("div",{className:"recent-item-subtitle",children:u.details?.status_lokasi?vs(u.details.status_lokasi,On):u.aksi})]}),b.jsx("div",{className:"recent-item-time",children:bw(u.created_at)})]},u.id))})})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-md",children:[b.jsx(Io,{to:"/petugas/search",className:"card",style:{textDecoration:"none"},children:b.jsxs("div",{className:"card-body text-center",children:[b.jsx(Bo,{size:32,style:{color:"var(--primary-500)",marginBottom:8}}),b.jsx("div",{className:"font-medium",children:"Cari Manual"}),b.jsx("div",{className:"text-sm text-secondary",children:"Input No. RM"})]})}),b.jsx(Io,{to:"/petugas/history",className:"card",style:{textDecoration:"none"},children:b.jsxs("div",{className:"card-body text-center",children:[b.jsx(dd,{size:32,style:{color:"var(--primary-500)",marginBottom:8}}),b.jsx("div",{className:"font-medium",children:"Riwayat"}),b.jsx("div",{className:"text-sm text-secondary",children:"Lihat aktivitas"})]})})]})]})},PT=()=>{const n=zl(),{profile:e}=Bs(),{success:t,error:r,warning:i}=$a(),[s,o]=de.useState(!1),[l,u]=de.useState(null),[h,d]=de.useState(null),[m,y]=de.useState(null),[g,_]=de.useState(""),[k,N]=de.useState(!1),[P,L]=de.useState(null),[T,j]=de.useState(null),D=de.useRef(null),Q=de.useRef(null),U=de.useRef(null);de.useEffect(()=>(n.state?.noRm?ne(n.state.noRm):H(),()=>{ae(),T&&clearTimeout(T)}),[]);const H=async()=>{try{o(!0),u(null),y(null),_("");const he=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});Q.current=he,D.current&&(D.current.srcObject=he,D.current.play(),W())}catch(he){console.error("Camera error:",he),r("Tidak dapat mengakses kamera. Pastikan izin kamera diaktifkan."),o(!1)}},W=()=>{const he=async()=>{if(D.current&&D.current.readyState===4){if("BarcodeDetector"in window)try{const ie=await new BarcodeDetector({formats:["qr_code"]}).detect(D.current);if(ie.length>0){const le=ie[0].rawValue;ae(),ne(le);return}}catch{}try{const $=D.current,ie=document.createElement("canvas");ie.width=$.videoWidth,ie.height=$.videoHeight;const le=ie.getContext("2d");le.drawImage($,0,0,ie.width,ie.height);const K=le.getImageData(0,0,ie.width,ie.height),O=await qf(()=>import("./jsQR-Ds7Y5PrX.js").then(oe=>oe.j),[]),ee=(O.default||O)(K.data,K.width,K.height,{inversionAttempts:"dontInvert"});ee&&(ae(),ne(ee.data))}catch($){console.error("jsQR error:",$)}}};U.current=setInterval(he,200)},ae=()=>{U.current&&(clearInterval(U.current),U.current=null),Q.current&&(Q.current.getTracks().forEach(he=>he.stop()),Q.current=null),o(!1)},{isOnline:I,addToQueue:q}=cw(),ne=async he=>{const $=bA(he);if(!$){r("QR Code tidak valid"),H();return}if(!I){u({id:"offline-"+$,no_rm:$,nama:`Pasien ${$}`,tanggal_lahir:new Date,offline:!0}),d(null),i("Mode Offline: Data pasien tidak dapat diverifikasi penuh");return}try{const{data:ie,error:le}=await ut.from("patients").select("*").eq("no_rm",$).single();if(le||!ie){r(`Pasien dengan No RM ${$} tidak ditemukan`),H();return}const{data:K}=await ut.from("tracer").select("*").eq("patient_id",ie.id).order("updated_at",{ascending:!1}).limit(1).single();u(ie),d(K?.status_lokasi||null)}catch(ie){console.error("Error fetching patient:",ie),r("Gagal memuat data pasien"),H()}},re=async he=>{if(!(!l||!e)){if(y(he),N(!0),!I||l.offline){try{q({type:"SCAN_MUTATION",payload:{patient_id:l.offline?null:l.id,no_rm:l.no_rm,status_lokasi:he,keterangan:g||null,petugas_id:e.id}}),L({id:"offline-temp",patient:l,oldStatus:h,newStatus:he,keterangan:g}),d(he),t(`Disimpan ke antrian offline: ${vs(he,On)}`),setTimeout(()=>{y(null),_(""),be()},1500)}catch($){console.error("Error queuing offline item:",$),r("Gagal menyimpan ke antrian offline")}N(!1);return}try{const{data:$,error:ie}=await ut.from("tracer").insert({patient_id:l.id,status_lokasi:he,keterangan:g||null,petugas_id:e.id}).select().single();if(ie)throw ie;await ut.rpc("log_activity",{p_aksi:"UPDATE_STATUS",p_no_rm:l.no_rm,p_details:{status_lokasi:he,keterangan:g||null,previous_status:h}}),L({id:$.id,patient:l,oldStatus:h,newStatus:he,keterangan:g}),d(he),t(`Status diperbarui ke ${vs(he,On)}`,{duration:Cv,onUndo:()=>ve($.id,h)});const le=setTimeout(()=>{L(null)},Cv);j(le),setTimeout(()=>{y(null),_("")},1e3)}catch($){console.error("Error updating status:",$),r("Gagal memperbarui status"),y(null)}N(!1)}},ve=async(he,$)=>{try{await ut.from("tracer").delete().eq("id",he),d($),L(null),T&&(clearTimeout(T),j(null)),t("Perubahan dibatalkan")}catch(ie){console.error("Error undoing:",ie),r("Gagal membatalkan perubahan")}},be=()=>{u(null),d(null),y(null),_(""),H()};return b.jsx("div",{className:"flex flex-col gap-md",children:s?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"qr-scanner-container",children:[b.jsx("video",{ref:D,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"100%",borderRadius:"var(--radius-xl)"}}),b.jsx("div",{className:"qr-scanner-overlay",children:b.jsx("div",{className:"qr-scanner-frame"})})]}),b.jsxs("div",{className:"text-center flex flex-col items-center gap-sm mt-md",children:[b.jsx("p",{className:"text-secondary",children:"Arahkan kamera ke QR Code"}),b.jsxs("div",{className:"flex gap-md",children:[b.jsxs("button",{className:"btn btn-ghost",onClick:ae,children:[b.jsx(Mc,{size:18}),"Batal"]}),b.jsxs("button",{className:"btn btn-outline-primary",onClick:()=>{ae(),window.location.href="/petugas/search"},children:[b.jsx(Ml,{size:18}),"Cari Manual"]})]})]})]}):l?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"patient-card",children:[b.jsxs("div",{className:"patient-card-header",children:[b.jsx("span",{className:"patient-no-rm",children:l.no_rm}),b.jsxs("button",{className:"btn btn-ghost btn-sm",onClick:be,children:[b.jsx(s4,{size:16}),"Scan Lagi"]})]}),b.jsx("h2",{className:"patient-name",children:l.nama}),b.jsxs("div",{className:"patient-info-row",children:[b.jsx(J5,{size:16}),b.jsx("span",{children:Fl(l.tanggal_lahir)}),b.jsx("span",{children:""}),b.jsx("span",{children:jp(l.tanggal_lahir)})]}),h&&b.jsxs("div",{className:"patient-current-status",children:[b.jsx("div",{className:"patient-current-status-dot",style:{backgroundColor:ha(h,On)}}),b.jsxs("span",{className:"patient-current-status-label",children:["Lokasi saat ini: ",vs(h,On)]})]})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"form-label mb-md",children:[b.jsx(Ju,{size:16,style:{display:"inline",marginRight:4}}),"Pilih Lokasi Tujuan"]}),b.jsx("div",{className:"status-buttons",children:On.map(he=>b.jsxs("button",{className:`status-btn ${m===he.value?"active":""}`,onClick:()=>re(he.value),disabled:k||m===he.value,style:{borderColor:m===he.value?he.color:void 0,background:m===he.value?`${he.color}10`:void 0},children:[b.jsx("div",{className:"status-btn-indicator",style:{backgroundColor:he.color}}),b.jsx("div",{children:b.jsx("div",{className:"status-btn-label",children:he.label})}),m===he.value&&b.jsx(f0,{size:20,style:{color:he.color,marginLeft:"auto"}})]},he.value))})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Keterangan (Opsional)"}),b.jsx("textarea",{className:"form-input form-textarea",value:g,onChange:he=>_(he.target.value),placeholder:"Tambahkan catatan jika diperlukan...",rows:2})]})]}):b.jsxs("div",{className:"text-center",style:{padding:"var(--spacing-2xl)"},children:[b.jsx(Ev,{size:64,style:{color:"var(--text-muted)",marginBottom:16}}),b.jsx("h3",{children:"Memuat Scanner..."}),b.jsx("p",{className:"text-secondary",children:"Izinkan akses kamera untuk memulai scan"}),b.jsxs("button",{className:"btn btn-primary mt-lg",onClick:H,children:[b.jsx(Ev,{size:18}),"Mulai Scan"]})]})})},CT=()=>{const n=Wl(),{error:e}=$a(),[t,r]=de.useState(""),[i,s]=de.useState([]),[o,l]=de.useState(!1),[u,h]=de.useState(!1),m=Ep(async _=>{if(!_||_.length<2){s([]),h(!1);return}l(!0),h(!0);try{const{data:k,error:N}=await ut.from("patients").select("*").or(`no_rm.ilike.%${_}%,nama.ilike.%${_}%`).order("created_at",{ascending:!1}).limit(20);if(N)throw N;const P=k.map(D=>D.id),{data:L}=await ut.from("tracer").select("patient_id, status_lokasi").in("patient_id",P).order("updated_at",{ascending:!1}),T={};L?.forEach(D=>{T[D.patient_id]||(T[D.patient_id]=D.status_lokasi)});const j=k.map(D=>({...D,current_status:T[D.id]||null}));s(j)}catch(k){console.error("Search error:",k),e("Gagal mencari pasien")}l(!1)},300),y=_=>{const k=_.target.value;r(k),m(k)},g=_=>{n("/petugas/scan",{state:{noRm:_.no_rm}})};return b.jsxs("div",{className:"flex flex-col gap-md",children:[b.jsxs("div",{className:"flex gap-sm",children:[b.jsxs("div",{className:"search-box flex-1",children:[b.jsx(Ml,{className:"search-box-icon",size:20}),b.jsx("input",{type:"text",className:"form-input",placeholder:"Cari No. RM atau nama pasien...",value:t,onChange:y,autoFocus:!0,style:{fontSize:"1rem",padding:"1rem 1rem 1rem 3rem"}})]}),b.jsxs("button",{className:"btn btn-primary",onClick:()=>n("/petugas/scan"),style:{aspectRatio:"1/1",padding:0,width:"48px"},title:"Scan QR Code",children:[b.jsx(Ml,{size:24,className:"hidden"})," ",b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("rect",{width:"5",height:"5",x:"3",y:"3"}),b.jsx("rect",{width:"5",height:"5",x:"16",y:"3"}),b.jsx("rect",{width:"5",height:"5",x:"3",y:"16"}),b.jsx("path",{d:"M21 16h-3a2 2 0 0 0-2 2v3"}),b.jsx("path",{d:"M21 21v.01"}),b.jsx("path",{d:"M12 7v3a2 2 0 0 1-2 2H7"}),b.jsx("path",{d:"M3 12h.01"}),b.jsx("path",{d:"M12 3h.01"}),b.jsx("path",{d:"M12 16v.01"}),b.jsx("path",{d:"M16 12h1"}),b.jsx("path",{d:"M21 12v.01"}),b.jsx("path",{d:"M12 21v-1"})]})]})]}),o?b.jsx("div",{className:"flex flex-col gap-sm",children:[1,2,3].map(_=>b.jsx("div",{className:"card",children:b.jsxs("div",{className:"card-body",children:[b.jsx("div",{className:"skeleton skeleton-text",style:{width:"40%"}}),b.jsx("div",{className:"skeleton skeleton-text mt-sm"})]})},_))}):i.length>0?b.jsx("div",{className:"flex flex-col gap-sm",children:i.map(_=>b.jsx("div",{className:"card",onClick:()=>g(_),style:{cursor:"pointer"},children:b.jsxs("div",{className:"card-body",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("span",{className:"badge badge-primary mb-xs",style:{fontSize:"0.75rem"},children:_.no_rm}),b.jsx("h3",{style:{fontSize:"1rem",fontWeight:600},children:_.nama}),b.jsxs("div",{className:"flex items-center gap-sm text-sm text-secondary mt-xs",children:[b.jsx("span",{children:Fl(_.tanggal_lahir)}),b.jsx("span",{children:""}),b.jsx("span",{children:jp(_.tanggal_lahir)})]})]}),_.current_status&&b.jsxs("div",{className:"badge",style:{backgroundColor:`${ha(_.current_status,On)}20`,color:ha(_.current_status,On)},children:[b.jsx(Ju,{size:12}),vs(_.current_status,On)]})]}),b.jsx("div",{className:"mt-sm pt-sm border-t border-gray-100 flex justify-end",children:b.jsxs("button",{className:"btn btn-sm btn-outline-primary",onClick:k=>{k.stopPropagation(),g(_)},children:[b.jsx(Ju,{size:14}),"Update Lokasi"]})})]})},_.id))}):u?b.jsxs("div",{className:"empty-state",children:[b.jsx(Bo,{size:48,style:{opacity:.3}}),b.jsx("p",{className:"empty-state-title mt-md",children:"Tidak ditemukan"}),b.jsxs("p",{className:"empty-state-description",children:['Tidak ada pasien dengan kata kunci "',t,'"']})]}):b.jsxs("div",{className:"empty-state",children:[b.jsx(Ml,{size:48,style:{opacity:.3}}),b.jsx("p",{className:"text-secondary mt-md",children:"Ketik minimal 2 karakter untuk mencari"})]})]})},ET=()=>{const{profile:n}=Bs(),[e,t]=de.useState([]),[r,i]=de.useState(!0),[s,o]=de.useState("today");de.useEffect(()=>{n?.id&&l()},[n,s]);const l=async()=>{i(!0);try{let h=ut.from("activity_logs").select("*").eq("user_id",n.id).in("aksi",["UPDATE_STATUS","SCAN_QR"]).order("created_at",{ascending:!1}).limit(50);const d=new Date;if(s==="today"){const _=new Date;_.setHours(0,0,0,0),h=h.gte("created_at",_.toISOString())}else if(s==="week"){const _=new Date;_.setDate(_.getDate()-7),h=h.gte("created_at",_.toISOString())}else if(s==="month"){const _=new Date;_.setMonth(_.getMonth()-1),h=h.gte("created_at",_.toISOString())}const{data:m,error:y}=await h;if(y)throw y;const g={};m?.forEach(_=>{const k=Fl(_.created_at,"yyyy-MM-dd");g[k]||(g[k]=[]),g[k].push(_)}),t(Object.entries(g).map(([_,k])=>({date:_,dateLabel:Fl(_,"EEEE, dd MMMM yyyy"),items:k})))}catch(h){console.error("Error fetching history:",h)}i(!1)},u=[{value:"today",label:"Hari Ini"},{value:"week",label:"Minggu Ini"},{value:"month",label:"Bulan Ini"}];return b.jsxs("div",{className:"flex flex-col gap-md",children:[b.jsx("div",{className:"flex gap-sm",children:u.map(h=>b.jsx("button",{className:`btn btn-sm ${s===h.value?"btn-primary":"btn-secondary"}`,onClick:()=>o(h.value),children:h.label},h.value))}),r?b.jsx("div",{className:"flex flex-col gap-md",children:[1,2,3].map(h=>b.jsxs("div",{children:[b.jsx("div",{className:"skeleton skeleton-text mb-sm",style:{width:"50%"}}),b.jsx("div",{className:"card",children:b.jsxs("div",{className:"card-body",children:[b.jsx("div",{className:"skeleton skeleton-text"}),b.jsx("div",{className:"skeleton skeleton-text mt-sm",style:{width:"70%"}})]})})]},h))}):e.length===0?b.jsxs("div",{className:"empty-state",children:[b.jsx(dd,{size:48,style:{opacity:.3}}),b.jsx("p",{className:"empty-state-title mt-md",children:"Belum ada riwayat"}),b.jsx("p",{className:"empty-state-description",children:"Aktivitas scan Anda akan muncul di sini"})]}):b.jsx("div",{className:"flex flex-col gap-lg",children:e.map(h=>b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-semibold text-secondary mb-sm",style:{paddingLeft:4},children:h.dateLabel}),b.jsx("div",{className:"card",children:b.jsx("div",{style:{padding:0},children:h.items.map((d,m)=>b.jsxs(Io,{to:"/petugas/scan",state:{noRm:d.no_rm},className:"flex items-center gap-md",style:{padding:"var(--spacing-md)",borderBottom:m<h.items.length-1?"1px solid var(--border)":"none",textDecoration:"none",color:"inherit"},children:[b.jsx("div",{style:{width:40,height:40,borderRadius:"var(--radius-lg)",background:d.details?.status_lokasi?`${ha(d.details.status_lokasi,On)}20`:"var(--gray-100)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:d.aksi==="UPDATE_STATUS"?b.jsx(Ju,{size:18,style:{color:d.details?.status_lokasi?ha(d.details.status_lokasi,On):"var(--gray-500)"}}):b.jsx(Bo,{size:18,style:{color:"var(--gray-500)"}})}),b.jsxs("div",{style:{flex:1,minWidth:0},children:[b.jsx("div",{className:"font-medium",children:d.no_rm}),b.jsx("div",{className:"text-sm text-secondary",children:d.aksi==="UPDATE_STATUS"&&d.details?.status_lokasi?vs(d.details.status_lokasi,On):"Scan QR"})]}),b.jsx("div",{className:"text-sm text-muted",style:{flexShrink:0},children:Du(d.created_at).split(", ")[1]}),b.jsx(Pp,{size:16,style:{color:"var(--text-muted)",flexShrink:0}})]},d.id))})})]},h.date))})]})},jT=()=>{const n=Wl(),{profile:e,signOut:t,updateProfile:r,updatePassword:i}=Bs(),{success:s,error:o}=$a(),[l,u]=de.useState(!1),[h,d]=de.useState(!1),[m,y]=de.useState(!1),[g,_]=de.useState(!1),[k,N]=de.useState({nama:e?.nama||""}),[P,L]=de.useState({newPassword:"",confirmPassword:""}),T=async U=>{if(U.preventDefault(),!k.nama){o("Nama harus diisi");return}y(!0);const{error:H}=await r({nama:k.nama});H?o("Gagal memperbarui profil"):(s("Profil berhasil diperbarui"),u(!1)),y(!1)},j=async U=>{if(U.preventDefault(),P.newPassword.length<6){o("Password minimal 6 karakter");return}if(P.newPassword!==P.confirmPassword){o("Password tidak cocok");return}y(!0);const{error:H}=await i(P.newPassword);H?o("Gagal mengubah password"):(s("Password berhasil diubah"),d(!1),L({newPassword:"",confirmPassword:""})),y(!1)},D=async()=>{confirm("Apakah Anda yakin ingin keluar aplikasi?")&&(_(!0),await new Promise(U=>setTimeout(U,800)),await t(),n("/login"))},Q=U=>U?U.split(" ").map(H=>H[0]).join("").toUpperCase().slice(0,2):"U";return b.jsxs("div",{className:"flex flex-col gap-lg",children:[g&&b.jsx(Fp,{}),b.jsx("div",{className:"card",children:b.jsxs("div",{className:"card-body text-center",children:[b.jsx("div",{style:{width:80,height:80,borderRadius:"var(--radius-full)",background:"linear-gradient(135deg, var(--primary-500), var(--primary-700))",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",fontWeight:600,margin:"0 auto var(--spacing-md)"},children:Q(e?.nama)}),b.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:600},children:e?.nama||"User"}),b.jsxs("div",{className:"flex items-center justify-center gap-sm text-secondary mt-xs",children:[b.jsx(tw,{size:14}),b.jsx("span",{children:e?.email})]}),b.jsxs("div",{className:"badge badge-primary mt-md",style:{margin:"0 auto"},children:[b.jsx(sw,{size:12}),e?.role==="admin"?"Administrator":"Petugas"]})]})}),b.jsxs("div",{className:"card",children:[b.jsxs("div",{className:"card-header flex justify-between items-center",children:[b.jsx("h3",{style:{fontSize:"1rem",fontWeight:600},children:"Informasi Profil"}),!l&&b.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>u(!0),children:"Edit"})]}),b.jsx("div",{className:"card-body",children:l?b.jsxs("form",{onSubmit:T,children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Nama Lengkap"}),b.jsx("input",{type:"text",className:"form-input",value:k.nama,onChange:U=>N({...k,nama:U.target.value}),required:!0})]}),b.jsxs("div",{className:"flex gap-sm",children:[b.jsx("button",{type:"button",className:"btn btn-secondary flex-1",onClick:()=>{u(!1),N({nama:e?.nama||""})},children:"Batal"}),b.jsxs("button",{type:"submit",className:"btn btn-primary flex-1",disabled:m,children:[b.jsx(Mm,{size:16}),m?"Menyimpan...":"Simpan"]})]})]}):b.jsxs("div",{className:"flex items-center gap-md",children:[b.jsx(fd,{size:20,style:{color:"var(--text-muted)"}}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm text-secondary",children:"Nama"}),b.jsx("div",{className:"font-medium",children:e?.nama})]})]})})]}),b.jsxs("div",{className:"card",children:[b.jsxs("div",{className:"card-header flex justify-between items-center",children:[b.jsx("h3",{style:{fontSize:"1rem",fontWeight:600},children:"Keamanan"}),!h&&b.jsxs("button",{className:"btn btn-ghost btn-sm",onClick:()=>d(!0),children:[b.jsx(Z5,{size:14}),"Ganti Password"]})]}),h&&b.jsx("div",{className:"card-body",children:b.jsxs("form",{onSubmit:j,children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Password Baru"}),b.jsx("input",{type:"password",className:"form-input",value:P.newPassword,onChange:U=>L({...P,newPassword:U.target.value}),placeholder:"Minimal 6 karakter",minLength:6,required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Konfirmasi Password"}),b.jsx("input",{type:"password",className:"form-input",value:P.confirmPassword,onChange:U=>L({...P,confirmPassword:U.target.value}),placeholder:"Ulangi password baru",required:!0})]}),b.jsxs("div",{className:"flex gap-sm",children:[b.jsx("button",{type:"button",className:"btn btn-secondary flex-1",onClick:()=>{d(!1),L({newPassword:"",confirmPassword:""})},children:"Batal"}),b.jsx("button",{type:"submit",className:"btn btn-primary flex-1",disabled:m,children:m?"Menyimpan...":"Simpan Password"})]})]})})]}),b.jsxs("button",{className:"btn btn-danger btn-block",onClick:D,children:[b.jsx(ew,{size:18}),"Keluar dari Aplikasi"]})]})},Fp=()=>b.jsxs("div",{className:"loading-overlay",children:[b.jsx("div",{className:"spinner spinner-lg"}),b.jsx("p",{className:"loading-text",children:"Memuat..."})]}),v5=({children:n,allowedRoles:e=[]})=>{const{user:t,profile:r,loading:i,refreshProfile:s}=Bs();return i?b.jsx(Fp,{}):t?t&&!r?b.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50",children:b.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md max-w-md w-full mx-4",children:[b.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Gagal Memuat Profil"}),b.jsx("p",{className:"text-gray-600 mb-6",children:"Terjadi kesalahan saat memuat data pengguna. Pastikan koneksi internet Anda stabil."}),b.jsxs("div",{className:"flex justify-center gap-3",children:[b.jsx("button",{onClick:s,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Coba Lagi"}),b.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Refresh Halaman"})]})]})}):e.length>0&&!e.includes(r?.role)?r?.role==="admin"?b.jsx(Tc,{to:"/admin",replace:!0}):b.jsx(Tc,{to:"/petugas",replace:!0}):n:b.jsx(Tc,{to:"/login",replace:!0})},LT=({children:n})=>{const{user:e,profile:t,loading:r}=Bs();return r?b.jsx(Fp,{}):e&&t?t.role==="admin"?b.jsx(Tc,{to:"/admin",replace:!0}):b.jsx(Tc,{to:"/petugas",replace:!0}):n};function TT(){return b.jsxs(oS,{children:[b.jsx(Hr,{path:"/login",element:b.jsx(LT,{children:b.jsx(p4,{})})}),b.jsxs(Hr,{path:"/admin",element:b.jsx(v5,{allowedRoles:["admin"],children:b.jsx(g4,{})}),children:[b.jsx(Hr,{index:!0,element:b.jsx(BC,{})}),b.jsx(Hr,{path:"patients",element:b.jsx(HC,{})}),b.jsx(Hr,{path:"patients/print",element:b.jsx(xT,{})}),b.jsx(Hr,{path:"patients/:id",element:b.jsx($C,{})}),b.jsx(Hr,{path:"users",element:b.jsx(VC,{})}),b.jsx(Hr,{path:"logs",element:b.jsx(_T,{})}),b.jsx(Hr,{path:"profile",element:b.jsx(ST,{})})]}),b.jsxs(Hr,{path:"/petugas",element:b.jsx(v5,{allowedRoles:["petugas","admin"],children:b.jsx(NT,{})}),children:[b.jsx(Hr,{index:!0,element:b.jsx(AT,{})}),b.jsx(Hr,{path:"scan",element:b.jsx(PT,{})}),b.jsx(Hr,{path:"search",element:b.jsx(CT,{})}),b.jsx(Hr,{path:"history",element:b.jsx(ET,{})}),b.jsx(Hr,{path:"profile",element:b.jsx(jT,{})})]}),b.jsx(Hr,{path:"/",element:b.jsx(Tc,{to:"/login",replace:!0})}),b.jsx(Hr,{path:"*",element:b.jsx(Tc,{to:"/login",replace:!0})})]})}function OT(){return b.jsx(gS,{children:b.jsx(K3,{children:b.jsx(h4,{children:b.jsxs(d4,{children:[b.jsx(kT,{}),b.jsx(f4,{}),b.jsx(TT,{})]})})})})}px.createRoot(document.getElementById("root")).render(b.jsx(de.StrictMode,{children:b.jsx(OT,{})}));export{wn as _,RT as c,sx as g};
