function yx(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var hO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Eg={exports:{}},Oh={},jg={exports:{}},Vt={};var G1;function bx(){if(G1)return Vt;G1=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),g=Symbol.iterator;function y(K){return K===null||typeof K!="object"?null:(K=g&&K[g]||K["@@iterator"],typeof K=="function"?K:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,k={};function N(K,T,Y){this.props=K,this.context=T,this.refs=k,this.updater=Y||m}N.prototype.isReactComponent={},N.prototype.setState=function(K,T){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,T,"setState")},N.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function P(){}P.prototype=N.prototype;function O(K,T,Y){this.props=K,this.context=T,this.refs=k,this.updater=Y||m}var j=O.prototype=new P;j.constructor=O,_(j,N.prototype),j.isPureReactComponent=!0;var L=Array.isArray,D=Object.prototype.hasOwnProperty,J={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function H(K,T,Y){var ee,oe={},ce=null,ye=null;if(T!=null)for(ee in T.ref!==void 0&&(ye=T.ref),T.key!==void 0&&(ce=""+T.key),T)D.call(T,ee)&&!U.hasOwnProperty(ee)&&(oe[ee]=T[ee]);var _e=arguments.length-2;if(_e===1)oe.children=Y;else if(1<_e){for(var Ae=Array(_e),Te=0;Te<_e;Te++)Ae[Te]=arguments[Te+2];oe.children=Ae}if(K&&K.defaultProps)for(ee in _e=K.defaultProps,_e)oe[ee]===void 0&&(oe[ee]=_e[ee]);return{$$typeof:n,type:K,key:ce,ref:ye,props:oe,_owner:J.current}}function W(K,T){return{$$typeof:n,type:K.type,key:T,ref:K.ref,props:K.props,_owner:K._owner}}function re(K){return typeof K=="object"&&K!==null&&K.$$typeof===n}function I(K){var T={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(Y){return T[Y]})}var q=/\/+/g;function ne(K,T){return typeof K=="object"&&K!==null&&K.key!=null?I(""+K.key):T.toString(36)}function ie(K,T,Y,ee,oe){var ce=typeof K;(ce==="undefined"||ce==="boolean")&&(K=null);var ye=!1;if(K===null)ye=!0;else switch(ce){case"string":case"number":ye=!0;break;case"object":switch(K.$$typeof){case n:case e:ye=!0}}if(ye)return ye=K,oe=oe(ye),K=ee===""?"."+ne(ye,0):ee,L(oe)?(Y="",K!=null&&(Y=K.replace(q,"$&/")+"/"),ie(oe,T,Y,"",function(Te){return Te})):oe!=null&&(re(oe)&&(oe=W(oe,Y+(!oe.key||ye&&ye.key===oe.key?"":(""+oe.key).replace(q,"$&/")+"/")+K)),T.push(oe)),1;if(ye=0,ee=ee===""?".":ee+":",L(K))for(var _e=0;_e<K.length;_e++){ce=K[_e];var Ae=ee+ne(ce,_e);ye+=ie(ce,T,Y,Ae,oe)}else if(Ae=y(K),typeof Ae=="function")for(K=Ae.call(K),_e=0;!(ce=K.next()).done;)ce=ce.value,Ae=ee+ne(ce,_e++),ye+=ie(ce,T,Y,Ae,oe);else if(ce==="object")throw T=String(K),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return ye}function ve(K,T,Y){if(K==null)return K;var ee=[],oe=0;return ie(K,ee,"","",function(ce){return T.call(Y,ce,oe++)}),ee}function be(K){if(K._status===-1){var T=K._result;T=T(),T.then(function(Y){(K._status===0||K._status===-1)&&(K._status=1,K._result=Y)},function(Y){(K._status===0||K._status===-1)&&(K._status=2,K._result=Y)}),K._status===-1&&(K._status=0,K._result=T)}if(K._status===1)return K._result.default;throw K._result}var he={current:null},$={transition:null},se={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:$,ReactCurrentOwner:J};function le(){throw Error("act(...) is not supported in production builds of React.")}return Vt.Children={map:ve,forEach:function(K,T,Y){ve(K,function(){T.apply(this,arguments)},Y)},count:function(K){var T=0;return ve(K,function(){T++}),T},toArray:function(K){return ve(K,function(T){return T})||[]},only:function(K){if(!re(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Vt.Component=N,Vt.Fragment=t,Vt.Profiler=i,Vt.PureComponent=O,Vt.StrictMode=r,Vt.Suspense=c,Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Vt.act=le,Vt.cloneElement=function(K,T,Y){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var ee=_({},K.props),oe=K.key,ce=K.ref,ye=K._owner;if(T!=null){if(T.ref!==void 0&&(ce=T.ref,ye=J.current),T.key!==void 0&&(oe=""+T.key),K.type&&K.type.defaultProps)var _e=K.type.defaultProps;for(Ae in T)D.call(T,Ae)&&!U.hasOwnProperty(Ae)&&(ee[Ae]=T[Ae]===void 0&&_e!==void 0?_e[Ae]:T[Ae])}var Ae=arguments.length-2;if(Ae===1)ee.children=Y;else if(1<Ae){_e=Array(Ae);for(var Te=0;Te<Ae;Te++)_e[Te]=arguments[Te+2];ee.children=_e}return{$$typeof:n,type:K.type,key:oe,ref:ce,props:ee,_owner:ye}},Vt.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:s,_context:K},K.Consumer=K},Vt.createElement=H,Vt.createFactory=function(K){var T=H.bind(null,K);return T.type=K,T},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(K){return{$$typeof:l,render:K}},Vt.isValidElement=re,Vt.lazy=function(K){return{$$typeof:d,_payload:{_status:-1,_result:K},_init:be}},Vt.memo=function(K,T){return{$$typeof:h,type:K,compare:T===void 0?null:T}},Vt.startTransition=function(K){var T=$.transition;$.transition={};try{K()}finally{$.transition=T}},Vt.unstable_act=le,Vt.useCallback=function(K,T){return he.current.useCallback(K,T)},Vt.useContext=function(K){return he.current.useContext(K)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(K){return he.current.useDeferredValue(K)},Vt.useEffect=function(K,T){return he.current.useEffect(K,T)},Vt.useId=function(){return he.current.useId()},Vt.useImperativeHandle=function(K,T,Y){return he.current.useImperativeHandle(K,T,Y)},Vt.useInsertionEffect=function(K,T){return he.current.useInsertionEffect(K,T)},Vt.useLayoutEffect=function(K,T){return he.current.useLayoutEffect(K,T)},Vt.useMemo=function(K,T){return he.current.useMemo(K,T)},Vt.useReducer=function(K,T,Y){return he.current.useReducer(K,T,Y)},Vt.useRef=function(K){return he.current.useRef(K)},Vt.useState=function(K){return he.current.useState(K)},Vt.useSyncExternalStore=function(K,T,Y){return he.current.useSyncExternalStore(K,T,Y)},Vt.useTransition=function(){return he.current.useTransition()},Vt.version="18.3.1",Vt}var K1;function f0(){return K1||(K1=1,jg.exports=bx()),jg.exports}var Y1;function _x(){if(Y1)return Oh;Y1=1;var n=f0(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,h){var d,g={},y=null,m=null;h!==void 0&&(y=""+h),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(m=c.ref);for(d in c)r.call(c,d)&&!s.hasOwnProperty(d)&&(g[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)g[d]===void 0&&(g[d]=c[d]);return{$$typeof:e,type:l,key:y,ref:m,props:g,_owner:i.current}}return Oh.Fragment=t,Oh.jsx=o,Oh.jsxs=o,Oh}var J1;function xx(){return J1||(J1=1,Eg.exports=_x()),Eg.exports}var b=xx(),de=f0();const Ki=wx(de),Sx=yx({__proto__:null,default:Ki},[de]);var cf={},Lg={exports:{}},Vi={},Tg={exports:{}},Og={};var X1;function kx(){return X1||(X1=1,(function(n){function e($,se){var le=$.length;$.push(se);e:for(;0<le;){var K=le-1>>>1,T=$[K];if(0<i(T,se))$[K]=se,$[le]=T,le=K;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var se=$[0],le=$.pop();if(le!==se){$[0]=le;e:for(var K=0,T=$.length,Y=T>>>1;K<Y;){var ee=2*(K+1)-1,oe=$[ee],ce=ee+1,ye=$[ce];if(0>i(oe,le))ce<T&&0>i(ye,oe)?($[K]=ye,$[ce]=le,K=ce):($[K]=oe,$[ee]=le,K=ee);else if(ce<T&&0>i(ye,le))$[K]=ye,$[ce]=le,K=ce;else break e}}return se}function i($,se){var le=$.sortIndex-se.sortIndex;return le!==0?le:$.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var c=[],h=[],d=1,g=null,y=3,m=!1,_=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j($){for(var se=t(h);se!==null;){if(se.callback===null)r(h);else if(se.startTime<=$)r(h),se.sortIndex=se.expirationTime,e(c,se);else break;se=t(h)}}function L($){if(k=!1,j($),!_)if(t(c)!==null)_=!0,be(D);else{var se=t(h);se!==null&&he(L,se.startTime-$)}}function D($,se){_=!1,k&&(k=!1,P(H),H=-1),m=!0;var le=y;try{for(j(se),g=t(c);g!==null&&(!(g.expirationTime>se)||$&&!I());){var K=g.callback;if(typeof K=="function"){g.callback=null,y=g.priorityLevel;var T=K(g.expirationTime<=se);se=n.unstable_now(),typeof T=="function"?g.callback=T:g===t(c)&&r(c),j(se)}else r(c);g=t(c)}if(g!==null)var Y=!0;else{var ee=t(h);ee!==null&&he(L,ee.startTime-se),Y=!1}return Y}finally{g=null,y=le,m=!1}}var J=!1,U=null,H=-1,W=5,re=-1;function I(){return!(n.unstable_now()-re<W)}function q(){if(U!==null){var $=n.unstable_now();re=$;var se=!0;try{se=U(!0,$)}finally{se?ne():(J=!1,U=null)}}else J=!1}var ne;if(typeof O=="function")ne=function(){O(q)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ve=ie.port2;ie.port1.onmessage=q,ne=function(){ve.postMessage(null)}}else ne=function(){N(q,0)};function be($){U=$,J||(J=!0,ne())}function he($,se){H=N(function(){$(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){_||m||(_=!0,be(D))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function($){switch(y){case 1:case 2:case 3:var se=3;break;default:se=y}var le=y;y=se;try{return $()}finally{y=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,se){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var le=y;y=$;try{return se()}finally{y=le}},n.unstable_scheduleCallback=function($,se,le){var K=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?K+le:K):le=K,$){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=le+T,$={id:d++,callback:se,priorityLevel:$,startTime:le,expirationTime:T,sortIndex:-1},le>K?($.sortIndex=le,e(h,$),t(c)===null&&$===t(h)&&(k?(P(H),H=-1):k=!0,he(L,le-K))):($.sortIndex=T,e(c,$),_||m||(_=!0,be(D))),$},n.unstable_shouldYield=I,n.unstable_wrapCallback=function($){var se=y;return function(){var le=y;y=se;try{return $.apply(this,arguments)}finally{y=le}}}})(Og)),Og}var Q1;function Nx(){return Q1||(Q1=1,Tg.exports=kx()),Tg.exports}var Z1;function Ax(){if(Z1)return Vi;Z1=1;var n=f0(),e=Nx();function t(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,f=1;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,u){o(a,u),o(a+"Capture",u)}function o(a,u){for(i[a]=u,a=0;a<u.length;a++)r.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},g={};function y(a){return c.call(g,a)?!0:c.call(d,a)?!1:h.test(a)?g[a]=!0:(d[a]=!0,!1)}function m(a,u,f,v){if(f!==null&&f.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return v?!1:f!==null?!f.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function _(a,u,f,v){if(u===null||typeof u>"u"||m(a,u,f,v))return!0;if(v)return!1;if(f!==null)switch(f.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function k(a,u,f,v,S,C,F){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=v,this.attributeNamespace=S,this.mustUseProperty=f,this.propertyName=a,this.type=u,this.sanitizeURL=C,this.removeEmptyString=F}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){N[a]=new k(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];N[u]=new k(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){N[a]=new k(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){N[a]=new k(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){N[a]=new k(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){N[a]=new k(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){N[a]=new k(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){N[a]=new k(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){N[a]=new k(a,5,!1,a.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function O(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(P,O);N[u]=new k(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(P,O);N[u]=new k(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(P,O);N[u]=new k(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){N[a]=new k(a,1,!1,a.toLowerCase(),null,!1,!1)}),N.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){N[a]=new k(a,1,!1,a.toLowerCase(),null,!0,!0)});function j(a,u,f,v){var S=N.hasOwnProperty(u)?N[u]:null;(S!==null?S.type!==0:v||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(_(u,f,S,v)&&(f=null),v||S===null?y(u)&&(f===null?a.removeAttribute(u):a.setAttribute(u,""+f)):S.mustUseProperty?a[S.propertyName]=f===null?S.type===3?!1:"":f:(u=S.attributeName,v=S.attributeNamespace,f===null?a.removeAttribute(u):(S=S.type,f=S===3||S===4&&f===!0?"":""+f,v?a.setAttributeNS(v,u,f):a.setAttribute(u,f))))}var L=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),J=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),I=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),$=Symbol.iterator;function se(a){return a===null||typeof a!="object"?null:(a=$&&a[$]||a["@@iterator"],typeof a=="function"?a:null)}var le=Object.assign,K;function T(a){if(K===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);K=u&&u[1]||""}return`
`+K+a}var Y=!1;function ee(a,u){if(!a||Y)return"";Y=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Ce){var v=Ce}Reflect.construct(a,[],u)}else{try{u.call()}catch(Ce){v=Ce}a.call(u.prototype)}else{try{throw Error()}catch(Ce){v=Ce}a()}}catch(Ce){if(Ce&&v&&typeof Ce.stack=="string"){for(var S=Ce.stack.split(`
`),C=v.stack.split(`
`),F=S.length-1,ae=C.length-1;1<=F&&0<=ae&&S[F]!==C[ae];)ae--;for(;1<=F&&0<=ae;F--,ae--)if(S[F]!==C[ae]){if(F!==1||ae!==1)do if(F--,ae--,0>ae||S[F]!==C[ae]){var pe=`
`+S[F].replace(" at new "," at ");return a.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",a.displayName)),pe}while(1<=F&&0<=ae);break}}}finally{Y=!1,Error.prepareStackTrace=f}return(a=a?a.displayName||a.name:"")?T(a):""}function oe(a){switch(a.tag){case 5:return T(a.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return a=ee(a.type,!1),a;case 11:return a=ee(a.type.render,!1),a;case 1:return a=ee(a.type,!0),a;default:return""}}function ce(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case U:return"Fragment";case J:return"Portal";case W:return"Profiler";case H:return"StrictMode";case ne:return"Suspense";case ie:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case I:return(a.displayName||"Context")+".Consumer";case re:return(a._context.displayName||"Context")+".Provider";case q:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ve:return u=a.displayName||null,u!==null?u:ce(a.type)||"Memo";case be:u=a._payload,a=a._init;try{return ce(a(u))}catch{}}return null}function ye(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(u);case 8:return u===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function _e(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ae(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Te(a){var u=Ae(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),v=""+a[u];if(!a.hasOwnProperty(u)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var S=f.get,C=f.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return S.call(this)},set:function(F){v=""+F,C.call(this,F)}}),Object.defineProperty(a,u,{enumerable:f.enumerable}),{getValue:function(){return v},setValue:function(F){v=""+F},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Ue(a){a._valueTracker||(a._valueTracker=Te(a))}function Ve(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var f=u.getValue(),v="";return a&&(v=Ae(a)?a.checked?"true":"false":a.value),a=v,a!==f?(u.setValue(a),!0):!1}function He(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function ct(a,u){var f=u.checked;return le({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??a._wrapperState.initialChecked})}function Q(a,u){var f=u.defaultValue==null?"":u.defaultValue,v=u.checked!=null?u.checked:u.defaultChecked;f=_e(u.value!=null?u.value:f),a._wrapperState={initialChecked:v,initialValue:f,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function $e(a,u){u=u.checked,u!=null&&j(a,"checked",u,!1)}function Mt(a,u){$e(a,u);var f=_e(u.value),v=u.type;if(f!=null)v==="number"?(f===0&&a.value===""||a.value!=f)&&(a.value=""+f):a.value!==""+f&&(a.value=""+f);else if(v==="submit"||v==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?De(a,u.type,f):u.hasOwnProperty("defaultValue")&&De(a,u.type,_e(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function mt(a,u,f){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var v=u.type;if(!(v!=="submit"&&v!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,f||u===a.value||(a.value=u),a.defaultValue=u}f=a.name,f!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,f!==""&&(a.name=f)}function De(a,u,f){(u!=="number"||He(a.ownerDocument)!==a)&&(f==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+f&&(a.defaultValue=""+f))}var dt=Array.isArray;function Ge(a,u,f,v){if(a=a.options,u){u={};for(var S=0;S<f.length;S++)u["$"+f[S]]=!0;for(f=0;f<a.length;f++)S=u.hasOwnProperty("$"+a[f].value),a[f].selected!==S&&(a[f].selected=S),S&&v&&(a[f].defaultSelected=!0)}else{for(f=""+_e(f),u=null,S=0;S<a.length;S++){if(a[S].value===f){a[S].selected=!0,v&&(a[S].defaultSelected=!0);return}u!==null||a[S].disabled||(u=a[S])}u!==null&&(u.selected=!0)}}function gt(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function ft(a,u){var f=u.value;if(f==null){if(f=u.children,u=u.defaultValue,f!=null){if(u!=null)throw Error(t(92));if(dt(f)){if(1<f.length)throw Error(t(93));f=f[0]}u=f}u==null&&(u=""),f=u}a._wrapperState={initialValue:_e(f)}}function Zt(a,u){var f=_e(u.value),v=_e(u.defaultValue);f!=null&&(f=""+f,f!==a.value&&(a.value=f),u.defaultValue==null&&a.defaultValue!==f&&(a.defaultValue=f)),v!=null&&(a.defaultValue=""+v)}function Wt(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function Lt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qt(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?Lt(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ut,rt=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,f,v,S){MSApp.execUnsafeLocalFunction(function(){return a(u,f,v,S)})}:a})(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(Ut=Ut||document.createElement("div"),Ut.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Ut.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function At(a,u){if(u){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=u;return}}a.textContent=u}var nt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$n=["Webkit","ms","Moz","O"];Object.keys(nt).forEach(function(a){$n.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),nt[u]=nt[a]})});function Yt(a,u,f){return u==null||typeof u=="boolean"||u===""?"":f||typeof u!="number"||u===0||nt.hasOwnProperty(a)&&nt[a]?(""+u).trim():u+"px"}function Bt(a,u){a=a.style;for(var f in u)if(u.hasOwnProperty(f)){var v=f.indexOf("--")===0,S=Yt(f,u[f],v);f==="float"&&(f="cssFloat"),v?a.setProperty(f,S):a[f]=S}}var zt=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bn(a,u){if(u){if(zt[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function pt(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cn=null;function vt(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ct=null,on=null,Ot=null;function yt(a){if(a=hl(a)){if(typeof Ct!="function")throw Error(t(280));var u=a.stateNode;u&&(u=oc(u),Ct(a.stateNode,a.type,u))}}function en(a){on?Ot?Ot.push(a):Ot=[a]:on=a}function ma(){if(on){var a=on,u=Ot;if(Ot=on=null,yt(a),u)for(a=0;a<u.length;a++)yt(u[a])}}function Pr(a,u){return a(u)}function bs(){}var ji=!1;function wt(a,u,f){if(ji)return a(u,f);ji=!0;try{return Pr(a,u,f)}finally{ji=!1,(on!==null||Ot!==null)&&(bs(),ma())}}function mi(a,u){var f=a.stateNode;if(f===null)return null;var v=oc(f);if(v===null)return null;f=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(a=a.type,v=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!v;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(t(231,u,typeof f));return f}var Qi=!1;if(l)try{var Ir={};Object.defineProperty(Ir,"passive",{get:function(){Qi=!0}}),window.addEventListener("test",Ir,Ir),window.removeEventListener("test",Ir,Ir)}catch{Qi=!1}function Li(a,u,f,v,S,C,F,ae,pe){var Ce=Array.prototype.slice.call(arguments,3);try{u.apply(f,Ce)}catch(Be){this.onError(Be)}}var _n=!1,Vn=null,nr=!1,zs=null,va={onError:function(a){_n=!0,Vn=a}};function Zi(a,u,f,v,S,C,F,ae,pe){_n=!1,Vn=null,Li.apply(va,arguments)}function _s(a,u,f,v,S,C,F,ae,pe){if(Zi.apply(this,arguments),_n){if(_n){var Ce=Vn;_n=!1,Vn=null}else throw Error(t(198));nr||(nr=!0,zs=Ce)}}function Cr(a){var u=a,f=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(f=u.return),a=u.return;while(a)}return u.tag===3?f:null}function Ti(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function vi(a){if(Cr(a)!==a)throw Error(t(188))}function Ga(a){var u=a.alternate;if(!u){if(u=Cr(a),u===null)throw Error(t(188));return u!==a?null:a}for(var f=a,v=u;;){var S=f.return;if(S===null)break;var C=S.alternate;if(C===null){if(v=S.return,v!==null){f=v;continue}break}if(S.child===C.child){for(C=S.child;C;){if(C===f)return vi(S),a;if(C===v)return vi(S),u;C=C.sibling}throw Error(t(188))}if(f.return!==v.return)f=S,v=C;else{for(var F=!1,ae=S.child;ae;){if(ae===f){F=!0,f=S,v=C;break}if(ae===v){F=!0,v=S,f=C;break}ae=ae.sibling}if(!F){for(ae=C.child;ae;){if(ae===f){F=!0,f=C,v=S;break}if(ae===v){F=!0,v=C,f=S;break}ae=ae.sibling}if(!F)throw Error(t(189))}}if(f.alternate!==v)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?a:u}function es(a){return a=Ga(a),a!==null?ya(a):null}function ya(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=ya(a);if(u!==null)return u;a=a.sibling}return null}var Ka=e.unstable_scheduleCallback,Ya=e.unstable_cancelCallback,qo=e.unstable_shouldYield,ah=e.unstable_requestPaint,Nn=e.unstable_now,$c=e.unstable_getCurrentPriorityLevel,Ho=e.unstable_ImmediatePriority,yi=e.unstable_UserBlockingPriority,wa=e.unstable_NormalPriority,Vc=e.unstable_LowPriority,$o=e.unstable_IdlePriority,Ja=null,wi=null;function Gc(a){if(wi&&typeof wi.onCommitFiberRoot=="function")try{wi.onCommitFiberRoot(Ja,a,void 0,(a.current.flags&128)===128)}catch{}}var rr=Math.clz32?Math.clz32:ir,Vo=Math.log,oh=Math.LN2;function ir(a){return a>>>=0,a===0?32:31-(Vo(a)/oh|0)|0}var Xa=64,bi=4194304;function xs(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Qa(a,u){var f=a.pendingLanes;if(f===0)return 0;var v=0,S=a.suspendedLanes,C=a.pingedLanes,F=f&268435455;if(F!==0){var ae=F&~S;ae!==0?v=xs(ae):(C&=F,C!==0&&(v=xs(C)))}else F=f&~S,F!==0?v=xs(F):C!==0&&(v=xs(C));if(v===0)return 0;if(u!==0&&u!==v&&(u&S)===0&&(S=v&-v,C=u&-u,S>=C||S===16&&(C&4194240)!==0))return u;if((v&4)!==0&&(v|=f&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=v;0<u;)f=31-rr(u),S=1<<f,v|=a[f],u&=~S;return v}function Oi(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fr(a,u){for(var f=a.suspendedLanes,v=a.pingedLanes,S=a.expirationTimes,C=a.pendingLanes;0<C;){var F=31-rr(C),ae=1<<F,pe=S[F];pe===-1?((ae&f)===0||(ae&v)!==0)&&(S[F]=Oi(ae,u)):pe<=u&&(a.expiredLanes|=ae),C&=~ae}}function ts(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function ql(){var a=Xa;return Xa<<=1,(Xa&4194240)===0&&(Xa=64),a}function Hl(a){for(var u=[],f=0;31>f;f++)u.push(a);return u}function Za(a,u,f){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-rr(u),a[u]=f}function Ss(a,u){var f=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var v=a.eventTimes;for(a=a.expirationTimes;0<f;){var S=31-rr(f),C=1<<S;u[S]=0,v[S]=-1,a[S]=-1,f&=~C}}function Go(a,u){var f=a.entangledLanes|=u;for(a=a.entanglements;f;){var v=31-rr(f),S=1<<v;S&u|a[v]&u&&(a[v]|=u),f&=~S}}var Qt=0;function eo(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var ba,$l,Kc,Yc,Ko,Yo=!1,ei=[],ks=null,ti=null,Ri=null,to=new Map,xt=new Map,Ns=[],lh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jc(a,u){switch(a){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":to.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":xt.delete(u.pointerId)}}function _i(a,u,f,v,S,C){return a===null||a.nativeEvent!==C?(a={blockedOn:u,domEventName:f,eventSystemFlags:v,nativeEvent:C,targetContainers:[S]},u!==null&&(u=hl(u),u!==null&&$l(u)),a):(a.eventSystemFlags|=v,u=a.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),a)}function Ws(a,u,f,v,S){switch(u){case"focusin":return ks=_i(ks,a,u,f,v,S),!0;case"dragenter":return ti=_i(ti,a,u,f,v,S),!0;case"mouseover":return Ri=_i(Ri,a,u,f,v,S),!0;case"pointerover":var C=S.pointerId;return to.set(C,_i(to.get(C)||null,a,u,f,v,S)),!0;case"gotpointercapture":return C=S.pointerId,xt.set(C,_i(xt.get(C)||null,a,u,f,v,S)),!0}return!1}function Xc(a){var u=La(a.target);if(u!==null){var f=Cr(u);if(f!==null){if(u=f.tag,u===13){if(u=Ti(f),u!==null){a.blockedOn=u,Ko(a.priority,function(){Kc(f)});return}}else if(u===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Jo(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var f=io(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(f===null){f=a.nativeEvent;var v=new f.constructor(f.type,f);cn=v,f.target.dispatchEvent(v),cn=null}else return u=hl(f),u!==null&&$l(u),a.blockedOn=f,!1;u.shift()}return!0}function no(a,u,f){Jo(a)&&f.delete(u)}function Vl(){Yo=!1,ks!==null&&Jo(ks)&&(ks=null),ti!==null&&Jo(ti)&&(ti=null),Ri!==null&&Jo(Ri)&&(Ri=null),to.forEach(no),xt.forEach(no)}function ns(a,u){a.blockedOn===u&&(a.blockedOn=null,Yo||(Yo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vl)))}function ro(a){function u(S){return ns(S,a)}if(0<ei.length){ns(ei[0],a);for(var f=1;f<ei.length;f++){var v=ei[f];v.blockedOn===a&&(v.blockedOn=null)}}for(ks!==null&&ns(ks,a),ti!==null&&ns(ti,a),Ri!==null&&ns(Ri,a),to.forEach(u),xt.forEach(u),f=0;f<Ns.length;f++)v=Ns[f],v.blockedOn===a&&(v.blockedOn=null);for(;0<Ns.length&&(f=Ns[0],f.blockedOn===null);)Xc(f),f.blockedOn===null&&Ns.shift()}var ni=L.ReactCurrentBatchConfig,Xo=!0;function Gl(a,u,f,v){var S=Qt,C=ni.transition;ni.transition=null;try{Qt=1,Qo(a,u,f,v)}finally{Qt=S,ni.transition=C}}function Kl(a,u,f,v){var S=Qt,C=ni.transition;ni.transition=null;try{Qt=4,Qo(a,u,f,v)}finally{Qt=S,ni.transition=C}}function Qo(a,u,f,v){if(Xo){var S=io(a,u,f,v);if(S===null)ic(a,u,v,Mi,f),Jc(a,v);else if(Ws(S,a,u,f,v))v.stopPropagation();else if(Jc(a,v),u&4&&-1<lh.indexOf(a)){for(;S!==null;){var C=hl(S);if(C!==null&&ba(C),C=io(a,u,f,v),C===null&&ic(a,u,v,Mi,f),C===S)break;S=C}S!==null&&v.stopPropagation()}else ic(a,u,v,null,f)}}var Mi=null;function io(a,u,f,v){if(Mi=null,a=vt(v),a=La(a),a!==null)if(u=Cr(a),u===null)a=null;else if(f=u.tag,f===13){if(a=Ti(u),a!==null)return a;a=null}else if(f===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return Mi=a,null}function so(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($c()){case Ho:return 1;case yi:return 4;case wa:case Vc:return 16;case $o:return 536870912;default:return 16}default:return 16}}var Ii=null,qs=null,_a=null;function Yl(){if(_a)return _a;var a,u=qs,f=u.length,v,S="value"in Ii?Ii.value:Ii.textContent,C=S.length;for(a=0;a<f&&u[a]===S[a];a++);var F=f-a;for(v=1;v<=F&&u[f-v]===S[C-v];v++);return _a=S.slice(a,1<v?1-v:void 0)}function ao(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function Di(){return!0}function As(){return!1}function Dr(a){function u(f,v,S,C,F){this._reactName=f,this._targetInst=S,this.type=v,this.nativeEvent=C,this.target=F,this.currentTarget=null;for(var ae in a)a.hasOwnProperty(ae)&&(f=a[ae],this[ae]=f?f(C):C[ae]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Di:As,this.isPropagationStopped=As,this}return le(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),u}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zo=Dr(Fi),x=le({},Fi,{view:0,detail:0}),M=Dr(x),te,ue,we,Oe=le({},x,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==we&&(we&&a.type==="mousemove"?(te=a.screenX-we.screenX,ue=a.screenY-we.screenY):ue=te=0,we=a),te)},movementY:function(a){return"movementY"in a?a.movementY:ue}}),Ie=Dr(Oe),Qe=le({},Oe,{dataTransfer:0}),st=Dr(Qe),Pt=le({},x,{relatedTarget:0}),Tt=Dr(Pt),Jt=le({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Mn=Dr(Jt),sr=le({},Fi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),xn=Dr(sr),pr=le({},Fi,{data:0}),Gn=Dr(pr),Er={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $s(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=rs[a])?!!u[a]:!1}function oo(){return $s}var el=le({},x,{key:function(a){if(a.key){var u=Er[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=ao(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Hs[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(a){return a.type==="keypress"?ao(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ao(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),xa=Dr(el),lo=le({},Oe,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sa=Dr(lo),ka=le({},x,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),jr=Dr(ka),co=le({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),uo=Dr(co),Jl=le({},Oe,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Xl=Dr(Jl),Gr=[9,13,27,32],is=l&&"CompositionEvent"in window,Ps=null;l&&"documentMode"in document&&(Ps=document.documentMode);var Qc=l&&"TextEvent"in window&&!Ps,xi=l&&(!is||Ps&&8<Ps&&11>=Ps),Na=" ",tl=!1;function nl(a,u){switch(a){case"keyup":return Gr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vs(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Bi=!1;function Si(a,u){switch(a){case"compositionend":return Vs(u);case"keypress":return u.which!==32?null:(tl=!0,Na);case"textInput":return a=u.data,a===Na&&tl?null:a;default:return null}}function ki(a,u){if(Bi)return a==="compositionend"||!is&&nl(a,u)?(a=Yl(),_a=qs=Ii=null,Bi=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return xi&&u.locale!=="ko"?null:u.data;default:return null}}var Aa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cs(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!Aa[a.type]:u==="textarea"}function Gs(a,u,f,v){en(v),u=ru(u,"onChange"),0<u.length&&(f=new Zo("onChange","change",null,f,v),a.push({event:f,listeners:u}))}var Ks=null,Es=null;function Kn(a){nc(a,0)}function ho(a){var u=xo(a);if(Ve(u))return a}function js(a,u){if(a==="change")return u}var ss=!1;if(l){var fo;if(l){var po="oninput"in document;if(!po){var rl=document.createElement("div");rl.setAttribute("oninput","return;"),po=typeof rl.oninput=="function"}fo=po}else fo=!1;ss=fo&&(!document.documentMode||9<document.documentMode)}function il(){Ks&&(Ks.detachEvent("onpropertychange",Ys),Es=Ks=null)}function Ys(a){if(a.propertyName==="value"&&ho(Es)){var u=[];Gs(u,Es,a,vt(a)),wt(Kn,u)}}function Pa(a,u,f){a==="focusin"?(il(),Ks=u,Es=f,Ks.attachEvent("onpropertychange",Ys)):a==="focusout"&&il()}function Ca(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ho(Es)}function go(a,u){if(a==="click")return ho(u)}function Ea(a,u){if(a==="input"||a==="change")return ho(u)}function mo(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var Bn=typeof Object.is=="function"?Object.is:mo;function ri(a,u){if(Bn(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var f=Object.keys(a),v=Object.keys(u);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var S=f[v];if(!c.call(u,S)||!Bn(a[S],u[S]))return!1}return!0}function tn(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function un(a,u){var f=tn(a);a=0;for(var v;f;){if(f.nodeType===3){if(v=a+f.textContent.length,a<=u&&v>=u)return{node:f,offset:u-a};a=v}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=tn(f)}}function Un(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?Un(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function ar(){for(var a=window,u=He();u instanceof a.HTMLIFrameElement;){try{var f=typeof u.contentWindow.location.href=="string"}catch{f=!1}if(f)a=u.contentWindow;else break;u=He(a.document)}return u}function as(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function Ql(a){var u=ar(),f=a.focusedElem,v=a.selectionRange;if(u!==f&&f&&f.ownerDocument&&Un(f.ownerDocument.documentElement,f)){if(v!==null&&as(f)){if(u=v.start,a=v.end,a===void 0&&(a=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(a,f.value.length);else if(a=(u=f.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var S=f.textContent.length,C=Math.min(v.start,S);v=v.end===void 0?C:Math.min(v.end,S),!a.extend&&C>v&&(S=v,v=C,C=S),S=un(f,C);var F=un(f,v);S&&F&&(a.rangeCount!==1||a.anchorNode!==S.node||a.anchorOffset!==S.offset||a.focusNode!==F.node||a.focusOffset!==F.offset)&&(u=u.createRange(),u.setStart(S.node,S.offset),a.removeAllRanges(),C>v?(a.addRange(u),a.extend(F.node,F.offset)):(u.setEnd(F.node,F.offset),a.addRange(u)))}}for(u=[],a=f;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)a=u[f],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var sl=l&&"documentMode"in document&&11>=document.documentMode,Js=null,Zc=null,al=null,eu=!1;function ch(a,u,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;eu||Js==null||Js!==He(v)||(v=Js,"selectionStart"in v&&as(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),al&&ri(al,v)||(al=v,v=ru(Zc,"onSelect"),0<v.length&&(u=new Zo("onSelect","select",null,u,f),a.push({event:u,listeners:v}),u.target=Js)))}function Zl(a,u){var f={};return f[a.toLowerCase()]=u.toLowerCase(),f["Webkit"+a]="webkit"+u,f["Moz"+a]="moz"+u,f}var vo={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionend:Zl("Transition","TransitionEnd")},yo={},uh={};l&&(uh=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function ec(a){if(yo[a])return yo[a];if(!vo[a])return a;var u=vo[a],f;for(f in u)if(u.hasOwnProperty(f)&&f in uh)return yo[a]=u[f];return a}var hh=ec("animationend"),dh=ec("animationiteration"),fh=ec("animationstart"),ph=ec("transitionend"),gh=new Map,mh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(a,u){gh.set(a,u),s(u,[a])}for(var ol=0;ol<mh.length;ol++){var Kr=mh[ol],Ui=Kr.toLowerCase(),tu=Kr[0].toUpperCase()+Kr.slice(1);Ls(Ui,"on"+tu)}Ls(hh,"onAnimationEnd"),Ls(dh,"onAnimationIteration"),Ls(fh,"onAnimationStart"),Ls("dblclick","onDoubleClick"),Ls("focusin","onFocus"),Ls("focusout","onBlur"),Ls(ph,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cd=new Set("cancel close invalid load scroll toggle".split(" ").concat(ja));function tc(a,u,f){var v=a.type||"unknown-event";a.currentTarget=f,_s(v,u,void 0,a),a.currentTarget=null}function nc(a,u){u=(u&4)!==0;for(var f=0;f<a.length;f++){var v=a[f],S=v.event;v=v.listeners;e:{var C=void 0;if(u)for(var F=v.length-1;0<=F;F--){var ae=v[F],pe=ae.instance,Ce=ae.currentTarget;if(ae=ae.listener,pe!==C&&S.isPropagationStopped())break e;tc(S,ae,Ce),C=pe}else for(F=0;F<v.length;F++){if(ae=v[F],pe=ae.instance,Ce=ae.currentTarget,ae=ae.listener,pe!==C&&S.isPropagationStopped())break e;tc(S,ae,Ce),C=pe}}}if(nr)throw a=zs,nr=!1,zs=null,a}function fn(a,u){var f=u[si];f===void 0&&(f=u[si]=new Set);var v=a+"__bubble";f.has(v)||(rc(u,a,2,!1),f.add(v))}function nu(a,u,f){var v=0;u&&(v|=4),rc(f,a,v,u)}var ll="_reactListening"+Math.random().toString(36).slice(2);function wo(a){if(!a[ll]){a[ll]=!0,r.forEach(function(f){f!=="selectionchange"&&(Cd.has(f)||nu(f,!1,a),nu(f,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[ll]||(u[ll]=!0,nu("selectionchange",!1,u))}}function rc(a,u,f,v){switch(so(u)){case 1:var S=Gl;break;case 4:S=Kl;break;default:S=Qo}f=S.bind(null,u,f,a),S=void 0,!Qi||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),v?S!==void 0?a.addEventListener(u,f,{capture:!0,passive:S}):a.addEventListener(u,f,!0):S!==void 0?a.addEventListener(u,f,{passive:S}):a.addEventListener(u,f,!1)}function ic(a,u,f,v,S){var C=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var F=v.tag;if(F===3||F===4){var ae=v.stateNode.containerInfo;if(ae===S||ae.nodeType===8&&ae.parentNode===S)break;if(F===4)for(F=v.return;F!==null;){var pe=F.tag;if((pe===3||pe===4)&&(pe=F.stateNode.containerInfo,pe===S||pe.nodeType===8&&pe.parentNode===S))return;F=F.return}for(;ae!==null;){if(F=La(ae),F===null)return;if(pe=F.tag,pe===5||pe===6){v=C=F;continue e}ae=ae.parentNode}}v=v.return}wt(function(){var Ce=C,Be=vt(f),ze=[];e:{var Fe=gh.get(a);if(Fe!==void 0){var Ke=Zo,et=a;switch(a){case"keypress":if(ao(f)===0)break e;case"keydown":case"keyup":Ke=xa;break;case"focusin":et="focus",Ke=Tt;break;case"focusout":et="blur",Ke=Tt;break;case"beforeblur":case"afterblur":Ke=Tt;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ke=Ie;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ke=st;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ke=jr;break;case hh:case dh:case fh:Ke=Mn;break;case ph:Ke=uo;break;case"scroll":Ke=M;break;case"wheel":Ke=Xl;break;case"copy":case"cut":case"paste":Ke=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ke=Sa}var it=(u&4)!==0,vr=!it&&a==="scroll",ke=it?Fe!==null?Fe+"Capture":null:Fe;it=[];for(var me=Ce,Pe;me!==null;){Pe=me;var We=Pe.stateNode;if(Pe.tag===5&&We!==null&&(Pe=We,ke!==null&&(We=mi(me,ke),We!=null&&it.push(sc(me,We,Pe)))),vr)break;me=me.return}0<it.length&&(Fe=new Ke(Fe,et,null,f,Be),ze.push({event:Fe,listeners:it}))}}if((u&7)===0){e:{if(Fe=a==="mouseover"||a==="pointerover",Ke=a==="mouseout"||a==="pointerout",Fe&&f!==cn&&(et=f.relatedTarget||f.fromElement)&&(La(et)||et[Fr]))break e;if((Ke||Fe)&&(Fe=Be.window===Be?Be:(Fe=Be.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,Ke?(et=f.relatedTarget||f.toElement,Ke=Ce,et=et?La(et):null,et!==null&&(vr=Cr(et),et!==vr||et.tag!==5&&et.tag!==6)&&(et=null)):(Ke=null,et=Ce),Ke!==et)){if(it=Ie,We="onMouseLeave",ke="onMouseEnter",me="mouse",(a==="pointerout"||a==="pointerover")&&(it=Sa,We="onPointerLeave",ke="onPointerEnter",me="pointer"),vr=Ke==null?Fe:xo(Ke),Pe=et==null?Fe:xo(et),Fe=new it(We,me+"leave",Ke,f,Be),Fe.target=vr,Fe.relatedTarget=Pe,We=null,La(Be)===Ce&&(it=new it(ke,me+"enter",et,f,Be),it.target=Pe,it.relatedTarget=vr,We=it),vr=We,Ke&&et)t:{for(it=Ke,ke=et,me=0,Pe=it;Pe;Pe=bo(Pe))me++;for(Pe=0,We=ke;We;We=bo(We))Pe++;for(;0<me-Pe;)it=bo(it),me--;for(;0<Pe-me;)ke=bo(ke),Pe--;for(;me--;){if(it===ke||ke!==null&&it===ke.alternate)break t;it=bo(it),ke=bo(ke)}it=null}else it=null;Ke!==null&&Ed(ze,Fe,Ke,it,!1),et!==null&&vr!==null&&Ed(ze,vr,et,it,!0)}}e:{if(Fe=Ce?xo(Ce):window,Ke=Fe.nodeName&&Fe.nodeName.toLowerCase(),Ke==="select"||Ke==="input"&&Fe.type==="file")var ot=js;else if(Cs(Fe))if(ss)ot=Ea;else{ot=Ca;var bt=Pa}else(Ke=Fe.nodeName)&&Ke.toLowerCase()==="input"&&(Fe.type==="checkbox"||Fe.type==="radio")&&(ot=go);if(ot&&(ot=ot(a,Ce))){Gs(ze,ot,f,Be);break e}bt&&bt(a,Fe,Ce),a==="focusout"&&(bt=Fe._wrapperState)&&bt.controlled&&Fe.type==="number"&&De(Fe,"number",Fe.value)}switch(bt=Ce?xo(Ce):window,a){case"focusin":(Cs(bt)||bt.contentEditable==="true")&&(Js=bt,Zc=Ce,al=null);break;case"focusout":al=Zc=Js=null;break;case"mousedown":eu=!0;break;case"contextmenu":case"mouseup":case"dragend":eu=!1,ch(ze,f,Be);break;case"selectionchange":if(sl)break;case"keydown":case"keyup":ch(ze,f,Be)}var _t;if(is)e:{switch(a){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else Bi?nl(a,f)&&(Et="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(Et="onCompositionStart");Et&&(xi&&f.locale!=="ko"&&(Bi||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Bi&&(_t=Yl()):(Ii=Be,qs="value"in Ii?Ii.value:Ii.textContent,Bi=!0)),bt=ru(Ce,Et),0<bt.length&&(Et=new Gn(Et,a,null,f,Be),ze.push({event:Et,listeners:bt}),_t?Et.data=_t:(_t=Vs(f),_t!==null&&(Et.data=_t)))),(_t=Qc?Si(a,f):ki(a,f))&&(Ce=ru(Ce,"onBeforeInput"),0<Ce.length&&(Be=new Gn("onBeforeInput","beforeinput",null,f,Be),ze.push({event:Be,listeners:Ce}),Be.data=_t))}nc(ze,u)})}function sc(a,u,f){return{instance:a,listener:u,currentTarget:f}}function ru(a,u){for(var f=u+"Capture",v=[];a!==null;){var S=a,C=S.stateNode;S.tag===5&&C!==null&&(S=C,C=mi(a,f),C!=null&&v.unshift(sc(a,C,S)),C=mi(a,u),C!=null&&v.push(sc(a,C,S))),a=a.return}return v}function bo(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Ed(a,u,f,v,S){for(var C=u._reactName,F=[];f!==null&&f!==v;){var ae=f,pe=ae.alternate,Ce=ae.stateNode;if(pe!==null&&pe===v)break;ae.tag===5&&Ce!==null&&(ae=Ce,S?(pe=mi(f,C),pe!=null&&F.unshift(sc(f,pe,ae))):S||(pe=mi(f,C),pe!=null&&F.push(sc(f,pe,ae)))),f=f.return}F.length!==0&&a.push({event:u,listeners:F})}var qp=/\r\n?/g,Hp=/\u0000|\uFFFD/g;function jd(a){return(typeof a=="string"?a:""+a).replace(qp,`
`).replace(Hp,"")}function iu(a,u,f){if(u=jd(u),jd(a)!==u&&f)throw Error(t(425))}function cl(){}var ac=null,_o=null;function vh(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var yh=typeof setTimeout=="function"?setTimeout:void 0,Ld=typeof clearTimeout=="function"?clearTimeout:void 0,Td=typeof Promise=="function"?Promise:void 0,$p=typeof queueMicrotask=="function"?queueMicrotask:typeof Td<"u"?function(a){return Td.resolve(null).then(a).catch(Vp)}:yh;function Vp(a){setTimeout(function(){throw a})}function wh(a,u){var f=u,v=0;do{var S=f.nextSibling;if(a.removeChild(f),S&&S.nodeType===8)if(f=S.data,f==="/$"){if(v===0){a.removeChild(S),ro(u);return}v--}else f!=="$"&&f!=="$?"&&f!=="$!"||v++;f=S}while(f);ro(u)}function Yr(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function zi(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(u===0)return a;u--}else f==="/$"&&u++}a=a.previousSibling}return null}var ii=Math.random().toString(36).slice(2),Ts="__reactFiber$"+ii,ul="__reactProps$"+ii,Fr="__reactContainer$"+ii,si="__reactEvents$"+ii,Gp="__reactListeners$"+ii,Kp="__reactHandles$"+ii;function La(a){var u=a[Ts];if(u)return u;for(var f=a.parentNode;f;){if(u=f[Fr]||f[Ts]){if(f=u.alternate,u.child!==null||f!==null&&f.child!==null)for(a=zi(a);a!==null;){if(f=a[Ts])return f;a=zi(a)}return u}a=f,f=a.parentNode}return null}function hl(a){return a=a[Ts]||a[Fr],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function xo(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function oc(a){return a[ul]||null}var bh=[],Xs=-1;function os(a){return{current:a}}function ln(a){0>Xs||(a.current=bh[Xs],bh[Xs]=null,Xs--)}function hn(a,u){Xs++,bh[Xs]=a.current,a.current=u}var Ta={},Lr=os(Ta),ai=os(!1),So=Ta;function dl(a,u){var f=a.type.contextTypes;if(!f)return Ta;var v=a.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var S={},C;for(C in f)S[C]=u[C];return v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=S),S}function oi(a){return a=a.childContextTypes,a!=null}function su(){ln(ai),ln(Lr)}function Od(a,u,f){if(Lr.current!==Ta)throw Error(t(168));hn(Lr,u),hn(ai,f)}function _h(a,u,f){var v=a.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return f;v=v.getChildContext();for(var S in v)if(!(S in u))throw Error(t(108,ye(a)||"Unknown",S));return le({},f,v)}function ko(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ta,So=Lr.current,hn(Lr,a),hn(ai,ai.current),!0}function Rd(a,u,f){var v=a.stateNode;if(!v)throw Error(t(169));f?(a=_h(a,u,So),v.__reactInternalMemoizedMergedChildContext=a,ln(ai),ln(Lr),hn(Lr,a)):ln(ai),hn(ai,f)}var Qs=null,lc=!1,p=!1;function w(a){Qs===null?Qs=[a]:Qs.push(a)}function A(a){lc=!0,w(a)}function E(){if(!p&&Qs!==null){p=!0;var a=0,u=Qt;try{var f=Qs;for(Qt=1;a<f.length;a++){var v=f[a];do v=v(!0);while(v!==null)}Qs=null,lc=!1}catch(S){throw Qs!==null&&(Qs=Qs.slice(a+1)),Ka(Ho,E),S}finally{Qt=u,p=!1}}return null}var R=[],B=0,z=null,V=0,G=[],X=0,fe=null,Se=1,Z="";function ge(a,u){R[B++]=V,R[B++]=z,z=a,V=u}function xe(a,u,f){G[X++]=Se,G[X++]=Z,G[X++]=fe,fe=a;var v=Se;a=Z;var S=32-rr(v)-1;v&=~(1<<S),f+=1;var C=32-rr(u)+S;if(30<C){var F=S-S%5;C=(v&(1<<F)-1).toString(32),v>>=F,S-=F,Se=1<<32-rr(u)+S|f<<S|v,Z=C+a}else Se=1<<C|f<<S|v,Z=a}function Le(a){a.return!==null&&(ge(a,1),xe(a,1,0))}function Ne(a){for(;a===z;)z=R[--B],R[B]=null,V=R[--B],R[B]=null;for(;a===fe;)fe=G[--X],G[X]=null,Z=G[--X],G[X]=null,Se=G[--X],G[X]=null}var Ee=null,je=null,Re=!1,Me=null;function at(a,u){var f=Ds(5,null,null,0);f.elementType="DELETED",f.stateNode=u,f.return=a,u=a.deletions,u===null?(a.deletions=[f],a.flags|=16):u.push(f)}function Ye(a,u){switch(a.tag){case 5:var f=a.type;return u=u.nodeType!==1||f.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,Ee=a,je=Yr(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,Ee=a,je=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(f=fe!==null?{id:Se,overflow:Z}:null,a.memoizedState={dehydrated:u,treeContext:f,retryLane:1073741824},f=Ds(18,null,null,0),f.stateNode=u,f.return=a,a.child=f,Ee=a,je=null,!0):!1;default:return!1}}function Rt(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Ze(a){if(Re){var u=je;if(u){var f=u;if(!Ye(a,u)){if(Rt(a))throw Error(t(418));u=Yr(f.nextSibling);var v=Ee;u&&Ye(a,u)?at(v,f):(a.flags=a.flags&-4097|2,Re=!1,Ee=a)}}else{if(Rt(a))throw Error(t(418));a.flags=a.flags&-4097|2,Re=!1,Ee=a}}}function $t(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Ee=a}function zn(a){if(a!==Ee)return!1;if(!Re)return $t(a),Re=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!vh(a.type,a.memoizedProps)),u&&(u=je)){if(Rt(a))throw It(),Error(t(418));for(;u;)at(a,u),u=Yr(u.nextSibling)}if($t(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"){if(u===0){je=Yr(a.nextSibling);break e}u--}else f!=="$"&&f!=="$!"&&f!=="$?"||u++}a=a.nextSibling}je=null}}else je=Ee?Yr(a.stateNode.nextSibling):null;return!0}function It(){for(var a=je;a;)a=Yr(a.nextSibling)}function Je(){je=Ee=null,Re=!1}function qe(a){Me===null?Me=[a]:Me.push(a)}var Yn=L.ReactCurrentBatchConfig;function kt(a,u,f){if(a=f.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var v=f.stateNode}if(!v)throw Error(t(147,a));var S=v,C=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===C?u.ref:(u=function(F){var ae=S.refs;F===null?delete ae[C]:ae[C]=F},u._stringRef=C,u)}if(typeof a!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,a))}return a}function Ht(a,u){throw a=Object.prototype.toString.call(u),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function Sn(a){var u=a._init;return u(a._payload)}function xr(a){function u(ke,me){if(a){var Pe=ke.deletions;Pe===null?(ke.deletions=[me],ke.flags|=16):Pe.push(me)}}function f(ke,me){if(!a)return null;for(;me!==null;)u(ke,me),me=me.sibling;return null}function v(ke,me){for(ke=new Map;me!==null;)me.key!==null?ke.set(me.key,me):ke.set(me.index,me),me=me.sibling;return ke}function S(ke,me){return ke=xl(ke,me),ke.index=0,ke.sibling=null,ke}function C(ke,me,Pe){return ke.index=Pe,a?(Pe=ke.alternate,Pe!==null?(Pe=Pe.index,Pe<me?(ke.flags|=2,me):Pe):(ke.flags|=2,me)):(ke.flags|=1048576,me)}function F(ke){return a&&ke.alternate===null&&(ke.flags|=2),ke}function ae(ke,me,Pe,We){return me===null||me.tag!==6?(me=Sg(Pe,ke.mode,We),me.return=ke,me):(me=S(me,Pe),me.return=ke,me)}function pe(ke,me,Pe,We){var ot=Pe.type;return ot===U?Be(ke,me,Pe.props.children,We,Pe.key):me!==null&&(me.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===be&&Sn(ot)===me.type)?(We=S(me,Pe.props),We.ref=kt(ke,me,Pe),We.return=ke,We):(We=ef(Pe.type,Pe.key,Pe.props,null,ke.mode,We),We.ref=kt(ke,me,Pe),We.return=ke,We)}function Ce(ke,me,Pe,We){return me===null||me.tag!==4||me.stateNode.containerInfo!==Pe.containerInfo||me.stateNode.implementation!==Pe.implementation?(me=kg(Pe,ke.mode,We),me.return=ke,me):(me=S(me,Pe.children||[]),me.return=ke,me)}function Be(ke,me,Pe,We,ot){return me===null||me.tag!==7?(me=mc(Pe,ke.mode,We,ot),me.return=ke,me):(me=S(me,Pe),me.return=ke,me)}function ze(ke,me,Pe){if(typeof me=="string"&&me!==""||typeof me=="number")return me=Sg(""+me,ke.mode,Pe),me.return=ke,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case D:return Pe=ef(me.type,me.key,me.props,null,ke.mode,Pe),Pe.ref=kt(ke,null,me),Pe.return=ke,Pe;case J:return me=kg(me,ke.mode,Pe),me.return=ke,me;case be:var We=me._init;return ze(ke,We(me._payload),Pe)}if(dt(me)||se(me))return me=mc(me,ke.mode,Pe,null),me.return=ke,me;Ht(ke,me)}return null}function Fe(ke,me,Pe,We){var ot=me!==null?me.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return ot!==null?null:ae(ke,me,""+Pe,We);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case D:return Pe.key===ot?pe(ke,me,Pe,We):null;case J:return Pe.key===ot?Ce(ke,me,Pe,We):null;case be:return ot=Pe._init,Fe(ke,me,ot(Pe._payload),We)}if(dt(Pe)||se(Pe))return ot!==null?null:Be(ke,me,Pe,We,null);Ht(ke,Pe)}return null}function Ke(ke,me,Pe,We,ot){if(typeof We=="string"&&We!==""||typeof We=="number")return ke=ke.get(Pe)||null,ae(me,ke,""+We,ot);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case D:return ke=ke.get(We.key===null?Pe:We.key)||null,pe(me,ke,We,ot);case J:return ke=ke.get(We.key===null?Pe:We.key)||null,Ce(me,ke,We,ot);case be:var bt=We._init;return Ke(ke,me,Pe,bt(We._payload),ot)}if(dt(We)||se(We))return ke=ke.get(Pe)||null,Be(me,ke,We,ot,null);Ht(me,We)}return null}function et(ke,me,Pe,We){for(var ot=null,bt=null,_t=me,Et=me=0,qr=null;_t!==null&&Et<Pe.length;Et++){_t.index>Et?(qr=_t,_t=null):qr=_t.sibling;var an=Fe(ke,_t,Pe[Et],We);if(an===null){_t===null&&(_t=qr);break}a&&_t&&an.alternate===null&&u(ke,_t),me=C(an,me,Et),bt===null?ot=an:bt.sibling=an,bt=an,_t=qr}if(Et===Pe.length)return f(ke,_t),Re&&ge(ke,Et),ot;if(_t===null){for(;Et<Pe.length;Et++)_t=ze(ke,Pe[Et],We),_t!==null&&(me=C(_t,me,Et),bt===null?ot=_t:bt.sibling=_t,bt=_t);return Re&&ge(ke,Et),ot}for(_t=v(ke,_t);Et<Pe.length;Et++)qr=Ke(_t,ke,Et,Pe[Et],We),qr!==null&&(a&&qr.alternate!==null&&_t.delete(qr.key===null?Et:qr.key),me=C(qr,me,Et),bt===null?ot=qr:bt.sibling=qr,bt=qr);return a&&_t.forEach(function(Sl){return u(ke,Sl)}),Re&&ge(ke,Et),ot}function it(ke,me,Pe,We){var ot=se(Pe);if(typeof ot!="function")throw Error(t(150));if(Pe=ot.call(Pe),Pe==null)throw Error(t(151));for(var bt=ot=null,_t=me,Et=me=0,qr=null,an=Pe.next();_t!==null&&!an.done;Et++,an=Pe.next()){_t.index>Et?(qr=_t,_t=null):qr=_t.sibling;var Sl=Fe(ke,_t,an.value,We);if(Sl===null){_t===null&&(_t=qr);break}a&&_t&&Sl.alternate===null&&u(ke,_t),me=C(Sl,me,Et),bt===null?ot=Sl:bt.sibling=Sl,bt=Sl,_t=qr}if(an.done)return f(ke,_t),Re&&ge(ke,Et),ot;if(_t===null){for(;!an.done;Et++,an=Pe.next())an=ze(ke,an.value,We),an!==null&&(me=C(an,me,Et),bt===null?ot=an:bt.sibling=an,bt=an);return Re&&ge(ke,Et),ot}for(_t=v(ke,_t);!an.done;Et++,an=Pe.next())an=Ke(_t,ke,Et,an.value,We),an!==null&&(a&&an.alternate!==null&&_t.delete(an.key===null?Et:an.key),me=C(an,me,Et),bt===null?ot=an:bt.sibling=an,bt=an);return a&&_t.forEach(function(vx){return u(ke,vx)}),Re&&ge(ke,Et),ot}function vr(ke,me,Pe,We){if(typeof Pe=="object"&&Pe!==null&&Pe.type===U&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case D:e:{for(var ot=Pe.key,bt=me;bt!==null;){if(bt.key===ot){if(ot=Pe.type,ot===U){if(bt.tag===7){f(ke,bt.sibling),me=S(bt,Pe.props.children),me.return=ke,ke=me;break e}}else if(bt.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===be&&Sn(ot)===bt.type){f(ke,bt.sibling),me=S(bt,Pe.props),me.ref=kt(ke,bt,Pe),me.return=ke,ke=me;break e}f(ke,bt);break}else u(ke,bt);bt=bt.sibling}Pe.type===U?(me=mc(Pe.props.children,ke.mode,We,Pe.key),me.return=ke,ke=me):(We=ef(Pe.type,Pe.key,Pe.props,null,ke.mode,We),We.ref=kt(ke,me,Pe),We.return=ke,ke=We)}return F(ke);case J:e:{for(bt=Pe.key;me!==null;){if(me.key===bt)if(me.tag===4&&me.stateNode.containerInfo===Pe.containerInfo&&me.stateNode.implementation===Pe.implementation){f(ke,me.sibling),me=S(me,Pe.children||[]),me.return=ke,ke=me;break e}else{f(ke,me);break}else u(ke,me);me=me.sibling}me=kg(Pe,ke.mode,We),me.return=ke,ke=me}return F(ke);case be:return bt=Pe._init,vr(ke,me,bt(Pe._payload),We)}if(dt(Pe))return et(ke,me,Pe,We);if(se(Pe))return it(ke,me,Pe,We);Ht(ke,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"?(Pe=""+Pe,me!==null&&me.tag===6?(f(ke,me.sibling),me=S(me,Pe),me.return=ke,ke=me):(f(ke,me),me=Sg(Pe,ke.mode,We),me.return=ke,ke=me),F(ke)):f(ke,me)}return vr}var or=xr(!0),In=xr(!1),gr=os(null),Sr=null,jn=null,Gt=null;function nn(){Gt=jn=Sr=null}function Ln(a){var u=gr.current;ln(gr),a._currentValue=u}function rn(a,u,f){for(;a!==null;){var v=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),a===f)break;a=a.return}}function Wn(a,u){Sr=a,Gt=jn=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&u)!==0&&(qi=!0),a.firstContext=null)}function qn(a){var u=a._currentValue;if(Gt!==a)if(a={context:a,memoizedValue:u,next:null},jn===null){if(Sr===null)throw Error(t(308));jn=a,Sr.dependencies={lanes:0,firstContext:a}}else jn=jn.next=a;return u}var pn=null;function Br(a){pn===null?pn=[a]:pn.push(a)}function dn(a,u,f,v){var S=u.interleaved;return S===null?(f.next=f,Br(u)):(f.next=S.next,S.next=f),u.interleaved=f,gn(a,v)}function gn(a,u){a.lanes|=u;var f=a.alternate;for(f!==null&&(f.lanes|=u),f=a,a=a.return;a!==null;)a.childLanes|=u,f=a.alternate,f!==null&&(f.childLanes|=u),f=a,a=a.return;return f.tag===3?f.stateNode:null}var lr=!1;function Tr(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function li(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Jn(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Xn(a,u,f){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,(sn&2)!==0){var S=v.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),v.pending=u,gn(a,f)}return S=v.interleaved,S===null?(u.next=u,Br(v)):(u.next=S.next,S.next=u),v.interleaved=u,gn(a,f)}function Ur(a,u,f){if(u=u.updateQueue,u!==null&&(u=u.shared,(f&4194240)!==0)){var v=u.lanes;v&=a.pendingLanes,f|=v,u.lanes=f,Go(a,f)}}function mn(a,u){var f=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var S=null,C=null;if(f=f.firstBaseUpdate,f!==null){do{var F={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};C===null?S=C=F:C=C.next=F,f=f.next}while(f!==null);C===null?S=C=u:C=C.next=u}else S=C=u;f={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:C,shared:v.shared,effects:v.effects},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=u}function zr(a,u,f,v){var S=a.updateQueue;lr=!1;var C=S.firstBaseUpdate,F=S.lastBaseUpdate,ae=S.shared.pending;if(ae!==null){S.shared.pending=null;var pe=ae,Ce=pe.next;pe.next=null,F===null?C=Ce:F.next=Ce,F=pe;var Be=a.alternate;Be!==null&&(Be=Be.updateQueue,ae=Be.lastBaseUpdate,ae!==F&&(ae===null?Be.firstBaseUpdate=Ce:ae.next=Ce,Be.lastBaseUpdate=pe))}if(C!==null){var ze=S.baseState;F=0,Be=Ce=pe=null,ae=C;do{var Fe=ae.lane,Ke=ae.eventTime;if((v&Fe)===Fe){Be!==null&&(Be=Be.next={eventTime:Ke,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var et=a,it=ae;switch(Fe=u,Ke=f,it.tag){case 1:if(et=it.payload,typeof et=="function"){ze=et.call(Ke,ze,Fe);break e}ze=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=it.payload,Fe=typeof et=="function"?et.call(Ke,ze,Fe):et,Fe==null)break e;ze=le({},ze,Fe);break e;case 2:lr=!0}}ae.callback!==null&&ae.lane!==0&&(a.flags|=64,Fe=S.effects,Fe===null?S.effects=[ae]:Fe.push(ae))}else Ke={eventTime:Ke,lane:Fe,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},Be===null?(Ce=Be=Ke,pe=ze):Be=Be.next=Ke,F|=Fe;if(ae=ae.next,ae===null){if(ae=S.shared.pending,ae===null)break;Fe=ae,ae=Fe.next,Fe.next=null,S.lastBaseUpdate=Fe,S.shared.pending=null}}while(!0);if(Be===null&&(pe=ze),S.baseState=pe,S.firstBaseUpdate=Ce,S.lastBaseUpdate=Be,u=S.shared.interleaved,u!==null){S=u;do F|=S.lane,S=S.next;while(S!==u)}else C===null&&(S.shared.lanes=0);dc|=F,a.lanes=F,a.memoizedState=ze}}function Wi(a,u,f){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var v=a[u],S=v.callback;if(S!==null){if(v.callback=null,v=f,typeof S!="function")throw Error(t(191,S));S.call(v)}}}var ls={},kr=os(ls),Qn=os(ls),Oa=os(ls);function Zs(a){if(a===ls)throw Error(t(174));return a}function fl(a,u){switch(hn(Oa,u),hn(Qn,a),hn(kr,ls),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:qt(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=qt(u,a)}ln(kr),hn(kr,u)}function Os(){ln(kr),ln(Qn),ln(Oa)}function Md(a){Zs(Oa.current);var u=Zs(kr.current),f=qt(u,a.type);u!==f&&(hn(Qn,a),hn(kr,f))}function xh(a){Qn.current===a&&(ln(kr),ln(Qn))}var An=os(0);function cs(a){for(var u=a;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Sh=[];function kh(){for(var a=0;a<Sh.length;a++)Sh[a]._workInProgressVersionPrimary=null;Sh.length=0}var au=L.ReactCurrentDispatcher,ou=L.ReactCurrentBatchConfig,Rs=0,Tn=null,cr=null,Zn=null,pl=!1,ea=!1,gl=0,Yp=0;function mr(){throw Error(t(321))}function lu(a,u){if(u===null)return!1;for(var f=0;f<u.length&&f<a.length;f++)if(!Bn(a[f],u[f]))return!1;return!0}function cc(a,u,f,v,S,C){if(Rs=C,Tn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,au.current=a===null||a.memoizedState===null?q_:H_,a=f(v,S),ea){C=0;do{if(ea=!1,gl=0,25<=C)throw Error(t(301));C+=1,Zn=cr=null,u.updateQueue=null,au.current=$_,a=f(v,S)}while(ea)}if(au.current=Ud,u=cr!==null&&cr.next!==null,Rs=0,Zn=cr=Tn=null,pl=!1,u)throw Error(t(300));return a}function Ms(){var a=gl!==0;return gl=0,a}function us(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?Tn.memoizedState=Zn=a:Zn=Zn.next=a,Zn}function Ni(){if(cr===null){var a=Tn.alternate;a=a!==null?a.memoizedState:null}else a=cr.next;var u=Zn===null?Tn.memoizedState:Zn.next;if(u!==null)Zn=u,cr=a;else{if(a===null)throw Error(t(310));cr=a,a={memoizedState:cr.memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},Zn===null?Tn.memoizedState=Zn=a:Zn=Zn.next=a}return Zn}function uc(a,u){return typeof u=="function"?u(a):u}function cu(a){var u=Ni(),f=u.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=a;var v=cr,S=v.baseQueue,C=f.pending;if(C!==null){if(S!==null){var F=S.next;S.next=C.next,C.next=F}v.baseQueue=S=C,f.pending=null}if(S!==null){C=S.next,v=v.baseState;var ae=F=null,pe=null,Ce=C;do{var Be=Ce.lane;if((Rs&Be)===Be)pe!==null&&(pe=pe.next={lane:0,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),v=Ce.hasEagerState?Ce.eagerState:a(v,Ce.action);else{var ze={lane:Be,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null};pe===null?(ae=pe=ze,F=v):pe=pe.next=ze,Tn.lanes|=Be,dc|=Be}Ce=Ce.next}while(Ce!==null&&Ce!==C);pe===null?F=v:pe.next=ae,Bn(v,u.memoizedState)||(qi=!0),u.memoizedState=v,u.baseState=F,u.baseQueue=pe,f.lastRenderedState=v}if(a=f.interleaved,a!==null){S=a;do C=S.lane,Tn.lanes|=C,dc|=C,S=S.next;while(S!==a)}else S===null&&(f.lanes=0);return[u.memoizedState,f.dispatch]}function Ra(a){var u=Ni(),f=u.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=a;var v=f.dispatch,S=f.pending,C=u.memoizedState;if(S!==null){f.pending=null;var F=S=S.next;do C=a(C,F.action),F=F.next;while(F!==S);Bn(C,u.memoizedState)||(qi=!0),u.memoizedState=C,u.baseQueue===null&&(u.baseState=C),f.lastRenderedState=C}return[C,v]}function Id(){}function Nh(a,u){var f=Tn,v=Ni(),S=u(),C=!Bn(v.memoizedState,S);if(C&&(v.memoizedState=S,qi=!0),v=v.queue,du(Fd.bind(null,f,v,a),[a]),v.getSnapshot!==u||C||Zn!==null&&Zn.memoizedState.tag&1){if(f.flags|=2048,Ai(9,Ah.bind(null,f,v,S,u),void 0,null),Wr===null)throw Error(t(349));(Rs&30)!==0||Dd(f,u,S)}return S}function Dd(a,u,f){a.flags|=16384,a={getSnapshot:u,value:f},u=Tn.updateQueue,u===null?(u={lastEffect:null,stores:null},Tn.updateQueue=u,u.stores=[a]):(f=u.stores,f===null?u.stores=[a]:f.push(a))}function Ah(a,u,f,v){u.value=f,u.getSnapshot=v,ml(u)&&uu(a)}function Fd(a,u,f){return f(function(){ml(u)&&uu(a)})}function ml(a){var u=a.getSnapshot;a=a.value;try{var f=u();return!Bn(a,f)}catch{return!0}}function uu(a){var u=gn(a,1);u!==null&&sa(u,a,1,-1)}function hc(a){var u=us();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:a},u.queue=a,a=a.dispatch=W_.bind(null,Tn,a),[u.memoizedState,a]}function Ai(a,u,f,v){return a={tag:a,create:u,destroy:f,deps:v,next:null},u=Tn.updateQueue,u===null?(u={lastEffect:null,stores:null},Tn.updateQueue=u,u.lastEffect=a.next=a):(f=u.lastEffect,f===null?u.lastEffect=a.next=a:(v=f.next,f.next=a,a.next=v,u.lastEffect=a)),a}function ta(){return Ni().memoizedState}function hs(a,u,f,v){var S=us();Tn.flags|=a,S.memoizedState=Ai(1|u,f,void 0,v===void 0?null:v)}function No(a,u,f,v){var S=Ni();v=v===void 0?null:v;var C=void 0;if(cr!==null){var F=cr.memoizedState;if(C=F.destroy,v!==null&&lu(v,F.deps)){S.memoizedState=Ai(u,f,C,v);return}}Tn.flags|=a,S.memoizedState=Ai(1|u,f,C,v)}function hu(a,u){return hs(8390656,8,a,u)}function du(a,u){return No(2048,8,a,u)}function Bd(a,u){return No(4,2,a,u)}function fu(a,u){return No(4,4,a,u)}function pu(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function $0(a,u,f){return f=f!=null?f.concat([a]):null,No(4,4,pu.bind(null,u,a),f)}function Jp(){}function V0(a,u){var f=Ni();u=u===void 0?null:u;var v=f.memoizedState;return v!==null&&u!==null&&lu(u,v[1])?v[0]:(f.memoizedState=[a,u],a)}function G0(a,u){var f=Ni();u=u===void 0?null:u;var v=f.memoizedState;return v!==null&&u!==null&&lu(u,v[1])?v[0]:(a=a(),f.memoizedState=[a,u],a)}function K0(a,u,f){return(Rs&21)===0?(a.baseState&&(a.baseState=!1,qi=!0),a.memoizedState=f):(Bn(f,u)||(f=ql(),Tn.lanes|=f,dc|=f,a.baseState=!0),u)}function U_(a,u){var f=Qt;Qt=f!==0&&4>f?f:4,a(!0);var v=ou.transition;ou.transition={};try{a(!1),u()}finally{Qt=f,ou.transition=v}}function Y0(){return Ni().memoizedState}function z_(a,u,f){var v=bl(a);if(f={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null},J0(a))X0(u,f);else if(f=dn(a,u,f,v),f!==null){var S=Ci();sa(f,a,v,S),Q0(f,u,v)}}function W_(a,u,f){var v=bl(a),S={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null};if(J0(a))X0(u,S);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=u.lastRenderedReducer,C!==null))try{var F=u.lastRenderedState,ae=C(F,f);if(S.hasEagerState=!0,S.eagerState=ae,Bn(ae,F)){var pe=u.interleaved;pe===null?(S.next=S,Br(u)):(S.next=pe.next,pe.next=S),u.interleaved=S;return}}catch{}f=dn(a,u,S,v),f!==null&&(S=Ci(),sa(f,a,v,S),Q0(f,u,v))}}function J0(a){var u=a.alternate;return a===Tn||u!==null&&u===Tn}function X0(a,u){ea=pl=!0;var f=a.pending;f===null?u.next=u:(u.next=f.next,f.next=u),a.pending=u}function Q0(a,u,f){if((f&4194240)!==0){var v=u.lanes;v&=a.pendingLanes,f|=v,u.lanes=f,Go(a,f)}}var Ud={readContext:qn,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},q_={readContext:qn,useCallback:function(a,u){return us().memoizedState=[a,u===void 0?null:u],a},useContext:qn,useEffect:hu,useImperativeHandle:function(a,u,f){return f=f!=null?f.concat([a]):null,hs(4194308,4,pu.bind(null,u,a),f)},useLayoutEffect:function(a,u){return hs(4194308,4,a,u)},useInsertionEffect:function(a,u){return hs(4,2,a,u)},useMemo:function(a,u){var f=us();return u=u===void 0?null:u,a=a(),f.memoizedState=[a,u],a},useReducer:function(a,u,f){var v=us();return u=f!==void 0?f(u):u,v.memoizedState=v.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},v.queue=a,a=a.dispatch=z_.bind(null,Tn,a),[v.memoizedState,a]},useRef:function(a){var u=us();return a={current:a},u.memoizedState=a},useState:hc,useDebugValue:Jp,useDeferredValue:function(a){return us().memoizedState=a},useTransition:function(){var a=hc(!1),u=a[0];return a=U_.bind(null,a[1]),us().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,f){var v=Tn,S=us();if(Re){if(f===void 0)throw Error(t(407));f=f()}else{if(f=u(),Wr===null)throw Error(t(349));(Rs&30)!==0||Dd(v,u,f)}S.memoizedState=f;var C={value:f,getSnapshot:u};return S.queue=C,hu(Fd.bind(null,v,C,a),[a]),v.flags|=2048,Ai(9,Ah.bind(null,v,C,f,u),void 0,null),f},useId:function(){var a=us(),u=Wr.identifierPrefix;if(Re){var f=Z,v=Se;f=(v&~(1<<32-rr(v)-1)).toString(32)+f,u=":"+u+"R"+f,f=gl++,0<f&&(u+="H"+f.toString(32)),u+=":"}else f=Yp++,u=":"+u+"r"+f.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},H_={readContext:qn,useCallback:V0,useContext:qn,useEffect:du,useImperativeHandle:$0,useInsertionEffect:Bd,useLayoutEffect:fu,useMemo:G0,useReducer:cu,useRef:ta,useState:function(){return cu(uc)},useDebugValue:Jp,useDeferredValue:function(a){var u=Ni();return K0(u,cr.memoizedState,a)},useTransition:function(){var a=cu(uc)[0],u=Ni().memoizedState;return[a,u]},useMutableSource:Id,useSyncExternalStore:Nh,useId:Y0,unstable_isNewReconciler:!1},$_={readContext:qn,useCallback:V0,useContext:qn,useEffect:du,useImperativeHandle:$0,useInsertionEffect:Bd,useLayoutEffect:fu,useMemo:G0,useReducer:Ra,useRef:ta,useState:function(){return Ra(uc)},useDebugValue:Jp,useDeferredValue:function(a){var u=Ni();return cr===null?u.memoizedState=a:K0(u,cr.memoizedState,a)},useTransition:function(){var a=Ra(uc)[0],u=Ni().memoizedState;return[a,u]},useMutableSource:Id,useSyncExternalStore:Nh,useId:Y0,unstable_isNewReconciler:!1};function na(a,u){if(a&&a.defaultProps){u=le({},u),a=a.defaultProps;for(var f in a)u[f]===void 0&&(u[f]=a[f]);return u}return u}function Xp(a,u,f,v){u=a.memoizedState,f=f(v,u),f=f==null?u:le({},u,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var zd={isMounted:function(a){return(a=a._reactInternals)?Cr(a)===a:!1},enqueueSetState:function(a,u,f){a=a._reactInternals;var v=Ci(),S=bl(a),C=Jn(v,S);C.payload=u,f!=null&&(C.callback=f),u=Xn(a,C,S),u!==null&&(sa(u,a,S,v),Ur(u,a,S))},enqueueReplaceState:function(a,u,f){a=a._reactInternals;var v=Ci(),S=bl(a),C=Jn(v,S);C.tag=1,C.payload=u,f!=null&&(C.callback=f),u=Xn(a,C,S),u!==null&&(sa(u,a,S,v),Ur(u,a,S))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var f=Ci(),v=bl(a),S=Jn(f,v);S.tag=2,u!=null&&(S.callback=u),u=Xn(a,S,v),u!==null&&(sa(u,a,v,f),Ur(u,a,v))}};function Z0(a,u,f,v,S,C,F){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,C,F):u.prototype&&u.prototype.isPureReactComponent?!ri(f,v)||!ri(S,C):!0}function e1(a,u,f){var v=!1,S=Ta,C=u.contextType;return typeof C=="object"&&C!==null?C=qn(C):(S=oi(u)?So:Lr.current,v=u.contextTypes,C=(v=v!=null)?dl(a,S):Ta),u=new u(f,C),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=zd,a.stateNode=u,u._reactInternals=a,v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=S,a.__reactInternalMemoizedMaskedChildContext=C),u}function t1(a,u,f,v){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,v),u.state!==a&&zd.enqueueReplaceState(u,u.state,null)}function Qp(a,u,f,v){var S=a.stateNode;S.props=f,S.state=a.memoizedState,S.refs={},Tr(a);var C=u.contextType;typeof C=="object"&&C!==null?S.context=qn(C):(C=oi(u)?So:Lr.current,S.context=dl(a,C)),S.state=a.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&(Xp(a,u,C,f),S.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(u=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),u!==S.state&&zd.enqueueReplaceState(S,S.state,null),zr(a,f,S,v),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308)}function gu(a,u){try{var f="",v=u;do f+=oe(v),v=v.return;while(v);var S=f}catch(C){S=`
Error generating stack: `+C.message+`
`+C.stack}return{value:a,source:u,stack:S,digest:null}}function Zp(a,u,f){return{value:a,source:null,stack:f??null,digest:u??null}}function eg(a,u){try{console.error(u.value)}catch(f){setTimeout(function(){throw f})}}var V_=typeof WeakMap=="function"?WeakMap:Map;function n1(a,u,f){f=Jn(-1,f),f.tag=3,f.payload={element:null};var v=u.value;return f.callback=function(){Kd||(Kd=!0,gg=v),eg(a,u)},f}function r1(a,u,f){f=Jn(-1,f),f.tag=3;var v=a.type.getDerivedStateFromError;if(typeof v=="function"){var S=u.value;f.payload=function(){return v(S)},f.callback=function(){eg(a,u)}}var C=a.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(f.callback=function(){eg(a,u),typeof v!="function"&&(yl===null?yl=new Set([this]):yl.add(this));var F=u.stack;this.componentDidCatch(u.value,{componentStack:F!==null?F:""})}),f}function i1(a,u,f){var v=a.pingCache;if(v===null){v=a.pingCache=new V_;var S=new Set;v.set(u,S)}else S=v.get(u),S===void 0&&(S=new Set,v.set(u,S));S.has(f)||(S.add(f),a=ax.bind(null,a,u,f),u.then(a,a))}function s1(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function a1(a,u,f,v,S){return(a.mode&1)===0?(a===u?a.flags|=65536:(a.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(u=Jn(-1,1),u.tag=2,Xn(f,u,1))),f.lanes|=1),a):(a.flags|=65536,a.lanes=S,a)}var G_=L.ReactCurrentOwner,qi=!1;function Pi(a,u,f,v){u.child=a===null?In(u,null,f,v):or(u,a.child,f,v)}function o1(a,u,f,v,S){f=f.render;var C=u.ref;return Wn(u,S),v=cc(a,u,f,v,C,S),f=Ms(),a!==null&&!qi?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~S,Ao(a,u,S)):(Re&&f&&Le(u),u.flags|=1,Pi(a,u,v,S),u.child)}function l1(a,u,f,v,S){if(a===null){var C=f.type;return typeof C=="function"&&!xg(C)&&C.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(u.tag=15,u.type=C,c1(a,u,C,v,S)):(a=ef(f.type,null,v,u,u.mode,S),a.ref=u.ref,a.return=u,u.child=a)}if(C=a.child,(a.lanes&S)===0){var F=C.memoizedProps;if(f=f.compare,f=f!==null?f:ri,f(F,v)&&a.ref===u.ref)return Ao(a,u,S)}return u.flags|=1,a=xl(C,v),a.ref=u.ref,a.return=u,u.child=a}function c1(a,u,f,v,S){if(a!==null){var C=a.memoizedProps;if(ri(C,v)&&a.ref===u.ref)if(qi=!1,u.pendingProps=v=C,(a.lanes&S)!==0)(a.flags&131072)!==0&&(qi=!0);else return u.lanes=a.lanes,Ao(a,u,S)}return tg(a,u,f,v,S)}function u1(a,u,f){var v=u.pendingProps,S=v.children,C=a!==null?a.memoizedState:null;if(v.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},hn(vu,ds),ds|=f;else{if((f&1073741824)===0)return a=C!==null?C.baseLanes|f:f,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,hn(vu,ds),ds|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=C!==null?C.baseLanes:f,hn(vu,ds),ds|=v}else C!==null?(v=C.baseLanes|f,u.memoizedState=null):v=f,hn(vu,ds),ds|=v;return Pi(a,u,S,f),u.child}function h1(a,u){var f=u.ref;(a===null&&f!==null||a!==null&&a.ref!==f)&&(u.flags|=512,u.flags|=2097152)}function tg(a,u,f,v,S){var C=oi(f)?So:Lr.current;return C=dl(u,C),Wn(u,S),f=cc(a,u,f,v,C,S),v=Ms(),a!==null&&!qi?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~S,Ao(a,u,S)):(Re&&v&&Le(u),u.flags|=1,Pi(a,u,f,S),u.child)}function d1(a,u,f,v,S){if(oi(f)){var C=!0;ko(u)}else C=!1;if(Wn(u,S),u.stateNode===null)qd(a,u),e1(u,f,v),Qp(u,f,v,S),v=!0;else if(a===null){var F=u.stateNode,ae=u.memoizedProps;F.props=ae;var pe=F.context,Ce=f.contextType;typeof Ce=="object"&&Ce!==null?Ce=qn(Ce):(Ce=oi(f)?So:Lr.current,Ce=dl(u,Ce));var Be=f.getDerivedStateFromProps,ze=typeof Be=="function"||typeof F.getSnapshotBeforeUpdate=="function";ze||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ae!==v||pe!==Ce)&&t1(u,F,v,Ce),lr=!1;var Fe=u.memoizedState;F.state=Fe,zr(u,v,F,S),pe=u.memoizedState,ae!==v||Fe!==pe||ai.current||lr?(typeof Be=="function"&&(Xp(u,f,Be,v),pe=u.memoizedState),(ae=lr||Z0(u,f,ae,v,Fe,pe,Ce))?(ze||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(u.flags|=4194308)):(typeof F.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=pe),F.props=v,F.state=pe,F.context=Ce,v=ae):(typeof F.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{F=u.stateNode,li(a,u),ae=u.memoizedProps,Ce=u.type===u.elementType?ae:na(u.type,ae),F.props=Ce,ze=u.pendingProps,Fe=F.context,pe=f.contextType,typeof pe=="object"&&pe!==null?pe=qn(pe):(pe=oi(f)?So:Lr.current,pe=dl(u,pe));var Ke=f.getDerivedStateFromProps;(Be=typeof Ke=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ae!==ze||Fe!==pe)&&t1(u,F,v,pe),lr=!1,Fe=u.memoizedState,F.state=Fe,zr(u,v,F,S);var et=u.memoizedState;ae!==ze||Fe!==et||ai.current||lr?(typeof Ke=="function"&&(Xp(u,f,Ke,v),et=u.memoizedState),(Ce=lr||Z0(u,f,Ce,v,Fe,et,pe)||!1)?(Be||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(v,et,pe),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(v,et,pe)),typeof F.componentDidUpdate=="function"&&(u.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof F.componentDidUpdate!="function"||ae===a.memoizedProps&&Fe===a.memoizedState||(u.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ae===a.memoizedProps&&Fe===a.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=et),F.props=v,F.state=et,F.context=pe,v=Ce):(typeof F.componentDidUpdate!="function"||ae===a.memoizedProps&&Fe===a.memoizedState||(u.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ae===a.memoizedProps&&Fe===a.memoizedState||(u.flags|=1024),v=!1)}return ng(a,u,f,v,C,S)}function ng(a,u,f,v,S,C){h1(a,u);var F=(u.flags&128)!==0;if(!v&&!F)return S&&Rd(u,f,!1),Ao(a,u,C);v=u.stateNode,G_.current=u;var ae=F&&typeof f.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,a!==null&&F?(u.child=or(u,a.child,null,C),u.child=or(u,null,ae,C)):Pi(a,u,ae,C),u.memoizedState=v.state,S&&Rd(u,f,!0),u.child}function f1(a){var u=a.stateNode;u.pendingContext?Od(a,u.pendingContext,u.pendingContext!==u.context):u.context&&Od(a,u.context,!1),fl(a,u.containerInfo)}function p1(a,u,f,v,S){return Je(),qe(S),u.flags|=256,Pi(a,u,f,v),u.child}var rg={dehydrated:null,treeContext:null,retryLane:0};function ig(a){return{baseLanes:a,cachePool:null,transitions:null}}function g1(a,u,f){var v=u.pendingProps,S=An.current,C=!1,F=(u.flags&128)!==0,ae;if((ae=F)||(ae=a!==null&&a.memoizedState===null?!1:(S&2)!==0),ae?(C=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(S|=1),hn(An,S&1),a===null)return Ze(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((u.mode&1)===0?u.lanes=1:a.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(F=v.children,a=v.fallback,C?(v=u.mode,C=u.child,F={mode:"hidden",children:F},(v&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=F):C=tf(F,v,0,null),a=mc(a,v,f,null),C.return=u,a.return=u,C.sibling=a,u.child=C,u.child.memoizedState=ig(f),u.memoizedState=rg,a):sg(u,F));if(S=a.memoizedState,S!==null&&(ae=S.dehydrated,ae!==null))return K_(a,u,F,v,ae,S,f);if(C){C=v.fallback,F=u.mode,S=a.child,ae=S.sibling;var pe={mode:"hidden",children:v.children};return(F&1)===0&&u.child!==S?(v=u.child,v.childLanes=0,v.pendingProps=pe,u.deletions=null):(v=xl(S,pe),v.subtreeFlags=S.subtreeFlags&14680064),ae!==null?C=xl(ae,C):(C=mc(C,F,f,null),C.flags|=2),C.return=u,v.return=u,v.sibling=C,u.child=v,v=C,C=u.child,F=a.child.memoizedState,F=F===null?ig(f):{baseLanes:F.baseLanes|f,cachePool:null,transitions:F.transitions},C.memoizedState=F,C.childLanes=a.childLanes&~f,u.memoizedState=rg,v}return C=a.child,a=C.sibling,v=xl(C,{mode:"visible",children:v.children}),(u.mode&1)===0&&(v.lanes=f),v.return=u,v.sibling=null,a!==null&&(f=u.deletions,f===null?(u.deletions=[a],u.flags|=16):f.push(a)),u.child=v,u.memoizedState=null,v}function sg(a,u){return u=tf({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function Wd(a,u,f,v){return v!==null&&qe(v),or(u,a.child,null,f),a=sg(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function K_(a,u,f,v,S,C,F){if(f)return u.flags&256?(u.flags&=-257,v=Zp(Error(t(422))),Wd(a,u,F,v)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(C=v.fallback,S=u.mode,v=tf({mode:"visible",children:v.children},S,0,null),C=mc(C,S,F,null),C.flags|=2,v.return=u,C.return=u,v.sibling=C,u.child=v,(u.mode&1)!==0&&or(u,a.child,null,F),u.child.memoizedState=ig(F),u.memoizedState=rg,C);if((u.mode&1)===0)return Wd(a,u,F,null);if(S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var ae=v.dgst;return v=ae,C=Error(t(419)),v=Zp(C,v,void 0),Wd(a,u,F,v)}if(ae=(F&a.childLanes)!==0,qi||ae){if(v=Wr,v!==null){switch(F&-F){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(v.suspendedLanes|F))!==0?0:S,S!==0&&S!==C.retryLane&&(C.retryLane=S,gn(a,S),sa(v,a,S,-1))}return _g(),v=Zp(Error(t(421))),Wd(a,u,F,v)}return S.data==="$?"?(u.flags|=128,u.child=a.child,u=ox.bind(null,a),S._reactRetry=u,null):(a=C.treeContext,je=Yr(S.nextSibling),Ee=u,Re=!0,Me=null,a!==null&&(G[X++]=Se,G[X++]=Z,G[X++]=fe,Se=a.id,Z=a.overflow,fe=u),u=sg(u,v.children),u.flags|=4096,u)}function m1(a,u,f){a.lanes|=u;var v=a.alternate;v!==null&&(v.lanes|=u),rn(a.return,u,f)}function ag(a,u,f,v,S){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:S}:(C.isBackwards=u,C.rendering=null,C.renderingStartTime=0,C.last=v,C.tail=f,C.tailMode=S)}function v1(a,u,f){var v=u.pendingProps,S=v.revealOrder,C=v.tail;if(Pi(a,u,v.children,f),v=An.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&m1(a,f,u);else if(a.tag===19)m1(a,f,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}v&=1}if(hn(An,v),(u.mode&1)===0)u.memoizedState=null;else switch(S){case"forwards":for(f=u.child,S=null;f!==null;)a=f.alternate,a!==null&&cs(a)===null&&(S=f),f=f.sibling;f=S,f===null?(S=u.child,u.child=null):(S=f.sibling,f.sibling=null),ag(u,!1,S,f,C);break;case"backwards":for(f=null,S=u.child,u.child=null;S!==null;){if(a=S.alternate,a!==null&&cs(a)===null){u.child=S;break}a=S.sibling,S.sibling=f,f=S,S=a}ag(u,!0,f,null,C);break;case"together":ag(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function qd(a,u){(u.mode&1)===0&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function Ao(a,u,f){if(a!==null&&(u.dependencies=a.dependencies),dc|=u.lanes,(f&u.childLanes)===0)return null;if(a!==null&&u.child!==a.child)throw Error(t(153));if(u.child!==null){for(a=u.child,f=xl(a,a.pendingProps),u.child=f,f.return=u;a.sibling!==null;)a=a.sibling,f=f.sibling=xl(a,a.pendingProps),f.return=u;f.sibling=null}return u.child}function Y_(a,u,f){switch(u.tag){case 3:f1(u),Je();break;case 5:Md(u);break;case 1:oi(u.type)&&ko(u);break;case 4:fl(u,u.stateNode.containerInfo);break;case 10:var v=u.type._context,S=u.memoizedProps.value;hn(gr,v._currentValue),v._currentValue=S;break;case 13:if(v=u.memoizedState,v!==null)return v.dehydrated!==null?(hn(An,An.current&1),u.flags|=128,null):(f&u.child.childLanes)!==0?g1(a,u,f):(hn(An,An.current&1),a=Ao(a,u,f),a!==null?a.sibling:null);hn(An,An.current&1);break;case 19:if(v=(f&u.childLanes)!==0,(a.flags&128)!==0){if(v)return v1(a,u,f);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),hn(An,An.current),v)break;return null;case 22:case 23:return u.lanes=0,u1(a,u,f)}return Ao(a,u,f)}var y1,og,w1,b1;y1=function(a,u){for(var f=u.child;f!==null;){if(f.tag===5||f.tag===6)a.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},og=function(){},w1=function(a,u,f,v){var S=a.memoizedProps;if(S!==v){a=u.stateNode,Zs(kr.current);var C=null;switch(f){case"input":S=ct(a,S),v=ct(a,v),C=[];break;case"select":S=le({},S,{value:void 0}),v=le({},v,{value:void 0}),C=[];break;case"textarea":S=gt(a,S),v=gt(a,v),C=[];break;default:typeof S.onClick!="function"&&typeof v.onClick=="function"&&(a.onclick=cl)}bn(f,v);var F;f=null;for(Ce in S)if(!v.hasOwnProperty(Ce)&&S.hasOwnProperty(Ce)&&S[Ce]!=null)if(Ce==="style"){var ae=S[Ce];for(F in ae)ae.hasOwnProperty(F)&&(f||(f={}),f[F]="")}else Ce!=="dangerouslySetInnerHTML"&&Ce!=="children"&&Ce!=="suppressContentEditableWarning"&&Ce!=="suppressHydrationWarning"&&Ce!=="autoFocus"&&(i.hasOwnProperty(Ce)?C||(C=[]):(C=C||[]).push(Ce,null));for(Ce in v){var pe=v[Ce];if(ae=S?.[Ce],v.hasOwnProperty(Ce)&&pe!==ae&&(pe!=null||ae!=null))if(Ce==="style")if(ae){for(F in ae)!ae.hasOwnProperty(F)||pe&&pe.hasOwnProperty(F)||(f||(f={}),f[F]="");for(F in pe)pe.hasOwnProperty(F)&&ae[F]!==pe[F]&&(f||(f={}),f[F]=pe[F])}else f||(C||(C=[]),C.push(Ce,f)),f=pe;else Ce==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,ae=ae?ae.__html:void 0,pe!=null&&ae!==pe&&(C=C||[]).push(Ce,pe)):Ce==="children"?typeof pe!="string"&&typeof pe!="number"||(C=C||[]).push(Ce,""+pe):Ce!=="suppressContentEditableWarning"&&Ce!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ce)?(pe!=null&&Ce==="onScroll"&&fn("scroll",a),C||ae===pe||(C=[])):(C=C||[]).push(Ce,pe))}f&&(C=C||[]).push("style",f);var Ce=C;(u.updateQueue=Ce)&&(u.flags|=4)}},b1=function(a,u,f,v){f!==v&&(u.flags|=4)};function Ph(a,u){if(!Re)switch(a.tailMode){case"hidden":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function ci(a){var u=a.alternate!==null&&a.alternate.child===a.child,f=0,v=0;if(u)for(var S=a.child;S!==null;)f|=S.lanes|S.childLanes,v|=S.subtreeFlags&14680064,v|=S.flags&14680064,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)f|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=v,a.childLanes=f,u}function J_(a,u,f){var v=u.pendingProps;switch(Ne(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ci(u),null;case 1:return oi(u.type)&&su(),ci(u),null;case 3:return v=u.stateNode,Os(),ln(ai),ln(Lr),kh(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(a===null||a.child===null)&&(zn(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Me!==null&&(yg(Me),Me=null))),og(a,u),ci(u),null;case 5:xh(u);var S=Zs(Oa.current);if(f=u.type,a!==null&&u.stateNode!=null)w1(a,u,f,v,S),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(t(166));return ci(u),null}if(a=Zs(kr.current),zn(u)){v=u.stateNode,f=u.type;var C=u.memoizedProps;switch(v[Ts]=u,v[ul]=C,a=(u.mode&1)!==0,f){case"dialog":fn("cancel",v),fn("close",v);break;case"iframe":case"object":case"embed":fn("load",v);break;case"video":case"audio":for(S=0;S<ja.length;S++)fn(ja[S],v);break;case"source":fn("error",v);break;case"img":case"image":case"link":fn("error",v),fn("load",v);break;case"details":fn("toggle",v);break;case"input":Q(v,C),fn("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!C.multiple},fn("invalid",v);break;case"textarea":ft(v,C),fn("invalid",v)}bn(f,C),S=null;for(var F in C)if(C.hasOwnProperty(F)){var ae=C[F];F==="children"?typeof ae=="string"?v.textContent!==ae&&(C.suppressHydrationWarning!==!0&&iu(v.textContent,ae,a),S=["children",ae]):typeof ae=="number"&&v.textContent!==""+ae&&(C.suppressHydrationWarning!==!0&&iu(v.textContent,ae,a),S=["children",""+ae]):i.hasOwnProperty(F)&&ae!=null&&F==="onScroll"&&fn("scroll",v)}switch(f){case"input":Ue(v),mt(v,C,!0);break;case"textarea":Ue(v),Wt(v);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(v.onclick=cl)}v=S,u.updateQueue=v,v!==null&&(u.flags|=4)}else{F=S.nodeType===9?S:S.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Lt(f)),a==="http://www.w3.org/1999/xhtml"?f==="script"?(a=F.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof v.is=="string"?a=F.createElement(f,{is:v.is}):(a=F.createElement(f),f==="select"&&(F=a,v.multiple?F.multiple=!0:v.size&&(F.size=v.size))):a=F.createElementNS(a,f),a[Ts]=u,a[ul]=v,y1(a,u,!1,!1),u.stateNode=a;e:{switch(F=pt(f,v),f){case"dialog":fn("cancel",a),fn("close",a),S=v;break;case"iframe":case"object":case"embed":fn("load",a),S=v;break;case"video":case"audio":for(S=0;S<ja.length;S++)fn(ja[S],a);S=v;break;case"source":fn("error",a),S=v;break;case"img":case"image":case"link":fn("error",a),fn("load",a),S=v;break;case"details":fn("toggle",a),S=v;break;case"input":Q(a,v),S=ct(a,v),fn("invalid",a);break;case"option":S=v;break;case"select":a._wrapperState={wasMultiple:!!v.multiple},S=le({},v,{value:void 0}),fn("invalid",a);break;case"textarea":ft(a,v),S=gt(a,v),fn("invalid",a);break;default:S=v}bn(f,S),ae=S;for(C in ae)if(ae.hasOwnProperty(C)){var pe=ae[C];C==="style"?Bt(a,pe):C==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,pe!=null&&rt(a,pe)):C==="children"?typeof pe=="string"?(f!=="textarea"||pe!=="")&&At(a,pe):typeof pe=="number"&&At(a,""+pe):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(i.hasOwnProperty(C)?pe!=null&&C==="onScroll"&&fn("scroll",a):pe!=null&&j(a,C,pe,F))}switch(f){case"input":Ue(a),mt(a,v,!1);break;case"textarea":Ue(a),Wt(a);break;case"option":v.value!=null&&a.setAttribute("value",""+_e(v.value));break;case"select":a.multiple=!!v.multiple,C=v.value,C!=null?Ge(a,!!v.multiple,C,!1):v.defaultValue!=null&&Ge(a,!!v.multiple,v.defaultValue,!0);break;default:typeof S.onClick=="function"&&(a.onclick=cl)}switch(f){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return ci(u),null;case 6:if(a&&u.stateNode!=null)b1(a,u,a.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(t(166));if(f=Zs(Oa.current),Zs(kr.current),zn(u)){if(v=u.stateNode,f=u.memoizedProps,v[Ts]=u,(C=v.nodeValue!==f)&&(a=Ee,a!==null))switch(a.tag){case 3:iu(v.nodeValue,f,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&iu(v.nodeValue,f,(a.mode&1)!==0)}C&&(u.flags|=4)}else v=(f.nodeType===9?f:f.ownerDocument).createTextNode(v),v[Ts]=u,u.stateNode=v}return ci(u),null;case 13:if(ln(An),v=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Re&&je!==null&&(u.mode&1)!==0&&(u.flags&128)===0)It(),Je(),u.flags|=98560,C=!1;else if(C=zn(u),v!==null&&v.dehydrated!==null){if(a===null){if(!C)throw Error(t(318));if(C=u.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(t(317));C[Ts]=u}else Je(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;ci(u),C=!1}else Me!==null&&(yg(Me),Me=null),C=!0;if(!C)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=f,u):(v=v!==null,v!==(a!==null&&a.memoizedState!==null)&&v&&(u.child.flags|=8192,(u.mode&1)!==0&&(a===null||(An.current&1)!==0?Or===0&&(Or=3):_g())),u.updateQueue!==null&&(u.flags|=4),ci(u),null);case 4:return Os(),og(a,u),a===null&&wo(u.stateNode.containerInfo),ci(u),null;case 10:return Ln(u.type._context),ci(u),null;case 17:return oi(u.type)&&su(),ci(u),null;case 19:if(ln(An),C=u.memoizedState,C===null)return ci(u),null;if(v=(u.flags&128)!==0,F=C.rendering,F===null)if(v)Ph(C,!1);else{if(Or!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(F=cs(a),F!==null){for(u.flags|=128,Ph(C,!1),v=F.updateQueue,v!==null&&(u.updateQueue=v,u.flags|=4),u.subtreeFlags=0,v=f,f=u.child;f!==null;)C=f,a=v,C.flags&=14680066,F=C.alternate,F===null?(C.childLanes=0,C.lanes=a,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=F.childLanes,C.lanes=F.lanes,C.child=F.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=F.memoizedProps,C.memoizedState=F.memoizedState,C.updateQueue=F.updateQueue,C.type=F.type,a=F.dependencies,C.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),f=f.sibling;return hn(An,An.current&1|2),u.child}a=a.sibling}C.tail!==null&&Nn()>yu&&(u.flags|=128,v=!0,Ph(C,!1),u.lanes=4194304)}else{if(!v)if(a=cs(F),a!==null){if(u.flags|=128,v=!0,f=a.updateQueue,f!==null&&(u.updateQueue=f,u.flags|=4),Ph(C,!0),C.tail===null&&C.tailMode==="hidden"&&!F.alternate&&!Re)return ci(u),null}else 2*Nn()-C.renderingStartTime>yu&&f!==1073741824&&(u.flags|=128,v=!0,Ph(C,!1),u.lanes=4194304);C.isBackwards?(F.sibling=u.child,u.child=F):(f=C.last,f!==null?f.sibling=F:u.child=F,C.last=F)}return C.tail!==null?(u=C.tail,C.rendering=u,C.tail=u.sibling,C.renderingStartTime=Nn(),u.sibling=null,f=An.current,hn(An,v?f&1|2:f&1),u):(ci(u),null);case 22:case 23:return bg(),v=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==v&&(u.flags|=8192),v&&(u.mode&1)!==0?(ds&1073741824)!==0&&(ci(u),u.subtreeFlags&6&&(u.flags|=8192)):ci(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function X_(a,u){switch(Ne(u),u.tag){case 1:return oi(u.type)&&su(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return Os(),ln(ai),ln(Lr),kh(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 5:return xh(u),null;case 13:if(ln(An),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(t(340));Je()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return ln(An),null;case 4:return Os(),null;case 10:return Ln(u.type._context),null;case 22:case 23:return bg(),null;case 24:return null;default:return null}}var Hd=!1,ui=!1,Q_=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function mu(a,u){var f=a.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(v){ur(a,u,v)}else f.current=null}function lg(a,u,f){try{f()}catch(v){ur(a,u,v)}}var _1=!1;function Z_(a,u){if(ac=Xo,a=ar(),as(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var S=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{f.nodeType,C.nodeType}catch{f=null;break e}var F=0,ae=-1,pe=-1,Ce=0,Be=0,ze=a,Fe=null;t:for(;;){for(var Ke;ze!==f||S!==0&&ze.nodeType!==3||(ae=F+S),ze!==C||v!==0&&ze.nodeType!==3||(pe=F+v),ze.nodeType===3&&(F+=ze.nodeValue.length),(Ke=ze.firstChild)!==null;)Fe=ze,ze=Ke;for(;;){if(ze===a)break t;if(Fe===f&&++Ce===S&&(ae=F),Fe===C&&++Be===v&&(pe=F),(Ke=ze.nextSibling)!==null)break;ze=Fe,Fe=ze.parentNode}ze=Ke}f=ae===-1||pe===-1?null:{start:ae,end:pe}}else f=null}f=f||{start:0,end:0}}else f=null;for(_o={focusedElem:a,selectionRange:f},Xo=!1,Xe=u;Xe!==null;)if(u=Xe,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Xe=a;else for(;Xe!==null;){u=Xe;try{var et=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(et!==null){var it=et.memoizedProps,vr=et.memoizedState,ke=u.stateNode,me=ke.getSnapshotBeforeUpdate(u.elementType===u.type?it:na(u.type,it),vr);ke.__reactInternalSnapshotBeforeUpdate=me}break;case 3:var Pe=u.stateNode.containerInfo;Pe.nodeType===1?Pe.textContent="":Pe.nodeType===9&&Pe.documentElement&&Pe.removeChild(Pe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(We){ur(u,u.return,We)}if(a=u.sibling,a!==null){a.return=u.return,Xe=a;break}Xe=u.return}return et=_1,_1=!1,et}function Ch(a,u,f){var v=u.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var S=v=v.next;do{if((S.tag&a)===a){var C=S.destroy;S.destroy=void 0,C!==void 0&&lg(u,f,C)}S=S.next}while(S!==v)}}function $d(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&a)===a){var v=f.create;f.destroy=v()}f=f.next}while(f!==u)}}function cg(a){var u=a.ref;if(u!==null){var f=a.stateNode;a.tag,a=f,typeof u=="function"?u(a):u.current=a}}function x1(a){var u=a.alternate;u!==null&&(a.alternate=null,x1(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[Ts],delete u[ul],delete u[si],delete u[Gp],delete u[Kp])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function S1(a){return a.tag===5||a.tag===3||a.tag===4}function k1(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||S1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ug(a,u,f){var v=a.tag;if(v===5||v===6)a=a.stateNode,u?f.nodeType===8?f.parentNode.insertBefore(a,u):f.insertBefore(a,u):(f.nodeType===8?(u=f.parentNode,u.insertBefore(a,f)):(u=f,u.appendChild(a)),f=f._reactRootContainer,f!=null||u.onclick!==null||(u.onclick=cl));else if(v!==4&&(a=a.child,a!==null))for(ug(a,u,f),a=a.sibling;a!==null;)ug(a,u,f),a=a.sibling}function hg(a,u,f){var v=a.tag;if(v===5||v===6)a=a.stateNode,u?f.insertBefore(a,u):f.appendChild(a);else if(v!==4&&(a=a.child,a!==null))for(hg(a,u,f),a=a.sibling;a!==null;)hg(a,u,f),a=a.sibling}var Jr=null,ra=!1;function vl(a,u,f){for(f=f.child;f!==null;)N1(a,u,f),f=f.sibling}function N1(a,u,f){if(wi&&typeof wi.onCommitFiberUnmount=="function")try{wi.onCommitFiberUnmount(Ja,f)}catch{}switch(f.tag){case 5:ui||mu(f,u);case 6:var v=Jr,S=ra;Jr=null,vl(a,u,f),Jr=v,ra=S,Jr!==null&&(ra?(a=Jr,f=f.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)):Jr.removeChild(f.stateNode));break;case 18:Jr!==null&&(ra?(a=Jr,f=f.stateNode,a.nodeType===8?wh(a.parentNode,f):a.nodeType===1&&wh(a,f),ro(a)):wh(Jr,f.stateNode));break;case 4:v=Jr,S=ra,Jr=f.stateNode.containerInfo,ra=!0,vl(a,u,f),Jr=v,ra=S;break;case 0:case 11:case 14:case 15:if(!ui&&(v=f.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){S=v=v.next;do{var C=S,F=C.destroy;C=C.tag,F!==void 0&&((C&2)!==0||(C&4)!==0)&&lg(f,u,F),S=S.next}while(S!==v)}vl(a,u,f);break;case 1:if(!ui&&(mu(f,u),v=f.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=f.memoizedProps,v.state=f.memoizedState,v.componentWillUnmount()}catch(ae){ur(f,u,ae)}vl(a,u,f);break;case 21:vl(a,u,f);break;case 22:f.mode&1?(ui=(v=ui)||f.memoizedState!==null,vl(a,u,f),ui=v):vl(a,u,f);break;default:vl(a,u,f)}}function A1(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var f=a.stateNode;f===null&&(f=a.stateNode=new Q_),u.forEach(function(v){var S=lx.bind(null,a,v);f.has(v)||(f.add(v),v.then(S,S))})}}function ia(a,u){var f=u.deletions;if(f!==null)for(var v=0;v<f.length;v++){var S=f[v];try{var C=a,F=u,ae=F;e:for(;ae!==null;){switch(ae.tag){case 5:Jr=ae.stateNode,ra=!1;break e;case 3:Jr=ae.stateNode.containerInfo,ra=!0;break e;case 4:Jr=ae.stateNode.containerInfo,ra=!0;break e}ae=ae.return}if(Jr===null)throw Error(t(160));N1(C,F,S),Jr=null,ra=!1;var pe=S.alternate;pe!==null&&(pe.return=null),S.return=null}catch(Ce){ur(S,u,Ce)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)P1(u,a),u=u.sibling}function P1(a,u){var f=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ia(u,a),Ma(a),v&4){try{Ch(3,a,a.return),$d(3,a)}catch(it){ur(a,a.return,it)}try{Ch(5,a,a.return)}catch(it){ur(a,a.return,it)}}break;case 1:ia(u,a),Ma(a),v&512&&f!==null&&mu(f,f.return);break;case 5:if(ia(u,a),Ma(a),v&512&&f!==null&&mu(f,f.return),a.flags&32){var S=a.stateNode;try{At(S,"")}catch(it){ur(a,a.return,it)}}if(v&4&&(S=a.stateNode,S!=null)){var C=a.memoizedProps,F=f!==null?f.memoizedProps:C,ae=a.type,pe=a.updateQueue;if(a.updateQueue=null,pe!==null)try{ae==="input"&&C.type==="radio"&&C.name!=null&&$e(S,C),pt(ae,F);var Ce=pt(ae,C);for(F=0;F<pe.length;F+=2){var Be=pe[F],ze=pe[F+1];Be==="style"?Bt(S,ze):Be==="dangerouslySetInnerHTML"?rt(S,ze):Be==="children"?At(S,ze):j(S,Be,ze,Ce)}switch(ae){case"input":Mt(S,C);break;case"textarea":Zt(S,C);break;case"select":var Fe=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!C.multiple;var Ke=C.value;Ke!=null?Ge(S,!!C.multiple,Ke,!1):Fe!==!!C.multiple&&(C.defaultValue!=null?Ge(S,!!C.multiple,C.defaultValue,!0):Ge(S,!!C.multiple,C.multiple?[]:"",!1))}S[ul]=C}catch(it){ur(a,a.return,it)}}break;case 6:if(ia(u,a),Ma(a),v&4){if(a.stateNode===null)throw Error(t(162));S=a.stateNode,C=a.memoizedProps;try{S.nodeValue=C}catch(it){ur(a,a.return,it)}}break;case 3:if(ia(u,a),Ma(a),v&4&&f!==null&&f.memoizedState.isDehydrated)try{ro(u.containerInfo)}catch(it){ur(a,a.return,it)}break;case 4:ia(u,a),Ma(a);break;case 13:ia(u,a),Ma(a),S=a.child,S.flags&8192&&(C=S.memoizedState!==null,S.stateNode.isHidden=C,!C||S.alternate!==null&&S.alternate.memoizedState!==null||(pg=Nn())),v&4&&A1(a);break;case 22:if(Be=f!==null&&f.memoizedState!==null,a.mode&1?(ui=(Ce=ui)||Be,ia(u,a),ui=Ce):ia(u,a),Ma(a),v&8192){if(Ce=a.memoizedState!==null,(a.stateNode.isHidden=Ce)&&!Be&&(a.mode&1)!==0)for(Xe=a,Be=a.child;Be!==null;){for(ze=Xe=Be;Xe!==null;){switch(Fe=Xe,Ke=Fe.child,Fe.tag){case 0:case 11:case 14:case 15:Ch(4,Fe,Fe.return);break;case 1:mu(Fe,Fe.return);var et=Fe.stateNode;if(typeof et.componentWillUnmount=="function"){v=Fe,f=Fe.return;try{u=v,et.props=u.memoizedProps,et.state=u.memoizedState,et.componentWillUnmount()}catch(it){ur(v,f,it)}}break;case 5:mu(Fe,Fe.return);break;case 22:if(Fe.memoizedState!==null){j1(ze);continue}}Ke!==null?(Ke.return=Fe,Xe=Ke):j1(ze)}Be=Be.sibling}e:for(Be=null,ze=a;;){if(ze.tag===5){if(Be===null){Be=ze;try{S=ze.stateNode,Ce?(C=S.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(ae=ze.stateNode,pe=ze.memoizedProps.style,F=pe!=null&&pe.hasOwnProperty("display")?pe.display:null,ae.style.display=Yt("display",F))}catch(it){ur(a,a.return,it)}}}else if(ze.tag===6){if(Be===null)try{ze.stateNode.nodeValue=Ce?"":ze.memoizedProps}catch(it){ur(a,a.return,it)}}else if((ze.tag!==22&&ze.tag!==23||ze.memoizedState===null||ze===a)&&ze.child!==null){ze.child.return=ze,ze=ze.child;continue}if(ze===a)break e;for(;ze.sibling===null;){if(ze.return===null||ze.return===a)break e;Be===ze&&(Be=null),ze=ze.return}Be===ze&&(Be=null),ze.sibling.return=ze.return,ze=ze.sibling}}break;case 19:ia(u,a),Ma(a),v&4&&A1(a);break;case 21:break;default:ia(u,a),Ma(a)}}function Ma(a){var u=a.flags;if(u&2){try{e:{for(var f=a.return;f!==null;){if(S1(f)){var v=f;break e}f=f.return}throw Error(t(160))}switch(v.tag){case 5:var S=v.stateNode;v.flags&32&&(At(S,""),v.flags&=-33);var C=k1(a);hg(a,C,S);break;case 3:case 4:var F=v.stateNode.containerInfo,ae=k1(a);ug(a,ae,F);break;default:throw Error(t(161))}}catch(pe){ur(a,a.return,pe)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function ex(a,u,f){Xe=a,C1(a)}function C1(a,u,f){for(var v=(a.mode&1)!==0;Xe!==null;){var S=Xe,C=S.child;if(S.tag===22&&v){var F=S.memoizedState!==null||Hd;if(!F){var ae=S.alternate,pe=ae!==null&&ae.memoizedState!==null||ui;ae=Hd;var Ce=ui;if(Hd=F,(ui=pe)&&!Ce)for(Xe=S;Xe!==null;)F=Xe,pe=F.child,F.tag===22&&F.memoizedState!==null?L1(S):pe!==null?(pe.return=F,Xe=pe):L1(S);for(;C!==null;)Xe=C,C1(C),C=C.sibling;Xe=S,Hd=ae,ui=Ce}E1(a)}else(S.subtreeFlags&8772)!==0&&C!==null?(C.return=S,Xe=C):E1(a)}}function E1(a){for(;Xe!==null;){var u=Xe;if((u.flags&8772)!==0){var f=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:ui||$d(5,u);break;case 1:var v=u.stateNode;if(u.flags&4&&!ui)if(f===null)v.componentDidMount();else{var S=u.elementType===u.type?f.memoizedProps:na(u.type,f.memoizedProps);v.componentDidUpdate(S,f.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var C=u.updateQueue;C!==null&&Wi(u,C,v);break;case 3:var F=u.updateQueue;if(F!==null){if(f=null,u.child!==null)switch(u.child.tag){case 5:f=u.child.stateNode;break;case 1:f=u.child.stateNode}Wi(u,F,f)}break;case 5:var ae=u.stateNode;if(f===null&&u.flags&4){f=ae;var pe=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":pe.autoFocus&&f.focus();break;case"img":pe.src&&(f.src=pe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Ce=u.alternate;if(Ce!==null){var Be=Ce.memoizedState;if(Be!==null){var ze=Be.dehydrated;ze!==null&&ro(ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ui||u.flags&512&&cg(u)}catch(Fe){ur(u,u.return,Fe)}}if(u===a){Xe=null;break}if(f=u.sibling,f!==null){f.return=u.return,Xe=f;break}Xe=u.return}}function j1(a){for(;Xe!==null;){var u=Xe;if(u===a){Xe=null;break}var f=u.sibling;if(f!==null){f.return=u.return,Xe=f;break}Xe=u.return}}function L1(a){for(;Xe!==null;){var u=Xe;try{switch(u.tag){case 0:case 11:case 15:var f=u.return;try{$d(4,u)}catch(pe){ur(u,f,pe)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var S=u.return;try{v.componentDidMount()}catch(pe){ur(u,S,pe)}}var C=u.return;try{cg(u)}catch(pe){ur(u,C,pe)}break;case 5:var F=u.return;try{cg(u)}catch(pe){ur(u,F,pe)}}}catch(pe){ur(u,u.return,pe)}if(u===a){Xe=null;break}var ae=u.sibling;if(ae!==null){ae.return=u.return,Xe=ae;break}Xe=u.return}}var tx=Math.ceil,Vd=L.ReactCurrentDispatcher,dg=L.ReactCurrentOwner,Is=L.ReactCurrentBatchConfig,sn=0,Wr=null,Nr=null,Xr=0,ds=0,vu=os(0),Or=0,Eh=null,dc=0,Gd=0,fg=0,jh=null,Hi=null,pg=0,yu=1/0,Po=null,Kd=!1,gg=null,yl=null,Yd=!1,wl=null,Jd=0,Lh=0,mg=null,Xd=-1,Qd=0;function Ci(){return(sn&6)!==0?Nn():Xd!==-1?Xd:Xd=Nn()}function bl(a){return(a.mode&1)===0?1:(sn&2)!==0&&Xr!==0?Xr&-Xr:Yn.transition!==null?(Qd===0&&(Qd=ql()),Qd):(a=Qt,a!==0||(a=window.event,a=a===void 0?16:so(a.type)),a)}function sa(a,u,f,v){if(50<Lh)throw Lh=0,mg=null,Error(t(185));Za(a,f,v),((sn&2)===0||a!==Wr)&&(a===Wr&&((sn&2)===0&&(Gd|=f),Or===4&&_l(a,Xr)),$i(a,v),f===1&&sn===0&&(u.mode&1)===0&&(yu=Nn()+500,lc&&E()))}function $i(a,u){var f=a.callbackNode;fr(a,u);var v=Qa(a,a===Wr?Xr:0);if(v===0)f!==null&&Ya(f),a.callbackNode=null,a.callbackPriority=0;else if(u=v&-v,a.callbackPriority!==u){if(f!=null&&Ya(f),u===1)a.tag===0?A(O1.bind(null,a)):w(O1.bind(null,a)),$p(function(){(sn&6)===0&&E()}),f=null;else{switch(eo(v)){case 1:f=Ho;break;case 4:f=yi;break;case 16:f=wa;break;case 536870912:f=$o;break;default:f=wa}f=z1(f,T1.bind(null,a))}a.callbackPriority=u,a.callbackNode=f}}function T1(a,u){if(Xd=-1,Qd=0,(sn&6)!==0)throw Error(t(327));var f=a.callbackNode;if(wu()&&a.callbackNode!==f)return null;var v=Qa(a,a===Wr?Xr:0);if(v===0)return null;if((v&30)!==0||(v&a.expiredLanes)!==0||u)u=Zd(a,v);else{u=v;var S=sn;sn|=2;var C=M1();(Wr!==a||Xr!==u)&&(Po=null,yu=Nn()+500,pc(a,u));do try{ix();break}catch(ae){R1(a,ae)}while(!0);nn(),Vd.current=C,sn=S,Nr!==null?u=0:(Wr=null,Xr=0,u=Or)}if(u!==0){if(u===2&&(S=ts(a),S!==0&&(v=S,u=vg(a,S))),u===1)throw f=Eh,pc(a,0),_l(a,v),$i(a,Nn()),f;if(u===6)_l(a,v);else{if(S=a.current.alternate,(v&30)===0&&!nx(S)&&(u=Zd(a,v),u===2&&(C=ts(a),C!==0&&(v=C,u=vg(a,C))),u===1))throw f=Eh,pc(a,0),_l(a,v),$i(a,Nn()),f;switch(a.finishedWork=S,a.finishedLanes=v,u){case 0:case 1:throw Error(t(345));case 2:gc(a,Hi,Po);break;case 3:if(_l(a,v),(v&130023424)===v&&(u=pg+500-Nn(),10<u)){if(Qa(a,0)!==0)break;if(S=a.suspendedLanes,(S&v)!==v){Ci(),a.pingedLanes|=a.suspendedLanes&S;break}a.timeoutHandle=yh(gc.bind(null,a,Hi,Po),u);break}gc(a,Hi,Po);break;case 4:if(_l(a,v),(v&4194240)===v)break;for(u=a.eventTimes,S=-1;0<v;){var F=31-rr(v);C=1<<F,F=u[F],F>S&&(S=F),v&=~C}if(v=S,v=Nn()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*tx(v/1960))-v,10<v){a.timeoutHandle=yh(gc.bind(null,a,Hi,Po),v);break}gc(a,Hi,Po);break;case 5:gc(a,Hi,Po);break;default:throw Error(t(329))}}}return $i(a,Nn()),a.callbackNode===f?T1.bind(null,a):null}function vg(a,u){var f=jh;return a.current.memoizedState.isDehydrated&&(pc(a,u).flags|=256),a=Zd(a,u),a!==2&&(u=Hi,Hi=f,u!==null&&yg(u)),a}function yg(a){Hi===null?Hi=a:Hi.push.apply(Hi,a)}function nx(a){for(var u=a;;){if(u.flags&16384){var f=u.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var v=0;v<f.length;v++){var S=f[v],C=S.getSnapshot;S=S.value;try{if(!Bn(C(),S))return!1}catch{return!1}}}if(f=u.child,u.subtreeFlags&16384&&f!==null)f.return=u,u=f;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function _l(a,u){for(u&=~fg,u&=~Gd,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var f=31-rr(u),v=1<<f;a[f]=-1,u&=~v}}function O1(a){if((sn&6)!==0)throw Error(t(327));wu();var u=Qa(a,0);if((u&1)===0)return $i(a,Nn()),null;var f=Zd(a,u);if(a.tag!==0&&f===2){var v=ts(a);v!==0&&(u=v,f=vg(a,v))}if(f===1)throw f=Eh,pc(a,0),_l(a,u),$i(a,Nn()),f;if(f===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,gc(a,Hi,Po),$i(a,Nn()),null}function wg(a,u){var f=sn;sn|=1;try{return a(u)}finally{sn=f,sn===0&&(yu=Nn()+500,lc&&E())}}function fc(a){wl!==null&&wl.tag===0&&(sn&6)===0&&wu();var u=sn;sn|=1;var f=Is.transition,v=Qt;try{if(Is.transition=null,Qt=1,a)return a()}finally{Qt=v,Is.transition=f,sn=u,(sn&6)===0&&E()}}function bg(){ds=vu.current,ln(vu)}function pc(a,u){a.finishedWork=null,a.finishedLanes=0;var f=a.timeoutHandle;if(f!==-1&&(a.timeoutHandle=-1,Ld(f)),Nr!==null)for(f=Nr.return;f!==null;){var v=f;switch(Ne(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&su();break;case 3:Os(),ln(ai),ln(Lr),kh();break;case 5:xh(v);break;case 4:Os();break;case 13:ln(An);break;case 19:ln(An);break;case 10:Ln(v.type._context);break;case 22:case 23:bg()}f=f.return}if(Wr=a,Nr=a=xl(a.current,null),Xr=ds=u,Or=0,Eh=null,fg=Gd=dc=0,Hi=jh=null,pn!==null){for(u=0;u<pn.length;u++)if(f=pn[u],v=f.interleaved,v!==null){f.interleaved=null;var S=v.next,C=f.pending;if(C!==null){var F=C.next;C.next=S,v.next=F}f.pending=v}pn=null}return a}function R1(a,u){do{var f=Nr;try{if(nn(),au.current=Ud,pl){for(var v=Tn.memoizedState;v!==null;){var S=v.queue;S!==null&&(S.pending=null),v=v.next}pl=!1}if(Rs=0,Zn=cr=Tn=null,ea=!1,gl=0,dg.current=null,f===null||f.return===null){Or=1,Eh=u,Nr=null;break}e:{var C=a,F=f.return,ae=f,pe=u;if(u=Xr,ae.flags|=32768,pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Ce=pe,Be=ae,ze=Be.tag;if((Be.mode&1)===0&&(ze===0||ze===11||ze===15)){var Fe=Be.alternate;Fe?(Be.updateQueue=Fe.updateQueue,Be.memoizedState=Fe.memoizedState,Be.lanes=Fe.lanes):(Be.updateQueue=null,Be.memoizedState=null)}var Ke=s1(F);if(Ke!==null){Ke.flags&=-257,a1(Ke,F,ae,C,u),Ke.mode&1&&i1(C,Ce,u),u=Ke,pe=Ce;var et=u.updateQueue;if(et===null){var it=new Set;it.add(pe),u.updateQueue=it}else et.add(pe);break e}else{if((u&1)===0){i1(C,Ce,u),_g();break e}pe=Error(t(426))}}else if(Re&&ae.mode&1){var vr=s1(F);if(vr!==null){(vr.flags&65536)===0&&(vr.flags|=256),a1(vr,F,ae,C,u),qe(gu(pe,ae));break e}}C=pe=gu(pe,ae),Or!==4&&(Or=2),jh===null?jh=[C]:jh.push(C),C=F;do{switch(C.tag){case 3:C.flags|=65536,u&=-u,C.lanes|=u;var ke=n1(C,pe,u);mn(C,ke);break e;case 1:ae=pe;var me=C.type,Pe=C.stateNode;if((C.flags&128)===0&&(typeof me.getDerivedStateFromError=="function"||Pe!==null&&typeof Pe.componentDidCatch=="function"&&(yl===null||!yl.has(Pe)))){C.flags|=65536,u&=-u,C.lanes|=u;var We=r1(C,ae,u);mn(C,We);break e}}C=C.return}while(C!==null)}D1(f)}catch(ot){u=ot,Nr===f&&f!==null&&(Nr=f=f.return);continue}break}while(!0)}function M1(){var a=Vd.current;return Vd.current=Ud,a===null?Ud:a}function _g(){(Or===0||Or===3||Or===2)&&(Or=4),Wr===null||(dc&268435455)===0&&(Gd&268435455)===0||_l(Wr,Xr)}function Zd(a,u){var f=sn;sn|=2;var v=M1();(Wr!==a||Xr!==u)&&(Po=null,pc(a,u));do try{rx();break}catch(S){R1(a,S)}while(!0);if(nn(),sn=f,Vd.current=v,Nr!==null)throw Error(t(261));return Wr=null,Xr=0,Or}function rx(){for(;Nr!==null;)I1(Nr)}function ix(){for(;Nr!==null&&!qo();)I1(Nr)}function I1(a){var u=U1(a.alternate,a,ds);a.memoizedProps=a.pendingProps,u===null?D1(a):Nr=u,dg.current=null}function D1(a){var u=a;do{var f=u.alternate;if(a=u.return,(u.flags&32768)===0){if(f=J_(f,u,ds),f!==null){Nr=f;return}}else{if(f=X_(f,u),f!==null){f.flags&=32767,Nr=f;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Or=6,Nr=null;return}}if(u=u.sibling,u!==null){Nr=u;return}Nr=u=a}while(u!==null);Or===0&&(Or=5)}function gc(a,u,f){var v=Qt,S=Is.transition;try{Is.transition=null,Qt=1,sx(a,u,f,v)}finally{Is.transition=S,Qt=v}return null}function sx(a,u,f,v){do wu();while(wl!==null);if((sn&6)!==0)throw Error(t(327));f=a.finishedWork;var S=a.finishedLanes;if(f===null)return null;if(a.finishedWork=null,a.finishedLanes=0,f===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var C=f.lanes|f.childLanes;if(Ss(a,C),a===Wr&&(Nr=Wr=null,Xr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Yd||(Yd=!0,z1(wa,function(){return wu(),null})),C=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||C){C=Is.transition,Is.transition=null;var F=Qt;Qt=1;var ae=sn;sn|=4,dg.current=null,Z_(a,f),P1(f,a),Ql(_o),Xo=!!ac,_o=ac=null,a.current=f,ex(f),ah(),sn=ae,Qt=F,Is.transition=C}else a.current=f;if(Yd&&(Yd=!1,wl=a,Jd=S),C=a.pendingLanes,C===0&&(yl=null),Gc(f.stateNode),$i(a,Nn()),u!==null)for(v=a.onRecoverableError,f=0;f<u.length;f++)S=u[f],v(S.value,{componentStack:S.stack,digest:S.digest});if(Kd)throw Kd=!1,a=gg,gg=null,a;return(Jd&1)!==0&&a.tag!==0&&wu(),C=a.pendingLanes,(C&1)!==0?a===mg?Lh++:(Lh=0,mg=a):Lh=0,E(),null}function wu(){if(wl!==null){var a=eo(Jd),u=Is.transition,f=Qt;try{if(Is.transition=null,Qt=16>a?16:a,wl===null)var v=!1;else{if(a=wl,wl=null,Jd=0,(sn&6)!==0)throw Error(t(331));var S=sn;for(sn|=4,Xe=a.current;Xe!==null;){var C=Xe,F=C.child;if((Xe.flags&16)!==0){var ae=C.deletions;if(ae!==null){for(var pe=0;pe<ae.length;pe++){var Ce=ae[pe];for(Xe=Ce;Xe!==null;){var Be=Xe;switch(Be.tag){case 0:case 11:case 15:Ch(8,Be,C)}var ze=Be.child;if(ze!==null)ze.return=Be,Xe=ze;else for(;Xe!==null;){Be=Xe;var Fe=Be.sibling,Ke=Be.return;if(x1(Be),Be===Ce){Xe=null;break}if(Fe!==null){Fe.return=Ke,Xe=Fe;break}Xe=Ke}}}var et=C.alternate;if(et!==null){var it=et.child;if(it!==null){et.child=null;do{var vr=it.sibling;it.sibling=null,it=vr}while(it!==null)}}Xe=C}}if((C.subtreeFlags&2064)!==0&&F!==null)F.return=C,Xe=F;else e:for(;Xe!==null;){if(C=Xe,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:Ch(9,C,C.return)}var ke=C.sibling;if(ke!==null){ke.return=C.return,Xe=ke;break e}Xe=C.return}}var me=a.current;for(Xe=me;Xe!==null;){F=Xe;var Pe=F.child;if((F.subtreeFlags&2064)!==0&&Pe!==null)Pe.return=F,Xe=Pe;else e:for(F=me;Xe!==null;){if(ae=Xe,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:$d(9,ae)}}catch(ot){ur(ae,ae.return,ot)}if(ae===F){Xe=null;break e}var We=ae.sibling;if(We!==null){We.return=ae.return,Xe=We;break e}Xe=ae.return}}if(sn=S,E(),wi&&typeof wi.onPostCommitFiberRoot=="function")try{wi.onPostCommitFiberRoot(Ja,a)}catch{}v=!0}return v}finally{Qt=f,Is.transition=u}}return!1}function F1(a,u,f){u=gu(f,u),u=n1(a,u,1),a=Xn(a,u,1),u=Ci(),a!==null&&(Za(a,1,u),$i(a,u))}function ur(a,u,f){if(a.tag===3)F1(a,a,f);else for(;u!==null;){if(u.tag===3){F1(u,a,f);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(yl===null||!yl.has(v))){a=gu(f,a),a=r1(u,a,1),u=Xn(u,a,1),a=Ci(),u!==null&&(Za(u,1,a),$i(u,a));break}}u=u.return}}function ax(a,u,f){var v=a.pingCache;v!==null&&v.delete(u),u=Ci(),a.pingedLanes|=a.suspendedLanes&f,Wr===a&&(Xr&f)===f&&(Or===4||Or===3&&(Xr&130023424)===Xr&&500>Nn()-pg?pc(a,0):fg|=f),$i(a,u)}function B1(a,u){u===0&&((a.mode&1)===0?u=1:(u=bi,bi<<=1,(bi&130023424)===0&&(bi=4194304)));var f=Ci();a=gn(a,u),a!==null&&(Za(a,u,f),$i(a,f))}function ox(a){var u=a.memoizedState,f=0;u!==null&&(f=u.retryLane),B1(a,f)}function lx(a,u){var f=0;switch(a.tag){case 13:var v=a.stateNode,S=a.memoizedState;S!==null&&(f=S.retryLane);break;case 19:v=a.stateNode;break;default:throw Error(t(314))}v!==null&&v.delete(u),B1(a,f)}var U1;U1=function(a,u,f){if(a!==null)if(a.memoizedProps!==u.pendingProps||ai.current)qi=!0;else{if((a.lanes&f)===0&&(u.flags&128)===0)return qi=!1,Y_(a,u,f);qi=(a.flags&131072)!==0}else qi=!1,Re&&(u.flags&1048576)!==0&&xe(u,V,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;qd(a,u),a=u.pendingProps;var S=dl(u,Lr.current);Wn(u,f),S=cc(null,u,v,a,S,f);var C=Ms();return u.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,oi(v)?(C=!0,ko(u)):C=!1,u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Tr(u),S.updater=zd,u.stateNode=S,S._reactInternals=u,Qp(u,v,a,f),u=ng(null,u,v,!0,C,f)):(u.tag=0,Re&&C&&Le(u),Pi(null,u,S,f),u=u.child),u;case 16:v=u.elementType;e:{switch(qd(a,u),a=u.pendingProps,S=v._init,v=S(v._payload),u.type=v,S=u.tag=ux(v),a=na(v,a),S){case 0:u=tg(null,u,v,a,f);break e;case 1:u=d1(null,u,v,a,f);break e;case 11:u=o1(null,u,v,a,f);break e;case 14:u=l1(null,u,v,na(v.type,a),f);break e}throw Error(t(306,v,""))}return u;case 0:return v=u.type,S=u.pendingProps,S=u.elementType===v?S:na(v,S),tg(a,u,v,S,f);case 1:return v=u.type,S=u.pendingProps,S=u.elementType===v?S:na(v,S),d1(a,u,v,S,f);case 3:e:{if(f1(u),a===null)throw Error(t(387));v=u.pendingProps,C=u.memoizedState,S=C.element,li(a,u),zr(u,v,null,f);var F=u.memoizedState;if(v=F.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},u.updateQueue.baseState=C,u.memoizedState=C,u.flags&256){S=gu(Error(t(423)),u),u=p1(a,u,v,f,S);break e}else if(v!==S){S=gu(Error(t(424)),u),u=p1(a,u,v,f,S);break e}else for(je=Yr(u.stateNode.containerInfo.firstChild),Ee=u,Re=!0,Me=null,f=In(u,null,v,f),u.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Je(),v===S){u=Ao(a,u,f);break e}Pi(a,u,v,f)}u=u.child}return u;case 5:return Md(u),a===null&&Ze(u),v=u.type,S=u.pendingProps,C=a!==null?a.memoizedProps:null,F=S.children,vh(v,S)?F=null:C!==null&&vh(v,C)&&(u.flags|=32),h1(a,u),Pi(a,u,F,f),u.child;case 6:return a===null&&Ze(u),null;case 13:return g1(a,u,f);case 4:return fl(u,u.stateNode.containerInfo),v=u.pendingProps,a===null?u.child=or(u,null,v,f):Pi(a,u,v,f),u.child;case 11:return v=u.type,S=u.pendingProps,S=u.elementType===v?S:na(v,S),o1(a,u,v,S,f);case 7:return Pi(a,u,u.pendingProps,f),u.child;case 8:return Pi(a,u,u.pendingProps.children,f),u.child;case 12:return Pi(a,u,u.pendingProps.children,f),u.child;case 10:e:{if(v=u.type._context,S=u.pendingProps,C=u.memoizedProps,F=S.value,hn(gr,v._currentValue),v._currentValue=F,C!==null)if(Bn(C.value,F)){if(C.children===S.children&&!ai.current){u=Ao(a,u,f);break e}}else for(C=u.child,C!==null&&(C.return=u);C!==null;){var ae=C.dependencies;if(ae!==null){F=C.child;for(var pe=ae.firstContext;pe!==null;){if(pe.context===v){if(C.tag===1){pe=Jn(-1,f&-f),pe.tag=2;var Ce=C.updateQueue;if(Ce!==null){Ce=Ce.shared;var Be=Ce.pending;Be===null?pe.next=pe:(pe.next=Be.next,Be.next=pe),Ce.pending=pe}}C.lanes|=f,pe=C.alternate,pe!==null&&(pe.lanes|=f),rn(C.return,f,u),ae.lanes|=f;break}pe=pe.next}}else if(C.tag===10)F=C.type===u.type?null:C.child;else if(C.tag===18){if(F=C.return,F===null)throw Error(t(341));F.lanes|=f,ae=F.alternate,ae!==null&&(ae.lanes|=f),rn(F,f,u),F=C.sibling}else F=C.child;if(F!==null)F.return=C;else for(F=C;F!==null;){if(F===u){F=null;break}if(C=F.sibling,C!==null){C.return=F.return,F=C;break}F=F.return}C=F}Pi(a,u,S.children,f),u=u.child}return u;case 9:return S=u.type,v=u.pendingProps.children,Wn(u,f),S=qn(S),v=v(S),u.flags|=1,Pi(a,u,v,f),u.child;case 14:return v=u.type,S=na(v,u.pendingProps),S=na(v.type,S),l1(a,u,v,S,f);case 15:return c1(a,u,u.type,u.pendingProps,f);case 17:return v=u.type,S=u.pendingProps,S=u.elementType===v?S:na(v,S),qd(a,u),u.tag=1,oi(v)?(a=!0,ko(u)):a=!1,Wn(u,f),e1(u,v,S),Qp(u,v,S,f),ng(null,u,v,!0,a,f);case 19:return v1(a,u,f);case 22:return u1(a,u,f)}throw Error(t(156,u.tag))};function z1(a,u){return Ka(a,u)}function cx(a,u,f,v){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(a,u,f,v){return new cx(a,u,f,v)}function xg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ux(a){if(typeof a=="function")return xg(a)?1:0;if(a!=null){if(a=a.$$typeof,a===q)return 11;if(a===ve)return 14}return 2}function xl(a,u){var f=a.alternate;return f===null?(f=Ds(a.tag,u,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=u,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&14680064,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,u=a.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f}function ef(a,u,f,v,S,C){var F=2;if(v=a,typeof a=="function")xg(a)&&(F=1);else if(typeof a=="string")F=5;else e:switch(a){case U:return mc(f.children,S,C,u);case H:F=8,S|=8;break;case W:return a=Ds(12,f,u,S|2),a.elementType=W,a.lanes=C,a;case ne:return a=Ds(13,f,u,S),a.elementType=ne,a.lanes=C,a;case ie:return a=Ds(19,f,u,S),a.elementType=ie,a.lanes=C,a;case he:return tf(f,S,C,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case re:F=10;break e;case I:F=9;break e;case q:F=11;break e;case ve:F=14;break e;case be:F=16,v=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return u=Ds(F,f,u,S),u.elementType=a,u.type=v,u.lanes=C,u}function mc(a,u,f,v){return a=Ds(7,a,v,u),a.lanes=f,a}function tf(a,u,f,v){return a=Ds(22,a,v,u),a.elementType=he,a.lanes=f,a.stateNode={isHidden:!1},a}function Sg(a,u,f){return a=Ds(6,a,null,u),a.lanes=f,a}function kg(a,u,f){return u=Ds(4,a.children!==null?a.children:[],a.key,u),u.lanes=f,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function hx(a,u,f,v,S){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=v,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Ng(a,u,f,v,S,C,F,ae,pe){return a=new hx(a,u,f,ae,pe),u===1?(u=1,C===!0&&(u|=8)):u=0,C=Ds(3,null,null,u),a.current=C,C.stateNode=a,C.memoizedState={element:v,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tr(C),a}function dx(a,u,f){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:v==null?null:""+v,children:a,containerInfo:u,implementation:f}}function W1(a){if(!a)return Ta;a=a._reactInternals;e:{if(Cr(a)!==a||a.tag!==1)throw Error(t(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(oi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(a.tag===1){var f=a.type;if(oi(f))return _h(a,f,u)}return u}function q1(a,u,f,v,S,C,F,ae,pe){return a=Ng(f,v,!0,a,S,C,F,ae,pe),a.context=W1(null),f=a.current,v=Ci(),S=bl(f),C=Jn(v,S),C.callback=u??null,Xn(f,C,S),a.current.lanes=S,Za(a,S,v),$i(a,v),a}function nf(a,u,f,v){var S=u.current,C=Ci(),F=bl(S);return f=W1(f),u.context===null?u.context=f:u.pendingContext=f,u=Jn(C,F),u.payload={element:a},v=v===void 0?null:v,v!==null&&(u.callback=v),a=Xn(S,u,F),a!==null&&(sa(a,S,F,C),Ur(a,S,F)),F}function rf(a){return a=a.current,a.child?(a.child.tag===5,a.child.stateNode):null}function H1(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<u?f:u}}function Ag(a,u){H1(a,u),(a=a.alternate)&&H1(a,u)}function fx(){return null}var $1=typeof reportError=="function"?reportError:function(a){console.error(a)};function Pg(a){this._internalRoot=a}sf.prototype.render=Pg.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(t(409));nf(a,u,null,null)},sf.prototype.unmount=Pg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;fc(function(){nf(null,a,null,null)}),u[Fr]=null}};function sf(a){this._internalRoot=a}sf.prototype.unstable_scheduleHydration=function(a){if(a){var u=Yc();a={blockedOn:null,target:a,priority:u};for(var f=0;f<Ns.length&&u!==0&&u<Ns[f].priority;f++);Ns.splice(f,0,a),f===0&&Xc(a)}};function Cg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function af(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function V1(){}function px(a,u,f,v,S){if(S){if(typeof v=="function"){var C=v;v=function(){var Ce=rf(F);C.call(Ce)}}var F=q1(u,v,a,0,null,!1,!1,"",V1);return a._reactRootContainer=F,a[Fr]=F.current,wo(a.nodeType===8?a.parentNode:a),fc(),F}for(;S=a.lastChild;)a.removeChild(S);if(typeof v=="function"){var ae=v;v=function(){var Ce=rf(pe);ae.call(Ce)}}var pe=Ng(a,0,!1,null,null,!1,!1,"",V1);return a._reactRootContainer=pe,a[Fr]=pe.current,wo(a.nodeType===8?a.parentNode:a),fc(function(){nf(u,pe,f,v)}),pe}function of(a,u,f,v,S){var C=f._reactRootContainer;if(C){var F=C;if(typeof S=="function"){var ae=S;S=function(){var pe=rf(F);ae.call(pe)}}nf(u,F,a,S)}else F=px(f,u,a,S,v);return rf(F)}ba=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var f=xs(u.pendingLanes);f!==0&&(Go(u,f|1),$i(u,Nn()),(sn&6)===0&&(yu=Nn()+500,E()))}break;case 13:fc(function(){var v=gn(a,1);if(v!==null){var S=Ci();sa(v,a,1,S)}}),Ag(a,1)}},$l=function(a){if(a.tag===13){var u=gn(a,134217728);if(u!==null){var f=Ci();sa(u,a,134217728,f)}Ag(a,134217728)}},Kc=function(a){if(a.tag===13){var u=bl(a),f=gn(a,u);if(f!==null){var v=Ci();sa(f,a,u,v)}Ag(a,u)}},Yc=function(){return Qt},Ko=function(a,u){var f=Qt;try{return Qt=a,u()}finally{Qt=f}},Ct=function(a,u,f){switch(u){case"input":if(Mt(a,f),u=f.name,f.type==="radio"&&u!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<f.length;u++){var v=f[u];if(v!==a&&v.form===a.form){var S=oc(v);if(!S)throw Error(t(90));Ve(v),Mt(v,S)}}}break;case"textarea":Zt(a,f);break;case"select":u=f.value,u!=null&&Ge(a,!!f.multiple,u,!1)}},Pr=wg,bs=fc;var gx={usingClientEntryPoint:!1,Events:[hl,xo,oc,en,ma,wg]},Th={findFiberByHostInstance:La,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mx={bundleType:Th.bundleType,version:Th.version,rendererPackageName:Th.rendererPackageName,rendererConfig:Th.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=es(a),a===null?null:a.stateNode},findFiberByHostInstance:Th.findFiberByHostInstance||fx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lf.isDisabled&&lf.supportsFiber)try{Ja=lf.inject(mx),wi=lf}catch{}}return Vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gx,Vi.createPortal=function(a,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cg(u))throw Error(t(200));return dx(a,u,null,f)},Vi.createRoot=function(a,u){if(!Cg(a))throw Error(t(299));var f=!1,v="",S=$1;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),u=Ng(a,1,!1,null,null,f,!1,v,S),a[Fr]=u.current,wo(a.nodeType===8?a.parentNode:a),new Pg(u)},Vi.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=es(u),a=a===null?null:a.stateNode,a},Vi.flushSync=function(a){return fc(a)},Vi.hydrate=function(a,u,f){if(!af(u))throw Error(t(200));return of(null,a,u,!0,f)},Vi.hydrateRoot=function(a,u,f){if(!Cg(a))throw Error(t(405));var v=f!=null&&f.hydratedSources||null,S=!1,C="",F=$1;if(f!=null&&(f.unstable_strictMode===!0&&(S=!0),f.identifierPrefix!==void 0&&(C=f.identifierPrefix),f.onRecoverableError!==void 0&&(F=f.onRecoverableError)),u=q1(u,null,a,1,f??null,S,!1,C,F),a[Fr]=u.current,wo(a),v)for(a=0;a<v.length;a++)f=v[a],S=f._getVersion,S=S(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,S]:u.mutableSourceEagerHydrationData.push(f,S);return new sf(u)},Vi.render=function(a,u,f){if(!af(u))throw Error(t(200));return of(null,a,u,!1,f)},Vi.unmountComponentAtNode=function(a){if(!af(a))throw Error(t(40));return a._reactRootContainer?(fc(function(){of(null,null,a,!1,function(){a._reactRootContainer=null,a[Fr]=null})}),!0):!1},Vi.unstable_batchedUpdates=wg,Vi.unstable_renderSubtreeIntoContainer=function(a,u,f,v){if(!af(f))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return of(a,u,f,!1,v)},Vi.version="18.3.1-next-f1338f8080-20240426",Vi}var ev;function E5(){if(ev)return Lg.exports;ev=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Lg.exports=Ax(),Lg.exports}var tv;function Px(){if(tv)return cf;tv=1;var n=E5();return cf.createRoot=n.createRoot,cf.hydrateRoot=n.hydrateRoot,cf}var Cx=Px();E5();function id(){return id=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},id.apply(this,arguments)}var El;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(El||(El={}));const nv="popstate";function Ex(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Nm("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Jf(i)}return Lx(e,t,null,n)}function tr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function p0(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jx(){return Math.random().toString(36).substr(2,8)}function rv(n,e){return{usr:n.state,key:n.key,idx:e}}function Nm(n,e,t,r){return t===void 0&&(t=null),id({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?th(e):e,{state:t,key:e&&e.key||r||jx()})}function Jf(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function th(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Lx(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=El.Pop,c=null,h=d();h==null&&(h=0,o.replaceState(id({},o.state,{idx:h}),""));function d(){return(o.state||{idx:null}).idx}function g(){l=El.Pop;let N=d(),P=N==null?null:N-h;h=N,c&&c({action:l,location:k.location,delta:P})}function y(N,P){l=El.Push;let O=Nm(k.location,N,P);h=d()+1;let j=rv(O,h),L=k.createHref(O);try{o.pushState(j,"",L)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(L)}s&&c&&c({action:l,location:k.location,delta:1})}function m(N,P){l=El.Replace;let O=Nm(k.location,N,P);h=d();let j=rv(O,h),L=k.createHref(O);o.replaceState(j,"",L),s&&c&&c({action:l,location:k.location,delta:0})}function _(N){let P=i.location.origin!=="null"?i.location.origin:i.location.href,O=typeof N=="string"?N:Jf(N);return O=O.replace(/ $/,"%20"),tr(P,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,P)}let k={get action(){return l},get location(){return n(i,o)},listen(N){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(nv,g),c=N,()=>{i.removeEventListener(nv,g),c=null}},createHref(N){return e(i,N)},createURL:_,encodeLocation(N){let P=_(N);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:y,replace:m,go(N){return o.go(N)}};return k}var iv;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(iv||(iv={}));function Tx(n,e,t){return t===void 0&&(t="/"),Ox(n,e,t)}function Ox(n,e,t,r){let i=typeof e=="string"?th(e):e,s=Yu(i.pathname||"/",t);if(s==null)return null;let o=j5(n);Rx(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let h=$x(s);l=qx(o[c],h)}return l}function j5(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(tr(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=Rl([r,c.relativePath]),d=t.concat(c);s.children&&s.children.length>0&&(tr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),j5(s.children,e,d,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:zx(h,s.index),routesMeta:d})};return n.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of L5(s.path))i(s,o,c)}),e}function L5(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=L5(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>n.startsWith("/")&&c===""?"/":c)}function Rx(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Wx(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const Mx=/^:[\w-]+$/,Ix=3,Dx=2,Fx=1,Bx=10,Ux=-2,sv=n=>n==="*";function zx(n,e){let t=n.split("/"),r=t.length;return t.some(sv)&&(r+=Ux),e&&(r+=Dx),t.filter(i=>!sv(i)).reduce((i,s)=>i+(Mx.test(s)?Ix:s===""?Fx:Bx),r)}function Wx(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function qx(n,e,t){let{routesMeta:r}=n,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],h=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",g=Am({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},d),y=c.route;if(!g)return null;Object.assign(i,g.params),o.push({params:i,pathname:Rl([s,g.pathname]),pathnameBase:Jx(Rl([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=Rl([s,g.pathnameBase]))}return o}function Am(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Hx(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,d,g)=>{let{paramName:y,isOptional:m}=d;if(y==="*"){let k=l[g]||"";o=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const _=l[g];return m&&!_?h[y]=void 0:h[y]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:n}}function Hx(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),p0(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function $x(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return p0(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Yu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}const Vx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gx=n=>Vx.test(n);function Kx(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?th(n):n,s;if(t)if(Gx(t))s=t;else{if(t.includes("//")){let o=t;t=t.replace(/\/\/+/g,"/"),p0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+t))}t.startsWith("/")?s=av(t.substring(1),"/"):s=av(t,e)}else s=e;return{pathname:s,search:Xx(r),hash:Qx(i)}}function av(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Rg(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yx(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function g0(n,e){let t=Yx(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function m0(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=th(n):(i=id({},n),tr(!i.pathname||!i.pathname.includes("?"),Rg("?","pathname","search",i)),tr(!i.pathname||!i.pathname.includes("#"),Rg("#","pathname","hash",i)),tr(!i.search||!i.search.includes("#"),Rg("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=t;else{let g=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}l=g>=0?e[g]:"/"}let c=Kx(i,l),h=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||d)&&(c.pathname+="/"),c}const Rl=n=>n.join("/").replace(/\/\/+/g,"/"),Jx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Xx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Qx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Zx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const T5=["post","put","patch","delete"];new Set(T5);const eS=["get",...T5];new Set(eS);function sd(){return sd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sd.apply(this,arguments)}const bp=de.createContext(null),O5=de.createContext(null),zo=de.createContext(null),_p=de.createContext(null),Ha=de.createContext({outlet:null,matches:[],isDataRoute:!1}),R5=de.createContext(null);function tS(n,e){let{relative:t}=e===void 0?{}:e;nh()||tr(!1);let{basename:r,navigator:i}=de.useContext(zo),{hash:s,pathname:o,search:l}=xp(n,{relative:t}),c=o;return r!=="/"&&(c=o==="/"?r:Rl([r,o])),i.createHref({pathname:c,search:l,hash:s})}function nh(){return de.useContext(_p)!=null}function zl(){return nh()||tr(!1),de.useContext(_p).location}function M5(n){de.useContext(zo).static||de.useLayoutEffect(n)}function Wl(){let{isDataRoute:n}=de.useContext(Ha);return n?vS():nS()}function nS(){nh()||tr(!1);let n=de.useContext(bp),{basename:e,future:t,navigator:r}=de.useContext(zo),{matches:i}=de.useContext(Ha),{pathname:s}=zl(),o=JSON.stringify(g0(i,t.v7_relativeSplatPath)),l=de.useRef(!1);return M5(()=>{l.current=!0}),de.useCallback(function(h,d){if(d===void 0&&(d={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let g=m0(h,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Rl([e,g.pathname])),(d.replace?r.replace:r.push)(g,d.state,d)},[e,r,o,s,n])}const rS=de.createContext(null);function iS(n){let e=de.useContext(Ha).outlet;return e&&de.createElement(rS.Provider,{value:n},e)}function sS(){let{matches:n}=de.useContext(Ha),e=n[n.length-1];return e?e.params:{}}function xp(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=de.useContext(zo),{matches:i}=de.useContext(Ha),{pathname:s}=zl(),o=JSON.stringify(g0(i,r.v7_relativeSplatPath));return de.useMemo(()=>m0(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function aS(n,e){return oS(n,e)}function oS(n,e,t,r){nh()||tr(!1);let{navigator:i}=de.useContext(zo),{matches:s}=de.useContext(Ha),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let h=zl(),d;if(e){var g;let N=typeof e=="string"?th(e):e;c==="/"||(g=N.pathname)!=null&&g.startsWith(c)||tr(!1),d=N}else d=h;let y=d.pathname||"/",m=y;if(c!=="/"){let N=c.replace(/^\//,"").split("/");m="/"+y.replace(/^\//,"").split("/").slice(N.length).join("/")}let _=Tx(n,{pathname:m}),k=dS(_&&_.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:Rl([c,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:Rl([c,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,t,r);return e&&k?de.createElement(_p.Provider,{value:{location:sd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:El.Pop}},k):k}function lS(){let n=mS(),e=Zx(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},e),t?de.createElement("pre",{style:i},t):null,null)}const cS=de.createElement(lS,null);class uS extends de.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?de.createElement(Ha.Provider,{value:this.props.routeContext},de.createElement(R5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hS(n){let{routeContext:e,match:t,children:r}=n,i=de.useContext(bp);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),de.createElement(Ha.Provider,{value:e},r)}function dS(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=(i=t)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);d>=0||tr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,h=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let g=o[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=d),g.route.id){let{loaderData:y,errors:m}=t,_=g.route.loader&&y[g.route.id]===void 0&&(!m||m[g.route.id]===void 0);if(g.route.lazy||_){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((d,g,y)=>{let m,_=!1,k=null,N=null;t&&(m=l&&g.route.id?l[g.route.id]:void 0,k=g.route.errorElement||cS,c&&(h<0&&y===0?(yS("route-fallback"),_=!0,N=null):h===y&&(_=!0,N=g.route.hydrateFallbackElement||null)));let P=e.concat(o.slice(0,y+1)),O=()=>{let j;return m?j=k:_?j=N:g.route.Component?j=de.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=d,de.createElement(hS,{match:g,routeContext:{outlet:d,matches:P,isDataRoute:t!=null},children:j})};return t&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?de.createElement(uS,{location:t.location,revalidation:t.revalidation,component:k,error:m,children:O(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):O()},null)}var I5=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(I5||{}),D5=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(D5||{});function fS(n){let e=de.useContext(bp);return e||tr(!1),e}function pS(n){let e=de.useContext(O5);return e||tr(!1),e}function gS(n){let e=de.useContext(Ha);return e||tr(!1),e}function F5(n){let e=gS(),t=e.matches[e.matches.length-1];return t.route.id||tr(!1),t.route.id}function mS(){var n;let e=de.useContext(R5),t=pS(),r=F5();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function vS(){let{router:n}=fS(I5.UseNavigateStable),e=F5(D5.UseNavigateStable),t=de.useRef(!1);return M5(()=>{t.current=!0}),de.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,sd({fromRouteId:e},s)))},[n,e])}const ov={};function yS(n,e,t){ov[n]||(ov[n]=!0)}function wS(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function Oc(n){let{to:e,replace:t,state:r,relative:i}=n;nh()||tr(!1);let{future:s,static:o}=de.useContext(zo),{matches:l}=de.useContext(Ha),{pathname:c}=zl(),h=Wl(),d=m0(e,g0(l,s.v7_relativeSplatPath),c,i==="path"),g=JSON.stringify(d);return de.useEffect(()=>h(JSON.parse(g),{replace:t,state:r,relative:i}),[h,g,i,t,r]),null}function B5(n){return iS(n.context)}function Hr(n){tr(!1)}function bS(n){let{basename:e="/",children:t=null,location:r,navigationType:i=El.Pop,navigator:s,static:o=!1,future:l}=n;nh()&&tr(!1);let c=e.replace(/^\/*/,"/"),h=de.useMemo(()=>({basename:c,navigator:s,static:o,future:sd({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=th(r));let{pathname:d="/",search:g="",hash:y="",state:m=null,key:_="default"}=r,k=de.useMemo(()=>{let N=Yu(d,c);return N==null?null:{location:{pathname:N,search:g,hash:y,state:m,key:_},navigationType:i}},[c,d,g,y,m,_,i]);return k==null?null:de.createElement(zo.Provider,{value:h},de.createElement(_p.Provider,{children:t,value:k}))}function _S(n){let{children:e,location:t}=n;return aS(Pm(e),t)}new Promise(()=>{});function Pm(n,e){e===void 0&&(e=[]);let t=[];return de.Children.forEach(n,(r,i)=>{if(!de.isValidElement(r))return;let s=[...e,i];if(r.type===de.Fragment){t.push.apply(t,Pm(r.props.children,s));return}r.type!==Hr&&tr(!1),!r.props.index||!r.props.children||tr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Pm(r.props.children,s)),t.push(o)}),t}function Xf(){return Xf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xf.apply(this,arguments)}function U5(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function xS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function SS(n,e){return n.button===0&&(!e||e==="_self")&&!xS(n)}const kS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],NS=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],AS="6";try{window.__reactRouterVersion=AS}catch{}const PS=de.createContext({isTransitioning:!1}),CS="startTransition",lv=Sx[CS];function ES(n){let{basename:e,children:t,future:r,window:i}=n,s=de.useRef();s.current==null&&(s.current=Ex({window:i,v5Compat:!0}));let o=s.current,[l,c]=de.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},d=de.useCallback(g=>{h&&lv?lv(()=>c(g)):c(g)},[c,h]);return de.useLayoutEffect(()=>o.listen(d),[o,d]),de.useEffect(()=>wS(r),[r]),de.createElement(bS,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o,future:r})}const jS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Io=de.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:h,preventScrollReset:d,viewTransition:g}=e,y=U5(e,kS),{basename:m}=de.useContext(zo),_,k=!1;if(typeof h=="string"&&LS.test(h)&&(_=h,jS))try{let j=new URL(window.location.href),L=h.startsWith("//")?new URL(j.protocol+h):new URL(h),D=Yu(L.pathname,m);L.origin===j.origin&&D!=null?h=D+L.search+L.hash:k=!0}catch{}let N=tS(h,{relative:i}),P=OS(h,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:g});function O(j){r&&r(j),j.defaultPrevented||P(j)}return de.createElement("a",Xf({},y,{href:_||N,onClick:k||s?r:O,ref:t,target:c}))}),z5=de.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:h,children:d}=e,g=U5(e,NS),y=xp(c,{relative:g.relative}),m=zl(),_=de.useContext(O5),{navigator:k,basename:N}=de.useContext(zo),P=_!=null&&RS(y)&&h===!0,O=k.encodeLocation?k.encodeLocation(y).pathname:y.pathname,j=m.pathname,L=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(j=j.toLowerCase(),L=L?L.toLowerCase():null,O=O.toLowerCase()),L&&N&&(L=Yu(L,N)||L);const D=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let J=j===O||!o&&j.startsWith(O)&&j.charAt(D)==="/",U=L!=null&&(L===O||!o&&L.startsWith(O)&&L.charAt(O.length)==="/"),H={isActive:J,isPending:U,isTransitioning:P},W=J?r:void 0,re;typeof s=="function"?re=s(H):re=[s,J?"active":null,U?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(H):l;return de.createElement(Io,Xf({},g,{"aria-current":W,className:re,ref:t,style:I,to:c,viewTransition:h}),typeof d=="function"?d(H):d)});var Cm;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Cm||(Cm={}));var cv;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(cv||(cv={}));function TS(n){let e=de.useContext(bp);return e||tr(!1),e}function OS(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,c=Wl(),h=zl(),d=xp(n,{relative:o});return de.useCallback(g=>{if(SS(g,t)){g.preventDefault();let y=r!==void 0?r:Jf(h)===Jf(d);c(n,{replace:y,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[h,c,d,r,i,t,n,s,o,l])}function RS(n,e){e===void 0&&(e={});let t=de.useContext(PS);t==null&&tr(!1);let{basename:r}=TS(Cm.useViewTransitionState),i=xp(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Yu(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=Yu(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Am(i.pathname,o)!=null||Am(i.pathname,s)!=null}function Sp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function MS(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function l(d){try{h(r.next(d))}catch(g){o(g)}}function c(d){try{h(r.throw(d))}catch(g){o(g)}}function h(d){d.done?s(d.value):i(d.value).then(l,c)}h((r=r.apply(n,e||[])).next())})}const IS=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class v0 extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class DS extends v0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class uv extends v0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class hv extends v0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Em;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Em||(Em={}));class FS{constructor(e,{headers:t={},customFetch:r,region:i=Em.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=IS(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return MS(this,arguments,void 0,function*(t,r={}){var i;let s,o;try{const{headers:l,method:c,body:h,signal:d,timeout:g}=r;let y={},{region:m}=r;m||(m=this.region);const _=new URL(`${this.url}/${t}`);m&&m!=="any"&&(y["x-region"]=m,_.searchParams.set("forceFunctionRegion",m));let k;h&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",k=h):typeof h=="string"?(y["Content-Type"]="text/plain",k=h):typeof FormData<"u"&&h instanceof FormData?k=h:(y["Content-Type"]="application/json",k=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?k=JSON.stringify(h):k=h;let N=d;g&&(o=new AbortController,s=setTimeout(()=>o.abort(),g),d?(N=o.signal,d.addEventListener("abort",()=>o.abort())):N=o.signal);const P=yield this.fetch(_.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),l),body:k,signal:N}).catch(D=>{throw new DS(D)}),O=P.headers.get("x-relay-error");if(O&&O==="true")throw new uv(P);if(!P.ok)throw new hv(P);let j=((i=P.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),L;return j==="application/json"?L=yield P.json():j==="application/octet-stream"||j==="application/pdf"?L=yield P.blob():j==="text/event-stream"?L=P:j==="multipart/form-data"?L=yield P.formData():L=yield P.text(),{data:L,error:null,response:P}}catch(l){return{data:null,error:l,response:l instanceof hv||l instanceof uv?l.context:void 0}}finally{s&&clearTimeout(s)}})}}var BS=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},US=class{constructor(n){var e,t;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(t=n.isMaybeSingle)!==null&&t!==void 0?t:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let o=null,l=null,c=null,h=s.status,d=s.statusText;if(s.ok){var g,y;if(t.method!=="HEAD"){var m;const P=await s.text();P===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((m=t.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=P:l=JSON.parse(P))}const k=(g=t.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),N=(y=s.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");k&&N&&N.length>1&&(c=parseInt(N[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,h=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var _;const k=await s.text();try{o=JSON.parse(k),Array.isArray(o)&&s.status===404&&(l=[],o=null,h=200,d="OK")}catch{s.status===404&&k===""?(h=204,d="No Content"):o={message:k}}if(o&&t.isMaybeSingle&&(!(o==null||(_=o.details)===null||_===void 0)&&_.includes("0 rows"))&&(o=null,h=200,d="OK"),o&&t.shouldThrowOnError)throw new BS(o)}return{error:o,data:l,count:c,status:h,statusText:d}});return this.shouldThrowOnError||(i=i.catch(s=>{var o;let l="";const c=s?.cause;if(c){var h,d,g,y;const _=(h=c?.message)!==null&&h!==void 0?h:"",k=(d=c?.code)!==null&&d!==void 0?d:"";l=`${(g=s?.name)!==null&&g!==void 0?g:"FetchError"}: ${s?.message}`,l+=`

Caused by: ${(y=c?.name)!==null&&y!==void 0?y:"Error"}: ${_}`,k&&(l+=` (${k})`),c?.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=s?.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=s?.name)!==null&&o!==void 0?o:"FetchError"}: ${s?.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(n,e)}returns(){return this}overrideTypes(){return this}},zS=class extends US{select(n){let e=!1;const t=(n??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:t,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${n}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:t=e}={}){const r=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${n}`),this}range(n,e,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this.url.searchParams.set(s,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:t=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var o;const l=[n?"analyze":null,e?"verbose":null,t?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const dv=new RegExp("[,()]");var Tu=class extends zS{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const t=Array.from(new Set(e)).map(r=>typeof r=="string"&&dv.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`in.(${t})`),this}notIn(n,e){const t=Array.from(new Set(e)).map(r=>typeof r=="string"&&dv.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`not.in.(${t})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:t,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=t===void 0?"":`(${t})`;return this.url.searchParams.append(n,`${i}fts${s}.${e}`),this}match(n){return Object.entries(n).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(n,e,t){return this.url.searchParams.append(n,`not.${e}.${t}`),this}or(n,{foreignTable:e,referencedTable:t=e}={}){const r=t?`${t}.or`:"or";return this.url.searchParams.append(r,`(${n})`),this}filter(n,e,t){return this.url.searchParams.append(n,`${e}.${t}`),this}},WS=class{constructor(n,{headers:e={},schema:t,fetch:r}){this.url=n,this.headers=new Headers(e),this.schema=t,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,e){const{head:t=!1,count:r}=e??{},i=t?"HEAD":"GET";let s=!1;const o=(n??"*").split("").map(h=>/\s/.test(h)&&!s?"":(h==='"'&&(s=!s),h)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),r&&c.append("Prefer",`count=${r}`),new Tu({method:i,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(n,{count:e,defaultToNull:t=!0}={}){var r;const i="POST",{url:s,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),t||o.append("Prefer","missing=default"),Array.isArray(n)){const l=n.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(l.length>0){const c=[...new Set(l)].map(h=>`"${h}"`);s.searchParams.set("columns",c.join(","))}}return new Tu({method:i,url:s,headers:o,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(n,{onConflict:e,ignoreDuplicates:t=!1,count:r,defaultToNull:i=!0}={}){var s;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&l.searchParams.set("on_conflict",e),r&&c.append("Prefer",`count=${r}`),i||c.append("Prefer","missing=default"),Array.isArray(n)){const h=n.reduce((d,g)=>d.concat(Object.keys(g)),[]);if(h.length>0){const d=[...new Set(h)].map(g=>`"${g}"`);l.searchParams.set("columns",d.join(","))}}return new Tu({method:o,url:l,headers:c,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(n,{count:e}={}){var t;const r="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Tu({method:r,url:i,headers:s,schema:this.schema,body:n,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:n}={}){var e;const t="DELETE",{url:r,headers:i}=this.cloneRequestState();return n&&i.append("Prefer",`count=${n}`),new Tu({method:t,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},qS=class W5{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new WS(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new W5(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:i=!1,count:s}={}){var o;let l;const c=new URL(`${this.url}/rpc/${e}`);let h;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),g=r&&Object.values(t).some(d);g?(l="POST",h=t):r||i?(l=r?"HEAD":"GET",Object.entries(t).filter(([m,_])=>_!==void 0).map(([m,_])=>[m,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([m,_])=>{c.searchParams.append(m,_)})):(l="POST",h=t);const y=new Headers(this.headers);return g?y.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&y.set("Prefer",`count=${s}`),new Tu({method:l,url:c,headers:y,schema:this.schemaName,body:h,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class HS{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const r=t.versions;if(r&&r.node){const i=r.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const $S="2.93.3",VS=`realtime-js/${$S}`,GS="1.0.0",q5="2.0.0",fv=q5,jm=1e4,KS=1e3,YS=100;var Pl;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Pl||(Pl={}));var Rr;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Rr||(Rr={}));var ca;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(ca||(ca={}));var Lm;(function(n){n.websocket="websocket"})(Lm||(Lm={}));var Pc;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Pc||(Pc={}));class JS{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const i=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var t,r;const i=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,t,r){var i,s;const o=e.topic,l=(i=e.ref)!==null&&i!==void 0?i:"",c=(s=e.join_ref)!==null&&s!==void 0?s:"",h=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},g=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+h.length+g.length,m=new ArrayBuffer(this.HEADER_LENGTH+y);let _=new DataView(m),k=0;_.setUint8(k++,this.KINDS.userBroadcastPush),_.setUint8(k++,c.length),_.setUint8(k++,l.length),_.setUint8(k++,o.length),_.setUint8(k++,h.length),_.setUint8(k++,g.length),_.setUint8(k++,t),Array.from(c,P=>_.setUint8(k++,P.charCodeAt(0))),Array.from(l,P=>_.setUint8(k++,P.charCodeAt(0))),Array.from(o,P=>_.setUint8(k++,P.charCodeAt(0))),Array.from(h,P=>_.setUint8(k++,P.charCodeAt(0))),Array.from(g,P=>_.setUint8(k++,P.charCodeAt(0)));var N=new Uint8Array(m.byteLength+r.byteLength);return N.set(new Uint8Array(m),0),N.set(new Uint8Array(r),m.byteLength),N.buffer}decode(e,t){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return t(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,s,o,l,c]=r;return t({join_ref:i,ref:s,topic:o,event:l,payload:c})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),i=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,i)}_decodeUserBroadcast(e,t,r){const i=t.getUint8(1),s=t.getUint8(2),o=t.getUint8(3),l=t.getUint8(4);let c=this.HEADER_LENGTH+4;const h=r.decode(e.slice(c,c+i));c=c+i;const d=r.decode(e.slice(c,c+s));c=c+s;const g=r.decode(e.slice(c,c+o));c=c+o;const y=e.slice(c,e.byteLength),m=l===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,_={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(_.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>t.includes(r)))}}class H5{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var On;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(On||(On={}));const pv=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=XS(o,n,e,i),s),{}):{}},XS=(n,e,t,r)=>{const i=e.find(l=>l.name===n),s=i?.type,o=t[n];return s&&!r.includes(s)?$5(s,o):Tm(o)},$5=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return tk(e,t)}switch(n){case On.bool:return QS(e);case On.float4:case On.float8:case On.int2:case On.int4:case On.int8:case On.numeric:case On.oid:return ZS(e);case On.json:case On.jsonb:return ek(e);case On.timestamp:return nk(e);case On.abstime:case On.date:case On.daterange:case On.int4range:case On.int8range:case On.money:case On.reltime:case On.text:case On.time:case On.timestamptz:case On.timetz:case On.tsrange:case On.tstzrange:return Tm(e);default:return Tm(e)}},Tm=n=>n,QS=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},ZS=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},ek=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},tk=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let s;const o=n.slice(1,t);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>$5(e,l))}return n},nk=n=>typeof n=="string"?n.replace(" ","T"):n,V5=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Mg{constructor(e,t,r={},i=jm){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var gv;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(gv||(gv={}));class Gh{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gh.syncState(this.state,i,s,o),this.pendingDiffs.forEach(c=>{this.state=Gh.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Gh.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const s=this.cloneDeep(e),o=this.transformState(t),l={},c={};return this.map(s,(h,d)=>{o[h]||(c[h]=d)}),this.map(o,(h,d)=>{const g=s[h];if(g){const y=d.map(N=>N.presence_ref),m=g.map(N=>N.presence_ref),_=d.filter(N=>m.indexOf(N.presence_ref)<0),k=g.filter(N=>y.indexOf(N.presence_ref)<0);_.length>0&&(l[h]=_),k.length>0&&(c[h]=k)}else l[h]=d}),this.syncDiff(s,{joins:l,leaves:c},r,i)}static syncDiff(e,t,r,i){const{joins:s,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var h;const d=(h=e[l])!==null&&h!==void 0?h:[];if(e[l]=this.cloneDeep(c),d.length>0){const g=e[l].map(m=>m.presence_ref),y=d.filter(m=>g.indexOf(m.presence_ref)<0);e[l].unshift(...y)}r(l,d,c)}),this.map(o,(l,c)=>{let h=e[l];if(!h)return;const d=c.map(g=>g.presence_ref);h=h.filter(g=>d.indexOf(g.presence_ref)<0),e[l]=h,i(l,h,c),h.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mv;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(mv||(mv={}));var Kh;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Kh||(Kh={}));var Oo;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Oo||(Oo={}));class Du{constructor(e,t={config:{}},r){var i,s;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Rr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Mg(this,ca.join,this.params,this.timeout),this.rejoinTimer=new H5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Rr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ca.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Gh(this),this.broadcastEndpointURL=V5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Rr.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,h=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Kh.PRESENCE]&&this.bindings[Kh.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},y={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:h,private:c};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(m=>e?.(Oo.CHANNEL_ERROR,m)),this._onClose(()=>e?.(Oo.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:m})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e?.(Oo.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,N=(_=k?.length)!==null&&_!==void 0?_:0,P=[];for(let O=0;O<N;O++){const j=k[O],{filter:{event:L,schema:D,table:J,filter:U}}=j,H=m&&m[O];if(H&&H.event===L&&Du.isFilterValueEqual(H.schema,D)&&Du.isFilterValueEqual(H.table,J)&&Du.isFilterValueEqual(H.filter,U))P.push(Object.assign(Object.assign({},j),{id:H.id}));else{this.unsubscribe(),this.state=Rr.errored,e?.(Oo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(Oo.SUBSCRIBED);return}}).receive("error",m=>{this.state=Rr.errored,e?.(Oo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e?.(Oo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===Rr.joined&&e===Kh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var i;if(t==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const h=await l.json();c=h.error||h.message||c}catch{}return Promise.reject(new Error(c))}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const h=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Rr.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ca.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Mg(this,ca.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Rr.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(s),o}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Mg(this,e,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>YS){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,s;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:h,join:d}=ca;if(r&&[l,c,h,d].indexOf(o)>=0&&r!==this._joinRef())return;let y=this._onMessage(o,t,r);if(t&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var _,k,N;return((_=m.filter)===null||_===void 0?void 0:_.event)==="*"||((N=(k=m.filter)===null||k===void 0?void 0:k.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===o}).map(m=>m.callback(y,r)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var _,k,N,P,O,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const L=m.id,D=(_=m.filter)===null||_===void 0?void 0:_.event;return L&&((k=t.ids)===null||k===void 0?void 0:k.includes(L))&&(D==="*"||D?.toLocaleLowerCase()===((N=t.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const L=(O=(P=m?.filter)===null||P===void 0?void 0:P.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return L==="*"||L===((j=t?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof y=="object"&&"ids"in y){const _=y.data,{schema:k,table:N,commit_timestamp:P,type:O,errors:j}=_;y=Object.assign(Object.assign({},{schema:k,table:N,commit_timestamp:P,eventType:O,new:{},old:{},errors:j}),this._getPayloadRecords(_))}m.callback(y,r)})}_isClosed(){return this.state===Rr.closed}_isJoined(){return this.state===Rr.joined}_isJoining(){return this.state===Rr.joining}_isLeaving(){return this.state===Rr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Du.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ca.close,{},e)}_onError(e){this._on(ca.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=pv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=pv(e.columns,e.old_record)),t}}const Ig=()=>{},uf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rk=[1e3,2e3,5e3,1e4],ik=1e4,sk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ak{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jm,this.transport=null,this.heartbeatIntervalMs=uf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ig,this.ref=0,this.reconnectTimer=null,this.vsn=fv,this.logger=Ig,this.conn=null,this.sendBuffer=[],this.serializer=new JS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Lm.websocket}`,this.httpEndpoint=V5(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=HS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Pl.connecting:return Pc.Connecting;case Pl.open:return Pc.Open;case Pl.closing:return Pc.Closing;default:return Pc.Closed}}isConnected(){return this.connectionState()===Pc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Du(`realtime:${e}`,t,this);return this.channels.push(s),s}}push(e){const{topic:t,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${t} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(KS,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},uf.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply"&&t.ref&&t.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error",h)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:s,ref:o}=t,l=o?`(${o})`:"",c=s.status||"";this.log("receive",`${c} ${r} ${i} ${l}`.trim(),s),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(i,s,o)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Pl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Pl.open||this.conn.readyState===Pl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(t){this.log("error","error in heartbeat callback",t)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(ca.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([sk],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,r=!1;if(e)t=e,r=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const s={access_token:t,version:VS};t&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(ca.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new H5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},uf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,i,s,o,l,c,h,d,g,y,m;switch(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:jm,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:uf.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e?.heartbeatCallback)!==null&&l!==void 0?l:Ig,this.vsn=(c=e?.vsn)!==null&&c!==void 0?c:fv,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(_=>rk[_-1]||ik),this.vsn){case GS:this.encode=(d=e?.encode)!==null&&d!==void 0?d:((_,k)=>k(JSON.stringify(_))),this.decode=(g=e?.decode)!==null&&g!==void 0?g:((_,k)=>k(JSON.parse(_)));break;case q5:this.encode=(y=e?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(m=e?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var ad=class extends Error{constructor(n,e){super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ok(n,e,t){const r=new URL(e,n);if(t)for(const[i,s]of Object.entries(t))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function lk(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function ck(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:t,path:r,query:i,body:s,headers:o}){const l=ok(n.baseUrl,r,i),c=await lk(n.auth),h=await e(l,{method:t,headers:{...s?{"Content-Type":"application/json"}:{},...c,...o},body:s?JSON.stringify(s):void 0}),d=await h.text(),g=(h.headers.get("content-type")||"").includes("application/json"),y=g&&d?JSON.parse(d):d;if(!h.ok){const m=g?y:void 0,_=m?.error;throw new ad(_?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:_?.type,icebergCode:_?.code,details:m})}return{status:h.status,headers:h.headers,data:y}}}}function hf(n){return n.join("")}var uk=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:hf(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,e){const t={namespace:n.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hf(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hf(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hf(n.namespace)}`}),!0}catch(e){if(e instanceof ad&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(t){if(t instanceof ad&&t.status===409)return;throw t}}};function bu(n){return n.join("")}var hk=class{constructor(n,e="",t){this.client=n,this.prefix=e,this.accessDelegation=t}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bu(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bu(n.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(n,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bu(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bu(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bu(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bu(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(t){if(t instanceof ad&&t.status===404)return!1;throw t}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(t){if(t instanceof ad&&t.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw t}}},dk=class{constructor(n){let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const t=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=ck({baseUrl:t,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new uk(this.client,e),this.tableOps=new hk(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},kp=class extends Error{constructor(n,e="storage",t,r){super(n),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=t,this.statusCode=r}};function Np(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var df=class extends kp{constructor(n,e,t,r="storage"){super(n,r,e,t),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},G5=class extends kp{constructor(n,e,t="storage"){super(n,t),this.name=t==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const fk=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),pk=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Om=n=>{if(Array.isArray(n))return n.map(t=>Om(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Om(r)}),e},gk=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function od(n){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(n)}function mk(n,e){if(od(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function vk(n){var e=mk(n,"string");return od(e)=="symbol"?e:e+""}function yk(n,e,t){return(e=vk(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vv(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Nt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vv(Object(t),!0).forEach(function(r){yk(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vv(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const yv=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},wk=async(n,e,t,r)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!t?.noResolveJson){const i=n,s=i.status||500;if(typeof i.json=="function")i.json().then(o=>{const l=o?.statusCode||o?.code||s+"";e(new df(yv(o),s,l,r))}).catch(()=>{if(r==="vectors"){const o=s+"";e(new df(i.statusText||`HTTP ${s} error`,s,o,r))}else{const o=s+"";e(new df(i.statusText||`HTTP ${s} error`,s,o,r))}});else{const o=s+"";e(new df(i.statusText||`HTTP ${s} error`,s,o,r))}}else e(new G5(yv(n),n,r))},bk=(n,e,t,r)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"||n==="HEAD"||!r?Nt(Nt({},i),t):(pk(r)?(i.headers=Nt({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Nt(Nt({},i),t))};async function Rh(n,e,t,r,i,s,o){return new Promise((l,c)=>{n(t,bk(e,r,i,s)).then(h=>{if(!h.ok)throw h;if(r?.noResolveJson)return h;if(o==="vectors"){const d=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!d||!d.includes("application/json"))return{}}return h.json()}).then(h=>l(h)).catch(h=>wk(h,c,r,o))})}function K5(n="storage"){return{get:async(e,t,r,i)=>Rh(e,"GET",t,r,i,void 0,n),post:async(e,t,r,i,s)=>Rh(e,"POST",t,i,s,r,n),put:async(e,t,r,i,s)=>Rh(e,"PUT",t,i,s,r,n),head:async(e,t,r,i)=>Rh(e,"HEAD",t,Nt(Nt({},r),{},{noResolveJson:!0}),i,void 0,n),remove:async(e,t,r,i,s)=>Rh(e,"DELETE",t,i,s,r,n)}}const _k=K5("storage"),{get:ld,post:la,put:Rm,head:xk,remove:y0}=_k,vs=K5("vectors");var rh=class{constructor(n,e={},t,r="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.fetch=fk(t),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(n){var e=this;try{return{data:await n(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Np(t))return{data:null,error:t};throw t}}},Sk=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Np(e))return{data:null,error:e};throw e}}};let Y5;Y5=Symbol.toStringTag;var kk=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[Y5]="BlobDownloadBuilder",this.promise=null}asStream(){return new Sk(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Np(e))return{data:null,error:e};throw e}}};const Nk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Ak=class extends rh{constructor(n,e={},t,r){super(n,e,r,"storage"),this.bucketId=t}async uploadOrUpdate(n,e,t,r){var i=this;return i.handleOperation(async()=>{let s;const o=Nt(Nt({},wv),r);let l=Nt(Nt({},i.headers),n==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&t instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",i.encodeMetadata(c)),s.append("",t)):typeof FormData<"u"&&t instanceof FormData?(s=t,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),c&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(c))):(s=t,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),r?.headers&&(l=Nt(Nt({},l),r.headers));const h=i._removeEmptyFolders(e),d=i._getFinalPath(h),g=await(n=="PUT"?Rm:la)(i.fetch,`${i.url}/object/${d}`,s,Nt({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{path:h,id:g.Id,fullPath:g.Key}})}async upload(n,e,t){return this.uploadOrUpdate("POST",n,e,t)}async uploadToSignedUrl(n,e,t,r){var i=this;const s=i._removeEmptyFolders(n),o=i._getFinalPath(s),l=new URL(i.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",e),i.handleOperation(async()=>{let c;const h=Nt({upsert:wv.upsert},r),d=Nt(Nt({},i.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&t instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),c.append("",t)):typeof FormData<"u"&&t instanceof FormData?(c=t,c.append("cacheControl",h.cacheControl)):(c=t,d["cache-control"]=`max-age=${h.cacheControl}`,d["content-type"]=h.contentType),{path:s,fullPath:(await Rm(i.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(n,e){var t=this;return t.handleOperation(async()=>{let r=t._getFinalPath(n);const i=Nt({},t.headers);e?.upsert&&(i["x-upsert"]="true");const s=await la(t.fetch,`${t.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(t.url+s.url),l=o.searchParams.get("token");if(!l)throw new kp("No token returned by API");return{signedUrl:o.toString(),path:n,token:l}})}async update(n,e,t){return this.uploadOrUpdate("PUT",n,e,t)}async move(n,e,t){var r=this;return r.handleOperation(async()=>await la(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:r.headers}))}async copy(n,e,t){var r=this;return r.handleOperation(async()=>({path:(await la(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(n,e,t){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(n),s=await la(r.fetch,`${r.url}/object/sign/${i}`,Nt({expiresIn:e},t?.transform?{transform:t.transform}:{}),{headers:r.headers});const o=t?.download?`&download=${t.download===!0?"":t.download}`:"";return{signedUrl:encodeURI(`${r.url}${s.signedURL}${o}`)}})}async createSignedUrls(n,e,t){var r=this;return r.handleOperation(async()=>{const i=await la(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:n},{headers:r.headers}),s=t?.download?`&download=${t.download===!0?"":t.download}`:"";return i.map(o=>Nt(Nt({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${s}`):null}))})}download(n,e){const t=typeof e?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(e?.transform||{}),i=r?`?${r}`:"",s=this._getFinalPath(n),o=()=>ld(this.fetch,`${this.url}/${t}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new kk(o,this.shouldThrowOnError)}async info(n){var e=this;const t=e._getFinalPath(n);return e.handleOperation(async()=>Om(await ld(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})))}async exists(n){var e=this;const t=e._getFinalPath(n);try{return await xk(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Np(r)&&r instanceof G5){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(n,e){const t=this._getFinalPath(n),r=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const s=typeof e?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(e?.transform||{});o!==""&&r.push(o);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${t}${l}`)}}}async remove(n){var e=this;return e.handleOperation(async()=>await y0(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}))}async list(n,e,t){var r=this;return r.handleOperation(async()=>{const i=Nt(Nt(Nt({},Nk),e),{},{prefix:n||""});return await la(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},t)})}async listV2(n,e){var t=this;return t.handleOperation(async()=>{const r=Nt({},n);return await la(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,r,{headers:t.headers},e)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const Pk="2.93.3",kd={"X-Client-Info":`storage-js/${Pk}`};var Ck=class extends rh{constructor(n,e={},t,r){const i=new URL(n);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),o=Nt(Nt({},kd),e);super(s,o,t,"storage")}async listBuckets(n){var e=this;return e.handleOperation(async()=>{const t=e.listBucketOptionsToQueryString(n);return await ld(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers})})}async getBucket(n){var e=this;return e.handleOperation(async()=>await ld(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}))}async createBucket(n,e={public:!1}){var t=this;return t.handleOperation(async()=>await la(t.fetch,`${t.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}))}async updateBucket(n,e){var t=this;return t.handleOperation(async()=>await Rm(t.fetch,`${t.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}))}async emptyBucket(n){var e=this;return e.handleOperation(async()=>await la(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}))}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await y0(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Ek=class extends rh{constructor(n,e={},t){const r=n.replace(/\/$/,""),i=Nt(Nt({},kd),e);super(r,i,t,"storage")}async createBucket(n){var e=this;return e.handleOperation(async()=>await la(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}))}async listBuckets(n){var e=this;return e.handleOperation(async()=>{const t=new URLSearchParams;n?.limit!==void 0&&t.set("limit",n.limit.toString()),n?.offset!==void 0&&t.set("offset",n.offset.toString()),n?.sortColumn&&t.set("sortColumn",n.sortColumn),n?.sortOrder&&t.set("sortOrder",n.sortOrder),n?.search&&t.set("search",n.search);const r=t.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await ld(e.fetch,i,{headers:e.headers})})}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await y0(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}))}from(n){var e=this;if(!gk(n))throw new kp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new dk({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(t,{get(i,s){const o=i[s];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(i,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}},jk=class extends rh{constructor(n,e={},t){const r=n.replace(/\/$/,""),i=Nt(Nt({},kd),{},{"Content-Type":"application/json"},e);super(r,i,t,"vectors")}async createIndex(n){var e=this;return e.handleOperation(async()=>await vs.post(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{})}async getIndex(n,e){var t=this;return t.handleOperation(async()=>await vs.post(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers}))}async listIndexes(n){var e=this;return e.handleOperation(async()=>await vs.post(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}))}async deleteIndex(n,e){var t=this;return t.handleOperation(async()=>await vs.post(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers})||{})}},Lk=class extends rh{constructor(n,e={},t){const r=n.replace(/\/$/,""),i=Nt(Nt({},kd),{},{"Content-Type":"application/json"},e);super(r,i,t,"vectors")}async putVectors(n){var e=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await vs.post(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{})}async getVectors(n){var e=this;return e.handleOperation(async()=>await vs.post(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}))}async listVectors(n){var e=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return e.handleOperation(async()=>await vs.post(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}))}async queryVectors(n){var e=this;return e.handleOperation(async()=>await vs.post(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}))}async deleteVectors(n){var e=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await vs.post(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{})}},Tk=class extends rh{constructor(n,e={},t){const r=n.replace(/\/$/,""),i=Nt(Nt({},kd),{},{"Content-Type":"application/json"},e);super(r,i,t,"vectors")}async createBucket(n){var e=this;return e.handleOperation(async()=>await vs.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{})}async getBucket(n){var e=this;return e.handleOperation(async()=>await vs.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}))}async listBuckets(n={}){var e=this;return e.handleOperation(async()=>await vs.post(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}))}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await vs.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{})}},Ok=class extends Tk{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new Rk(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,t=this;return e().call(t,n)}async getBucket(n){var e=()=>super.getBucket,t=this;return e().call(t,n)}async listBuckets(n={}){var e=()=>super.listBuckets,t=this;return e().call(t,n)}async deleteBucket(n){var e=()=>super.deleteBucket,t=this;return e().call(t,n)}},Rk=class extends jk{constructor(n,e,t,r){super(n,e,r),this.vectorBucketName=t}async createIndex(n){var e=()=>super.createIndex,t=this;return e().call(t,Nt(Nt({},n),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,t=this;return e().call(t,Nt(Nt({},n),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,n)}index(n){return new Mk(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},Mk=class extends Lk{constructor(n,e,t,r,i){super(n,e,i),this.vectorBucketName=t,this.indexName=r}async putVectors(n){var e=()=>super.putVectors,t=this;return e().call(t,Nt(Nt({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(n){var e=()=>super.getVectors,t=this;return e().call(t,Nt(Nt({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,t=this;return e().call(t,Nt(Nt({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,t=this;return e().call(t,Nt(Nt({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,t=this;return e().call(t,Nt(Nt({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},Ik=class extends Ck{constructor(n,e={},t,r){super(n,e,t,r)}from(n){return new Ak(this.url,this.headers,n,this.fetch)}get vectors(){return new Ok(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ek(this.url+"/iceberg",this.headers,this.fetch)}};const J5="2.93.3",Ou=30*1e3,Mm=3,Dg=Mm*Ou,Dk="http://localhost:9999",Fk="supabase.auth.token",Bk={"X-Client-Info":`gotrue-js/${J5}`},Im="X-Supabase-Api-Version",X5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Uk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zk=600*1e3;class cd extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function ut(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Wk extends cd{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function qk(n){return ut(n)&&n.name==="AuthApiError"}class Cc extends cd{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Wo extends cd{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class ps extends Wo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fg(n){return ut(n)&&n.name==="AuthSessionMissingError"}class _u extends Wo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ff extends Wo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class pf extends Wo{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Hk(n){return ut(n)&&n.name==="AuthImplicitGrantRedirectError"}class bv extends Wo{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $k extends Wo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Dm extends Wo{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Bg(n){return ut(n)&&n.name==="AuthRetryableFetchError"}class _v extends Wo{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Fm extends Wo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xv=` 	
\r=`.split(""),Vk=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<xv.length;e+=1)n[xv[e].charCodeAt(0)]=-2;for(let e=0;e<Qf.length;e+=1)n[Qf[e].charCodeAt(0)]=e;return n})();function Sv(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Qf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Qf[r]),e.queuedBits-=6}}function Q5(n,e,t){const r=Vk[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function kv(n){const e=[],t=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Yk(o,r,t)};for(let o=0;o<n.length;o+=1)Q5(n.charCodeAt(o),i,s);return e.join("")}function Gk(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Kk(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}Gk(r,e)}}function Yk(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function zu(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)Q5(n.charCodeAt(i),t,r);return new Uint8Array(e)}function Jk(n){const e=[];return Kk(n,t=>e.push(t)),new Uint8Array(e)}function jc(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>Sv(i,t,r)),Sv(null,t,r),e.join("")}function Xk(n){return Math.round(Date.now()/1e3)+n}function Qk(){return Symbol("auth-callback")}const Zr=()=>typeof window<"u"&&typeof document<"u",vc={tested:!1,writable:!1},Z5=()=>{if(!Zr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vc.tested)return vc.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),vc.tested=!0,vc.writable=!0}catch{vc.tested=!0,vc.writable=!1}return vc.writable};function Zk(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const ew=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),e3=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ru=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},yc=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Qr=async(n,e)=>{await n.removeItem(e)};class Ap{constructor(){this.promise=new Ap.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Ap.promiseConstructor=Promise;function gf(n){const e=n.split(".");if(e.length!==3)throw new Fm("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Uk.test(e[r]))throw new Fm("JWT not in base64url format");return{header:JSON.parse(kv(e[0])),payload:JSON.parse(kv(e[1])),signature:zu(e[2]),raw:{header:e[0],payload:e[1]}}}async function t3(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function n3(n,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await n(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function r3(n){return("0"+n.toString(16)).substr(-2)}function i3(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let s=0;s<56;s++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,r3).join("")}async function s3(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function a3(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await s3(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xu(n,e,t=!1){const r=i3();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await Ru(n,`${e}-code-verifier`,i);const s=await a3(r);return[s,r===s?"plain":"s256"]}const o3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function l3(n){const e=n.headers.get(Im);if(!e||!e.match(o3))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function c3(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function u3(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const h3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Su(n){if(!h3.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ug(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function d3(n,e){return new Proxy(n,{get:(t,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,i)}})}function Nv(n){return JSON.parse(JSON.stringify(n))}const xc=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),f3=[502,503,504];async function Av(n){var e;if(!e3(n))throw new Dm(xc(n),0);if(f3.includes(n.status))throw new Dm(xc(n),n.status);let t;try{t=await n.json()}catch(s){throw new Cc(xc(s),s)}let r;const i=l3(n);if(i&&i.getTime()>=X5["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new _v(xc(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ps}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new _v(xc(t),n.status,t.weak_password.reasons);throw new Wk(xc(t),n.status||500,r)}const p3=(n,e,t,r)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function St(n,e,t,r){var i;const s=Object.assign({},r?.headers);s[Im]||(s[Im]=X5["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await g3(n,e,t+l,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function g3(n,e,t,r,i,s){const o=p3(e,r,i,s);let l;try{l=await n(t,Object.assign({},o))}catch(c){throw console.error(c),new Dm(xc(c),0)}if(l.ok||await Av(l),r?.noResolveJson)return l;try{return await l.json()}catch(c){await Av(c)}}function oa(n){var e;let t=null;y3(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=Xk(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function Pv(n){const e=oa(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Cl(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function m3(n){return{data:n,error:null}}function v3(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s}=n,o=Sp(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Cv(n){return n}function y3(n){return n.access_token&&n.refresh_token&&n.expires_in}const zg=["global","local","others"];class w3{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=ew(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=zg[0]){if(zg.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zg.join(", ")}`);try{return await St(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await St(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Cl})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=Sp(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await St(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:v3,redirectTo:t?.redirectTo})}catch(t){if(ut(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await St(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Cl})}catch(t){if(ut(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,s,o,l,c;try{const h={nextPage:null,lastPage:0,total:0},d=await St(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Cv});if(d.error)throw d.error;const g=await d.json(),y=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(_.split(";")[1].split("=")[1]);h[`${N}Page`]=k}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(ut(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Su(e);try{return await St(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Cl})}catch(t){if(ut(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Su(e);try{return await St(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Cl})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){Su(e);try{return await St(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Cl})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Su(e.userId);try{const{data:t,error:r}=await St(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(ut(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Su(e.userId),Su(e.id);try{return{data:await St(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ut(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,i,s,o,l,c;try{const h={nextPage:null,lastPage:0,total:0},d=await St(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Cv});if(d.error)throw d.error;const g=await d.json(),y=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(_.split(";")[1].split("=")[1]);h[`${N}Page`]=k}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(ut(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await St(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ut(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await St(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ut(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await St(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await St(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(ut(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await St(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ut(t))return{data:null,error:t};throw t}}}function Ev(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const ku={debug:!!(globalThis&&Z5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class b3 extends tw{}async function _3(n,e,t){ku.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ku.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ku.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{ku.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw ku.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new b3(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ku.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function x3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function nw(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function S3(n){return parseInt(n,16)}function k3(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function N3(n){var e;const{chainId:t,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:l,requestId:c,resources:h,scheme:d,uri:g,version:y}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const m=nw(n.address),_=d?`${d}://${r}`:r,k=n.statement?`${n.statement}
`:"",N=`${_} wants you to sign in with your Ethereum account:
${m}

${k}`;let P=`URI: ${g}
Version: ${y}
Chain ID: ${t}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(P+=`
Expiration Time: ${i.toISOString()}`),l&&(P+=`
Not Before: ${l.toISOString()}`),c&&(P+=`
Request ID: ${c}`),h){let O=`
Resources:`;for(const j of h){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);O+=`
- ${j}`}P+=O}return`${N}
${P}`}class Ar extends Error{constructor({message:e,code:t,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=t}}class Zf extends Ar{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function A3({error:n,options:e}){var t,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ar({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=s.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Ar({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ar({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ar({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Ar({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Ar({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ar({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Ar({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const o=window.location.hostname;if(rw(o)){if(s.rp.id!==o)return new Ar({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ar({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Ar({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function P3({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ar({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Ar({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(rw(r)){if(t.rpId!==r)return new Ar({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Ar({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class C3{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const E3=new C3;function j3(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:r}=n,i=Sp(n,["challenge","user","excludeCredentials"]),s=zu(e).buffer,o=Object.assign(Object.assign({},t),{id:zu(t.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const h=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},h),{id:zu(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function L3(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,r=Sp(n,["challenge","allowCredentials"]),i=zu(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(t&&t.length>0){s.allowCredentials=new Array(t.length);for(let o=0;o<t.length;o++){const l=t[o];s.allowCredentials[o]=Object.assign(Object.assign({},l),{id:zu(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function T3(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:jc(new Uint8Array(n.response.attestationObject)),clientDataJSON:jc(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function O3(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,r=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:jc(new Uint8Array(i.authenticatorData)),clientDataJSON:jc(new Uint8Array(i.clientDataJSON)),signature:jc(new Uint8Array(i.signature)),userHandle:i.userHandle?jc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function rw(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function jv(){var n,e;return!!(Zr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function R3(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Zf("Browser returned unexpected credential type",e)}:{data:null,error:new Zf("Empty credential response",e)}}catch(e){return{data:null,error:A3({error:e,options:n})}}}async function M3(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Zf("Browser returned unexpected credential type",e)}:{data:null,error:new Zf("Empty credential response",e)}}catch(e){return{data:null,error:P3({error:e,options:n})}}}const I3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},D3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ep(...n){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of n)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(t(o))r[s]=o;else if(e(o)){const l=r[s];e(l)?r[s]=ep(l,o):r[s]=ep(o)}else r[s]=o}return r}function F3(n,e){return ep(I3,n,e||{})}function B3(n,e){return ep(D3,n,e||{})}class U3{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:i},s){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!l)return{data:null,error:c};const h=i??E3.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const g=r;if(g)d.name=`${d.id}:${g}`;else{const m=(await this.client.getUser()).data.user,_=((o=m?.user_metadata)===null||o===void 0?void 0:o.name)||m?.email||m?.id||"User";d.name=`${d.id}:${_}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=F3(l.webauthn.credential_options.publicKey,s?.create),{data:g,error:y}=await R3({publicKey:d,signal:h});return g?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}case"request":{const d=B3(l.webauthn.credential_options.publicKey,s?.request),{data:g,error:y}=await M3(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:h}));return g?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}}}catch(l){return ut(l)?{data:null,error:l}:{data:null,error:new Cc("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!t)return{data:null,error:new cd("rpId is required for WebAuthn authentication")};try{if(!jv())return{data:null,error:new Cc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:t,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return ut(o)?{data:null,error:o}:{data:null,error:new Cc("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!t)return{data:null,error:new cd("rpId is required for WebAuthn registration")};try{if(!jv())return{data:null,error:new Cc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var g;return(g=d.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:l};const{data:c,error:h}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:i},{create:s});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:t,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:h}}catch(o){return ut(o)?{data:null,error:o}:{data:null,error:new Cc("Unexpected error in register",o)}}}}x3();const z3={url:Dk,storageKey:Fk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Bk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Lv(n,e,t){return await t()}const Nu={};class ud{get jwks(){var e,t;return(t=(e=Nu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Nu[this.storageKey]=Object.assign(Object.assign({},Nu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Nu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Nu[this.storageKey]=Object.assign(Object.assign({},Nu[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},z3),e);if(this.storageKey=s.storageKey,this.instanceID=(t=ud.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,ud.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Zr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new w3({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ew(s.fetch),this.lock=s.lock||Lv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Zr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=_3:this.lock=Lv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new U3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Z5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ev(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Ev(this.memoryStorage)),Zr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${J5}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},r="none";if(Zr()&&(t=Zk(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),Zr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(t,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Hk(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ut(t)?this._returnResult({error:t}):this._returnResult({error:new Cc("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const s=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:oa}),{data:o,error:l}=s;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:h,session:c},error:null})}catch(s){if(ut(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var t,r,i;try{let s;if("email"in e){const{email:d,password:g,options:y}=e;let m=null,_=null;this.flowType==="pkce"&&([m,_]=await xu(this.storage,this.storageKey)),s=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:d,password:g,data:(t=y?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:m,code_challenge_method:_},xform:oa})}else if("phone"in e){const{phone:d,password:g,options:y}=e;s=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:g,data:(r=y?.data)!==null&&r!==void 0?r:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:oa})}else throw new ff("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return await Qr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:h,session:c},error:null})}catch(s){if(await Qr(this.storage,`${this.storageKey}-code-verifier`),ut(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:o,options:l}=e;t=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Pv})}else if("phone"in e){const{phone:s,password:o,options:l}=e;t=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Pv})}else throw new ff("You must provide either an email or phone number and a password");const{data:r,error:i}=t;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new _u;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(ut(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,i,s,o,l,c,h,d,g,y;let m,_;if("message"in e)m=e.message,_=e.signature;else{const{chain:k,wallet:N,statement:P,options:O}=e;let j;if(Zr())if(typeof N=="object")j=N;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")j=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=N}const L=new URL((t=O?.url)!==null&&t!==void 0?t:window.location.href),D=await j.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const J=nw(D[0]);let U=(r=O?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!U){const W=await j.request({method:"eth_chainId"});U=S3(W)}const H={domain:L.host,address:J,statement:P,uri:L.href,version:"1",chainId:U,nonce:(i=O?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=O?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=O?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=O?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(h=O?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(d=O?.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=N3(H),_=await j.request({method:"personal_sign",params:[k3(m),J]})}try{const{data:k,error:N}=await St(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:_},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:oa});if(N)throw N;if(!k||!k.session||!k.user){const P=new _u;return this._returnResult({data:{user:null,session:null},error:P})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:N})}catch(k){if(ut(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(e){var t,r,i,s,o,l,c,h,d,g,y,m;let _,k;if("message"in e)_=e.message,k=e.signature;else{const{chain:N,wallet:P,statement:O,options:j}=e;let L;if(Zr())if(typeof P=="object")L=P;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))L=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=P}const D=new URL((t=j?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in L&&L.signIn){const J=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),O?{statement:O}:null));let U;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")U=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)U=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)_=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),k=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${D.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(r=j?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=j?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((h=j?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((g=(d=j?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||g===void 0)&&g.length?["Resources",...j.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const J=await L.signMessage(new TextEncoder().encode(_),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=J}}try{const{data:N,error:P}=await St(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:jc(k)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:oa});if(P)throw P;if(!N||!N.session||!N.user){const O=new _u;return this._returnResult({data:{user:null,session:null},error:O})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:P})}catch(N){if(ut(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(e){const t=await yc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{if(!r&&this.flowType==="pkce")throw new $k;const{data:s,error:o}=await St(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:oa});if(await Qr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const l=new _u;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(await Qr(this.storage,`${this.storageKey}-code-verifier`),ut(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:s,nonce:o}=e,l=await St(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:oa}),{data:c,error:h}=l;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!c||!c.session||!c.user){const d=new _u;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:h})}catch(t){if(ut(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,i,s,o;try{if("email"in e){const{email:l,options:c}=e;let h=null,d=null;this.flowType==="pkce"&&([h,d]=await xu(this.storage,this.storageKey));const{error:g}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=c?.data)!==null&&t!==void 0?t:{},create_user:(r=c?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:h,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in e){const{phone:l,options:c}=e,{data:h,error:d}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:d})}throw new ff("You must provide either an email or phone number.")}catch(l){if(await Qr(this.storage,`${this.storageKey}-code-verifier`),ut(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var t,r;try{let i,s;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await St(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:oa});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,h=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:h,session:c},error:null})}catch(i){if(ut(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var t,r,i,s,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await xu(this.storage,this.storageKey));const h=await St(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:m3});return!((s=h.data)===null||s===void 0)&&s.url&&Zr()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(l){if(await Qr(this.storage,`${this.storageKey}-code-verifier`),ut(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new ps;const{error:i}=await St(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ut(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await St(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:l}=await St(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:l})}throw new ff("You must provide either an email or phone number and a type")}catch(t){if(ut(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await yc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Dg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await yc(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=Ug()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=d3(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Cl}):await this._useSession(async t=>{var r,i,s;const{data:o,error:l}=t;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ps}:await St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Cl})})}catch(t){if(ut(t))return Fg(t)&&(await this._removeSession(),await Qr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new ps;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await xu(this.storage,this.storageKey));const{data:h,error:d}=await St(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Cl});if(d)throw d;return o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Qr(this.storage,`${this.storageKey}-code-verifier`),ut(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ps;const t=Date.now()/1e3;let r=t,i=!0,s=null;const{payload:o}=gf(e.access_token);if(o.exp&&(r=o.exp,i=r<=t),i){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(t){if(ut(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:o,error:l}=t;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new ps;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(ut(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Zr())throw new pf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new pf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new bv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pf("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new bv("No code detected.");const{data:O,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:h}=e;if(!s||!l||!o||!h)throw new pf("No session defined in URL");const d=Math.round(Date.now()/1e3),g=parseInt(l);let y=d+g;c&&(y=parseInt(c));const m=y-d;m*1e3<=Ou&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${g}s`);const _=y-g;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,y,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,y,d);const{data:k,error:N}=await this._getUser(s);if(N)throw N;const P={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:g,expires_at:y,refresh_token:o,token_type:h,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:P,redirectType:e.type},error:null})}catch(r){if(ut(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await yc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s&&!Fg(s))return this._returnResult({error:s});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(qk(l)&&(l.status===404||l.status===401||l.status===403)||Fg(l)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Qr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=Qk(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:s},error:o}=t;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await xu(this.storage,this.storageKey,!0));try{return await St(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(await Qr(this.storage,`${this.storageKey}-code-verifier`),ut(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(ut(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:i}=await this._useSession(async s=>{var o,l,c,h,d;const{data:g,error:y}=s;if(y)throw y;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await St(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Zr()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(ut(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:i,data:{session:s}}=t;if(i)throw i;const{options:o,provider:l,token:c,access_token:h,nonce:d}=e,g=await St(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:h,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:oa}),{data:y,error:m}=g;return m?this._returnResult({data:{user:null,session:null},error:m}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new _u}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:m}))}catch(i){if(await Qr(this.storage,`${this.storageKey}-code-verifier`),ut(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:s,error:o}=t;if(o)throw o;return await St(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(ut(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await n3(async i=>(i>0&&await t3(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await St(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:oa})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Bg(s)&&Date.now()+o-r<Ou})}catch(r){if(this._debug(t,"error",r),ut(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Zr()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await yc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await yc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Ru(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:Ug()}else if(i&&!i.user&&!i.user){const o=await yc(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Qr(this.storage,this.storageKey+"-user"),await Ru(this.storage,this.storageKey,i)):i.user=Ug()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Dg;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Dg}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Bg(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new ps;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ap;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new ps;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),ut(s)){const o={data:null,error:s};return Bg(s)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,t)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Qr(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await Ru(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const s=Nv(i);await Ru(this.storage,this.storageKey,s)}else{const i=Nv(t);await Ru(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Qr(this.storage,this.storageKey),await Qr(this.storage,this.storageKey+"-code-verifier"),await Qr(this.storage,this.storageKey+"-user"),this.userStorage&&await Qr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Zr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ou);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Ou);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ou}ms, refresh threshold is ${Mm} ticks`),i<=Mm&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof tw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Zr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await xu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;return s?this._returnResult({data:null,error:s}):await St(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(ut(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:s,error:o}=t;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:h}=await St(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&c.type==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(t){if(ut(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?T3(e.webauthn.credential_response):O3(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await St(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(t){if(ut(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s)return this._returnResult({data:null,error:s});const o=await St(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:j3(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:L3(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(ut(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=t?.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var t,r,i,s;if(e)try{const{payload:m}=gf(e);let _=null;m.aal&&(_=m.aal);let k=_;const{data:{user:N},error:P}=await this.getUser(e);if(P)return this._returnResult({data:null,error:P});((r=(t=N?.factors)===null||t===void 0?void 0:t.filter(L=>L.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(k="aal2");const j=m.amr||[];return{data:{currentLevel:_,nextLevel:k,currentAuthenticationMethods:j},error:null}}catch(m){if(ut(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=gf(o.access_token);let h=null;c.aal&&(h=c.aal);let d=h;((s=(i=o.user.factors)===null||i===void 0?void 0:i.filter(m=>m.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");const y=c.amr||[];return{data:{currentLevel:h,nextLevel:d,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?await St(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ps})})}catch(t){if(ut(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new ps});const o=await St(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Zr()&&!t?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ut(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new ps});const o=await St(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Zr()&&!t?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ut(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await St(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ps})})}catch(e){if(ut(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?(await St(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ps})})}catch(t){if(ut(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(l=>l.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+zk>i)return r;const{data:s,error:o}=await St(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:m,error:_}=await this.getSession();if(_||!m.session)return this._returnResult({data:null,error:_});r=m.session.access_token}const{header:i,payload:s,signature:o,raw:{header:l,payload:c}}=gf(r);t?.allowExpired||c3(s.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!h){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:s,header:i,signature:o},error:null}}const d=u3(i.alg),g=await crypto.subtle.importKey("jwk",h,d,!0,["verify"]);if(!await crypto.subtle.verify(d,g,o,Jk(`${l}.${c}`)))throw new Fm("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(ut(r))return this._returnResult({data:null,error:r});throw r}}}ud.nextInstanceID={};const W3=ud,q3="2.93.3";let qh="";typeof Deno<"u"?qh="deno":typeof document<"u"?qh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qh="react-native":qh="node";const H3={"X-Client-Info":`supabase-js-${qh}/${q3}`},$3={headers:H3},V3={schema:"public"},G3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},K3={};function hd(n){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(n)}function Y3(n,e){if(hd(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function J3(n){var e=Y3(n,"string");return hd(e)=="symbol"?e:e+""}function X3(n,e,t){return(e=J3(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Tv(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function dr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Tv(Object(t),!0).forEach(function(r){X3(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Tv(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const Q3=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Z3=()=>Headers,e4=(n,e,t)=>{const r=Q3(t),i=Z3();return async(s,o)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:n;let h=new i(o?.headers);return h.has("apikey")||h.set("apikey",n),h.has("Authorization")||h.set("Authorization",`Bearer ${c}`),r(s,dr(dr({},o),{},{headers:h}))}};function t4(n){return n.endsWith("/")?n:n+"/"}function n4(n,e){var t,r;const{db:i,auth:s,realtime:o,global:l}=n,{db:c,auth:h,realtime:d,global:g}=e,y={db:dr(dr({},c),i),auth:dr(dr({},h),s),realtime:dr(dr({},d),o),storage:{},global:dr(dr(dr({},g),l),{},{headers:dr(dr({},(t=g?.headers)!==null&&t!==void 0?t:{}),(r=l?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?y.accessToken=n.accessToken:delete y.accessToken,y}function r4(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t4(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var i4=class extends W3{constructor(n){super(n)}},s4=class{constructor(n,e,t){var r,i;this.supabaseUrl=n,this.supabaseKey=e;const s=r4(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o=`sb-${s.hostname.split(".")[0]}-auth-token`,l={db:V3,realtime:K3,auth:dr(dr({},G3),{},{storageKey:o}),global:$3},c=n4(t??{},l);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=c.auth)!==null&&h!==void 0?h:{},this.headers,c.global.fetch)}this.fetch=e4(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(dr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new qS(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Ik(this.storageUrl.href,this.headers,this.fetch,t?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new FS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,t)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,t;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:r,userStorage:i,storageKey:s,flowType:o,lock:l,debug:c,throwOnError:h},d,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new i4({url:this.authUrl.href,headers:dr(dr({},y),d),storageKey:s,autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:r,userStorage:i,flowType:o,lock:l,debug:c,throwOnError:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new ak(this.realtimeUrl.href,dr(dr({},n),{},{params:dr(dr({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e?.access_token)})}_handleTokenChanged(n,e,t){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const a4=(n,e,t)=>new s4(n,e,t);function o4(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const e=n.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}o4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const l4="https://ufppqvrblxcyzengswjb.supabase.co",c4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVmcHBxdnJibHhjeXplbmdzd2piIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkxMjMwMTIsImV4cCI6MjA4NDY5OTAxMn0.xiYNVgnX8GEyg5clT6LzywzV9oDV33EX54-ngQLDqrI",lt=a4(l4,c4,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}});lt.auth.getSession().then(({data:n,error:e})=>{e&&console.error("[Supabase] Connection test failed:",e)});const kn=[{value:"ruang_rawat_inap",label:"Ruang Rawat Inap",color:"#10b981"},{value:"poli",label:"Poli",color:"#3b82f6"},{value:"casemix",label:"Casemix",color:"#8b5cf6"},{value:"rekam_medis",label:"Rekam Medis",color:"#f59e0b"},{value:"hilang",label:"Hilang",color:"#ef4444"}],Ov={ADMIN:"admin",PETUGAS:"petugas"},ua=10,Rv=5e3,iw=de.createContext({}),Us=()=>{const n=de.useContext(iw);if(!n)throw new Error("useAuth must be used within AuthProvider");return n},u4=({children:n})=>{const[e,t]=de.useState(null),[r,i]=de.useState(null),[s,o]=de.useState(!0),[l,c]=de.useState(null),h=async j=>{try{const{data:L,error:D}=await lt.from("profiles").select("*").eq("id",j).single();if(D)return D.code==="20"||D.message?.includes("AbortError")||console.error("[Auth] Profile fetch error:",D),null;i(L);try{localStorage.setItem("app_user_profile",JSON.stringify(L))}catch(J){console.error("[Auth] Failed to cache profile:",J)}return L}catch(L){return L.name==="AbortError"||L.message?.includes("AbortError")||console.error("[Auth] Error fetching profile:",L),null}},d=async()=>{e&&(o(!0),await h(e.id),o(!1))};de.useEffect(()=>{let j=!0;const L=localStorage.getItem("app_user_profile");if(L)try{const H=JSON.parse(L);i(H)}catch{console.error("[Auth] Failed to parse cached profile"),localStorage.removeItem("app_user_profile")}const D=setTimeout(()=>{j&&s&&(console.warn("[Auth] Loading timeout - forcing completion"),o(!1))},5e3);(async()=>{try{const{data:{session:H},error:W}=await lt.auth.getSession();W&&console.error("[Auth] Get session error:",W),j&&(H?.user?(t(H.user),h(H.user.id).then(re=>{!re&&!L&&console.warn("[Auth] No profile data available (fetch failed + no cache)")})):(t(null),i(null),localStorage.removeItem("app_user_profile")),o(!1))}catch(H){console.error("[Auth] Init error:",H),j&&o(!1)}})();const{data:{subscription:U}}=lt.auth.onAuthStateChange(async(H,W)=>{j&&(W?.user?(t(W.user),h(W.user.id)):(t(null),i(null),localStorage.removeItem("app_user_profile")),o(!1))});return()=>{j=!1,clearTimeout(D),U.unsubscribe()}},[]);const g=async(j,L)=>{try{c(null);const{data:D,error:J}=await lt.auth.signInWithPassword({email:j,password:L});if(J)throw console.error("[Auth] Sign in error:",J),J;return lt.rpc("log_activity",{p_aksi:"LOGIN",p_details:{email:j}}).then(({error:U})=>{U&&console.warn("[Auth] Log activity error (non-critical):",U)}),{data:D,error:null}}catch(D){return console.error("[Auth] Sign in failed:",D),c(D.message),{data:null,error:D}}},y=async(j,L,D={})=>{try{c(null);const{data:J,error:U}=await lt.auth.signUp({email:j,password:L,options:{data:D}});if(U)throw console.error("[Auth] Sign up error:",U),U;return{data:J,error:null}}catch(J){return console.error("[Auth] Sign up failed:",J),c(J.message),{data:null,error:J}}},m=async()=>{try{lt.rpc("log_activity",{p_aksi:"LOGOUT"}).then(({error:L})=>{L&&console.warn("[Auth] Logout log error (non-critical):",L)});const{error:j}=await lt.auth.signOut();j&&console.warn("[Auth] Sign out error (backend):",j)}catch(j){console.error("[Auth] Error signing out:",j)}finally{t(null),i(null),c(null)}},_=async j=>{try{c(null);const{data:L,error:D}=await lt.auth.updateUser({password:j});if(D)throw console.error("[Auth] Update password error:",D),D;return{data:L,error:null}}catch(L){return console.error("[Auth] Update password failed:",L),c(L.message),{data:null,error:L}}},k=async j=>{try{c(null);const{data:L,error:D}=await lt.from("profiles").update(j).eq("id",e.id).select().single();if(D)throw console.error("[Auth] Update profile error:",D),D;return i(L),{data:L,error:null}}catch(L){return console.error("[Auth] Update profile failed:",L),c(L.message),{data:null,error:L}}},N=r?.role===Ov.ADMIN,P=r?.role===Ov.PETUGAS,O={user:e,profile:r,loading:s,error:l,signIn:g,signUp:y,signOut:m,updatePassword:_,updateProfile:k,refreshProfile:d,isAdmin:N,isPetugas:P};return b.jsx(iw.Provider,{value:O,children:n})};var h4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const d4=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ft=(n,e)=>{const t=de.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...h},d)=>de.createElement("svg",{ref:d,...h4,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${d4(n)}`,l].join(" "),...h},[...e.map(([g,y])=>de.createElement(g,y)),...Array.isArray(c)?c:[c]]));return t.displayName=`${n}`,t};const tp=Ft("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const w0=Ft("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const f4=Ft("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Bm=Ft("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const sw=Ft("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);const Mv=Ft("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const b0=Ft("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const _0=Ft("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Pp=Ft("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const dd=Ft("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const aw=Ft("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const p4=Ft("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const ow=Ft("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Bo=Ft("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);const g4=Ft("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const m4=Ft("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const v4=Ft("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const lw=Ft("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);const y4=Ft("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const x0=Ft("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const cw=Ft("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const uw=Ft("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Ju=Ft("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const w4=Ft("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const hw=Ft("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const dw=Ft("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Um=Ft("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);const Xu=Ft("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);const fw=Ft("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const b4=Ft("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const zm=Ft("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const Ml=Ft("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const _4=Ft("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const pw=Ft("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);const gw=Ft("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Wm=Ft("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const x4=Ft("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const S4=Ft("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);const fd=Ft("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const np=Ft("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const k4=Ft("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);const N4=Ft("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);const Ic=Ft("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mw=de.createContext({}),$a=()=>{const n=de.useContext(mw);if(!n)throw new Error("useToast must be used within ToastProvider");return n},A4=({children:n})=>{const[e,t]=de.useState([]),r=de.useCallback(d=>{const g=Date.now()+Math.random(),y={id:g,type:"info",duration:5e3,...d};return t(m=>[...m,y]),y.duration>0&&setTimeout(()=>{i(g)},y.duration),g},[]),i=de.useCallback(d=>{t(g=>g.filter(y=>y.id!==d))},[]),s=de.useCallback((d,g={})=>r({type:"success",message:d,...g}),[r]),o=de.useCallback((d,g={})=>r({type:"error",message:d,...g}),[r]),l=de.useCallback((d,g={})=>r({type:"warning",message:d,...g}),[r]),c=de.useCallback((d,g={})=>r({type:"info",message:d,...g}),[r]),h={success:b.jsx(b0,{size:20,color:"#10b981"}),error:b.jsx(w0,{size:20,color:"#ef4444"}),warning:b.jsx(f4,{size:20,color:"#f59e0b"}),info:b.jsx(v4,{size:20,color:"#3b82f6"})};return b.jsxs(mw.Provider,{value:{addToast:r,removeToast:i,success:s,error:o,warning:l,info:c},children:[n,b.jsx("div",{className:"toast-container",children:e.map(d=>b.jsxs("div",{className:`toast ${d.type}`,children:[b.jsx("span",{className:"toast-icon",children:h[d.type]}),b.jsxs("div",{className:"toast-content",children:[d.title&&b.jsx("div",{className:"toast-title",children:d.title}),b.jsx("div",{className:"toast-message",children:d.message})]}),d.onUndo&&b.jsx("button",{className:"toast-undo",onClick:()=>{d.onUndo(),i(d.id)},children:"Undo"}),b.jsx("button",{className:"toast-close",onClick:()=>i(d.id),children:b.jsx(Ic,{size:16})})]},d.id))})]})},vw=de.createContext({}),yw=()=>de.useContext(vw),P4=({children:n})=>{const[e,t]=de.useState(navigator.onLine),[r,i]=de.useState([]),[s,o]=de.useState(!1),{success:l,error:c,info:h}=$a(),{user:d}=Us();de.useEffect(()=>{const k=()=>{t(!0),h("Kembali online - Mencoba sinkronisasi..."),m()},N=()=>{t(!1),h("Mode Offline - Data akan disimpan lokal")};return window.addEventListener("online",k),window.addEventListener("offline",N),()=>{window.removeEventListener("online",k),window.removeEventListener("offline",N)}},[]),de.useEffect(()=>{const k=localStorage.getItem("offline_scan_queue");if(k)try{const N=JSON.parse(k);Array.isArray(N)&&i(N)}catch(N){console.error("[Sync] Failed to load queue:",N)}},[]),de.useEffect(()=>{localStorage.setItem("offline_scan_queue",JSON.stringify(r))},[r]);const g=k=>{const N={...k,id:crypto.randomUUID(),timestamp:new Date().toISOString(),retryCount:0};return i(P=>[...P,N]),N},y=k=>{i(N=>N.filter(P=>P.id!==k))},m=async()=>{if(r.length===0||s||!d)return;o(!0);let k=0,N=[...r];for(const P of N)try{if(P.type==="SCAN_MUTATION"){let{patient_id:O,status_lokasi:j,keterangan:L,petugas_id:D,no_rm:J}=P.payload;if(!O&&J){const{data:H}=await lt.from("patients").select("id").eq("no_rm",J).single();if(H)O=H.id;else{console.error(`[Sync] Patient ${J} not found, skipping item`),y(P.id);continue}}if(!O){console.error("[Sync] Missing patient_id, skipping"),y(P.id);continue}const{error:U}=await lt.from("tracer").insert({patient_id:O,status_lokasi:j,keterangan:L,petugas_id:D,created_at:P.timestamp});if(U)throw U;await lt.rpc("log_activity",{p_aksi:"UPDATE_STATUS_OFFLINE_SYNC",p_no_rm:J,p_details:{status_lokasi:j,keterangan:L,synced_at:new Date().toISOString(),original_time:P.timestamp}}),y(P.id),k++}}catch(O){console.error("[Sync] Failed to sync item:",P,O)}k>0?l(`Berhasil menyinkronkan ${k} data`):r.length>0&&r.length-k,o(!1)};de.useEffect(()=>{if(e&&d&&r.length>0&&!s){const k=setTimeout(()=>{m()},2e3);return()=>clearTimeout(k)}},[e,d,r]);const _={isOnline:e,pendingQueue:r,addToQueue:g,syncQueue:m,isSyncing:s};return b.jsx(vw.Provider,{value:_,children:n})},C4=()=>{const{isOnline:n,pendingQueue:e,isSyncing:t,syncQueue:r}=yw();return n&&e.length===0?null:b.jsx("div",{style:{position:"fixed",bottom:"80px",left:"50%",transform:"translateX(-50%)",zIndex:50,backgroundColor:n?"var(--warning-100)":"var(--error-100)",color:n?"var(--warning-700)":"var(--error-700)",border:`1px solid ${n?"var(--warning-200)":"var(--error-200)"}`,padding:"8px 16px",borderRadius:"9999px",display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",fontSize:"0.875rem",fontWeight:500,whiteSpace:"nowrap",maxWidth:"90%"},children:n?b.jsxs(b.Fragment,{children:[t?b.jsx(fw,{className:"animate-spin",size:16}):b.jsx(N4,{size:16}),b.jsx("span",{children:t?"Menyinkronkan data...":`${e.length} data menunggu sinkronisasi`}),!t&&b.jsx("button",{onClick:r,style:{background:"transparent",border:"none",color:"inherit",textDecoration:"underline",cursor:"pointer",marginLeft:"4px",fontWeight:600},children:"Sync"})]}):b.jsxs(b.Fragment,{children:[b.jsx(k4,{size:16}),b.jsxs("span",{children:["Mode Offline  ",e.length," antrian"]})]})})},E4=()=>{const[n,e]=de.useState(""),[t,r]=de.useState(""),[i,s]=de.useState(!1),[o,l]=de.useState(!1),[c,h]=de.useState(""),{signIn:d}=Us(),{error:g}=$a();Wl();const y=async m=>{if(m.preventDefault(),h(""),!n||!t){h("Email dan password harus diisi"),g("Email dan password harus diisi");return}console.log("[Login] Attempting login for:",n),l(!0);const{data:_,error:k}=await d(n,t);if(l(!1),k){console.error("[Login] Login failed:",k);let N=k.message;N.includes("Invalid login credentials")?N="Email atau password salah":N.includes("Email not confirmed")?N="Email belum dikonfirmasi":N.includes("Invalid API key")?N="Konfigurasi Supabase tidak valid. Periksa ANON KEY di .env":N.includes("Failed to fetch")&&(N="Tidak dapat terhubung ke server. Periksa koneksi internet dan URL Supabase."),h(N),g(N);return}console.log("[Login] Login successful!")};return b.jsx("div",{className:"login-page",children:b.jsxs("div",{className:"login-card",children:[b.jsxs("div",{className:"login-header",children:[b.jsxs("div",{className:"login-logo",children:[b.jsx("div",{className:"login-logo-icon",children:b.jsx(Xu,{size:28})}),b.jsx("span",{children:"Berkas RM"})]}),b.jsx("p",{className:"login-tagline",children:"Sistem Pelacakan Rekam Medis"})]}),b.jsxs("form",{className:"login-body",onSubmit:y,children:[c&&b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px",marginBottom:"16px",background:"var(--error-light)",color:"#b91c1c",borderRadius:"var(--radius-lg)",fontSize:"0.875rem"},children:[b.jsx(w0,{size:18}),b.jsx("span",{children:c})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",htmlFor:"email",children:"Email"}),b.jsxs("div",{style:{position:"relative"},children:[b.jsx(uw,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),b.jsx("input",{type:"email",id:"email",className:"form-input",placeholder:"nama@rumahsakit.com",value:n,onChange:m=>e(m.target.value),style:{paddingLeft:"40px"},autoComplete:"email",disabled:o})]})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",htmlFor:"password",children:"Password"}),b.jsxs("div",{style:{position:"relative"},children:[b.jsx(x0,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),b.jsx("input",{type:i?"text":"password",id:"password",className:"form-input",placeholder:"Masukkan password",value:t,onChange:m=>r(m.target.value),style:{paddingLeft:"40px",paddingRight:"40px"},autoComplete:"current-password",disabled:o}),b.jsx("button",{type:"button",onClick:()=>s(!i),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"var(--text-muted)",padding:"4px"},children:i?b.jsx(p4,{size:18}):b.jsx(ow,{size:18})})]})]}),b.jsx("button",{type:"submit",className:"btn btn-primary btn-block btn-lg mt-lg",disabled:o,children:o?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"spinner",style:{width:20,height:20}}),b.jsx("span",{children:"Memproses..."})]}):b.jsx("span",{children:"Masuk"})}),b.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"var(--gray-100)",borderRadius:"var(--radius-md)",fontSize:"0.75rem",color:"var(--text-muted)"},children:[b.jsx("strong",{children:"Debug:"})," Buka Browser Console (F12) untuk melihat log detail"]})]}),b.jsx("div",{className:"login-footer",children:b.jsx("p",{children:"Rekam Medis Tracer System  2026"})})]})})},j4=()=>{const{profile:n,signOut:e}=Us(),t=Wl(),[r,i]=de.useState(!1),[s,o]=de.useState(!1),l=async()=>{confirm("Apakah Anda yakin ingin keluar aplikasi?")&&(o(!0),await new Promise(d=>setTimeout(d,800)),await e(),t("/login"))},c=[{path:"/admin",icon:y4,label:"Dashboard",end:!0},{path:"/admin/patients",icon:Bo,label:"Pasien & Berkas"},{path:"/admin/users",icon:np,label:"Manajemen User"},{path:"/admin/logs",icon:tp,label:"Log Aktivitas"},{path:"/admin/profile",icon:np,label:"Profil Saya"}],h=d=>d?d.split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2):"U";return b.jsxs("div",{className:"app-layout",children:[s&&b.jsx(Wp,{}),b.jsx("button",{className:"btn btn-icon btn-ghost no-print",onClick:()=>i(!r),style:{position:"fixed",top:"1rem",left:"1rem",zIndex:250,display:"none"},id:"mobile-menu-btn",children:r?b.jsx(Ic,{size:24}):b.jsx(w4,{size:24})}),b.jsxs("aside",{className:`sidebar ${r?"open":""}`,children:[b.jsx("div",{className:"sidebar-header",children:b.jsxs("div",{className:"sidebar-logo",children:[b.jsx(Xu,{size:28}),b.jsx("span",{children:"RM Tracer"})]})}),b.jsx("nav",{className:"sidebar-nav",children:c.map(d=>b.jsxs(z5,{to:d.path,end:d.end,className:({isActive:g})=>`nav-item ${g?"active":""}`,onClick:()=>i(!1),children:[b.jsx(d.icon,{className:"nav-item-icon",size:20}),b.jsx("span",{children:d.label})]},d.path))}),b.jsxs("div",{className:"sidebar-footer",children:[b.jsxs("div",{className:"user-info",children:[b.jsx("div",{className:"user-avatar",children:h(n?.nama)}),b.jsxs("div",{className:"user-details",children:[b.jsx("div",{className:"user-name",children:n?.nama||"User"}),b.jsx("div",{className:"user-role",children:n?.role||"Admin"})]})]}),b.jsxs("button",{className:"btn btn-ghost btn-block mt-sm",onClick:l,style:{justifyContent:"flex-start"},children:[b.jsx(cw,{size:18}),b.jsx("span",{children:"Keluar"})]})]})]}),r&&b.jsx("div",{className:"no-print",style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",zIndex:199,display:"none"},id:"sidebar-overlay",onClick:()=>i(!1)}),b.jsx("main",{className:"main-content",children:b.jsx(B5,{})}),b.jsx("style",{children:`
        @media (max-width: 1024px) {
          #mobile-menu-btn {
            display: flex !important;
          }
          #sidebar-overlay {
            display: block !important;
          }
        }
      `})]})};function En(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function Dl(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}const ww=6048e5,L4=864e5,bw=6e4,_w=36e5,mf=43200,Iv=1440;let T4={};function Nd(){return T4}function pd(n,e){const t=Nd(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=En(n),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function rp(n){return pd(n,{weekStartsOn:1})}function xw(n){const e=En(n),t=e.getFullYear(),r=Dl(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const i=rp(r),s=Dl(n,0);s.setFullYear(t,0,4),s.setHours(0,0,0,0);const o=rp(s);return e.getTime()>=i.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function Dv(n){const e=En(n);return e.setHours(0,0,0,0),e}function ip(n){const e=En(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function O4(n,e){const t=Dv(n),r=Dv(e),i=+t-ip(t),s=+r-ip(r);return Math.round((i-s)/L4)}function R4(n){const e=xw(n),t=Dl(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),rp(t)}function Uf(n,e){const t=En(n),r=En(e),i=t.getTime()-r.getTime();return i<0?-1:i>0?1:i}function M4(n){return Dl(n,Date.now())}function I4(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Cp(n){if(!I4(n)&&typeof n!="number")return!1;const e=En(n);return!isNaN(Number(e))}function D4(n,e){const t=En(n),r=En(e),i=t.getFullYear()-r.getFullYear(),s=t.getMonth()-r.getMonth();return i*12+s}function F4(n){return e=>{const r=(n?Math[n]:Math.trunc)(e);return r===0?0:r}}function B4(n,e){return+En(n)-+En(e)}function U4(n){const e=En(n);return e.setHours(23,59,59,999),e}function z4(n){const e=En(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function W4(n){const e=En(n);return+U4(e)==+z4(e)}function q4(n,e){const t=En(n),r=En(e),i=Uf(t,r),s=Math.abs(D4(t,r));let o;if(s<1)o=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-i*s);let l=Uf(t,r)===-i;W4(En(n))&&s===1&&Uf(n,r)===1&&(l=!1),o=i*(s-Number(l))}return o===0?0:o}function H4(n,e,t){const r=B4(n,e)/1e3;return F4(t?.roundingMethod)(r)}function $4(n){const e=En(n),t=Dl(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const V4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},G4=(n,e,t)=>{let r;const i=V4[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Wu(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const K4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Y4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},J4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},X4={date:Wu({formats:K4,defaultWidth:"full"}),time:Wu({formats:Y4,defaultWidth:"full"}),dateTime:Wu({formats:J4,defaultWidth:"full"})},Q4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Z4=(n,e,t,r)=>Q4[n];function za(n){return(e,t)=>{const r=t?.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,l=t?.width?String(t.width):o;i=n.formattingValues[l]||n.formattingValues[o]}else{const o=n.defaultWidth,l=t?.width?String(t.width):n.defaultWidth;i=n.values[l]||n.values[o]}const s=n.argumentCallback?n.argumentCallback(e):e;return i[s]}}const eN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rN={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},aN=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},oN={ordinalNumber:aN,era:za({values:eN,defaultWidth:"wide"}),quarter:za({values:tN,defaultWidth:"wide",argumentCallback:n=>n-1}),month:za({values:nN,defaultWidth:"wide"}),day:za({values:rN,defaultWidth:"wide"}),dayPeriod:za({values:iN,defaultWidth:"wide",formattingValues:sN,defaultFormattingWidth:"wide"})};function Wa(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],l=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],c=Array.isArray(l)?cN(l,g=>g.test(o)):lN(l,g=>g.test(o));let h;h=n.valueCallback?n.valueCallback(c):c,h=t.valueCallback?t.valueCallback(h):h;const d=e.slice(o.length);return{value:h,rest:d}}}function lN(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function cN(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function Sw(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],s=e.match(n.parsePattern);if(!s)return null;let o=n.valueCallback?n.valueCallback(s[0]):s[0];o=t.valueCallback?t.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const uN=/^(\d+)(th|st|nd|rd)?/i,hN=/\d+/i,dN={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fN={any:[/^b/i,/^(a|c)/i]},pN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gN={any:[/1/i,/2/i,/3/i,/4/i]},mN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_N={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xN={ordinalNumber:Sw({matchPattern:uN,parsePattern:hN,valueCallback:n=>parseInt(n,10)}),era:Wa({matchPatterns:dN,defaultMatchWidth:"wide",parsePatterns:fN,defaultParseWidth:"any"}),quarter:Wa({matchPatterns:pN,defaultMatchWidth:"wide",parsePatterns:gN,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Wa({matchPatterns:mN,defaultMatchWidth:"wide",parsePatterns:vN,defaultParseWidth:"any"}),day:Wa({matchPatterns:yN,defaultMatchWidth:"wide",parsePatterns:wN,defaultParseWidth:"any"}),dayPeriod:Wa({matchPatterns:bN,defaultMatchWidth:"any",parsePatterns:_N,defaultParseWidth:"any"})},kw={code:"en-US",formatDistance:G4,formatLong:X4,formatRelative:Z4,localize:oN,match:xN,options:{weekStartsOn:0,firstWeekContainsDate:1}};function SN(n){const e=En(n);return O4(e,$4(e))+1}function kN(n){const e=En(n),t=+rp(e)-+R4(e);return Math.round(t/ww)+1}function Nw(n,e){const t=En(n),r=t.getFullYear(),i=Nd(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Dl(n,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const l=pd(o,e),c=Dl(n,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const h=pd(c,e);return t.getTime()>=l.getTime()?r+1:t.getTime()>=h.getTime()?r:r-1}function NN(n,e){const t=Nd(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,i=Nw(n,e),s=Dl(n,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),pd(s,e)}function AN(n,e){const t=En(n),r=+pd(t,e)-+NN(t,e);return Math.round(r/ww)+1}function vn(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const kl={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return vn(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):vn(t+1,2)},d(n,e){return vn(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];default:return t==="am"?"a.m.":"p.m."}},h(n,e){return vn(n.getHours()%12||12,e.length)},H(n,e){return vn(n.getHours(),e.length)},m(n,e){return vn(n.getMinutes(),e.length)},s(n,e){return vn(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return vn(i,e.length)}},Au={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Fv={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return kl.y(n,e)},Y:function(n,e,t,r){const i=Nw(n,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return vn(o,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):vn(s,e.length)},R:function(n,e){const t=xw(n);return vn(t,e.length)},u:function(n,e){const t=n.getFullYear();return vn(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return vn(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return vn(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return kl.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return vn(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=AN(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):vn(i,e.length)},I:function(n,e,t){const r=kN(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):vn(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):kl.d(n,e)},D:function(n,e,t){const r=SN(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):vn(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return vn(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return vn(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return vn(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=Au.noon:r===0?i=Au.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=Au.evening:r>=12?i=Au.afternoon:r>=4?i=Au.morning:i=Au.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return kl.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):kl.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):vn(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):vn(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):kl.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):kl.s(n,e)},S:function(n,e){return kl.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Uv(r);case"XXXX":case"XX":return Sc(r);default:return Sc(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return Uv(r);case"xxxx":case"xx":return Sc(r);default:return Sc(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Bv(r,":");default:return"GMT"+Sc(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Bv(r,":");default:return"GMT"+Sc(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return vn(r,e.length)},T:function(n,e,t){const r=n.getTime();return vn(r,e.length)}};function Bv(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),s=r%60;return s===0?t+String(i):t+String(i)+e+vn(s,2)}function Uv(n,e){return n%60===0?(n>0?"-":"+")+vn(Math.abs(n)/60,2):Sc(n,e)}function Sc(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=vn(Math.trunc(r/60),2),s=vn(r%60,2);return t+i+e+s}const zv=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},Aw=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},PN=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return zv(n,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",zv(r,e)).replace("{{time}}",Aw(i,e))},CN={p:Aw,P:PN},EN=/^D+$/,jN=/^Y+$/,LN=["D","DD","YY","YYYY"];function TN(n){return EN.test(n)}function ON(n){return jN.test(n)}function RN(n,e,t){const r=MN(n,e,t);if(console.warn(r),LN.includes(n))throw new RangeError(r)}function MN(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const IN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,DN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,FN=/^'([^]*?)'?$/,BN=/''/g,UN=/[a-zA-Z]/;function zN(n,e,t){const r=Nd(),i=t?.locale??r.locale??kw,s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=En(n);if(!Cp(l))throw new RangeError("Invalid time value");let c=e.match(DN).map(d=>{const g=d[0];if(g==="p"||g==="P"){const y=CN[g];return y(d,i.formatLong)}return d}).join("").match(IN).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const g=d[0];if(g==="'")return{isToken:!1,value:WN(d)};if(Fv[g])return{isToken:!0,value:d};if(g.match(UN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const h={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(d=>{if(!d.isToken)return d.value;const g=d.value;(!t?.useAdditionalWeekYearTokens&&ON(g)||!t?.useAdditionalDayOfYearTokens&&TN(g))&&RN(g,e,String(n));const y=Fv[g[0]];return y(l,g,i.localize,h)}).join("")}function WN(n){const e=n.match(FN);return e?e[1].replace(BN,"'"):n}function qN(n,e,t){const r=Nd(),i=t?.locale??r.locale??kw,s=2520,o=Uf(n,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:o});let c,h;o>0?(c=En(e),h=En(n)):(c=En(n),h=En(e));const d=H4(h,c),g=(ip(h)-ip(c))/1e3,y=Math.round((d-g)/60);let m;if(y<2)return t?.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,l):d<10?i.formatDistance("lessThanXSeconds",10,l):d<20?i.formatDistance("lessThanXSeconds",20,l):d<40?i.formatDistance("halfAMinute",0,l):d<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):y===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",y,l);if(y<45)return i.formatDistance("xMinutes",y,l);if(y<90)return i.formatDistance("aboutXHours",1,l);if(y<Iv){const _=Math.round(y/60);return i.formatDistance("aboutXHours",_,l)}else{if(y<s)return i.formatDistance("xDays",1,l);if(y<mf){const _=Math.round(y/Iv);return i.formatDistance("xDays",_,l)}else if(y<mf*2)return m=Math.round(y/mf),i.formatDistance("aboutXMonths",m,l)}if(m=q4(h,c),m<12){const _=Math.round(y/mf);return i.formatDistance("xMonths",_,l)}else{const _=m%12,k=Math.trunc(m/12);return _<3?i.formatDistance("aboutXYears",k,l):_<9?i.formatDistance("overXYears",k,l):i.formatDistance("almostXYears",k+1,l)}}function HN(n,e){return qN(n,M4(n),e)}function S0(n,e){const r=KN(n);let i;if(r.date){const c=YN(r.date,2);i=JN(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,l;if(r.time&&(o=XN(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(l=QN(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(s+o),h=new Date(0);return h.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),h.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),h}return new Date(s+o+l)}const vf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},$N=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,VN=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,GN=/^([+-])(\d{2})(?::?(\d{2}))?$/;function KN(n){const e={},t=n.split(vf.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],vf.timeZoneDelimiter.test(e.date)&&(e.date=n.split(vf.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const i=vf.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function YN(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:n.slice((r[1]||r[2]).length)}}function JN(n,e){if(e===null)return new Date(NaN);const t=n.match($N);if(!t)return new Date(NaN);const r=!!t[4],i=Mh(t[1]),s=Mh(t[2])-1,o=Mh(t[3]),l=Mh(t[4]),c=Mh(t[5])-1;if(r)return rA(e,l,c)?ZN(e,l,c):new Date(NaN);{const h=new Date(0);return!tA(e,s,o)||!nA(e,i)?new Date(NaN):(h.setUTCFullYear(e,s,Math.max(i,o)),h)}}function Mh(n){return n?parseInt(n):1}function XN(n){const e=n.match(VN);if(!e)return NaN;const t=Wg(e[1]),r=Wg(e[2]),i=Wg(e[3]);return iA(t,r,i)?t*_w+r*bw+i*1e3:NaN}function Wg(n){return n&&parseFloat(n.replace(",","."))||0}function QN(n){if(n==="Z")return 0;const e=n.match(GN);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return sA(r,i)?t*(r*_w+i*bw):NaN}function ZN(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const eA=[31,null,31,30,31,30,31,31,30,31,30,31];function Pw(n){return n%400===0||n%4===0&&n%100!==0}function tA(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(eA[e]||(Pw(n)?29:28))}function nA(n,e){return e>=1&&e<=(Pw(n)?366:365)}function rA(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function iA(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function sA(n,e){return e>=0&&e<=59}const aA={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},oA=(n,e,t)=>{let r;const i=aA[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"dalam waktu "+r:r+" yang lalu":r},lA={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},cA={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},uA={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hA={date:Wu({formats:lA,defaultWidth:"full"}),time:Wu({formats:cA,defaultWidth:"full"}),dateTime:Wu({formats:uA,defaultWidth:"full"})},dA={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},fA=(n,e,t,r)=>dA[n],pA={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},gA={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},mA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},vA={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},yA={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},wA={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},bA=(n,e)=>"ke-"+Number(n),_A={ordinalNumber:bA,era:za({values:pA,defaultWidth:"wide"}),quarter:za({values:gA,defaultWidth:"wide",argumentCallback:n=>n-1}),month:za({values:mA,defaultWidth:"wide"}),day:za({values:vA,defaultWidth:"wide"}),dayPeriod:za({values:yA,defaultWidth:"wide",formattingValues:wA,defaultFormattingWidth:"wide"})},xA=/^ke-(\d+)?/i,SA=/\d+/i,kA={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},NA={any:[/^s/i,/^(m|e)/i]},AA={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},PA={any:[/1/i,/2/i,/3/i,/4/i]},CA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},EA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},jA={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},LA={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},TA={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},OA={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},RA={ordinalNumber:Sw({matchPattern:xA,parsePattern:SA,valueCallback:n=>parseInt(n,10)}),era:Wa({matchPatterns:kA,defaultMatchWidth:"wide",parsePatterns:NA,defaultParseWidth:"any"}),quarter:Wa({matchPatterns:AA,defaultMatchWidth:"wide",parsePatterns:PA,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Wa({matchPatterns:CA,defaultMatchWidth:"wide",parsePatterns:EA,defaultParseWidth:"any"}),day:Wa({matchPatterns:jA,defaultMatchWidth:"wide",parsePatterns:LA,defaultParseWidth:"any"}),dayPeriod:Wa({matchPatterns:TA,defaultMatchWidth:"any",parsePatterns:OA,defaultParseWidth:"any"})},Cw={code:"id",formatDistance:oA,formatLong:hA,formatRelative:fA,localize:_A,match:RA,options:{weekStartsOn:1,firstWeekContainsDate:1}},Fl=(n,e="dd MMM yyyy")=>{if(!n)return"-";const t=typeof n=="string"?S0(n):n;return Cp(t)?zN(t,e,{locale:Cw}):"-"},Fu=n=>Fl(n,"dd MMM yyyy, HH:mm"),Ew=n=>{if(!n)return"-";const e=typeof n=="string"?S0(n):n;return Cp(e)?HN(e,{addSuffix:!0,locale:Cw}):"-"},Yh=n=>`RMTRACER:${n}`,MA=n=>n?n.startsWith("RMTRACER:")?n.replace("RMTRACER:",""):n:null,IA=()=>{const n=new Date().getFullYear().toString().slice(-2),e=(new Date().getMonth()+1).toString().padStart(2,"0"),t=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`RM-${n}${e}${t}`},DA=(n,e)=>{if(!n||n.length===0)return;const t=Object.keys(n[0]),i=[t.join(","),...n.map(c=>t.map(h=>{const d=c[h];return typeof d=="string"&&(d.includes(",")||d.includes('"'))?`"${d.replace(/"/g,'""')}"`:d??""}).join(","))].join(`
`),s=new Blob([i],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(s),l=document.createElement("a");l.setAttribute("href",o),l.setAttribute("download",`${e}.csv`),document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o)},ha=(n,e)=>e.find(r=>r.value===n)?.color||"#6b7280",ws=(n,e)=>e.find(r=>r.value===n)?.label||n,Ep=(n,e)=>{let t;return function(...i){const s=()=>{clearTimeout(t),n(...i)};clearTimeout(t),t=setTimeout(s,e)}},jp=n=>{if(!n)return"-";const e=new Date,t=typeof n=="string"?S0(n):n;if(!Cp(t))return"-";let r=e.getFullYear()-t.getFullYear();const i=e.getMonth()-t.getMonth();return(i<0||i===0&&e.getDate()<t.getDate())&&r--,`${r} tahun`};function Ad(n){return n+.5|0}const jl=(n,e,t)=>Math.max(Math.min(n,t),e);function Hh(n){return jl(Ad(n*2.55),0,255)}function Il(n){return jl(Ad(n*255),0,255)}function Ro(n){return jl(Ad(n/2.55)/100,0,1)}function Wv(n){return jl(Ad(n*100),0,100)}const Fs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},qm=[..."0123456789ABCDEF"],FA=n=>qm[n&15],BA=n=>qm[(n&240)>>4]+qm[n&15],yf=n=>(n&240)>>4===(n&15),UA=n=>yf(n.r)&&yf(n.g)&&yf(n.b)&&yf(n.a);function zA(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Fs[n[1]]*17,g:255&Fs[n[2]]*17,b:255&Fs[n[3]]*17,a:e===5?Fs[n[4]]*17:255}:(e===7||e===9)&&(t={r:Fs[n[1]]<<4|Fs[n[2]],g:Fs[n[3]]<<4|Fs[n[4]],b:Fs[n[5]]<<4|Fs[n[6]],a:e===9?Fs[n[7]]<<4|Fs[n[8]]:255})),t}const WA=(n,e)=>n<255?e(n):"";function qA(n){var e=UA(n)?FA:BA;return n?"#"+e(n.r)+e(n.g)+e(n.b)+WA(n.a,e):void 0}const HA=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function jw(n,e,t){const r=e*Math.min(t,1-t),i=(s,o=(s+n/30)%12)=>t-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function $A(n,e,t){const r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function VA(n,e,t){const r=jw(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function GA(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function k0(n){const t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),o=Math.min(t,r,i),l=(s+o)/2;let c,h,d;return s!==o&&(d=s-o,h=l>.5?d/(2-s-o):d/(s+o),c=GA(t,r,i,d,s),c=c*60+.5),[c|0,h||0,l]}function N0(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Il)}function A0(n,e,t){return N0(jw,n,e,t)}function KA(n,e,t){return N0(VA,n,e,t)}function YA(n,e,t){return N0($A,n,e,t)}function Lw(n){return(n%360+360)%360}function JA(n){const e=HA.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Hh(+e[5]):Il(+e[5]));const i=Lw(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=KA(i,s,o):e[1]==="hsv"?r=YA(i,s,o):r=A0(i,s,o),{r:r[0],g:r[1],b:r[2],a:t}}function XA(n,e){var t=k0(n);t[0]=Lw(t[0]+e),t=A0(t),n.r=t[0],n.g=t[1],n.b=t[2]}function QA(n){if(!n)return;const e=k0(n),t=e[0],r=Wv(e[1]),i=Wv(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${Ro(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const qv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Hv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ZA(){const n={},e=Object.keys(Hv),t=Object.keys(qv);let r,i,s,o,l;for(r=0;r<e.length;r++){for(o=l=e[r],i=0;i<t.length;i++)s=t[i],l=l.replace(s,qv[s]);s=parseInt(Hv[o],16),n[l]=[s>>16&255,s>>8&255,s&255]}return n}let wf;function e6(n){wf||(wf=ZA(),wf.transparent=[0,0,0,0]);const e=wf[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const t6=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function n6(n){const e=t6.exec(n);let t=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];t=e[8]?Hh(o):jl(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Hh(r):jl(r,0,255)),i=255&(e[4]?Hh(i):jl(i,0,255)),s=255&(e[6]?Hh(s):jl(s,0,255)),{r,g:i,b:s,a:t}}}function r6(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ro(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const qg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Pu=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function i6(n,e,t){const r=Pu(Ro(n.r)),i=Pu(Ro(n.g)),s=Pu(Ro(n.b));return{r:Il(qg(r+t*(Pu(Ro(e.r))-r))),g:Il(qg(i+t*(Pu(Ro(e.g))-i))),b:Il(qg(s+t*(Pu(Ro(e.b))-s))),a:n.a+t*(e.a-n.a)}}function bf(n,e,t){if(n){let r=k0(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=A0(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function Tw(n,e){return n&&Object.assign(e||{},n)}function $v(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Il(n[3]))):(e=Tw(n,{r:0,g:0,b:0,a:1}),e.a=Il(e.a)),e}function s6(n){return n.charAt(0)==="r"?n6(n):JA(n)}class gd{constructor(e){if(e instanceof gd)return e;const t=typeof e;let r;t==="object"?r=$v(e):t==="string"&&(r=zA(e)||e6(e)||s6(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Tw(this._rgb);return e&&(e.a=Ro(e.a)),e}set rgb(e){this._rgb=$v(e)}rgbString(){return this._valid?r6(this._rgb):void 0}hexString(){return this._valid?qA(this._rgb):void 0}hslString(){return this._valid?QA(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let s;const o=t===s?.5:t,l=2*o-1,c=r.a-i.a,h=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;s=1-h,r.r=255&h*r.r+s*i.r+.5,r.g=255&h*r.g+s*i.g+.5,r.b=255&h*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=i6(this._rgb,e._rgb,t)),this}clone(){return new gd(this.rgb)}alpha(e){return this._rgb.a=Il(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Ad(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return bf(this._rgb,2,e),this}darken(e){return bf(this._rgb,2,-e),this}saturate(e){return bf(this._rgb,1,e),this}desaturate(e){return bf(this._rgb,1,-e),this}rotate(e){return XA(this._rgb,e),this}}function Co(){}const a6=(()=>{let n=0;return()=>n++})();function Rn(n){return n==null}function Vr(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Xt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function gi(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ia(n,e){return gi(n)?n:e}function Kt(n,e){return typeof n>"u"?e:n}const o6=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,Ow=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Dn(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function yn(n,e,t,r){let i,s,o;if(Vr(n))for(s=n.length,i=0;i<s;i++)e.call(t,n[i],i);else if(Xt(n))for(o=Object.keys(n),s=o.length,i=0;i<s;i++)e.call(t,n[o[i]],o[i])}function sp(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function ap(n){if(Vr(n))return n.map(ap);if(Xt(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=ap(n[t[i]]);return e}return n}function Rw(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function l6(n,e,t,r){if(!Rw(n))return;const i=e[n],s=t[n];Xt(i)&&Xt(s)?md(i,s,r):e[n]=ap(s)}function md(n,e,t){const r=Vr(e)?e:[e],i=r.length;if(!Xt(n))return n;t=t||{};const s=t.merger||l6;let o;for(let l=0;l<i;++l){if(o=r[l],!Xt(o))continue;const c=Object.keys(o);for(let h=0,d=c.length;h<d;++h)s(c[h],n,o,t)}return n}function Jh(n,e){return md(n,e,{merger:c6})}function c6(n,e,t){if(!Rw(n))return;const r=e[n],i=t[n];Xt(r)&&Xt(i)?Jh(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=ap(i))}const Vv={"":n=>n,x:n=>n.x,y:n=>n.y};function u6(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function h6(n){const e=u6(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function vd(n,e){return(Vv[e]||(Vv[e]=h6(e)))(n)}function P0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const op=n=>typeof n<"u",Bl=n=>typeof n=="function",Gv=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function d6(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Cn=Math.PI,er=2*Cn,f6=er+Cn,lp=Number.POSITIVE_INFINITY,p6=Cn/180,Mr=Cn/2,wc=Cn/4,Kv=Cn*2/3,Mw=Math.log10,Qu=Math.sign;function Xh(n,e,t){return Math.abs(n-e)<t}function Yv(n){const e=Math.round(n);n=Xh(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Mw(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function g6(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function m6(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function yd(n){return!m6(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function v6(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function y6(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Do(n){return n*(Cn/180)}function w6(n){return n*(180/Cn)}function Jv(n){if(!gi(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function Iw(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let s=Math.atan2(r,t);return s<-.5*Cn&&(s+=er),{angle:s,distance:i}}function Hm(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function b6(n,e){return(n-e+f6)%er-Cn}function ms(n){return(n%er+er)%er}function wd(n,e,t,r){const i=ms(n),s=ms(e),o=ms(t),l=ms(s-i),c=ms(o-i),h=ms(i-s),d=ms(i-o);return i===s||i===o||r&&s===o||l>c&&h<d}function Ei(n,e,t){return Math.max(e,Math.min(t,n))}function _6(n){return Ei(n,-32768,32767)}function Lc(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function C0(n,e,t){t=t||(o=>n[o]<e);let r=n.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}const Tc=(n,e,t,r)=>C0(n,t,r?i=>{const s=n[i][e];return s<t||s===t&&n[i+1][e]===t}:i=>n[i][e]<t),x6=(n,e,t)=>C0(n,t,r=>n[r][e]>=t);function S6(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const Dw=["push","pop","shift","splice","unshift"];function k6(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Dw.forEach(t=>{const r="_onData"+P0(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return n._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...s)}),o}})})}function Xv(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(Dw.forEach(s=>{delete n[s]}),delete n._chartjs)}function N6(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Fw=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function Bw(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,Fw.call(window,()=>{r=!1,n.apply(e,t)}))}}function A6(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const Uw=n=>n==="start"?"left":n==="end"?"right":"center",gs=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,P6=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function C6(n,e,t){const r=e.length;let i=0,s=r;if(n._sorted){const{iScale:o,vScale:l,_parsed:c}=n,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,d=o.axis,{min:g,max:y,minDefined:m,maxDefined:_}=o.getUserBounds();if(m){if(i=Math.min(Tc(c,d,g).lo,t?r:Tc(e,d,o.getPixelForValue(g)).lo),h){const k=c.slice(0,i+1).reverse().findIndex(N=>!Rn(N[l.axis]));i-=Math.max(0,k)}i=Ei(i,0,r-1)}if(_){let k=Math.max(Tc(c,o.axis,y,!0).hi+1,t?0:Tc(e,d,o.getPixelForValue(y),!0).hi+1);if(h){const N=c.slice(k-1).findIndex(P=>!Rn(P[l.axis]));k+=Math.max(0,N)}s=Ei(k,i,r)-i}else s=r-i}return{start:i,count:s}}function E6(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),s}const _f=n=>n===0||n===1,Qv=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*er/t)),Zv=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*er/t)+1,Qh={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Mr)+1,easeOutSine:n=>Math.sin(n*Mr),easeInOutSine:n=>-.5*(Math.cos(Cn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>_f(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>_f(n)?n:Qv(n,.075,.3),easeOutElastic:n=>_f(n)?n:Zv(n,.075,.3),easeInOutElastic(n){return _f(n)?n:n<.5?.5*Qv(n*2,.1125,.45):.5+.5*Zv(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Qh.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Qh.easeInBounce(n*2)*.5:Qh.easeOutBounce(n*2-1)*.5+.5};function E0(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function e2(n){return E0(n)?n:new gd(n)}function Hg(n){return E0(n)?n:new gd(n).saturate(.5).darken(.1).hexString()}const j6=["x","y","borderWidth","radius","tension"],L6=["color","borderColor","backgroundColor"];function T6(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:L6},numbers:{type:"number",properties:j6}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function O6(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const t2=new Map;function R6(n,e){e=e||{};const t=n+JSON.stringify(e);let r=t2.get(t);return r||(r=new Intl.NumberFormat(n,e),t2.set(t,r)),r}function j0(n,e,t){return R6(e,t).format(n)}const M6={values(n){return Vr(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,s=n;if(t.length>1){const h=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(h<1e-4||h>1e15)&&(i="scientific"),s=I6(n,t)}const o=Mw(Math.abs(s)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),j0(n,r,c)}};function I6(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var zw={formatters:M6};function D6(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:zw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Dc=Object.create(null),$m=Object.create(null);function Zh(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function $g(n,e,t){return typeof e=="string"?md(Zh(n,e),t):md(Zh(n,""),e)}class F6{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Hg(i.backgroundColor),this.hoverBorderColor=(r,i)=>Hg(i.borderColor),this.hoverColor=(r,i)=>Hg(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return $g(this,e,t)}get(e){return Zh(this,e)}describe(e,t){return $g($m,e,t)}override(e,t){return $g(Dc,e,t)}route(e,t,r,i){const s=Zh(this,e),o=Zh(this,r),l="_"+t;Object.defineProperties(s,{[l]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[l],h=o[i];return Xt(c)?Object.assign({},h,c):Kt(c,h)},set(c){this[l]=c}}})}apply(e){e.forEach(t=>t(this))}}var _r=new F6({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[T6,O6,D6]);function B6(n){return!n||Rn(n.size)||Rn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function n2(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function bc(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function r2(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Vm(n,e,t,r){Ww(n,e,t,r,null)}function Ww(n,e,t,r,i){let s,o,l,c,h,d,g,y;const m=e.pointStyle,_=e.rotation,k=e.radius;let N=(_||0)*p6;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(N),n.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),n.restore();return}if(!(isNaN(k)||k<=0)){switch(n.beginPath(),m){default:i?n.ellipse(t,r,i/2,k,0,0,er):n.arc(t,r,k,0,er),n.closePath();break;case"triangle":d=i?i/2:k,n.moveTo(t+Math.sin(N)*d,r-Math.cos(N)*k),N+=Kv,n.lineTo(t+Math.sin(N)*d,r-Math.cos(N)*k),N+=Kv,n.lineTo(t+Math.sin(N)*d,r-Math.cos(N)*k),n.closePath();break;case"rectRounded":h=k*.516,c=k-h,o=Math.cos(N+wc)*c,g=Math.cos(N+wc)*(i?i/2-h:c),l=Math.sin(N+wc)*c,y=Math.sin(N+wc)*(i?i/2-h:c),n.arc(t-g,r-l,h,N-Cn,N-Mr),n.arc(t+y,r-o,h,N-Mr,N),n.arc(t+g,r+l,h,N,N+Mr),n.arc(t-y,r+o,h,N+Mr,N+Cn),n.closePath();break;case"rect":if(!_){c=Math.SQRT1_2*k,d=i?i/2:c,n.rect(t-d,r-c,2*d,2*c);break}N+=wc;case"rectRot":g=Math.cos(N)*(i?i/2:k),o=Math.cos(N)*k,l=Math.sin(N)*k,y=Math.sin(N)*(i?i/2:k),n.moveTo(t-g,r-l),n.lineTo(t+y,r-o),n.lineTo(t+g,r+l),n.lineTo(t-y,r+o),n.closePath();break;case"crossRot":N+=wc;case"cross":g=Math.cos(N)*(i?i/2:k),o=Math.cos(N)*k,l=Math.sin(N)*k,y=Math.sin(N)*(i?i/2:k),n.moveTo(t-g,r-l),n.lineTo(t+g,r+l),n.moveTo(t+y,r-o),n.lineTo(t-y,r+o);break;case"star":g=Math.cos(N)*(i?i/2:k),o=Math.cos(N)*k,l=Math.sin(N)*k,y=Math.sin(N)*(i?i/2:k),n.moveTo(t-g,r-l),n.lineTo(t+g,r+l),n.moveTo(t+y,r-o),n.lineTo(t-y,r+o),N+=wc,g=Math.cos(N)*(i?i/2:k),o=Math.cos(N)*k,l=Math.sin(N)*k,y=Math.sin(N)*(i?i/2:k),n.moveTo(t-g,r-l),n.lineTo(t+g,r+l),n.moveTo(t+y,r-o),n.lineTo(t-y,r+o);break;case"line":o=i?i/2:Math.cos(N)*k,l=Math.sin(N)*k,n.moveTo(t-o,r-l),n.lineTo(t+o,r+l);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(N)*(i?i/2:k),r+Math.sin(N)*k);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function bd(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Lp(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Tp(n){n.restore()}function U6(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function z6(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function W6(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Rn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function q6(n,e,t,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),o=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,c=t-s.actualBoundingBoxAscent,h=t+s.actualBoundingBoxDescent,d=i.strikethrough?(c+h)/2:h;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(o,d),n.lineTo(l,d),n.stroke()}}function H6(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function cp(n,e,t,r,i,s={}){const o=Vr(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let c,h;for(n.save(),n.font=i.string,W6(n,s),c=0;c<o.length;++c)h=o[c],s.backdrop&&H6(n,s.backdrop),l&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Rn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(h,t,r,s.maxWidth)),n.fillText(h,t,r,s.maxWidth),q6(n,t,r,h,s),r+=Number(i.lineHeight);n.restore()}function Gm(n,e){const{x:t,y:r,w:i,h:s,radius:o}=e;n.arc(t+o.topLeft,r+o.topLeft,o.topLeft,1.5*Cn,Cn,!0),n.lineTo(t,r+s-o.bottomLeft),n.arc(t+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Cn,Mr,!0),n.lineTo(t+i-o.bottomRight,r+s),n.arc(t+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Mr,0,!0),n.lineTo(t+i,r+o.topRight),n.arc(t+i-o.topRight,r+o.topRight,o.topRight,0,-Mr,!0),n.lineTo(t+o.topLeft,r)}const $6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,V6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function G6(n,e){const t=(""+n).match($6);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const K6=n=>+n||0;function L0(n,e){const t={},r=Xt(e),i=r?Object.keys(e):e,s=Xt(n)?r?o=>Kt(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of i)t[o]=K6(s(o));return t}function Y6(n){return L0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ed(n){return L0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function da(n){const e=Y6(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ji(n,e){n=n||{},e=e||_r.font;let t=Kt(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Kt(n.style,e.style);r&&!(""+r).match(V6)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Kt(n.family,e.family),lineHeight:G6(Kt(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Kt(n.weight,e.weight),string:""};return i.string=B6(i),i}function xf(n,e,t,r){let i,s,o;for(i=0,s=n.length;i<s;++i)if(o=n[i],o!==void 0&&o!==void 0)return o}function J6(n,e,t){const{min:r,max:i}=n,s=Ow(e,(i-r)/2),o=(l,c)=>t&&l===0?0:l+c;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function zc(n,e){return Object.assign(Object.create(n),e)}function T0(n,e=[""],t,r,i=()=>n[0]){const s=t||n;typeof r>"u"&&(r=Vw("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:l=>T0([l,...n],e,s,r)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete n[0][c],!0},get(l,c){return Hw(l,c,()=>iP(c,e,n,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(l,c){return s2(l).includes(c)},ownKeys(l){return s2(l)},set(l,c,h){const d=l._storage||(l._storage=i());return l[c]=d[c]=h,delete l._keys,!0}})}function Zu(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:qw(n,r),setContext:s=>Zu(n,s,t,r),override:s=>Zu(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,l){return Hw(s,o,()=>Q6(s,o,l))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,l){return n[o]=l,delete s[o],!0}})}function qw(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Bl(t)?t:()=>t,isIndexable:Bl(r)?r:()=>r}}const X6=(n,e)=>n?n+P0(e):e,O0=(n,e)=>Xt(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Hw(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function Q6(n,e,t){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=n;let l=r[e];return Bl(l)&&o.isScriptable(e)&&(l=Z6(e,l,n,t)),Vr(l)&&l.length&&(l=eP(e,l,n,o.isIndexable)),O0(e,l)&&(l=Zu(l,i,s&&s[e],o)),l}function Z6(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_stack:l}=t;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);l.add(n);let c=e(s,o||r);return l.delete(n),O0(n,c)&&(c=R0(i._scopes,i,n,c)),c}function eP(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:l}=t;if(typeof s.index<"u"&&r(n))return e[s.index%e.length];if(Xt(e[0])){const c=e,h=i._scopes.filter(d=>d!==c);e=[];for(const d of c){const g=R0(h,i,n,d);e.push(Zu(g,s,o&&o[n],l))}}return e}function $w(n,e,t){return Bl(n)?n(e,t):n}const tP=(n,e)=>n===!0?e:typeof n=="string"?vd(e,n):void 0;function nP(n,e,t,r,i){for(const s of e){const o=tP(t,s);if(o){n.add(o);const l=$w(o._fallback,t,i);if(typeof l<"u"&&l!==t&&l!==r)return l}else if(o===!1&&typeof r<"u"&&t!==r)return null}return!1}function R0(n,e,t,r){const i=e._rootScopes,s=$w(e._fallback,t,r),o=[...n,...i],l=new Set;l.add(r);let c=i2(l,o,t,s||t,r);return c===null||typeof s<"u"&&s!==t&&(c=i2(l,o,s,c,r),c===null)?!1:T0(Array.from(l),[""],i,s,()=>rP(e,t,r))}function i2(n,e,t,r,i){for(;t;)t=nP(n,e,t,r,i);return t}function rP(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return Vr(i)&&Xt(t)?t:i||{}}function iP(n,e,t,r){let i;for(const s of e)if(i=Vw(X6(s,n),t),typeof i<"u")return O0(n,i)?R0(t,r,n,i):i}function Vw(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function s2(n){let e=n._keys;return e||(e=n._keys=sP(n._scopes)),e}function sP(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const aP=Number.EPSILON||1e-14,eh=(n,e)=>e<n.length&&!n[e].skip&&n[e],Gw=n=>n==="x"?"y":"x";function oP(n,e,t,r){const i=n.skip?e:n,s=e,o=t.skip?e:t,l=Hm(s,i),c=Hm(o,s);let h=l/(l+c),d=c/(l+c);h=isNaN(h)?0:h,d=isNaN(d)?0:d;const g=r*h,y=r*d;return{previous:{x:s.x-g*(o.x-i.x),y:s.y-g*(o.y-i.y)},next:{x:s.x+y*(o.x-i.x),y:s.y+y*(o.y-i.y)}}}function lP(n,e,t){const r=n.length;let i,s,o,l,c,h=eh(n,0);for(let d=0;d<r-1;++d)if(c=h,h=eh(n,d+1),!(!c||!h)){if(Xh(e[d],0,aP)){t[d]=t[d+1]=0;continue}i=t[d]/e[d],s=t[d+1]/e[d],l=Math.pow(i,2)+Math.pow(s,2),!(l<=9)&&(o=3/Math.sqrt(l),t[d]=i*o*e[d],t[d+1]=s*o*e[d])}}function cP(n,e,t="x"){const r=Gw(t),i=n.length;let s,o,l,c=eh(n,0);for(let h=0;h<i;++h){if(o=l,l=c,c=eh(n,h+1),!l)continue;const d=l[t],g=l[r];o&&(s=(d-o[t])/3,l[`cp1${t}`]=d-s,l[`cp1${r}`]=g-s*e[h]),c&&(s=(c[t]-d)/3,l[`cp2${t}`]=d+s,l[`cp2${r}`]=g+s*e[h])}}function uP(n,e="x"){const t=Gw(e),r=n.length,i=Array(r).fill(0),s=Array(r);let o,l,c,h=eh(n,0);for(o=0;o<r;++o)if(l=c,c=h,h=eh(n,o+1),!!c){if(h){const d=h[e]-c[e];i[o]=d!==0?(h[t]-c[t])/d:0}s[o]=l?h?Qu(i[o-1])!==Qu(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}lP(n,i,s),cP(n,s,e)}function Sf(n,e,t){return Math.max(Math.min(n,t),e)}function hP(n,e){let t,r,i,s,o,l=bd(n[0],e);for(t=0,r=n.length;t<r;++t)o=s,s=l,l=t<r-1&&bd(n[t+1],e),s&&(i=n[t],o&&(i.cp1x=Sf(i.cp1x,e.left,e.right),i.cp1y=Sf(i.cp1y,e.top,e.bottom)),l&&(i.cp2x=Sf(i.cp2x,e.left,e.right),i.cp2y=Sf(i.cp2y,e.top,e.bottom)))}function dP(n,e,t,r,i){let s,o,l,c;if(e.spanGaps&&(n=n.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")uP(n,i);else{let h=r?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)l=n[s],c=oP(h,l,n[Math.min(s+1,o-(r?0:1))%o],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,h=l}e.capBezierPoints&&hP(n,t)}function M0(){return typeof window<"u"&&typeof document<"u"}function I0(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function up(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const Op=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function fP(n,e){return Op(n).getPropertyValue(e)}const pP=["top","right","bottom","left"];function Rc(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=pP[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const gP=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function mP(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r;let o=!1,l,c;if(gP(i,s,n.target))l=i,c=s;else{const h=e.getBoundingClientRect();l=r.clientX-h.left,c=r.clientY-h.top,o=!0}return{x:l,y:c,box:o}}function kc(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=Op(t),s=i.boxSizing==="border-box",o=Rc(i,"padding"),l=Rc(i,"border","width"),{x:c,y:h,box:d}=mP(n,t),g=o.left+(d&&l.left),y=o.top+(d&&l.top);let{width:m,height:_}=e;return s&&(m-=o.width+l.width,_-=o.height+l.height),{x:Math.round((c-g)/m*t.width/r),y:Math.round((h-y)/_*t.height/r)}}function vP(n,e,t){let r,i;if(e===void 0||t===void 0){const s=n&&I0(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const o=s.getBoundingClientRect(),l=Op(s),c=Rc(l,"border","width"),h=Rc(l,"padding");e=o.width-h.width-c.width,t=o.height-h.height-c.height,r=up(l.maxWidth,s,"clientWidth"),i=up(l.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:r||lp,maxHeight:i||lp}}const Ll=n=>Math.round(n*10)/10;function yP(n,e,t,r){const i=Op(n),s=Rc(i,"margin"),o=up(i.maxWidth,n,"clientWidth")||lp,l=up(i.maxHeight,n,"clientHeight")||lp,c=vP(n,e,t);let{width:h,height:d}=c;if(i.boxSizing==="content-box"){const y=Rc(i,"border","width"),m=Rc(i,"padding");h-=m.width+y.width,d-=m.height+y.height}return h=Math.max(0,h-s.width),d=Math.max(0,r?h/r:d-s.height),h=Ll(Math.min(h,o,c.maxWidth)),d=Ll(Math.min(d,l,c.maxHeight)),h&&!d&&(d=Ll(h/2)),(e!==void 0||t!==void 0)&&r&&c.height&&d>c.height&&(d=c.height,h=Ll(Math.floor(d*r))),{width:h,height:d}}function a2(n,e,t){const r=e||1,i=Ll(n.height*r),s=Ll(n.width*r);n.height=Ll(n.height),n.width=Ll(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(n.currentDevicePixelRatio=r,o.height=i,o.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const wP=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};M0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function o2(n,e){const t=fP(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Nc(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function bP(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function _P(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=Nc(n,i,t),l=Nc(i,s,t),c=Nc(s,e,t),h=Nc(o,l,t),d=Nc(l,c,t);return Nc(h,d,t)}const xP=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},SP=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function qu(n,e,t){return n?xP(e,t):SP()}function Kw(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function Yw(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Jw(n){return n==="angle"?{between:wd,compare:b6,normalize:ms}:{between:Lc,compare:(e,t)=>e-t,normalize:e=>e}}function l2({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function kP(n,e,t){const{property:r,start:i,end:s}=t,{between:o,normalize:l}=Jw(r),c=e.length;let{start:h,end:d,loop:g}=n,y,m;if(g){for(h+=c,d+=c,y=0,m=c;y<m&&o(l(e[h%c][r]),i,s);++y)h--,d--;h%=c,d%=c}return d<h&&(d+=c),{start:h,end:d,loop:g,style:n.style}}function Xw(n,e,t){if(!t)return[n];const{property:r,start:i,end:s}=t,o=e.length,{compare:l,between:c,normalize:h}=Jw(r),{start:d,end:g,loop:y,style:m}=kP(n,e,t),_=[];let k=!1,N=null,P,O,j;const L=()=>c(i,j,P)&&l(i,j)!==0,D=()=>l(s,P)===0||c(s,j,P),J=()=>k||L(),U=()=>!k||D();for(let H=d,W=d;H<=g;++H)O=e[H%o],!O.skip&&(P=h(O[r]),P!==j&&(k=c(P,i,s),N===null&&J()&&(N=l(P,i)===0?H:W),N!==null&&U()&&(_.push(l2({start:N,end:H,loop:y,count:o,style:m})),N=null),W=H,j=P));return N!==null&&_.push(l2({start:N,end:g,loop:y,count:o,style:m})),_}function Qw(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const s=Xw(r[i],n.points,e);s.length&&t.push(...s)}return t}function NP(n,e,t,r){let i=0,s=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&n[s%e].skip;)s--;return s%=e,{start:i,end:s}}function AP(n,e,t,r){const i=n.length,s=[];let o=e,l=n[e],c;for(c=e+1;c<=t;++c){const h=n[c%i];h.skip||h.stop?l.skip||(r=!1,s.push({start:e%i,end:(c-1)%i,loop:r}),e=o=h.stop?c:null):(o=c,l.skip&&(e=c)),l=h}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function PP(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const s=!!n._loop,{start:o,end:l}=NP(t,i,s,r);if(r===!0)return c2(n,[{start:o,end:l,loop:s}],t,e);const c=l<o?l+i:l,h=!!n._fullLoop&&o===0&&l===i-1;return c2(n,AP(t,o,c,h),t,e)}function c2(n,e,t,r){return!r||!r.setContext||!t?e:CP(n,e,t,r)}function CP(n,e,t,r){const i=n._chart.getContext(),s=u2(n.options),{_datasetIndex:o,options:{spanGaps:l}}=n,c=t.length,h=[];let d=s,g=e[0].start,y=g;function m(_,k,N,P){const O=l?-1:1;if(_!==k){for(_+=c;t[_%c].skip;)_-=O;for(;t[k%c].skip;)k+=O;_%c!==k%c&&(h.push({start:_%c,end:k%c,loop:N,style:P}),d=P,g=k%c)}}for(const _ of e){g=l?g:_.start;let k=t[g%c],N;for(y=g+1;y<=_.end;y++){const P=t[y%c];N=u2(r.setContext(zc(i,{type:"segment",p0:k,p1:P,p0DataIndex:(y-1)%c,p1DataIndex:y%c,datasetIndex:o}))),EP(N,d)&&m(g,y-1,_.loop,d),k=P,d=N}g<y-1&&m(g,y-1,_.loop,d)}return h}function u2(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function EP(n,e){if(!e)return!1;const t=[],r=function(i,s){return E0(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function kf(n,e,t){return n.options.clip?n[t]:e[t]}function jP(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:kf(t,e,"left"),right:kf(t,e,"right"),top:kf(r,e,"top"),bottom:kf(r,e,"bottom")}:e}function Zw(n,e){const t=e._clip;if(t.disabled)return!1;const r=jP(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}class LP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const s=t.listeners[i],o=t.duration;s.forEach(l=>l({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(r-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Fw.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,l=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),l=!0):(s[o]=s[s.length-1],s.pop());l&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Lo=new LP;const h2="transparent",TP={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=e2(n||h2),i=r.valid&&e2(e||h2);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class OP{constructor(e,t,r,i){const s=t[r];i=xf([e.to,i,s,e.from]);const o=xf([e.from,s,i]);this._active=!0,this._fn=e.fn||TP[e.type||typeof o],this._easing=Qh[e.easing]||Qh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=xf([e.to,t,i,e.from]),this._from=xf([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,l=this._to;let c;if(this._active=s!==l&&(o||t<r),!this._active){this._target[i]=l,this._notify(!0);return}if(t<0){this._target[i]=s;return}c=t/r%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(s,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class eb{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Xt(e))return;const t=Object.keys(_r.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Xt(s))return;const o={};for(const l of t)o[l]=s[l];(Vr(s.properties)&&s.properties||[i]).forEach(l=>{(l===i||!r.has(l))&&r.set(l,o)})})}_animateOptions(e,t){const r=t.options,i=MP(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&RP(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const h=o[c];if(h.charAt(0)==="$")continue;if(h==="options"){i.push(...this._animateOptions(e,t));continue}const d=t[h];let g=s[h];const y=r.get(h);if(g)if(y&&g.active()){g.update(y,d,l);continue}else g.cancel();if(!y||!y.duration){e[h]=d;continue}s[h]=g=new OP(y,e,h,d),i.push(g)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return Lo.add(this._chart,r),!0}}function RP(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function MP(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function d2(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function IP(n,e,t){if(t===!1)return!1;const r=d2(n,t),i=d2(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function DP(n){let e,t,r,i;return Xt(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function tb(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function f2(n,e,t,r={}){const i=n.keys,s=r.mode==="single";let o,l,c,h;if(e===null)return;let d=!1;for(o=0,l=i.length;o<l;++o){if(c=+i[o],c===t){if(d=!0,r.all)continue;break}h=n.values[c],gi(h)&&(s||e===0||Qu(e)===Qu(h))&&(e+=h)}return!d&&!r.all?0:e}function FP(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(n),l=new Array(o.length);let c,h,d;for(c=0,h=o.length;c<h;++c)d=o[c],l[c]={[i]:d,[s]:n[d]};return l}function Vg(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function BP(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function UP(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function zP(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function p2(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function g2(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:l}=r,c=s.axis,h=o.axis,d=BP(s,o,r),g=e.length;let y;for(let m=0;m<g;++m){const _=e[m],{[c]:k,[h]:N}=_,P=_._stacks||(_._stacks={});y=P[h]=zP(i,d,k),y[l]=N,y._top=p2(y,o,!0,r.type),y._bottom=p2(y,o,!1,r.type);const O=y._visualValues||(y._visualValues={});O[l]=N}}function Gg(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function WP(n,e){return zc(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function qP(n,e,t){return zc(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Ih(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][t]===void 0)return;delete s[r][t],s[r]._visualValues!==void 0&&s[r]._visualValues[t]!==void 0&&delete s[r]._visualValues[t]}}}const Kg=n=>n==="reset"||n==="none",m2=(n,e)=>e?n:Object.assign({},n),HP=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:tb(t,!0),values:null};class D0{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Vg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ih(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(g,y,m,_)=>g==="x"?y:g==="r"?_:m,s=t.xAxisID=Kt(r.xAxisID,Gg(e,"x")),o=t.yAxisID=Kt(r.yAxisID,Gg(e,"y")),l=t.rAxisID=Kt(r.rAxisID,Gg(e,"r")),c=t.indexAxis,h=t.iAxisID=i(c,s,o,l),d=t.vAxisID=i(c,o,s,l);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(h),t.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Xv(this._data,this),e._stacked&&Ih(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(Xt(t)){const i=this._cachedMeta;this._data=FP(t,i)}else if(r!==t){if(r){Xv(r,this);const i=this._cachedMeta;Ih(i),i._parsed=[]}t&&Object.isExtensible(t)&&k6(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=Vg(t.vScale,t),t.stack!==r.stack&&(i=!0,Ih(t),t.stack=r.stack),this._resyncElements(e),(i||s!==t._stacked)&&(g2(this,t._parsed),t._stacked=Vg(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,l=s.axis;let c=e===0&&t===i.length?!0:r._sorted,h=e>0&&r._parsed[e-1],d,g,y;if(this._parsing===!1)r._parsed=i,r._sorted=!0,y=i;else{Vr(i[e])?y=this.parseArrayData(r,i,e,t):Xt(i[e])?y=this.parseObjectData(r,i,e,t):y=this.parsePrimitiveData(r,i,e,t);const m=()=>g[l]===null||h&&g[l]<h[l];for(d=0;d<t;++d)r._parsed[d+e]=g=y[d],c&&(m()&&(c=!1),h=g);r._sorted=c}o&&g2(this,y)}parsePrimitiveData(e,t,r,i){const{iScale:s,vScale:o}=e,l=s.axis,c=o.axis,h=s.getLabels(),d=s===o,g=new Array(i);let y,m,_;for(y=0,m=i;y<m;++y)_=y+r,g[y]={[l]:d||s.parse(h[_],_),[c]:o.parse(t[_],_)};return g}parseArrayData(e,t,r,i){const{xScale:s,yScale:o}=e,l=new Array(i);let c,h,d,g;for(c=0,h=i;c<h;++c)d=c+r,g=t[d],l[c]={x:s.parse(g[0],d),y:o.parse(g[1],d)};return l}parseObjectData(e,t,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,h=new Array(i);let d,g,y,m;for(d=0,g=i;d<g;++d)y=d+r,m=t[y],h[d]={x:s.parse(vd(m,l),y),y:o.parse(vd(m,c),y)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,s=this._cachedMeta,o=t[e.axis],l={keys:tb(i,!0),values:t._stacks[e.axis]._visualValues};return f2(l,o,s.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const s=r[t.axis];let o=s===null?NaN:s;const l=i&&r._stacks[t.axis];i&&l&&(i.values=l,o=f2(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,l=this._getOtherScale(e),c=HP(t,r,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:g}=UP(l);let y,m;function _(){m=i[y];const k=m[l.axis];return!gi(m[e.axis])||d>k||g<k}for(y=0;y<o&&!(!_()&&(this.updateRangeFromParsed(h,e,m,c),s));++y);if(s){for(y=o-1;y>=0;--y)if(!_()){this.updateRangeFromParsed(h,e,m,c);break}}return h}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=t.length;i<s;++i)o=t[i][e.axis],gi(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=DP(Kt(this.options.clip,IP(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],s=t.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||i.length-l,h=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,s,l,c),d=l;d<l+c;++d){const g=i[d];g.hidden||(g.active&&h?o.push(g):g.draw(e,s))}for(d=0;d<o.length;++d)o[d].draw(e,s)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=qP(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=WP(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",s=this._cachedDataOpts,o=e+"-"+t,l=s[o],c=this.enableOptionSharing&&op(r);if(l)return m2(l,c);const h=this.chart.config,d=h.datasetElementScopeKeys(this._type,e),g=i?[`${e}Hover`,"hover",e,""]:[e,""],y=h.getOptionScopes(this.getDataset(),d),m=Object.keys(_r.elements[e]),_=()=>this.getContext(r,i,t),k=h.resolveNamedOptions(y,m,_,g);return k.$shared&&(k.$shared=c,s[o]=Object.freeze(m2(k,c))),k}_resolveAnimations(e,t,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,l=s[o];if(l)return l;let c;if(i.options.animation!==!1){const d=this.chart.config,g=d.datasetAnimationScopeKeys(this._type,t),y=d.getOptionScopes(this.getDataset(),g);c=d.createResolver(y,this.getContext(e,r,t))}const h=new eb(i,c&&c.animations);return c&&c._cacheable&&(s[o]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Kg(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:o}}updateElement(e,t,r,i){Kg(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!Kg(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[l,c,h]of this._syncList)this[l](c,h);this._syncList=[];const i=r.length,s=t.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,r=!0){const i=this._cachedMeta,s=i.data,o=e+t;let l;const c=h=>{for(h.length+=t,l=h.length-1;l>=o;l--)h[l]=h[l-t]};for(c(s),l=e;l<o;++l)s[l]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,t),r&&this.updateElements(s,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&Ih(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function $P(n,e,t){let r=1,i=1,s=0,o=0;if(e<er){const l=n,c=l+e,h=Math.cos(l),d=Math.sin(l),g=Math.cos(c),y=Math.sin(c),m=(j,L,D)=>wd(j,l,c,!0)?1:Math.max(L,L*t,D,D*t),_=(j,L,D)=>wd(j,l,c,!0)?-1:Math.min(L,L*t,D,D*t),k=m(0,h,g),N=m(Mr,d,y),P=_(Cn,h,g),O=_(Cn+Mr,d,y);r=(k-P)/2,i=(N-O)/2,s=-(k+P)/2,o=-(N+O)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class VP extends D0{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:l}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((c,h)=>{const g=e.getDatasetMeta(0).controller.getStyle(h);return{text:c,fillStyle:g.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(h),lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:g.borderWidth,strokeStyle:g.borderColor,textAlign:i,pointStyle:r,borderRadius:o&&(l||g.borderRadius),index:h}}):[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=c=>+r[c];if(Xt(r[e])){const{key:c="value"}=this._parsing;s=h=>+vd(r[h],c)}let o,l;for(o=e,l=e+t;o<l;++o)i._parsed[o]=s(o)}}_getRotation(){return Do(this.options.rotation-90)}_getCircumference(){return Do(this.options.circumference)}_getRotationExtents(){let e=er,t=-er;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-o)/2,0),c=Math.min(o6(this.options.cutout,l),1),h=this._getRingWeight(this.index),{circumference:d,rotation:g}=this._getRotationExtents(),{ratioX:y,ratioY:m,offsetX:_,offsetY:k}=$P(g,d,c),N=(r.width-o)/y,P=(r.height-o)/m,O=Math.max(Math.min(N,P)/2,0),j=Ow(this.options.radius,O),L=Math.max(j*c,0),D=(j-L)/this._getVisibleDatasetWeightTotal();this.offsetX=_*j,this.offsetY=k*j,i.total=this.calculateTotal(),this.outerRadius=j-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*h,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/er)}updateElements(e,t,r,i){const s=i==="reset",o=this.chart,l=o.chartArea,h=o.options.animation,d=(l.left+l.right)/2,g=(l.top+l.bottom)/2,y=s&&h.animateScale,m=y?0:this.innerRadius,_=y?0:this.outerRadius,{sharedOptions:k,includeOptions:N}=this._getSharedOptions(t,i);let P=this._getRotation(),O;for(O=0;O<t;++O)P+=this._circumference(O,s);for(O=t;O<t+r;++O){const j=this._circumference(O,s),L=e[O],D={x:d+this.offsetX,y:g+this.offsetY,startAngle:P,endAngle:P+j,circumference:j,outerRadius:_,innerRadius:m};N&&(D.options=k||this.resolveDataElementOptions(O,L.active?"active":i)),P+=j,this.updateElement(L,O,D,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?er*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=j0(t._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,s,o,l,c;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,l=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)c=l.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Kt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class GP extends D0{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=t,o=this.chart._animationsDisabled;let{start:l,count:c}=C6(t,i,o);this._drawStart=l,this._drawCount=c,E6(t)&&(l=0,c=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:h},e),this.updateElements(i,l,c,e)}updateElements(e,t,r,i){const s=i==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:h}=this._cachedMeta,{sharedOptions:d,includeOptions:g}=this._getSharedOptions(t,i),y=o.axis,m=l.axis,{spanGaps:_,segment:k}=this.options,N=yd(_)?_:Number.POSITIVE_INFINITY,P=this.chart._animationsDisabled||s||i==="none",O=t+r,j=e.length;let L=t>0&&this.getParsed(t-1);for(let D=0;D<j;++D){const J=e[D],U=P?J:{};if(D<t||D>=O){U.skip=!0;continue}const H=this.getParsed(D),W=Rn(H[m]),re=U[y]=o.getPixelForValue(H[y],D),I=U[m]=s||W?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,H,c):H[m],D);U.skip=isNaN(re)||isNaN(I)||W,U.stop=D>0&&Math.abs(H[y]-L[y])>N,k&&(U.parsed=H,U.raw=h.data[D]),g&&(U.options=d||this.resolveDataElementOptions(D,J.active?"active":i)),P||this.updateElement(J,D,U,i),L=H}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function _c(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class F0{static override(e){Object.assign(F0.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return _c()}parse(){return _c()}format(){return _c()}add(){return _c()}diff(){return _c()}startOf(){return _c()}endOf(){return _c()}}var KP={_date:F0};function YP(n,e,t,r){const{controller:i,data:s,_sorted:o}=n,l=i._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&s.length){const h=l._reversePixels?x6:Tc;if(r){if(i._sharedOptions){const d=s[0],g=typeof d.getRange=="function"&&d.getRange(e);if(g){const y=h(s,e,t-g),m=h(s,e,t+g);return{lo:y.lo,hi:m.hi}}}}else{const d=h(s,e,t);if(c){const{vScale:g}=i._cachedMeta,{_parsed:y}=n,m=y.slice(0,d.lo+1).reverse().findIndex(k=>!Rn(k[g.axis]));d.lo-=Math.max(0,m);const _=y.slice(d.hi).findIndex(k=>!Rn(k[g.axis]));d.hi+=Math.max(0,_)}return d}}return{lo:0,hi:s.length-1}}function Rp(n,e,t,r,i){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let l=0,c=s.length;l<c;++l){const{index:h,data:d}=s[l],{lo:g,hi:y}=YP(s[l],e,o,i);for(let m=g;m<=y;++m){const _=d[m];_.skip||r(_,h,m)}}}function JP(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Yg(n,e,t,r,i){const s=[];return!i&&!n.isPointInArea(e)||Rp(n,t,e,function(l,c,h){!i&&!bd(l,n.chartArea,0)||l.inRange(e.x,e.y,r)&&s.push({element:l,datasetIndex:c,index:h})},!0),s}function XP(n,e,t,r){let i=[];function s(o,l,c){const{startAngle:h,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:g}=Iw(o,{x:e.x,y:e.y});wd(g,h,d)&&i.push({element:o,datasetIndex:l,index:c})}return Rp(n,t,e,s),i}function QP(n,e,t,r,i,s){let o=[];const l=JP(t);let c=Number.POSITIVE_INFINITY;function h(d,g,y){const m=d.inRange(e.x,e.y,i);if(r&&!m)return;const _=d.getCenterPoint(i);if(!(!!s||n.isPointInArea(_))&&!m)return;const N=l(e,_);N<c?(o=[{element:d,datasetIndex:g,index:y}],c=N):N===c&&o.push({element:d,datasetIndex:g,index:y})}return Rp(n,t,e,h),o}function Jg(n,e,t,r,i,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!r?XP(n,e,t,i):QP(n,e,t,r,i,s)}function v2(n,e,t,r,i){const s=[],o=t==="x"?"inXRange":"inYRange";let l=!1;return Rp(n,t,e,(c,h,d)=>{c[o]&&c[o](e[t],i)&&(s.push({element:c,datasetIndex:h,index:d}),l=l||c.inRange(e.x,e.y,i))}),r&&!l?[]:s}var ZP={modes:{index(n,e,t,r){const i=kc(e,n),s=t.axis||"x",o=t.includeInvisible||!1,l=t.intersect?Yg(n,i,s,r,o):Jg(n,i,s,!1,r,o),c=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(h=>{const d=l[0].index,g=h.data[d];g&&!g.skip&&c.push({element:g,datasetIndex:h.index,index:d})}),c):[]},dataset(n,e,t,r){const i=kc(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let l=t.intersect?Yg(n,i,s,r,o):Jg(n,i,s,!1,r,o);if(l.length>0){const c=l[0].datasetIndex,h=n.getDatasetMeta(c).data;l=[];for(let d=0;d<h.length;++d)l.push({element:h[d],datasetIndex:c,index:d})}return l},point(n,e,t,r){const i=kc(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return Yg(n,i,s,r,o)},nearest(n,e,t,r){const i=kc(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return Jg(n,i,s,t.intersect,r,o)},x(n,e,t,r){const i=kc(e,n);return v2(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=kc(e,n);return v2(n,i,"y",t.intersect,r)}}};const nb=["left","top","right","bottom"];function Dh(n,e){return n.filter(t=>t.pos===e)}function y2(n,e){return n.filter(t=>nb.indexOf(t.pos)===-1&&t.box.axis===e)}function Fh(n,e){return n.sort((t,r)=>{const i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function e8(n){const e=[];let t,r,i,s,o,l;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:s,options:{stack:o,stackWeight:l=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:l});return e}function t8(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:s}=t;if(!r||!nb.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function n8(n,e){const t=t8(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,l;for(s=0,o=n.length;s<o;++s){l=n[s];const{fullSize:c}=l.box,h=t[l.stack],d=h&&l.stackWeight/h.weight;l.horizontal?(l.width=d?d*r:c&&e.availableWidth,l.height=i):(l.width=r,l.height=d?d*i:c&&e.availableHeight)}return t}function r8(n){const e=e8(n),t=Fh(e.filter(h=>h.box.fullSize),!0),r=Fh(Dh(e,"left"),!0),i=Fh(Dh(e,"right")),s=Fh(Dh(e,"top"),!0),o=Fh(Dh(e,"bottom")),l=y2(e,"x"),c=y2(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(c).concat(o).concat(l),chartArea:Dh(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:s.concat(o).concat(l)}}function w2(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function rb(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function i8(n,e,t,r){const{pos:i,box:s}=t,o=n.maxPadding;if(!Xt(i)){t.size&&(n[i]-=t.size);const g=r[t.stack]||{size:0,count:1};g.size=Math.max(g.size,t.horizontal?s.height:s.width),t.size=g.size/g.count,n[i]+=t.size}s.getPadding&&rb(o,s.getPadding());const l=Math.max(0,e.outerWidth-w2(o,n,"left","right")),c=Math.max(0,e.outerHeight-w2(o,n,"top","bottom")),h=l!==n.w,d=c!==n.h;return n.w=l,n.h=c,t.horizontal?{same:h,other:d}:{same:d,other:h}}function s8(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function a8(n,e){const t=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return r(n?["left","right"]:["top","bottom"])}function $h(n,e,t,r){const i=[];let s,o,l,c,h,d;for(s=0,o=n.length,h=0;s<o;++s){l=n[s],c=l.box,c.update(l.width||e.w,l.height||e.h,a8(l.horizontal,e));const{same:g,other:y}=i8(e,t,l,r);h|=g&&i.length,d=d||y,c.fullSize||i.push(l)}return h&&$h(i,e,t,r)||d}function Nf(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function b2(n,e,t,r){const i=t.padding;let{x:s,y:o}=e;for(const l of n){const c=l.box,h=r[l.stack]||{placed:0,weight:1},d=l.stackWeight/h.weight||1;if(l.horizontal){const g=e.w*d,y=h.size||c.height;op(h.start)&&(o=h.start),c.fullSize?Nf(c,i.left,o,t.outerWidth-i.right-i.left,y):Nf(c,e.left+h.placed,o,g,y),h.start=o,h.placed+=g,o=c.bottom}else{const g=e.h*d,y=h.size||c.width;op(h.start)&&(s=h.start),c.fullSize?Nf(c,s,i.top,y,t.outerHeight-i.bottom-i.top):Nf(c,s,e.top+h.placed,y,g),h.start=s,h.placed+=g,s=c.right}}e.x=s,e.y=o}var Tl={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=da(n.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(t-i.height,0),l=r8(n.boxes),c=l.vertical,h=l.horizontal;yn(n.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const d=c.reduce((k,N)=>N.box.options&&N.box.options.display===!1?k:k+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),y=Object.assign({},i);rb(y,da(r));const m=Object.assign({maxPadding:y,w:s,h:o,x:i.left,y:i.top},i),_=n8(c.concat(h),g);$h(l.fullSize,m,g,_),$h(c,m,g,_),$h(h,m,g,_)&&$h(c,m,g,_),s8(m),b2(l.leftAndTop,m,g,_),m.x+=m.w,m.y+=m.h,b2(l.rightAndBottom,m,g,_),n.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},yn(l.chartArea,k=>{const N=k.box;Object.assign(N,n.chartArea),N.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class ib{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class o8 extends ib{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const zf="$chartjs",l8={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_2=n=>n===null||n==="";function c8(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[zf]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",_2(i)){const s=o2(n,"width");s!==void 0&&(n.width=s)}if(_2(r))if(n.style.height==="")n.height=n.width/(e||2);else{const s=o2(n,"height");s!==void 0&&(n.height=s)}return n}const sb=wP?{passive:!0}:!1;function u8(n,e,t){n&&n.addEventListener(e,t,sb)}function h8(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,sb)}function d8(n,e){const t=l8[n.type]||n.type,{x:r,y:i}=kc(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function hp(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function f8(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||hp(l.addedNodes,r),o=o&&!hp(l.removedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function p8(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||hp(l.removedNodes,r),o=o&&!hp(l.addedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const _d=new Map;let x2=0;function ab(){const n=window.devicePixelRatio;n!==x2&&(x2=n,_d.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function g8(n,e){_d.size||window.addEventListener("resize",ab),_d.set(n,e)}function m8(n){_d.delete(n),_d.size||window.removeEventListener("resize",ab)}function v8(n,e,t){const r=n.canvas,i=r&&I0(r);if(!i)return;const s=Bw((l,c)=>{const h=i.clientWidth;t(l,c),h<i.clientWidth&&t()},window),o=new ResizeObserver(l=>{const c=l[0],h=c.contentRect.width,d=c.contentRect.height;h===0&&d===0||s(h,d)});return o.observe(i),g8(n,s),o}function Xg(n,e,t){t&&t.disconnect(),e==="resize"&&m8(n)}function y8(n,e,t){const r=n.canvas,i=Bw(s=>{n.ctx!==null&&t(d8(s,n))},n);return u8(r,e,i),i}class w8 extends ib{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(c8(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[zf])return!1;const r=t[zf].initial;["height","width"].forEach(s=>{const o=r[s];Rn(o)?t.removeAttribute(s):t.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[zf],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),o={attach:f8,detach:p8,resize:v8}[t]||y8;i[t]=o(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:Xg,detach:Xg,resize:Xg}[t]||h8)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return yP(e,t,r,i)}isAttached(e){const t=e&&I0(e);return!!(t&&t.isConnected)}}function b8(n){return!M0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?o8:w8}class Wc{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return yd(this.x)&&yd(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}function _8(n,e){const t=n.options.ticks,r=x8(n),i=Math.min(t.maxTicksLimit||r,r),s=t.major.enabled?k8(e):[],o=s.length,l=s[0],c=s[o-1],h=[];if(o>i)return N8(e,h,s,o/i),h;const d=S8(s,e,i);if(o>0){let g,y;const m=o>1?Math.round((c-l)/(o-1)):null;for(Af(e,h,d,Rn(m)?0:l-m,l),g=0,y=o-1;g<y;g++)Af(e,h,d,s[g],s[g+1]);return Af(e,h,d,c,Rn(m)?e.length:c+m),h}return Af(e,h,d),h}function x8(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function S8(n,e,t){const r=A8(n),i=e.length/t;if(!r)return Math.max(i,1);const s=g6(r);for(let o=0,l=s.length-1;o<l;o++){const c=s[o];if(c>i)return c}return Math.max(i,1)}function k8(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function N8(n,e,t,r){let i=0,s=t[0],o;for(r=Math.ceil(r),o=0;o<n.length;o++)o===s&&(e.push(n[o]),i++,s=t[i*r])}function Af(n,e,t,r,i){const s=Kt(r,0),o=Math.min(Kt(i,n.length),n.length);let l=0,c,h,d;for(t=Math.ceil(t),i&&(c=i-r,t=c/Math.floor(c/t)),d=s;d<0;)l++,d=Math.round(s+l*t);for(h=Math.max(s,0);h<o;h++)h===d&&(e.push(n[h]),l++,d=Math.round(s+l*t))}function A8(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const P8=n=>n==="left"?"right":n==="right"?"left":n,S2=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,k2=(n,e)=>Math.min(e||n,n);function N2(n,e){const t=[],r=n.length/e,i=n.length;let s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function C8(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,o=n._endPixel,l=1e-6;let c=n.getPixelForTick(i),h;if(!(t&&(r===1?h=Math.max(c-s,o-c):e===0?h=(n.getPixelForTick(1)-c)/2:h=(c-n.getPixelForTick(i-1))/2,c+=i<e?h:-h,c<s-l||c>o+l)))return c}function E8(n,e){yn(n,t=>{const r=t.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}function Bh(n){return n.drawTicks?n.tickLength:0}function A2(n,e){if(!n.display)return 0;const t=Ji(n.font,e),r=da(n.padding);return(Vr(n.text)?n.text.length:1)*t.lineHeight+r.height}function j8(n,e){return zc(n,{scale:e,type:"scale"})}function L8(n,e,t){return zc(n,{tick:t,index:e,type:"tick"})}function T8(n,e,t){let r=Uw(n);return(t&&e!=="right"||!t&&e==="right")&&(r=P8(r)),r}function O8(n,e,t,r){const{top:i,left:s,bottom:o,right:l,chart:c}=n,{chartArea:h,scales:d}=c;let g=0,y,m,_;const k=o-i,N=l-s;if(n.isHorizontal()){if(m=gs(r,s,l),Xt(t)){const P=Object.keys(t)[0],O=t[P];_=d[P].getPixelForValue(O)+k-e}else t==="center"?_=(h.bottom+h.top)/2+k-e:_=S2(n,t,e);y=l-s}else{if(Xt(t)){const P=Object.keys(t)[0],O=t[P];m=d[P].getPixelForValue(O)-N+e}else t==="center"?m=(h.left+h.right)/2-N+e:m=S2(n,t,e);_=gs(r,o,i),g=t==="left"?-Mr:Mr}return{titleX:m,titleY:_,maxWidth:y,rotation:g}}class ih extends Wc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=Ia(e,Number.POSITIVE_INFINITY),t=Ia(t,Number.NEGATIVE_INFINITY),r=Ia(r,Number.POSITIVE_INFINITY),i=Ia(i,Number.NEGATIVE_INFINITY),{min:Ia(e,r),max:Ia(t,i),minDefined:gi(e),maxDefined:gi(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:t,max:r};const l=this.getMatchingVisibleMetas();for(let c=0,h=l.length;c<h;++c)o=l[c].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),s||(r=Math.max(r,o.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:Ia(t,Ia(r,t)),max:Ia(r,Ia(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Dn(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=J6(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?N2(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=_8(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Dn(this.options.afterUpdate,[this])}beforeSetDimensions(){Dn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Dn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Dn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Dn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Dn(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Dn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Dn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=k2(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let o=i,l,c,h;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),g=d.widest.width,y=d.highest.height,m=Ei(this.chart.width-g,0,this.maxWidth);l=e.offset?this.maxWidth/r:m/(r-1),g+6>l&&(l=m/(r-(e.offset?.5:1)),c=this.maxHeight-Bh(e.grid)-t.padding-A2(e.title,this.chart.options.font),h=Math.sqrt(g*g+y*y),o=w6(Math.min(Math.asin(Ei((d.highest.height+6)/l,-1,1)),Math.asin(Ei(c/h,-1,1))-Math.asin(Ei(y/h,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Dn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Dn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=A2(i,t.options.font);if(l?(e.width=this.maxWidth,e.height=Bh(s)+c):(e.height=this.maxHeight,e.width=Bh(s)+c),r.display&&this.ticks.length){const{first:h,last:d,widest:g,highest:y}=this._getLabelSizes(),m=r.padding*2,_=Do(this.labelRotation),k=Math.cos(_),N=Math.sin(_);if(l){const P=r.mirror?0:N*g.width+k*y.height;e.height=Math.min(this.maxHeight,e.height+P+m)}else{const P=r.mirror?0:k*g.width+N*y.height;e.width=Math.min(this.maxWidth,e.width+P+m)}this._calculatePadding(h,d,N,k)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:s,padding:o},position:l}=this.options,c=this.labelRotation!==0,h=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,m=0;c?h?(y=i*e.width,m=r*t.height):(y=r*e.height,m=i*t.width):s==="start"?m=t.width:s==="end"?y=e.width:s!=="inner"&&(y=e.width/2,m=t.width/2),this.paddingLeft=Math.max((y-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-g+o)*this.width/(this.width-g),0)}else{let d=t.height/2,g=e.height/2;s==="start"?(d=0,g=e.height):s==="end"&&(d=t.height,g=0),this.paddingTop=d+o,this.paddingBottom=g+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Dn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)Rn(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=N2(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:s}=this,o=[],l=[],c=Math.floor(t/k2(t,r));let h=0,d=0,g,y,m,_,k,N,P,O,j,L,D;for(g=0;g<t;g+=c){if(_=e[g].label,k=this._resolveTickFontOptions(g),i.font=N=k.string,P=s[N]=s[N]||{data:{},gc:[]},O=k.lineHeight,j=L=0,!Rn(_)&&!Vr(_))j=n2(i,P.data,P.gc,j,_),L=O;else if(Vr(_))for(y=0,m=_.length;y<m;++y)D=_[y],!Rn(D)&&!Vr(D)&&(j=n2(i,P.data,P.gc,j,D),L+=O);o.push(j),l.push(L),h=Math.max(j,h),d=Math.max(L,d)}E8(s,t);const J=o.indexOf(h),U=l.indexOf(d),H=W=>({width:o[W]||0,height:l[W]||0});return{first:H(0),last:H(t-1),widest:H(J),highest:H(U),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return _6(this._alignToPixels?bc(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=L8(this.getContext(),e,r))}return this.$context||(this.$context=j8(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Do(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,l=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*r>l*i?l/r:c/i:c*i<l*r?c/r:l/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:l}=i,c=s.offset,h=this.isHorizontal(),g=this.ticks.length+(c?1:0),y=Bh(s),m=[],_=l.setContext(this.getContext()),k=_.display?_.width:0,N=k/2,P=function(be){return bc(r,be,k)};let O,j,L,D,J,U,H,W,re,I,q,ne;if(o==="top")O=P(this.bottom),U=this.bottom-y,W=O-N,I=P(e.top)+N,ne=e.bottom;else if(o==="bottom")O=P(this.top),I=e.top,ne=P(e.bottom)-N,U=O+N,W=this.top+y;else if(o==="left")O=P(this.right),J=this.right-y,H=O-N,re=P(e.left)+N,q=e.right;else if(o==="right")O=P(this.left),re=e.left,q=P(e.right)-N,J=O+N,H=this.left+y;else if(t==="x"){if(o==="center")O=P((e.top+e.bottom)/2+.5);else if(Xt(o)){const be=Object.keys(o)[0],he=o[be];O=P(this.chart.scales[be].getPixelForValue(he))}I=e.top,ne=e.bottom,U=O+N,W=U+y}else if(t==="y"){if(o==="center")O=P((e.left+e.right)/2);else if(Xt(o)){const be=Object.keys(o)[0],he=o[be];O=P(this.chart.scales[be].getPixelForValue(he))}J=O-N,H=J-y,re=e.left,q=e.right}const ie=Kt(i.ticks.maxTicksLimit,g),ve=Math.max(1,Math.ceil(g/ie));for(j=0;j<g;j+=ve){const be=this.getContext(j),he=s.setContext(be),$=l.setContext(be),se=he.lineWidth,le=he.color,K=$.dash||[],T=$.dashOffset,Y=he.tickWidth,ee=he.tickColor,oe=he.tickBorderDash||[],ce=he.tickBorderDashOffset;L=C8(this,j,c),L!==void 0&&(D=bc(r,L,se),h?J=H=re=q=D:U=W=I=ne=D,m.push({tx1:J,ty1:U,tx2:H,ty2:W,x1:re,y1:I,x2:q,y2:ne,width:se,color:le,borderDash:K,borderDashOffset:T,tickWidth:Y,tickColor:ee,tickBorderDash:oe,tickBorderDashOffset:ce}))}return this._ticksLength=g,this._borderValue=O,m}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:h,padding:d,mirror:g}=s,y=Bh(r.grid),m=y+d,_=g?-d:m,k=-Do(this.labelRotation),N=[];let P,O,j,L,D,J,U,H,W,re,I,q,ne="middle";if(i==="top")J=this.bottom-_,U=this._getXAxisLabelAlignment();else if(i==="bottom")J=this.top+_,U=this._getXAxisLabelAlignment();else if(i==="left"){const ve=this._getYAxisLabelAlignment(y);U=ve.textAlign,D=ve.x}else if(i==="right"){const ve=this._getYAxisLabelAlignment(y);U=ve.textAlign,D=ve.x}else if(t==="x"){if(i==="center")J=(e.top+e.bottom)/2+m;else if(Xt(i)){const ve=Object.keys(i)[0],be=i[ve];J=this.chart.scales[ve].getPixelForValue(be)+m}U=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")D=(e.left+e.right)/2-m;else if(Xt(i)){const ve=Object.keys(i)[0],be=i[ve];D=this.chart.scales[ve].getPixelForValue(be)}U=this._getYAxisLabelAlignment(y).textAlign}t==="y"&&(c==="start"?ne="top":c==="end"&&(ne="bottom"));const ie=this._getLabelSizes();for(P=0,O=l.length;P<O;++P){j=l[P],L=j.label;const ve=s.setContext(this.getContext(P));H=this.getPixelForTick(P)+s.labelOffset,W=this._resolveTickFontOptions(P),re=W.lineHeight,I=Vr(L)?L.length:1;const be=I/2,he=ve.color,$=ve.textStrokeColor,se=ve.textStrokeWidth;let le=U;o?(D=H,U==="inner"&&(P===O-1?le=this.options.reverse?"left":"right":P===0?le=this.options.reverse?"right":"left":le="center"),i==="top"?h==="near"||k!==0?q=-I*re+re/2:h==="center"?q=-ie.highest.height/2-be*re+re:q=-ie.highest.height+re/2:h==="near"||k!==0?q=re/2:h==="center"?q=ie.highest.height/2-be*re:q=ie.highest.height-I*re,g&&(q*=-1),k!==0&&!ve.showLabelBackdrop&&(D+=re/2*Math.sin(k))):(J=H,q=(1-I)*re/2);let K;if(ve.showLabelBackdrop){const T=da(ve.backdropPadding),Y=ie.heights[P],ee=ie.widths[P];let oe=q-T.top,ce=0-T.left;switch(ne){case"middle":oe-=Y/2;break;case"bottom":oe-=Y;break}switch(U){case"center":ce-=ee/2;break;case"right":ce-=ee;break;case"inner":P===O-1?ce-=ee:P>0&&(ce-=ee/2);break}K={left:ce,top:oe,width:ee+T.width,height:Y+T.height,color:ve.backdropColor}}N.push({label:L,font:W,textOffset:q,options:{rotation:k,color:he,strokeColor:$,strokeWidth:se,textAlign:le,textBaseline:ne,translation:[D,J],backdrop:K}})}return N}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Do(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),l=e+s,c=o.widest.width;let h,d;return t==="left"?i?(d=this.right+s,r==="near"?h="left":r==="center"?(h="center",d+=c/2):(h="right",d+=c)):(d=this.right-l,r==="near"?h="right":r==="center"?(h="center",d-=c/2):(h="left",d=this.left)):t==="right"?i?(d=this.left+s,r==="near"?h="right":r==="center"?(h="center",d-=c/2):(h="left",d-=c)):(d=this.left+l,r==="near"?h="left":r==="center"?(h="center",d+=c/2):(h="right",d=this.right)):h="right",{textAlign:h,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const l=(c,h,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(h.x,h.y),r.stroke(),r.restore())};if(t.display)for(s=0,o=i.length;s<o;++s){const c=i[s];t.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const l=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let h,d,g,y;this.isHorizontal()?(h=bc(e,this.left,o)-o/2,d=bc(e,this.right,l)+l/2,g=y=c):(g=bc(e,this.top,o)-o/2,y=bc(e,this.bottom,l)+l/2,h=d=c),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(h,g),t.lineTo(d,y),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Lp(r,i);const s=this.getLabelItems(e);for(const o of s){const l=o.options,c=o.font,h=o.label,d=o.textOffset;cp(r,h,0,d,c,l)}i&&Tp(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const s=Ji(r.font),o=da(r.padding),l=r.align;let c=s.lineHeight/2;t==="bottom"||t==="center"||Xt(t)?(c+=o.bottom,Vr(r.text)&&(c+=s.lineHeight*(r.text.length-1))):c+=o.top;const{titleX:h,titleY:d,maxWidth:g,rotation:y}=O8(this,c,t,l);cp(e,r.text,0,0,s,{color:r.color,maxWidth:g,rotation:y,textAlign:T8(l,t,i),textBaseline:"middle",translation:[h,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Kt(e.grid&&e.grid.z,-1),i=Kt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ih.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=t.length;s<o;++s){const l=t[s];l[r]===this.id&&(!e||l.type===e)&&i.push(l)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Ji(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Pf{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;I8(t)&&(r=this.register(t));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,R8(e,o,r),this.override&&_r.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in _r[i]&&(delete _r[i][r],this.override&&delete Dc[r])}}function R8(n,e,t){const r=md(Object.create(null),[t?_r.get(t):{},_r.get(e),n.defaults]);_r.set(e,r),n.defaultRoutes&&M8(e,n.defaultRoutes),n.descriptors&&_r.describe(e,n.descriptors)}function M8(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),o=e[t].split("."),l=o.pop(),c=o.join(".");_r.route(s,i,c,l)})}function I8(n){return"id"in n&&"defaults"in n}class D8{constructor(){this.controllers=new Pf(D0,"datasets",!0),this.elements=new Pf(Wc,"elements"),this.plugins=new Pf(Object,"plugins"),this.scales=new Pf(ih,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):yn(i,o=>{const l=r||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,t,r){const i=P0(e);Dn(r["before"+i],[],r),t[e](r),Dn(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Ua=new D8;class F8{constructor(){this._init=void 0}notify(e,t,r,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,t,r);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,t,r,i){i=i||{};for(const s of e){const o=s.plugin,l=o[r],c=[t,i,s.options];if(Dn(l,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Rn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=Kt(r.options&&r.options.plugins,{}),s=B8(r);return i===!1&&!t?[]:z8(e,s,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function B8(n){const e={},t=[],r=Object.keys(Ua.plugins.items);for(let s=0;s<r.length;s++)t.push(Ua.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function U8(n,e){return!e&&n===!1?null:n===!0?{}:n}function z8(n,{plugins:e,localIds:t},r,i){const s=[],o=n.getContext();for(const l of e){const c=l.id,h=U8(r[c],i);h!==null&&s.push({plugin:l,options:W8(n.config,{plugin:l,local:t[c]},h,o)})}return s}function W8(n,{plugin:e,local:t},r,i){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(r,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Km(n,e){const t=_r.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function q8(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function H8(n,e){return n===e?"_index_":"_value_"}function P2(n){if(n==="x"||n==="y"||n==="r")return n}function $8(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Ym(n,...e){if(P2(n))return n;for(const t of e){const r=t.axis||$8(t.position)||n.length>1&&P2(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function C2(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function V8(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return C2(n,"x",t[0])||C2(n,"y",t[0])}return{}}function G8(n,e){const t=Dc[n.type]||{scales:{}},r=e.scales||{},i=Km(n.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const l=r[o];if(!Xt(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=Ym(o,l,V8(o,n),_r.scales[l.type]),h=H8(c,i),d=t.scales||{};s[o]=Jh(Object.create(null),[{axis:c},l,d[c],d[h]])}),n.data.datasets.forEach(o=>{const l=o.type||n.type,c=o.indexAxis||Km(l,e),d=(Dc[l]||{}).scales||{};Object.keys(d).forEach(g=>{const y=q8(g,c),m=o[y+"AxisID"]||y;s[m]=s[m]||Object.create(null),Jh(s[m],[{axis:y},r[m],d[g]])})}),Object.keys(s).forEach(o=>{const l=s[o];Jh(l,[_r.scales[l.type],_r.scale])}),s}function ob(n){const e=n.options||(n.options={});e.plugins=Kt(e.plugins,{}),e.scales=G8(n,e)}function lb(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function K8(n){return n=n||{},n.data=lb(n.data),ob(n),n}const E2=new Map,cb=new Set;function Cf(n,e){let t=E2.get(n);return t||(t=e(),E2.set(n,t),cb.add(t)),t}const Uh=(n,e,t)=>{const r=vd(e,t);r!==void 0&&n.add(r)};class Y8{constructor(e){this._config=K8(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=lb(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ob(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Cf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Cf(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Cf(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Cf(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),l=o.get(t);if(l)return l;const c=new Set;t.forEach(d=>{e&&(c.add(e),d.forEach(g=>Uh(c,e,g))),d.forEach(g=>Uh(c,i,g)),d.forEach(g=>Uh(c,Dc[s]||{},g)),d.forEach(g=>Uh(c,_r,g)),d.forEach(g=>Uh(c,$m,g))});const h=Array.from(c);return h.length===0&&h.push(Object.create(null)),cb.has(t)&&o.set(t,h),h}chartOptionScopes(){const{options:e,type:t}=this;return[e,Dc[t]||{},_r.datasets[t]||{},{type:t},_r,$m]}resolveNamedOptions(e,t,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:l}=j2(this._resolverCache,e,i);let c=o;if(X8(o,t)){s.$shared=!1,r=Bl(r)?r():r;const h=this.createResolver(e,r,l);c=Zu(o,r,h)}for(const h of t)s[h]=c[h];return s}createResolver(e,t,r=[""],i){const{resolver:s}=j2(this._resolverCache,e,r);return Xt(t)?Zu(s,t,void 0,i):s}}function j2(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let s=r.get(i);return s||(s={resolver:T0(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},r.set(i,s)),s}const J8=n=>Xt(n)&&Object.getOwnPropertyNames(n).some(e=>Bl(n[e]));function X8(n,e){const{isScriptable:t,isIndexable:r}=qw(n);for(const i of e){const s=t(i),o=r(i),l=(o||s)&&n[i];if(s&&(Bl(l)||J8(l))||o&&Vr(l))return!0}return!1}var Q8="4.5.1";const Z8=["top","bottom","left","right","chartArea"];function L2(n,e){return n==="top"||n==="bottom"||Z8.indexOf(n)===-1&&e==="x"}function T2(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function O2(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Dn(t&&t.onComplete,[n],e)}function eC(n){const e=n.chart,t=e.options.animation;Dn(t&&t.onProgress,[n],e)}function ub(n){return M0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Wf={},R2=n=>{const e=ub(n);return Object.values(Wf).filter(t=>t.canvas===e).pop()};function tC(n,e,t){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=e){const o=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=o)}}}function nC(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}let Mp=class{static defaults=_r;static instances=Wf;static overrides=Dc;static registry=Ua;static version=Q8;static getChart=R2;static register(...e){Ua.add(...e),M2()}static unregister(...e){Ua.remove(...e),M2()}constructor(e,t){const r=this.config=new Y8(t),i=ub(e),s=R2(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||b8(i)),this.platform.updateConfig(r);const l=this.platform.acquireContext(i,o.aspectRatio),c=l&&l.canvas,h=c&&c.height,d=c&&c.width;if(this.id=a6(),this.ctx=l,this.canvas=c,this.width=d,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new F8,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=A6(g=>this.update(g),o.resizeDelay||0),this._dataChanges=[],Wf[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Lo.listen(this,"complete",O2),Lo.listen(this,"progress",eC),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:s}=this;return Rn(e)?t&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ua}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():a2(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return r2(this.canvas,this.ctx),this}stop(){return Lo.stop(this),this}resize(e,t){Lo.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,t,s),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,a2(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Dn(r.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};yn(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((o,l)=>(o[l]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const l=t[o],c=Ym(o,l),h=c==="r",d=c==="x";return{options:l,dposition:h?"chartArea":d?"bottom":"left",dtype:h?"radialLinear":d?"category":"linear"}}))),yn(s,o=>{const l=o.options,c=l.id,h=Ym(c,l),d=Kt(l.type,o.dtype);(l.position===void 0||L2(l.position,h)!==L2(o.dposition))&&(l.position=o.dposition),i[c]=!0;let g=null;if(c in r&&r[c].type===d)g=r[c];else{const y=Ua.getScale(d);g=new y({id:c,type:d,ctx:this.ctx,chart:this}),r[g.id]=g}g.init(l,e)}),yn(i,(o,l)=>{o||delete r[l]}),yn(r,o=>{Tl.configure(this,o,o.options),Tl.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(T2("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const s=t[r];let o=this.getDatasetMeta(r);const l=s.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=l,o.indexAxis=s.indexAxis||Km(l,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const c=Ua.getController(l),{datasetElementType:h,dataElementType:d}=_r.datasets[l];Object.assign(c,{dataElementType:Ua.getElement(d),datasetElementType:h&&Ua.getElement(h)}),o.controller=new c(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){yn(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let h=0,d=this.data.datasets.length;h<d;h++){const{controller:g}=this.getDatasetMeta(h),y=!i&&s.indexOf(g)===-1;g.buildOrUpdateElements(y),o=Math.max(+g.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||yn(s,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(T2("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){yn(this.scales,e=>{Tl.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Gv(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of t){const o=r==="_removeElements"?-s:s;tC(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,l)=>l+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<t;s++)if(!Gv(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Tl.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],yn(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Bl(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Lo.has(this)?this.attached&&!Lo.running(this)&&Lo.start(this):(this.draw(),O2({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,s;for(i=0,s=t.length;i<s;++i){const o=t[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=Zw(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Lp(t,i),e.controller.draw(),i&&Tp(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return bd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const s=ZP.modes[t];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=zc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);op(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(l=>l.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Lo.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),r2(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Wf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},i=(s,o,l)=>{s.offsetX=o,s.offsetY=l,this._eventHandler(s)};yn(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(c,h)=>{t.addEventListener(this,c,h),e[c]=h},i=(c,h)=>{e[c]&&(t.removeEventListener(this,c,h),delete e[c])},s=(c,h)=>{this.canvas&&this.resize(c,h)};let o;const l=()=>{i("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",l)},t.isAttached(this.canvas)?l():o()}unbindEvents(){yn(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},yn(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let s,o,l,c;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const h=o&&this.getDatasetMeta(o.datasetIndex).controller;h&&h[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[o],index:o}});!sp(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,s=(c,h)=>c.filter(d=>!h.some(g=>d.datasetIndex===g.datasetIndex&&d.index===g.index)),o=s(t,e),l=r?e:s(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:s}=this,o=t,l=this._getActiveElements(e,i,r,o),c=d6(e),h=nC(e,this._lastEvent,r,c);r&&(this._lastEvent=null,Dn(s.onHover,[e,l,this],this),c&&Dn(s.onClick,[e,l,this],this));const d=!sp(l,i);return(d||t)&&(this._active=l,this._updateHoverStyles(l,i,t)),this._lastEvent=h,d}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}};function M2(){return yn(Mp.instances,n=>n._plugins.invalidate())}function rC(n,e,t){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:l,options:c}=e,{borderWidth:h,borderJoinStyle:d}=c,g=Math.min(h/o,ms(r-t));if(n.beginPath(),n.arc(i,s,o-h/2,r+g/2,t-g/2),l>0){const y=Math.min(h/l,ms(r-t));n.arc(i,s,l+h/2,t-y/2,r+y/2,!0)}else{const y=Math.min(h/2,o*ms(r-t));if(d==="round")n.arc(i,s,y,t-Cn/2,r+Cn/2,!0);else if(d==="bevel"){const m=2*y*y,_=-m*Math.cos(t+Cn/2)+i,k=-m*Math.sin(t+Cn/2)+s,N=m*Math.cos(r+Cn/2)+i,P=m*Math.sin(r+Cn/2)+s;n.lineTo(_,k),n.lineTo(N,P)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function iC(n,e,t){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:l,innerRadius:c}=e;let h=i/l;n.beginPath(),n.arc(s,o,l,r-h,t+h),c>i?(h=i/c,n.arc(s,o,c,t+h,r-h,!0)):n.arc(s,o,i,t+Mr,r-Mr),n.closePath(),n.clip()}function sC(n){return L0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function aC(n,e,t,r){const i=sC(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,r*e/2),l=c=>{const h=(t-Math.min(s,c))*r/2;return Ei(c,0,Math.min(s,h))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:Ei(i.innerStart,0,o),innerEnd:Ei(i.innerEnd,0,o)}}function Cu(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function dp(n,e,t,r,i,s){const{x:o,y:l,startAngle:c,pixelMargin:h,innerRadius:d}=e,g=Math.max(e.outerRadius+r+t-h,0),y=d>0?d+r+t+h:0;let m=0;const _=i-c;if(r){const ve=d>0?d-r:0,be=g>0?g-r:0,he=(ve+be)/2,$=he!==0?_*he/(he+r):_;m=(_-$)/2}const k=Math.max(.001,_*g-t/Cn)/g,N=(_-k)/2,P=c+N+m,O=i-N-m,{outerStart:j,outerEnd:L,innerStart:D,innerEnd:J}=aC(e,y,g,O-P),U=g-j,H=g-L,W=P+j/U,re=O-L/H,I=y+D,q=y+J,ne=P+D/I,ie=O-J/q;if(n.beginPath(),s){const ve=(W+re)/2;if(n.arc(o,l,g,W,ve),n.arc(o,l,g,ve,re),L>0){const se=Cu(H,re,o,l);n.arc(se.x,se.y,L,re,O+Mr)}const be=Cu(q,O,o,l);if(n.lineTo(be.x,be.y),J>0){const se=Cu(q,ie,o,l);n.arc(se.x,se.y,J,O+Mr,ie+Math.PI)}const he=(O-J/y+(P+D/y))/2;if(n.arc(o,l,y,O-J/y,he,!0),n.arc(o,l,y,he,P+D/y,!0),D>0){const se=Cu(I,ne,o,l);n.arc(se.x,se.y,D,ne+Math.PI,P-Mr)}const $=Cu(U,P,o,l);if(n.lineTo($.x,$.y),j>0){const se=Cu(U,W,o,l);n.arc(se.x,se.y,j,P-Mr,W)}}else{n.moveTo(o,l);const ve=Math.cos(W)*g+o,be=Math.sin(W)*g+l;n.lineTo(ve,be);const he=Math.cos(re)*g+o,$=Math.sin(re)*g+l;n.lineTo(he,$)}n.closePath()}function oC(n,e,t,r,i){const{fullCircles:s,startAngle:o,circumference:l}=e;let c=e.endAngle;if(s){dp(n,e,t,r,c,i);for(let h=0;h<s;++h)n.fill();isNaN(l)||(c=o+(l%er||er))}return dp(n,e,t,r,c,i),n.fill(),c}function lC(n,e,t,r,i){const{fullCircles:s,startAngle:o,circumference:l,options:c}=e,{borderWidth:h,borderJoinStyle:d,borderDash:g,borderDashOffset:y,borderRadius:m}=c,_=c.borderAlign==="inner";if(!h)return;n.setLineDash(g||[]),n.lineDashOffset=y,_?(n.lineWidth=h*2,n.lineJoin=d||"round"):(n.lineWidth=h,n.lineJoin=d||"bevel");let k=e.endAngle;if(s){dp(n,e,t,r,k,i);for(let N=0;N<s;++N)n.stroke();isNaN(l)||(k=o+(l%er||er))}_&&iC(n,e,k),c.selfJoin&&k-o>=Cn&&m===0&&d!=="miter"&&rC(n,e,k),s||(dp(n,e,t,r,k,i),n.stroke())}class cC extends Wc{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=Iw(i,{x:e,y:t}),{startAngle:l,endAngle:c,innerRadius:h,outerRadius:d,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),y=(this.options.spacing+this.options.borderWidth)/2,m=Kt(g,c-l),_=wd(s,l,c)&&l!==c,k=m>=er||_,N=Lc(o,h+y,d+y);return k&&N}getCenterPoint(e){const{x:t,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:h}=this.options,d=(i+s)/2,g=(o+l+h+c)/2;return{x:t+Math.cos(d)*g,y:r+Math.sin(d)*g}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,i=(t.offset||0)/4,s=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=r>er?Math.floor(r/er):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*i,Math.sin(l)*i);const c=1-Math.sin(Math.min(Cn,r||0)),h=i*c;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,oC(e,this,h,s,o),lC(e,this,h,s,o),e.restore()}}function hb(n,e,t=e){n.lineCap=Kt(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Kt(t.borderDash,e.borderDash)),n.lineDashOffset=Kt(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Kt(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Kt(t.borderWidth,e.borderWidth),n.strokeStyle=Kt(t.borderColor,e.borderColor)}function uC(n,e,t){n.lineTo(t.x,t.y)}function hC(n){return n.stepped?U6:n.tension||n.cubicInterpolationMode==="monotone"?z6:uC}function db(n,e,t={}){const r=n.length,{start:i=0,end:s=r-1}=t,{start:o,end:l}=e,c=Math.max(i,o),h=Math.min(s,l),d=i<o&&s<o||i>l&&s>l;return{count:r,start:c,loop:e.loop,ilen:h<c&&!d?r+h-c:h-c}}function dC(n,e,t,r){const{points:i,options:s}=e,{count:o,start:l,loop:c,ilen:h}=db(i,t,r),d=hC(s);let{move:g=!0,reverse:y}=r||{},m,_,k;for(m=0;m<=h;++m)_=i[(l+(y?h-m:m))%o],!_.skip&&(g?(n.moveTo(_.x,_.y),g=!1):d(n,k,_,y,s.stepped),k=_);return c&&(_=i[(l+(y?h:0))%o],d(n,k,_,y,s.stepped)),!!c}function fC(n,e,t,r){const i=e.points,{count:s,start:o,ilen:l}=db(i,t,r),{move:c=!0,reverse:h}=r||{};let d=0,g=0,y,m,_,k,N,P;const O=L=>(o+(h?l-L:L))%s,j=()=>{k!==N&&(n.lineTo(d,N),n.lineTo(d,k),n.lineTo(d,P))};for(c&&(m=i[O(0)],n.moveTo(m.x,m.y)),y=0;y<=l;++y){if(m=i[O(y)],m.skip)continue;const L=m.x,D=m.y,J=L|0;J===_?(D<k?k=D:D>N&&(N=D),d=(g*d+L)/++g):(j(),n.lineTo(L,D),_=J,g=0,k=N=D),P=D}j()}function Jm(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?fC:dC}function pC(n){return n.stepped?bP:n.tension||n.cubicInterpolationMode==="monotone"?_P:Nc}function gC(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),hb(n,e.options),n.stroke(i)}function mC(n,e,t,r){const{segments:i,options:s}=e,o=Jm(e);for(const l of i)hb(n,s,l.style),n.beginPath(),o(n,e,l,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const vC=typeof Path2D=="function";function yC(n,e,t,r){vC&&!e.options.segment?gC(n,e,t,r):mC(n,e,t,r)}class Ip extends Wc{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;dP(this._points,r,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=PP(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,i=e[t],s=this.points,o=Qw(this,{property:t,start:i,end:i});if(!o.length)return;const l=[],c=pC(r);let h,d;for(h=0,d=o.length;h<d;++h){const{start:g,end:y}=o[h],m=s[g],_=s[y];if(m===_){l.push(m);continue}const k=Math.abs((i-m[t])/(_[t]-m[t])),N=c(m,_,k,r.stepped);N[t]=e[t],l.push(N)}return l.length===1?l[0]:l}pathSegment(e,t,r){return Jm(this)(e,this,t,r)}path(e,t,r){const i=this.segments,s=Jm(this);let o=this._loop;t=t||0,r=r||this.points.length-t;for(const l of i)o&=s(e,this,l,{start:t,end:t+r-1});return!!o}draw(e,t,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),yC(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function I2(n,e,t,r){const i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}class wC extends Wc{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){const i=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(t-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return I2(this,e,"x",t)}inYRange(e,t){return I2(this,e,"y",t)}getCenterPoint(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const r=t&&e.borderWidth||0;return(t+r)*2}draw(e,t){const r=this.options;this.skip||r.radius<.1||!bd(this,t,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,Vm(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function bC(n,e,t){const r=n.segments,i=n.points,s=e.points,o=[];for(const l of r){let{start:c,end:h}=l;h=Dp(c,h,i);const d=Xm(t,i[c],i[h],l.loop);if(!e.segments){o.push({source:l,target:d,start:i[c],end:i[h]});continue}const g=Qw(e,d);for(const y of g){const m=Xm(t,s[y.start],s[y.end],y.loop),_=Xw(l,i,m);for(const k of _)o.push({source:k,target:y,start:{[t]:D2(d,m,"start",Math.max)},end:{[t]:D2(d,m,"end",Math.min)}})}}return o}function Xm(n,e,t,r){if(r)return;let i=e[n],s=t[n];return n==="angle"&&(i=ms(i),s=ms(s)),{property:n,start:i,end:s}}function _C(n,e){const{x:t=null,y:r=null}=n||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:l})=>{l=Dp(o,l,i);const c=i[o],h=i[l];r!==null?(s.push({x:c.x,y:r}),s.push({x:h.x,y:r})):t!==null&&(s.push({x:t,y:c.y}),s.push({x:t,y:h.y}))}),s}function Dp(n,e,t){for(;e>n;e--){const r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function D2(n,e,t,r){return n&&e?r(n[t],e[t]):n?n[t]:e?e[t]:0}function fb(n,e){let t=[],r=!1;return Vr(n)?(r=!0,t=n):t=_C(n,e),t.length?new Ip({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function F2(n){return n&&n.fill!==!1}function xC(n,e,t){let i=n[e].fill;const s=[e];let o;if(!t)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!gi(i))return i;if(o=n[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function SC(n,e,t){const r=PC(n);if(Xt(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return gi(i)&&Math.floor(i)===i?kC(r[0],e,i,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function kC(n,e,t,r){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=r?!1:t}function NC(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:Xt(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function AC(n,e,t){let r;return n==="start"?r=t:n==="end"?r=e.options.reverse?e.min:e.max:Xt(n)?r=n.value:r=e.getBaseValue(),r}function PC(n){const e=n.options,t=e.fill;let r=Kt(t&&t.target,t);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function CC(n){const{scale:e,index:t,line:r}=n,i=[],s=r.segments,o=r.points,l=EC(e,t);l.push(fb({x:null,y:e.bottom},r));for(let c=0;c<s.length;c++){const h=s[c];for(let d=h.start;d<=h.end;d++)jC(i,o[d],l)}return new Ip({points:i,options:{}})}function EC(n,e){const t=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function jC(n,e,t){const r=[];for(let i=0;i<t.length;i++){const s=t[i],{first:o,last:l,point:c}=LC(s,e,"x");if(!(!c||o&&l)){if(o)r.unshift(c);else if(n.push(c),!l)break}}n.push(...r)}function LC(n,e,t){const r=n.interpolate(e,t);if(!r)return{};const i=r[t],s=n.segments,o=n.points;let l=!1,c=!1;for(let h=0;h<s.length;h++){const d=s[h],g=o[d.start][t],y=o[d.end][t];if(Lc(i,g,y)){l=i===g,c=i===y;break}}return{first:l,last:c,point:r}}class pb{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:i,y:s,radius:o}=this;return t=t||{start:0,end:er},e.arc(i,s,o,t.end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:i}=this,s=e.angle;return{x:t+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function TC(n){const{chart:e,fill:t,line:r}=n;if(gi(t))return OC(e,t);if(t==="stack")return CC(n);if(t==="shape")return!0;const i=RC(n);return i instanceof pb?i:fb(i,r)}function OC(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function RC(n){return(n.scale||{}).getPointPositionForValue?IC(n):MC(n)}function MC(n){const{scale:e={},fill:t}=n,r=NC(t,e);if(gi(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function IC(n){const{scale:e,fill:t}=n,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=AC(t,e,s),l=[];if(r.grid.circular){const c=e.getPointPositionForValue(0,s);return new pb({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<i;++c)l.push(e.getPointPositionForValue(c,o));return l}function Qg(n,e,t){const r=TC(e),{chart:i,index:s,line:o,scale:l,axis:c}=e,h=o.options,d=h.fill,g=h.backgroundColor,{above:y=g,below:m=g}=d||{},_=i.getDatasetMeta(s),k=Zw(i,_);r&&o.points.length&&(Lp(n,t),DC(n,{line:o,target:r,above:y,below:m,area:t,scale:l,axis:c,clip:k}),Tp(n))}function DC(n,e){const{line:t,target:r,above:i,below:s,area:o,scale:l,clip:c}=e,h=t._loop?"angle":e.axis;n.save();let d=s;s!==i&&(h==="x"?(B2(n,r,o.top),Zg(n,{line:t,target:r,color:i,scale:l,property:h,clip:c}),n.restore(),n.save(),B2(n,r,o.bottom)):h==="y"&&(U2(n,r,o.left),Zg(n,{line:t,target:r,color:s,scale:l,property:h,clip:c}),n.restore(),n.save(),U2(n,r,o.right),d=i)),Zg(n,{line:t,target:r,color:d,scale:l,property:h,clip:c}),n.restore()}function B2(n,e,t){const{segments:r,points:i}=e;let s=!0,o=!1;n.beginPath();for(const l of r){const{start:c,end:h}=l,d=i[c],g=i[Dp(c,h,i)];s?(n.moveTo(d.x,d.y),s=!1):(n.lineTo(d.x,t),n.lineTo(d.x,d.y)),o=!!e.pathSegment(n,l,{move:o}),o?n.closePath():n.lineTo(g.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function U2(n,e,t){const{segments:r,points:i}=e;let s=!0,o=!1;n.beginPath();for(const l of r){const{start:c,end:h}=l,d=i[c],g=i[Dp(c,h,i)];s?(n.moveTo(d.x,d.y),s=!1):(n.lineTo(t,d.y),n.lineTo(d.x,d.y)),o=!!e.pathSegment(n,l,{move:o}),o?n.closePath():n.lineTo(t,g.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function Zg(n,e){const{line:t,target:r,property:i,color:s,scale:o,clip:l}=e,c=bC(t,r,i);for(const{source:h,target:d,start:g,end:y}of c){const{style:{backgroundColor:m=s}={}}=h,_=r!==!0;n.save(),n.fillStyle=m,FC(n,o,l,_&&Xm(i,g,y)),n.beginPath();const k=!!t.pathSegment(n,h);let N;if(_){k?n.closePath():z2(n,r,y,i);const P=!!r.pathSegment(n,d,{move:k,reverse:!0});N=k&&P,N||z2(n,r,g,i)}n.closePath(),n.fill(N?"evenodd":"nonzero"),n.restore()}}function FC(n,e,t,r){const i=e.chart.chartArea,{property:s,start:o,end:l}=r||{};if(s==="x"||s==="y"){let c,h,d,g;s==="x"?(c=o,h=i.top,d=l,g=i.bottom):(c=i.left,h=o,d=i.right,g=l),n.beginPath(),t&&(c=Math.max(c,t.left),d=Math.min(d,t.right),h=Math.max(h,t.top),g=Math.min(g,t.bottom)),n.rect(c,h,d-c,g-h),n.clip()}}function z2(n,e,t,r){const i=e.interpolate(t,r);i&&n.lineTo(i.x,i.y)}var BC={id:"filler",afterDatasetsUpdate(n,e,t){const r=(n.data.datasets||[]).length,i=[];let s,o,l,c;for(o=0;o<r;++o)s=n.getDatasetMeta(o),l=s.dataset,c=null,l&&l.options&&l instanceof Ip&&(c={visible:n.isDatasetVisible(o),index:o,fill:SC(l,o,r),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=c,i.push(c);for(o=0;o<r;++o)c=i[o],!(!c||c.fill===!1)&&(c.fill=xC(i,o,t.propagate))},beforeDraw(n,e,t){const r=t.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=i.length-1;o>=0;--o){const l=i[o].$filler;l&&(l.line.updateControlPoints(s,l.axis),r&&l.fill&&Qg(n.ctx,l,s))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;F2(s)&&Qg(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const r=e.meta.$filler;!F2(r)||t.drawTime!=="beforeDatasetDraw"||Qg(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const W2=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},UC=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class q2 extends Wc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Dn(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Ji(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=W2(r,s);let h,d;t.font=i.string,this.isHorizontal()?(h=this.maxWidth,d=this._fitRows(o,s,l,c)+10):(d=this.maxHeight,h=this._fitCols(o,i,l,c)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],h=this.lineWidths=[0],d=i+l;let g=e;s.textAlign="left",s.textBaseline="middle";let y=-1,m=-d;return this.legendItems.forEach((_,k)=>{const N=r+t/2+s.measureText(_.text).width;(k===0||h[h.length-1]+N+2*l>o)&&(g+=d,h[h.length-(k>0?0:1)]=0,m+=d,y++),c[k]={left:0,top:m,row:y,width:N,height:i},h[h.length-1]+=N+l}),g}_fitCols(e,t,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],h=this.columnSizes=[],d=o-e;let g=l,y=0,m=0,_=0,k=0;return this.legendItems.forEach((N,P)=>{const{itemWidth:O,itemHeight:j}=zC(r,t,s,N,i);P>0&&m+j+2*l>d&&(g+=y+l,h.push({width:y,height:m}),_+=y+l,k++,y=m=0),c[P]={left:_,top:m,col:k,width:O,height:j},y=Math.max(y,O),m+=j+l}),g+=y,h.push({width:y,height:m}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,o=qu(s,this.left,this.width);if(this.isHorizontal()){let l=0,c=gs(r,this.left+i,this.right-this.lineWidths[l]);for(const h of t)l!==h.row&&(l=h.row,c=gs(r,this.left+i,this.right-this.lineWidths[l])),h.top+=this.top+e+i,h.left=o.leftForLtr(o.x(c),h.width),c+=h.width+i}else{let l=0,c=gs(r,this.top+e+i,this.bottom-this.columnSizes[l].height);for(const h of t)h.col!==l&&(l=h.col,c=gs(r,this.top+e+i,this.bottom-this.columnSizes[l].height)),h.top=c,h.left+=this.left+i,h.left=o.leftForLtr(o.x(h.left),h.width),c+=h.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Lp(e,this),this._draw(),Tp(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,l=_r.color,c=qu(e.rtl,this.left,this.width),h=Ji(o.font),{padding:d}=o,g=h.size,y=g/2;let m;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=h.string;const{boxWidth:_,boxHeight:k,itemHeight:N}=W2(o,g),P=function(J,U,H){if(isNaN(_)||_<=0||isNaN(k)||k<0)return;i.save();const W=Kt(H.lineWidth,1);if(i.fillStyle=Kt(H.fillStyle,l),i.lineCap=Kt(H.lineCap,"butt"),i.lineDashOffset=Kt(H.lineDashOffset,0),i.lineJoin=Kt(H.lineJoin,"miter"),i.lineWidth=W,i.strokeStyle=Kt(H.strokeStyle,l),i.setLineDash(Kt(H.lineDash,[])),o.usePointStyle){const re={radius:k*Math.SQRT2/2,pointStyle:H.pointStyle,rotation:H.rotation,borderWidth:W},I=c.xPlus(J,_/2),q=U+y;Ww(i,re,I,q,o.pointStyleWidth&&_)}else{const re=U+Math.max((g-k)/2,0),I=c.leftForLtr(J,_),q=ed(H.borderRadius);i.beginPath(),Object.values(q).some(ne=>ne!==0)?Gm(i,{x:I,y:re,w:_,h:k,radius:q}):i.rect(I,re,_,k),i.fill(),W!==0&&i.stroke()}i.restore()},O=function(J,U,H){cp(i,H.text,J,U+N/2,h,{strikethrough:H.hidden,textAlign:c.textAlign(H.textAlign)})},j=this.isHorizontal(),L=this._computeTitleHeight();j?m={x:gs(s,this.left+d,this.right-r[0]),y:this.top+d+L,line:0}:m={x:this.left+d,y:gs(s,this.top+L+d,this.bottom-t[0].height),line:0},Kw(this.ctx,e.textDirection);const D=N+d;this.legendItems.forEach((J,U)=>{i.strokeStyle=J.fontColor,i.fillStyle=J.fontColor;const H=i.measureText(J.text).width,W=c.textAlign(J.textAlign||(J.textAlign=o.textAlign)),re=_+y+H;let I=m.x,q=m.y;c.setWidth(this.width),j?U>0&&I+re+d>this.right&&(q=m.y+=D,m.line++,I=m.x=gs(s,this.left+d,this.right-r[m.line])):U>0&&q+D>this.bottom&&(I=m.x=I+t[m.line].width+d,m.line++,q=m.y=gs(s,this.top+L+d,this.bottom-t[m.line].height));const ne=c.x(I);if(P(ne,q,J),I=P6(W,I+_+y,j?I+re:this.right,e.rtl),O(c.x(I),q,J),j)m.x+=re+d;else if(typeof J.text!="string"){const ie=h.lineHeight;m.y+=gb(J,ie)+d}else m.y+=D}),Yw(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=Ji(t.font),i=da(t.padding);if(!t.display)return;const s=qu(e.rtl,this.left,this.width),o=this.ctx,l=t.position,c=r.size/2,h=i.top+c;let d,g=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),d=this.top+h,g=gs(e.align,g,this.right-y);else{const _=this.columnSizes.reduce((k,N)=>Math.max(k,N.height),0);d=h+gs(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const m=gs(l,g,g+y);o.textAlign=s.textAlign(Uw(l)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=r.string,cp(o,t.text,m,d,r)}_computeTitleHeight(){const e=this.options.title,t=Ji(e.font),r=da(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(Lc(e,this.left,this.right)&&Lc(t,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Lc(e,i.left,i.left+i.width)&&Lc(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!HC(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=UC(i,r);i&&!s&&Dn(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Dn(t.onHover,[e,r,this],this)}else r&&Dn(t.onClick,[e,r,this],this)}}function zC(n,e,t,r,i){const s=WC(r,n,e,t),o=qC(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function WC(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+r.measureText(i).width}function qC(n,e,t){let r=n;return typeof e.text!="string"&&(r=gb(e,t)),r}function gb(n,e){const t=n.text?n.text.length:0;return e*t}function HC(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var $C={id:"legend",_element:q2,start(n,e,t){const r=n.legend=new q2({ctx:n.ctx,options:t,chart:n});Tl.configure(n,r,t),Tl.addBox(n,r)},stop(n){Tl.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Tl.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:l}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const h=c.controller.getStyle(t?0:void 0),d=da(h.borderWidth);return{text:e[c.index].label,fillStyle:h.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:h.borderColor,pointStyle:r||h.pointStyle,rotation:h.rotation,textAlign:i||h.textAlign,borderRadius:o&&(l||h.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Vh={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,s=0;for(e=0,t=n.length;e<t;++e){const l=n[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();r.add(c.x),i+=c.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((l,c)=>l+c)/r.size,y:i/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,l;for(s=0,o=n.length;s<o;++s){const c=n[s].element;if(c&&c.hasValue()){const h=c.getCenterPoint(),d=Hm(e,h);d<i&&(i=d,l=c)}}if(l){const c=l.tooltipPosition();t=c.x,r=c.y}return{x:t,y:r}}};function Fa(n,e){return e&&(Vr(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function To(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function VC(n,e){const{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:o,value:l}=s.getLabelAndValue(i);return{chart:n,label:o,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:l,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function H2(n,e){const t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:o,boxHeight:l}=e,c=Ji(e.bodyFont),h=Ji(e.titleFont),d=Ji(e.footerFont),g=s.length,y=i.length,m=r.length,_=da(e.padding);let k=_.height,N=0,P=r.reduce((L,D)=>L+D.before.length+D.lines.length+D.after.length,0);if(P+=n.beforeBody.length+n.afterBody.length,g&&(k+=g*h.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),P){const L=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;k+=m*L+(P-m)*c.lineHeight+(P-1)*e.bodySpacing}y&&(k+=e.footerMarginTop+y*d.lineHeight+(y-1)*e.footerSpacing);let O=0;const j=function(L){N=Math.max(N,t.measureText(L).width+O)};return t.save(),t.font=h.string,yn(n.title,j),t.font=c.string,yn(n.beforeBody.concat(n.afterBody),j),O=e.displayColors?o+2+e.boxPadding:0,yn(r,L=>{yn(L.before,j),yn(L.lines,j),yn(L.after,j)}),O=0,t.font=d.string,yn(n.footer,j),t.restore(),N+=_.width,{width:N,height:k}}function GC(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function KC(n,e,t,r){const{x:i,width:s}=r,o=t.caretSize+t.caretPadding;if(n==="left"&&i+s+o>e.width||n==="right"&&i-s-o<0)return!0}function YC(n,e,t,r){const{x:i,width:s}=t,{width:o,chartArea:{left:l,right:c}}=n;let h="center";return r==="center"?h=i<=(l+c)/2?"left":"right":i<=s/2?h="left":i>=o-s/2&&(h="right"),KC(h,n,e,t)&&(h="center"),h}function $2(n,e,t){const r=t.yAlign||e.yAlign||GC(n,t);return{xAlign:t.xAlign||e.xAlign||YC(n,e,t,r),yAlign:r}}function JC(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function XC(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function V2(n,e,t,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=n,{xAlign:l,yAlign:c}=t,h=i+s,{topLeft:d,topRight:g,bottomLeft:y,bottomRight:m}=ed(o);let _=JC(e,l);const k=XC(e,c,h);return c==="center"?l==="left"?_+=h:l==="right"&&(_-=h):l==="left"?_-=Math.max(d,y)+i:l==="right"&&(_+=Math.max(g,m)+i),{x:Ei(_,0,r.width-e.width),y:Ei(k,0,r.height-e.height)}}function Ef(n,e,t){const r=da(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function G2(n){return Fa([],To(n))}function QC(n,e,t){return zc(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function K2(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const mb={beforeTitle:Co,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:Co,beforeBody:Co,beforeLabel:Co,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Rn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Co,afterBody:Co,beforeFooter:Co,footer:Co,afterFooter:Co};function Gi(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?mb[e].call(t,r):i}class Y2 extends Wc{static positioners=Vh;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,s=new eb(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=QC(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=Gi(r,"beforeTitle",this,e),s=Gi(r,"title",this,e),o=Gi(r,"afterTitle",this,e);let l=[];return l=Fa(l,To(i)),l=Fa(l,To(s)),l=Fa(l,To(o)),l}getBeforeBody(e,t){return G2(Gi(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return yn(e,s=>{const o={before:[],lines:[],after:[]},l=K2(r,s);Fa(o.before,To(Gi(l,"beforeLabel",this,s))),Fa(o.lines,Gi(l,"label",this,s)),Fa(o.after,To(Gi(l,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,t){return G2(Gi(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=Gi(r,"beforeFooter",this,e),s=Gi(r,"footer",this,e),o=Gi(r,"afterFooter",this,e);let l=[];return l=Fa(l,To(i)),l=Fa(l,To(s)),l=Fa(l,To(o)),l}_createItems(e){const t=this._active,r=this.chart.data,i=[],s=[],o=[];let l=[],c,h;for(c=0,h=t.length;c<h;++c)l.push(VC(this.chart,t[c]));return e.filter&&(l=l.filter((d,g,y)=>e.filter(d,g,y,r))),e.itemSort&&(l=l.sort((d,g)=>e.itemSort(d,g,r))),yn(l,d=>{const g=K2(e.callbacks,d);i.push(Gi(g,"labelColor",this,d)),s.push(Gi(g,"labelPointStyle",this,d)),o.push(Gi(g,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=l,l}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const l=Vh[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const c=this._size=H2(this,r),h=Object.assign({},l,c),d=$2(this.chart,r,h),g=V2(r,h,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:g.x,y:g.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const s=this.getCaretPosition(e,r,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:l}=r,{topLeft:c,topRight:h,bottomLeft:d,bottomRight:g}=ed(l),{x:y,y:m}=e,{width:_,height:k}=t;let N,P,O,j,L,D;return s==="center"?(L=m+k/2,i==="left"?(N=y,P=N-o,j=L+o,D=L-o):(N=y+_,P=N+o,j=L-o,D=L+o),O=N):(i==="left"?P=y+Math.max(c,d)+o:i==="right"?P=y+_-Math.max(h,g)-o:P=this.caretX,s==="top"?(j=m,L=j-o,N=P-o,O=P+o):(j=m+k,L=j+o,N=P+o,O=P-o),D=j),{x1:N,x2:P,x3:O,y1:j,y2:L,y3:D}}drawTitle(e,t,r){const i=this.title,s=i.length;let o,l,c;if(s){const h=qu(r.rtl,this.x,this.width);for(e.x=Ef(this,r.titleAlign,r),t.textAlign=h.textAlign(r.titleAlign),t.textBaseline="middle",o=Ji(r.titleFont),l=r.titleSpacing,t.fillStyle=r.titleColor,t.font=o.string,c=0;c<s;++c)t.fillText(i[c],h.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===s&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,t,r,i,s){const o=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:h}=s,d=Ji(s.bodyFont),g=Ef(this,"left",s),y=i.x(g),m=c<d.lineHeight?(d.lineHeight-c)/2:0,_=t.y+m;if(s.usePointStyle){const k={radius:Math.min(h,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},N=i.leftForLtr(y,h)+h/2,P=_+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Vm(e,k,N,P),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Vm(e,k,N,P)}else{e.lineWidth=Xt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const k=i.leftForLtr(y,h),N=i.leftForLtr(i.xPlus(y,1),h-2),P=ed(o.borderRadius);Object.values(P).some(O=>O!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Gm(e,{x:k,y:_,w:h,h:c,radius:P}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Gm(e,{x:N,y:_+1,w:h-2,h:c-2,radius:P}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(k,_,h,c),e.strokeRect(k,_,h,c),e.fillStyle=o.backgroundColor,e.fillRect(N,_+1,h-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:h,boxPadding:d}=r,g=Ji(r.bodyFont);let y=g.lineHeight,m=0;const _=qu(r.rtl,this.x,this.width),k=function(H){t.fillText(H,_.x(e.x+m),e.y+y/2),e.y+=y+s},N=_.textAlign(o);let P,O,j,L,D,J,U;for(t.textAlign=o,t.textBaseline="middle",t.font=g.string,e.x=Ef(this,N,r),t.fillStyle=r.bodyColor,yn(this.beforeBody,k),m=l&&N!=="right"?o==="center"?h/2+d:h+2+d:0,L=0,J=i.length;L<J;++L){for(P=i[L],O=this.labelTextColors[L],t.fillStyle=O,yn(P.before,k),j=P.lines,l&&j.length&&(this._drawColorBox(t,e,L,_,r),y=Math.max(g.lineHeight,c)),D=0,U=j.length;D<U;++D)k(j[D]),y=g.lineHeight;yn(P.after,k)}m=0,y=g.lineHeight,yn(this.afterBody,k),e.y-=s}drawFooter(e,t,r){const i=this.footer,s=i.length;let o,l;if(s){const c=qu(r.rtl,this.x,this.width);for(e.x=Ef(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=c.textAlign(r.footerAlign),t.textBaseline="middle",o=Ji(r.footerFont),t.fillStyle=r.footerColor,t.font=o.string,l=0;l<s;++l)t.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:s,yAlign:o}=this,{x:l,y:c}=e,{width:h,height:d}=r,{topLeft:g,topRight:y,bottomLeft:m,bottomRight:_}=ed(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(l+g,c),o==="top"&&this.drawCaret(e,t,r,i),t.lineTo(l+h-y,c),t.quadraticCurveTo(l+h,c,l+h,c+y),o==="center"&&s==="right"&&this.drawCaret(e,t,r,i),t.lineTo(l+h,c+d-_),t.quadraticCurveTo(l+h,c+d,l+h-_,c+d),o==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(l+m,c+d),t.quadraticCurveTo(l,c+d,l,c+d-m),o==="center"&&s==="left"&&this.drawCaret(e,t,r,i),t.lineTo(l,c+g),t.quadraticCurveTo(l,c,l+g,c),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Vh[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=H2(this,e),c=Object.assign({},o,this._size),h=$2(t,e,c),d=V2(e,c,h,t);(i._to!==d.x||s._to!==d.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=da(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,t),Kw(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),Yw(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:l,index:c})=>{const h=this.chart.getDatasetMeta(l);if(!h)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:h.data[c],index:c}}),s=!sp(r,i),o=this._positionChanged(i,t);(s||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,r),l=this._positionChanged(o,e),c=t||!sp(o,s)||l;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:r,caretY:i,options:s}=this,o=Vh[s.position].call(this,e,t);return o!==!1&&(r!==o.x||i!==o.y)}}var ZC={id:"tooltip",_element:Y2,positioners:Vh,afterInit(n,e,t){t&&(n.tooltip=new Y2({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:mb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const eE=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function tE(n,e,t,r){const i=n.indexOf(e);if(i===-1)return eE(n,e,t,r);const s=n.lastIndexOf(e);return i!==s?t:i}const nE=(n,e)=>n===null?null:Ei(Math.round(n),0,e);function J2(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class rE extends ih{static id="category";static defaults={ticks:{callback:J2}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:s}of t)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Rn(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:tE(r,e,Kt(t,e),this._addedLabels),nE(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=t;o++)i.push({value:o});return i}getLabelForValue(e){return J2.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function iE(n,e){const t=[],{bounds:i,step:s,min:o,max:l,precision:c,count:h,maxTicks:d,maxDigits:g,includeBounds:y}=n,m=s||1,_=d-1,{min:k,max:N}=e,P=!Rn(o),O=!Rn(l),j=!Rn(h),L=(N-k)/(g+1);let D=Yv((N-k)/_/m)*m,J,U,H,W;if(D<1e-14&&!P&&!O)return[{value:k},{value:N}];W=Math.ceil(N/D)-Math.floor(k/D),W>_&&(D=Yv(W*D/_/m)*m),Rn(c)||(J=Math.pow(10,c),D=Math.ceil(D*J)/J),i==="ticks"?(U=Math.floor(k/D)*D,H=Math.ceil(N/D)*D):(U=k,H=N),P&&O&&s&&v6((l-o)/s,D/1e3)?(W=Math.round(Math.min((l-o)/D,d)),D=(l-o)/W,U=o,H=l):j?(U=P?o:U,H=O?l:H,W=h-1,D=(H-U)/W):(W=(H-U)/D,Xh(W,Math.round(W),D/1e3)?W=Math.round(W):W=Math.ceil(W));const re=Math.max(Jv(D),Jv(U));J=Math.pow(10,Rn(c)?re:c),U=Math.round(U*J)/J,H=Math.round(H*J)/J;let I=0;for(P&&(y&&U!==o?(t.push({value:o}),U<o&&I++,Xh(Math.round((U+I*D)*J)/J,o,X2(o,L,n))&&I++):U<o&&I++);I<W;++I){const q=Math.round((U+I*D)*J)/J;if(O&&q>l)break;t.push({value:q})}return O&&y&&H!==l?t.length&&Xh(t[t.length-1].value,l,X2(l,L,n))?t[t.length-1].value=l:t.push({value:l}):(!O||H===l)&&t.push({value:H}),t}function X2(n,e,{horizontal:t,minRotation:r}){const i=Do(r),s=(t?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+n).length;return Math.min(e/s,o)}class sE extends ih{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Rn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=c=>i=t?i:c,l=c=>s=r?s:c;if(e){const c=Qu(i),h=Qu(s);c<0&&h<0?l(0):c>0&&h>0&&o(0)}if(i===s){let c=s===0?1:Math.abs(s*.05);l(s+c),e||o(i-c)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=iE(i,s);return e.bounds==="ticks"&&y6(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return j0(e,this.chart.options.locale,this.options.ticks.format)}}class aE extends sE{static id="linear";static defaults={ticks:{callback:zw.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=gi(e)?e:0,this.max=gi(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=Do(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Fp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Yi=Object.keys(Fp);function Q2(n,e){return n-e}function Z2(n,e){if(Rn(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),gi(o)||(o=typeof r=="string"?t.parse(o,r):t.parse(o)),o===null?null:(i&&(o=i==="week"&&(yd(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,i)),+o)}function ey(n,e,t,r){const i=Yi.length;for(let s=Yi.indexOf(n);s<i-1;++s){const o=Fp[Yi[s]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(l*o.size))<=r)return Yi[s]}return Yi[i-1]}function oE(n,e,t,r,i){for(let s=Yi.length-1;s>=Yi.indexOf(t);s--){const o=Yi[s];if(Fp[o].common&&n._adapter.diff(i,r,o)>=e-1)return o}return Yi[t?Yi.indexOf(t):0]}function lE(n){for(let e=Yi.indexOf(n)+1,t=Yi.length;e<t;++e)if(Fp[Yi[e]].common)return Yi[e]}function ty(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=C0(t,e),s=t[r]>=e?t[r]:t[i];n[s]=!0}}function cE(n,e,t,r){const i=n._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let l,c;for(l=s;l<=o;l=+i.add(l,1,r))c=t[l],c>=0&&(e[c].major=!0);return e}function ny(n,e,t){const r=[],i={},s=e.length;let o,l;for(o=0;o<s;++o)l=e[o],i[l]=o,r.push({value:l,major:!1});return s===0||!t?r:cE(n,r,i,t)}class ry extends ih{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new KP._date(e.adapters.date);i.init(t),Jh(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Z2(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:l}=this.getUserBounds();function c(h){!o&&!isNaN(h.min)&&(i=Math.min(i,h.min)),!l&&!isNaN(h.max)&&(s=Math.max(s,h.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=gi(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),s=gi(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,l=S6(i,s,o);return this._unit=t.unit||(r.autoSkip?ey(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):oE(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:lE(this._unit),this.initOffsets(i),e.reverse&&l.reverse(),ny(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Ei(t,0,o),r=Ei(r,0,o),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||ey(s.minUnit,t,r,this._getLabelCapacity(t)),l=Kt(i.ticks.stepSize,1),c=o==="week"?s.isoWeekday:!1,h=yd(c)||c===!0,d={};let g=t,y,m;if(h&&(g=+e.startOf(g,"isoWeek",c)),g=+e.startOf(g,h?"day":o),e.diff(r,t,o)>1e5*l)throw new Error(t+" and "+r+" are too far apart with stepSize of "+l+" "+o);const _=i.ticks.source==="data"&&this.getDataTimestamps();for(y=g,m=0;y<r;y=+e.add(y,l,o),m++)ty(d,y,_);return(y===r||i.bounds==="ticks"||m===1)&&ty(d,y,_),Object.keys(d).sort(Q2).map(k=>+k)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,s=this._unit,o=t||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,t,r,i){const s=this.options,o=s.ticks.callback;if(o)return Dn(o,[e,t,r],this);const l=s.time.displayFormats,c=this._unit,h=this._majorUnit,d=c&&l[c],g=h&&l[h],y=r[t],m=h&&g&&y&&y.major;return this._adapter.format(e,i||(m?g:d))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=Do(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),o=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*o,h:r*o+l*s}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,ny(this,[e],this._majorUnit),i),o=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(Z2(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return N6(e.sort(Q2))}}function jf(n,e,t){let r=0,i=n.length-1,s,o,l,c;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=Tc(n,"pos",e)),{pos:s,time:l}=n[r],{pos:o,time:c}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=Tc(n,"time",e)),{time:s,pos:l}=n[r],{time:o,pos:c}=n[i]);const h=o-s;return h?l+(c-l)*(e-s)/h:l}class fO extends ry{static id="timeseries";static defaults=ry.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=jf(t,this.min),this._tableRange=jf(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],s=[];let o,l,c,h,d;for(o=0,l=e.length;o<l;++o)h=e[o],h>=t&&h<=r&&i.push(h);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(o=0,l=i.length;o<l;++o)d=i[o+1],c=i[o-1],h=i[o],Math.round((d+c)/2)!==h&&s.push({time:h,pos:o/(l-1)});return s}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(jf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return jf(this._table,r*this._tableRange+this._minPos,!0)}}const vb="label";function iy(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function uE(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function yb(n,e){n.labels=e}function wb(n,e,t=vb){const r=[];n.datasets=e.map(i=>{const s=n.datasets.find(o=>o[t]===i[t]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function hE(n,e=vb){const t={labels:[],datasets:[]};return yb(t,n.labels),wb(t,n.datasets,e),t}function dE(n,e){const{height:t=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:l,options:c,plugins:h=[],fallbackContent:d,updateMode:g,...y}=n,m=de.useRef(null),_=de.useRef(null),k=()=>{m.current&&(_.current=new Mp(m.current,{type:o,data:hE(l,s),options:c&&{...c},plugins:h}),iy(e,_.current))},N=()=>{iy(e,null),_.current&&(_.current.destroy(),_.current=null)};return de.useEffect(()=>{!i&&_.current&&c&&uE(_.current,c)},[i,c]),de.useEffect(()=>{!i&&_.current&&yb(_.current.config.data,l.labels)},[i,l.labels]),de.useEffect(()=>{!i&&_.current&&l.datasets&&wb(_.current.config.data,l.datasets,s)},[i,l.datasets]),de.useEffect(()=>{_.current&&(i?(N(),setTimeout(k)):_.current.update(g))},[i,c,l.labels,l.datasets,g]),de.useEffect(()=>{_.current&&(N(),setTimeout(k))},[o]),de.useEffect(()=>(k(),()=>N()),[]),b.jsx("canvas",{ref:m,role:"img",height:t,width:r,...y,children:d})}const fE=de.forwardRef(dE);function bb(n,e){return Mp.register(e),de.forwardRef((t,r)=>b.jsx(fE,{...t,ref:r,type:n}))}const pE=bb("line",GP),gE=bb("doughnut",VP);Mp.register(cC,ZC,$C,rE,aE,wC,Ip,BC);const mE=()=>{const[n,e]=de.useState({totalPatients:0,activeFiles:0,todayActivity:0,missingFiles:0,stuckFiles:0}),[t,r]=de.useState([]),i={labels:t.map(j=>j.date),datasets:[{label:"Jumlah Aktivitas",data:t.map(j=>j.count),borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.3,fill:!0}]},s={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}},[o,l]=de.useState([]),[c,h]=de.useState([]),[d,g]=de.useState(!0);de.useEffect(()=>{y();const j=lt.channel("dashboard-realtime").on("postgres_changes",{event:"*",schema:"public",table:"activity_logs"},()=>{N()}).on("postgres_changes",{event:"*",schema:"public",table:"tracer"},()=>{_()}).subscribe();return()=>{lt.removeChannel(j)}},[]);const y=async()=>{g(!0),await Promise.all([m(),_(),N(),k()]),g(!1)},m=async()=>{try{const{count:j}=await lt.from("patients").select("*",{count:"exact",head:!0}),{data:L}=await lt.from("tracer").select("patient_id, status_lokasi, updated_at").order("updated_at",{ascending:!1}),D={};L?.forEach(q=>{D[q.patient_id]||(D[q.patient_id]=q)});const J=Object.values(D).filter(q=>q.status_lokasi!=="hilang").length,U=Object.values(D).filter(q=>q.status_lokasi==="hilang").length,H=new Date,W=Object.values(D).filter(q=>{if(q.status_lokasi==="hilang")return!1;const ne=new Date(q.updated_at),ie=Math.abs(H-ne);return Math.ceil(ie/(1e3*60*60))>24}).length,re=new Date;re.setHours(0,0,0,0);const{count:I}=await lt.from("activity_logs").select("*",{count:"exact",head:!0}).gte("created_at",re.toISOString());e({totalPatients:j||0,activeFiles:J,todayActivity:I||0,missingFiles:U,stuckFiles:W})}catch(j){console.error("Error fetching stats:",j)}},_=async()=>{try{const{data:j}=await lt.from("tracer").select("status_lokasi"),L={};kn.forEach(J=>L[J.value]=0),j?.forEach(J=>{L[J.status_lokasi]!==void 0&&L[J.status_lokasi]++});const D=kn.map(J=>({label:J.label,count:L[J.value]||0,color:J.color,value:J.value}));l(D)}catch(j){console.error("Error fetching status counts:",j)}},k=async()=>{try{const j=new Date,L=new Date;L.setDate(j.getDate()-6);const{data:D}=await lt.from("activity_logs").select("created_at").gte("created_at",L.toISOString()).order("created_at",{ascending:!0}),J={};for(let H=0;H<7;H++){const W=new Date(L);W.setDate(W.getDate()+H);const re=W.toISOString().split("T")[0];J[re]=0}D?.forEach(H=>{const W=H.created_at.split("T")[0];J[W]!==void 0&&J[W]++});const U=Object.keys(J).map(H=>({date:new Date(H).toLocaleDateString("id-ID",{weekday:"short"}),count:J[H]}));r(U)}catch(j){console.error("Error fetching trend:",j)}},N=async()=>{try{const{data:j}=await lt.from("activity_logs").select(`
          *,
          profiles:user_id (nama)
        `).order("created_at",{ascending:!1}).limit(10);h(j||[])}catch(j){console.error("Error fetching recent activity:",j)}},P={labels:o.map(j=>j.label),datasets:[{data:o.map(j=>j.count),backgroundColor:o.map(j=>j.color),borderWidth:0,hoverOffset:4}]},O={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,pointStyle:"circle"}}},cutout:"60%"};return d?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"page-header",children:[b.jsx("h1",{className:"page-title",children:"Dashboard"}),b.jsx("p",{className:"page-subtitle",children:"Monitoring sistem rekam medis"})]}),b.jsx("div",{className:"page-content",children:b.jsx("div",{className:"grid grid-cols-4 gap-md",children:[1,2,3,4].map(j=>b.jsx("div",{className:"skeleton skeleton-card"},j))})})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"page-header",children:[b.jsx("h1",{className:"page-title",children:"Dashboard"}),b.jsx("p",{className:"page-subtitle",children:"Monitoring sistem rekam medis"})]}),b.jsxs("div",{className:"page-content",children:[b.jsxs("div",{className:"grid grid-cols-4 gap-md mb-lg",children:[b.jsxs("div",{className:"stat-card",children:[b.jsx("div",{className:"stat-value",children:n.totalPatients}),b.jsx("div",{className:"stat-label",children:"Total Pasien"}),b.jsx(np,{className:"stat-icon",size:48})]}),b.jsxs("div",{className:"stat-card success",children:[b.jsx("div",{className:"stat-value",children:n.activeFiles}),b.jsx("div",{className:"stat-label",children:"Berkas Aktif"}),b.jsx(Bo,{className:"stat-icon",size:48})]}),b.jsxs("div",{className:"stat-card purple",children:[b.jsx("div",{className:"stat-value",children:n.todayActivity}),b.jsx("div",{className:"stat-label",children:"Aktivitas Hari Ini"}),b.jsx(Wm,{className:"stat-icon",size:48})]}),b.jsxs("div",{className:"stat-card error",children:[b.jsx("div",{className:"stat-value",children:n.missingFiles}),b.jsx("div",{className:"stat-label",children:"Berkas Hilang"}),b.jsx(w0,{className:"stat-icon",size:48})]}),b.jsxs("div",{className:"stat-card warning",children:[b.jsx("div",{className:"stat-value",children:n.stuckFiles}),b.jsx("div",{className:"stat-label",children:"Berkas Macet (>24 Jam)"}),b.jsx(Wm,{className:"stat-icon",size:48,style:{transform:"rotate(90deg)"}})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-lg",children:[b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"card-header",children:b.jsx("h2",{style:{fontSize:"1.125rem",fontWeight:600},children:"Status Lokasi Berkas"})}),b.jsx("div",{className:"card-body",children:b.jsx("div",{className:"chart-container",style:{height:"280px"},children:o.some(j=>j.count>0)?b.jsx(gE,{data:P,options:O}):b.jsxs("div",{className:"empty-state",children:[b.jsx(Ju,{className:"empty-state-icon"}),b.jsx("p",{children:"Belum ada data status lokasi"})]})})})]}),b.jsxs("div",{className:"card",children:[b.jsxs("div",{className:"card-header flex justify-between items-center",children:[b.jsx("h2",{style:{fontSize:"1.125rem",fontWeight:600},children:"Aktivitas Terbaru"}),b.jsx("span",{className:"badge badge-primary",children:"Realtime"})]}),b.jsx("div",{className:"card-body",style:{padding:0},children:c.length>0?b.jsx("div",{className:"recent-list",style:{padding:"var(--spacing-md)"},children:c.map(j=>b.jsxs("div",{className:"recent-item",style:{cursor:"default"},children:[b.jsx(tp,{size:16,style:{color:"var(--primary-500)",flexShrink:0}}),b.jsxs("div",{className:"recent-item-content",children:[b.jsxs("div",{className:"recent-item-title",children:[j.aksi,j.no_rm&&` - ${j.no_rm}`]}),b.jsxs("div",{className:"recent-item-subtitle",children:[j.profiles?.nama||"System",j.details?.status_lokasi&&b.jsxs(b.Fragment,{children:["  ",ws(j.details.status_lokasi,kn)]})]})]}),b.jsx("div",{className:"recent-item-time",children:Ew(j.created_at)})]},j.id))}):b.jsxs("div",{className:"empty-state",children:[b.jsx(tp,{className:"empty-state-icon"}),b.jsx("p",{children:"Belum ada aktivitas"})]})})]})]}),b.jsxs("div",{className:"card mt-lg",children:[b.jsx("div",{className:"card-header",children:b.jsx("h2",{style:{fontSize:"1.125rem",fontWeight:600},children:"Tren Aktivitas (7 Hari Terakhir)"})}),b.jsx("div",{className:"card-body",children:b.jsx("div",{className:"chart-container",style:{height:"300px"},children:b.jsx(pE,{data:i,options:s})})})]})]})]})};var vE=Object.defineProperty,fp=Object.getOwnPropertySymbols,_b=Object.prototype.hasOwnProperty,xb=Object.prototype.propertyIsEnumerable,sy=(n,e,t)=>e in n?vE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Qm=(n,e)=>{for(var t in e||(e={}))_b.call(e,t)&&sy(n,t,e[t]);if(fp)for(var t of fp(e))xb.call(e,t)&&sy(n,t,e[t]);return n},Sb=(n,e)=>{var t={};for(var r in n)_b.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&fp)for(var r of fp(n))e.indexOf(r)<0&&xb.call(n,r)&&(t[r]=n[r]);return t};var Fc;(n=>{const e=class{constructor(c,h,d,g){if(this.version=c,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],c<e.MIN_VERSION||c>e.MAX_VERSION)throw new RangeError("Version value out of range");if(g<-1||g>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let y=[];for(let _=0;_<this.size;_++)y.push(!1);for(let _=0;_<this.size;_++)this.modules.push(y.slice()),this.isFunction.push(y.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(d);if(this.drawCodewords(m),g==-1){let _=1e9;for(let k=0;k<8;k++){this.applyMask(k),this.drawFormatBits(k);const N=this.getPenaltyScore();N<_&&(g=k,_=N),this.applyMask(k)}}s(0<=g&&g<=7),this.mask=g,this.applyMask(g),this.drawFormatBits(g),this.isFunction=[]}static encodeText(c,h){const d=n.QrSegment.makeSegments(c);return e.encodeSegments(d,h)}static encodeBinary(c,h){const d=n.QrSegment.makeBytes(c);return e.encodeSegments([d],h)}static encodeSegments(c,h,d=1,g=40,y=-1,m=!0){if(!(e.MIN_VERSION<=d&&d<=g&&g<=e.MAX_VERSION)||y<-1||y>7)throw new RangeError("Invalid value");let _,k;for(_=d;;_++){const j=e.getNumDataCodewords(_,h)*8,L=l.getTotalBits(c,_);if(L<=j){k=L;break}if(_>=g)throw new RangeError("Data too long")}for(const j of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])m&&k<=e.getNumDataCodewords(_,j)*8&&(h=j);let N=[];for(const j of c){r(j.mode.modeBits,4,N),r(j.numChars,j.mode.numCharCountBits(_),N);for(const L of j.getData())N.push(L)}s(N.length==k);const P=e.getNumDataCodewords(_,h)*8;s(N.length<=P),r(0,Math.min(4,P-N.length),N),r(0,(8-N.length%8)%8,N),s(N.length%8==0);for(let j=236;N.length<P;j^=253)r(j,8,N);let O=[];for(;O.length*8<N.length;)O.push(0);return N.forEach((j,L)=>O[L>>>3]|=j<<7-(L&7)),new e(_,h,O,y)}getModule(c,h){return 0<=c&&c<this.size&&0<=h&&h<this.size&&this.modules[h][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),h=c.length;for(let d=0;d<h;d++)for(let g=0;g<h;g++)d==0&&g==0||d==0&&g==h-1||d==h-1&&g==0||this.drawAlignmentPattern(c[d],c[g]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const h=this.errorCorrectionLevel.formatBits<<3|c;let d=h;for(let y=0;y<10;y++)d=d<<1^(d>>>9)*1335;const g=(h<<10|d)^21522;s(g>>>15==0);for(let y=0;y<=5;y++)this.setFunctionModule(8,y,i(g,y));this.setFunctionModule(8,7,i(g,6)),this.setFunctionModule(8,8,i(g,7)),this.setFunctionModule(7,8,i(g,8));for(let y=9;y<15;y++)this.setFunctionModule(14-y,8,i(g,y));for(let y=0;y<8;y++)this.setFunctionModule(this.size-1-y,8,i(g,y));for(let y=8;y<15;y++)this.setFunctionModule(8,this.size-15+y,i(g,y));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const h=this.version<<12|c;s(h>>>18==0);for(let d=0;d<18;d++){const g=i(h,d),y=this.size-11+d%3,m=Math.floor(d/3);this.setFunctionModule(y,m,g),this.setFunctionModule(m,y,g)}}drawFinderPattern(c,h){for(let d=-4;d<=4;d++)for(let g=-4;g<=4;g++){const y=Math.max(Math.abs(g),Math.abs(d)),m=c+g,_=h+d;0<=m&&m<this.size&&0<=_&&_<this.size&&this.setFunctionModule(m,_,y!=2&&y!=4)}}drawAlignmentPattern(c,h){for(let d=-2;d<=2;d++)for(let g=-2;g<=2;g++)this.setFunctionModule(c+g,h+d,Math.max(Math.abs(g),Math.abs(d))!=1)}setFunctionModule(c,h,d){this.modules[h][c]=d,this.isFunction[h][c]=!0}addEccAndInterleave(c){const h=this.version,d=this.errorCorrectionLevel;if(c.length!=e.getNumDataCodewords(h,d))throw new RangeError("Invalid argument");const g=e.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][h],y=e.ECC_CODEWORDS_PER_BLOCK[d.ordinal][h],m=Math.floor(e.getNumRawDataModules(h)/8),_=g-m%g,k=Math.floor(m/g);let N=[];const P=e.reedSolomonComputeDivisor(y);for(let j=0,L=0;j<g;j++){let D=c.slice(L,L+k-y+(j<_?0:1));L+=D.length;const J=e.reedSolomonComputeRemainder(D,P);j<_&&D.push(0),N.push(D.concat(J))}let O=[];for(let j=0;j<N[0].length;j++)N.forEach((L,D)=>{(j!=k-y||D>=_)&&O.push(L[j])});return s(O.length==m),O}drawCodewords(c){if(c.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let g=0;g<this.size;g++)for(let y=0;y<2;y++){const m=d-y,k=(d+1&2)==0?this.size-1-g:g;!this.isFunction[k][m]&&h<c.length*8&&(this.modules[k][m]=i(c[h>>>3],7-(h&7)),h++)}}s(h==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let d=0;d<this.size;d++){let g;switch(c){case 0:g=(d+h)%2==0;break;case 1:g=h%2==0;break;case 2:g=d%3==0;break;case 3:g=(d+h)%3==0;break;case 4:g=(Math.floor(d/3)+Math.floor(h/2))%2==0;break;case 5:g=d*h%2+d*h%3==0;break;case 6:g=(d*h%2+d*h%3)%2==0;break;case 7:g=((d+h)%2+d*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][d]&&g&&(this.modules[h][d]=!this.modules[h][d])}}getPenaltyScore(){let c=0;for(let y=0;y<this.size;y++){let m=!1,_=0,k=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[y][N]==m?(_++,_==5?c+=e.PENALTY_N1:_>5&&c++):(this.finderPenaltyAddHistory(_,k),m||(c+=this.finderPenaltyCountPatterns(k)*e.PENALTY_N3),m=this.modules[y][N],_=1);c+=this.finderPenaltyTerminateAndCount(m,_,k)*e.PENALTY_N3}for(let y=0;y<this.size;y++){let m=!1,_=0,k=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[N][y]==m?(_++,_==5?c+=e.PENALTY_N1:_>5&&c++):(this.finderPenaltyAddHistory(_,k),m||(c+=this.finderPenaltyCountPatterns(k)*e.PENALTY_N3),m=this.modules[N][y],_=1);c+=this.finderPenaltyTerminateAndCount(m,_,k)*e.PENALTY_N3}for(let y=0;y<this.size-1;y++)for(let m=0;m<this.size-1;m++){const _=this.modules[y][m];_==this.modules[y][m+1]&&_==this.modules[y+1][m]&&_==this.modules[y+1][m+1]&&(c+=e.PENALTY_N2)}let h=0;for(const y of this.modules)h=y.reduce((m,_)=>m+(_?1:0),h);const d=this.size*this.size,g=Math.ceil(Math.abs(h*20-d*10)/d)-1;return s(0<=g&&g<=9),c+=g*e.PENALTY_N4,s(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let g=this.size-7;d.length<c;g-=h)d.splice(1,0,g);return d}}static getNumRawDataModules(c){if(c<e.MIN_VERSION||c>e.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;h-=(25*d-10)*d-55,c>=7&&(h-=36)}return s(208<=h&&h<=29648),h}static getNumDataCodewords(c,h){return Math.floor(e.getNumRawDataModules(c)/8)-e.ECC_CODEWORDS_PER_BLOCK[h.ordinal][c]*e.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let h=[];for(let g=0;g<c-1;g++)h.push(0);h.push(1);let d=1;for(let g=0;g<c;g++){for(let y=0;y<h.length;y++)h[y]=e.reedSolomonMultiply(h[y],d),y+1<h.length&&(h[y]^=h[y+1]);d=e.reedSolomonMultiply(d,2)}return h}static reedSolomonComputeRemainder(c,h){let d=h.map(g=>0);for(const g of c){const y=g^d.shift();d.push(0),h.forEach((m,_)=>d[_]^=e.reedSolomonMultiply(m,y))}return d}static reedSolomonMultiply(c,h){if(c>>>8||h>>>8)throw new RangeError("Byte out of range");let d=0;for(let g=7;g>=0;g--)d=d<<1^(d>>>7)*285,d^=(h>>>g&1)*c;return s(d>>>8==0),d}finderPenaltyCountPatterns(c){const h=c[1];s(h<=this.size*3);const d=h>0&&c[2]==h&&c[3]==h*3&&c[4]==h&&c[5]==h;return(d&&c[0]>=h*4&&c[6]>=h?1:0)+(d&&c[6]>=h*4&&c[0]>=h?1:0)}finderPenaltyTerminateAndCount(c,h,d){return c&&(this.finderPenaltyAddHistory(h,d),h=0),h+=this.size,this.finderPenaltyAddHistory(h,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,h){h[0]==0&&(c+=this.size),h.pop(),h.unshift(c)}};let t=e;t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=t;function r(c,h,d){if(h<0||h>31||c>>>h)throw new RangeError("Value out of range");for(let g=h-1;g>=0;g--)d.push(c>>>g&1)}function i(c,h){return(c>>>h&1)!=0}function s(c){if(!c)throw new Error("Assertion error")}const o=class{constructor(c,h,d){if(this.mode=c,this.numChars=h,this.bitData=d,h<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let h=[];for(const d of c)r(d,8,h);return new o(o.Mode.BYTE,c.length,h)}static makeNumeric(c){if(!o.isNumeric(c))throw new RangeError("String contains non-numeric characters");let h=[];for(let d=0;d<c.length;){const g=Math.min(c.length-d,3);r(parseInt(c.substr(d,g),10),g*3+1,h),d+=g}return new o(o.Mode.NUMERIC,c.length,h)}static makeAlphanumeric(c){if(!o.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],d;for(d=0;d+2<=c.length;d+=2){let g=o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;g+=o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),r(g,11,h)}return d<c.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,h),new o(o.Mode.ALPHANUMERIC,c.length,h)}static makeSegments(c){return c==""?[]:o.isNumeric(c)?[o.makeNumeric(c)]:o.isAlphanumeric(c)?[o.makeAlphanumeric(c)]:[o.makeBytes(o.toUtf8ByteArray(c))]}static makeEci(c){let h=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)r(c,8,h);else if(c<16384)r(2,2,h),r(c,14,h);else if(c<1e6)r(6,3,h),r(c,21,h);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,h)}static isNumeric(c){return o.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return o.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,h){let d=0;for(const g of c){const y=g.mode.numCharCountBits(h);if(g.numChars>=1<<y)return 1/0;d+=4+y+g.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let h=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?h.push(c.charCodeAt(d)):(h.push(parseInt(c.substr(d+1,2),16)),d+=2);return h}};let l=o;l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n.QrSegment=l})(Fc||(Fc={}));(n=>{(e=>{const t=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};let r=t;r.LOW=new t(0,1),r.MEDIUM=new t(1,0),r.QUARTILE=new t(2,3),r.HIGH=new t(3,2),e.Ecc=r})(n.QrCode||(n.QrCode={}))})(Fc||(Fc={}));(n=>{(e=>{const t=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=t;r.NUMERIC=new t(1,[10,12,14]),r.ALPHANUMERIC=new t(2,[9,11,13]),r.BYTE=new t(4,[8,16,16]),r.KANJI=new t(8,[8,10,12]),r.ECI=new t(7,[0,0,0]),e.Mode=r})(n.QrSegment||(n.QrSegment={}))})(Fc||(Fc={}));var Bu=Fc;var kb={L:Bu.QrCode.Ecc.LOW,M:Bu.QrCode.Ecc.MEDIUM,Q:Bu.QrCode.Ecc.QUARTILE,H:Bu.QrCode.Ecc.HIGH},Nb=128,Ab="L",Pb="#FFFFFF",Cb="#000000",Eb=!1,B0=4,yE=.1;function jb(n,e=0){const t=[];return n.forEach(function(r,i){let s=null;r.forEach(function(o,l){if(!o&&s!==null){t.push(`M${s+e} ${i+e}h${l-s}v1H${s+e}z`),s=null;return}if(l===r.length-1){if(!o)return;s===null?t.push(`M${l+e},${i+e} h1v1H${l+e}z`):t.push(`M${s+e},${i+e} h${l+1-s}v1H${s+e}z`);return}o&&s===null&&(s=l)})}),t.join("")}function Lb(n,e){return n.slice().map((t,r)=>r<e.y||r>=e.y+e.h?t:t.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function Tb(n,e,t,r){if(r==null)return null;const i=t?B0:0,s=n.length+i*2,o=Math.floor(e*yE),l=s/e,c=(r.width||o)*l,h=(r.height||o)*l,d=r.x==null?n.length/2-c/2:r.x*l,g=r.y==null?n.length/2-h/2:r.y*l;let y=null;if(r.excavate){let m=Math.floor(d),_=Math.floor(g),k=Math.ceil(c+d-m),N=Math.ceil(h+g-_);y={x:m,y:_,w:k,h:N}}return{x:d,y:g,h,w:c,excavation:y}}var wE=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function bE(n){const e=n,{value:t,size:r=Nb,level:i=Ab,bgColor:s=Pb,fgColor:o=Cb,includeMargin:l=Eb,style:c,imageSettings:h}=e,d=Sb(e,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),g=h?.src,y=Ki.useRef(null),m=Ki.useRef(null),[_,k]=Ki.useState(!1);Ki.useEffect(()=>{if(y.current!=null){const O=y.current,j=O.getContext("2d");if(!j)return;let L=Bu.QrCode.encodeText(t,kb[i]).getModules();const D=l?B0:0,J=L.length+D*2,U=Tb(L,r,l,h),H=m.current,W=U!=null&&H!==null&&H.complete&&H.naturalHeight!==0&&H.naturalWidth!==0;W&&U.excavation!=null&&(L=Lb(L,U.excavation));const re=window.devicePixelRatio||1;O.height=O.width=r*re;const I=r/J*re;j.scale(I,I),j.fillStyle=s,j.fillRect(0,0,J,J),j.fillStyle=o,wE?j.fill(new Path2D(jb(L,D))):L.forEach(function(q,ne){q.forEach(function(ie,ve){ie&&j.fillRect(ve+D,ne+D,1,1)})}),W&&j.drawImage(H,U.x+D,U.y+D,U.w,U.h)}}),Ki.useEffect(()=>{k(!1)},[g]);const N=Qm({height:r,width:r},c);let P=null;return g!=null&&(P=Ki.createElement("img",{src:g,key:g,style:{display:"none"},onLoad:()=>{k(!0)},ref:m})),Ki.createElement(Ki.Fragment,null,Ki.createElement("canvas",Qm({style:N,height:r,width:r,ref:y},d)),P)}function Ob(n){const e=n,{value:t,size:r=Nb,level:i=Ab,bgColor:s=Pb,fgColor:o=Cb,includeMargin:l=Eb,imageSettings:c}=e,h=Sb(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let d=Bu.QrCode.encodeText(t,kb[i]).getModules();const g=l?B0:0,y=d.length+g*2,m=Tb(d,r,l,c);let _=null;c!=null&&m!=null&&(m.excavation!=null&&(d=Lb(d,m.excavation)),_=Ki.createElement("image",{xlinkHref:c.src,height:m.h,width:m.w,x:m.x+g,y:m.y+g,preserveAspectRatio:"none"}));const k=jb(d,g);return Ki.createElement("svg",Qm({height:r,width:r,viewBox:`0 0 ${y} ${y}`},h),Ki.createElement("path",{fill:s,d:`M0,0 h${y}v${y}H0z`,shapeRendering:"crispEdges"}),Ki.createElement("path",{fill:o,d:k,shapeRendering:"crispEdges"}),_)}const _E=()=>{const[n,e]=de.useState([]),[t,r]=de.useState(!0),[i,s]=de.useState(""),[o,l]=de.useState(1),[c,h]=de.useState(0),[d,g]=de.useState(!1),[y,m]=de.useState(null),[_,k]=de.useState({no_rm:"",nama:"",tanggal_lahir:""}),[N,P]=de.useState(!1),[O,j]=de.useState(!1),[L,D]=de.useState(null),[J,U]=de.useState([]),{success:H,error:W}=$a();de.useEffect(()=>{re()},[o,i]);const re=async()=>{r(!0);try{let le=lt.from("patients").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range((o-1)*ua,o*ua-1);i&&(le=le.or(`no_rm.ilike.%${i}%,nama.ilike.%${i}%`));const{data:K,count:T,error:Y}=await le;if(Y)throw Y;const ee=K.map(_e=>_e.id),{data:oe}=await lt.from("tracer").select("patient_id, status_lokasi, updated_at").in("patient_id",ee).order("updated_at",{ascending:!1}),ce={};oe?.forEach(_e=>{ce[_e.patient_id]||(ce[_e.patient_id]=_e.status_lokasi)});const ye=K.map(_e=>({..._e,current_status:ce[_e.id]||null}));e(ye),h(T||0)}catch(le){W("Gagal memuat data pasien"),console.error(le)}r(!1)},I=Ep(le=>{s(le),l(1)},300),q=()=>{m(null),k({no_rm:IA(),nama:"",tanggal_lahir:""}),g(!0)},ne=le=>{m(le),k({no_rm:le.no_rm,nama:le.nama,tanggal_lahir:le.tanggal_lahir||""}),g(!0)},ie=async le=>{if(le.preventDefault(),!_.no_rm||!_.nama){W("No RM dan Nama harus diisi");return}P(!0);try{if(y){const{error:K}=await lt.from("patients").update({no_rm:_.no_rm,nama:_.nama,tanggal_lahir:_.tanggal_lahir||null,qr_code:Yh(_.no_rm)}).eq("id",y.id);if(K)throw K;await lt.rpc("log_activity",{p_aksi:"UPDATE_PATIENT",p_no_rm:_.no_rm,p_details:{nama:_.nama}}),H("Data pasien berhasil diperbarui")}else{const{error:K}=await lt.from("patients").insert({no_rm:_.no_rm,nama:_.nama,tanggal_lahir:_.tanggal_lahir||null,qr_code:Yh(_.no_rm)});if(K){if(K.code==="23505"){W("Nomor RM sudah terdaftar"),P(!1);return}throw K}await lt.rpc("log_activity",{p_aksi:"CREATE_PATIENT",p_no_rm:_.no_rm,p_details:{nama:_.nama}}),H("Pasien baru berhasil ditambahkan")}g(!1),re()}catch(K){W("Gagal menyimpan data pasien"),console.error(K)}P(!1)},ve=async le=>{if(confirm(`Hapus pasien ${le.nama} (${le.no_rm})?`))try{const{error:K}=await lt.from("patients").delete().eq("id",le.id);if(K)throw K;await lt.rpc("log_activity",{p_aksi:"DELETE_PATIENT",p_no_rm:le.no_rm,p_details:{nama:le.nama}}),H("Pasien berhasil dihapus"),re()}catch(K){W("Gagal menghapus pasien"),console.error(K)}},be=le=>{D(le),j(!0)},he=le=>{U(K=>K.find(Y=>Y.id===le.id)?K.filter(Y=>Y.id!==le.id):[...K,le])},$=()=>{J.length===n.length?U([]):U([...n])},se=Math.ceil(c/ua);return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"page-header",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"page-title",children:"Manajemen Pasien"}),b.jsx("p",{className:"page-subtitle",children:"Kelola data pasien dan berkas rekam medis"})]}),b.jsxs("div",{className:"flex gap-sm",children:[J.length>0&&b.jsxs(Io,{to:"/admin/patients/print",state:{patients:J},className:"btn btn-secondary",children:[b.jsx(Um,{size:18}),"Print QR (",J.length,")"]}),b.jsxs("button",{className:"btn btn-primary",onClick:q,children:[b.jsx(dw,{size:18}),"Tambah Pasien"]})]})]})}),b.jsxs("div",{className:"page-content",children:[b.jsx("div",{className:"card mb-lg",children:b.jsx("div",{className:"card-body",children:b.jsxs("div",{className:"search-box",children:[b.jsx(Ml,{className:"search-box-icon",size:18}),b.jsx("input",{type:"text",className:"form-input",placeholder:"Cari berdasarkan No RM atau Nama...",onChange:le=>I(le.target.value)})]})})}),b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"table-container",children:b.jsxs("table",{className:"table",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{style:{width:40},children:b.jsx("input",{type:"checkbox",checked:J.length===n.length&&n.length>0,onChange:$,className:"form-check-input"})}),b.jsx("th",{children:"No. RM"}),b.jsx("th",{children:"Nama Pasien"}),b.jsx("th",{children:"Tanggal Lahir"}),b.jsx("th",{children:"Usia"}),b.jsx("th",{children:"Status Lokasi"}),b.jsx("th",{style:{width:150},children:"Aksi"})]})}),b.jsx("tbody",{children:t?[...Array(5)].map((le,K)=>b.jsx("tr",{children:b.jsx("td",{colSpan:7,children:b.jsx("div",{className:"skeleton skeleton-text"})})},K)):n.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:7,children:b.jsxs("div",{className:"empty-state",children:[b.jsx(Bo,{className:"empty-state-icon"}),b.jsx("p",{className:"empty-state-title",children:"Tidak ada data"}),b.jsx("p",{className:"empty-state-description",children:i?"Tidak ditemukan pasien dengan kata kunci tersebut":"Belum ada data pasien"})]})})}):n.map(le=>b.jsxs("tr",{children:[b.jsx("td",{children:b.jsx("input",{type:"checkbox",checked:J.some(K=>K.id===le.id),onChange:()=>he(le),className:"form-check-input"})}),b.jsx("td",{children:b.jsx("span",{className:"font-semibold",style:{color:"var(--primary-600)"},children:le.no_rm})}),b.jsx("td",{children:le.nama}),b.jsx("td",{children:Fl(le.tanggal_lahir)}),b.jsx("td",{children:jp(le.tanggal_lahir)}),b.jsx("td",{children:le.current_status?b.jsx("span",{className:"badge",style:{backgroundColor:`${ha(le.current_status,kn)}20`,color:ha(le.current_status,kn)},children:ws(le.current_status,kn)}):b.jsx("span",{className:"badge badge-gray",children:"Belum ada"})}),b.jsx("td",{children:b.jsxs("div",{className:"table-actions",children:[b.jsx(Io,{to:`/admin/patients/${le.id}`,className:"btn btn-icon btn-ghost btn-sm",title:"Lihat Detail",children:b.jsx(ow,{size:16})}),b.jsx("button",{className:"btn btn-icon btn-ghost btn-sm",title:"Lihat QR",onClick:()=>be(le),children:b.jsx(Xu,{size:16})}),b.jsx("button",{className:"btn btn-icon btn-ghost btn-sm",title:"Edit",onClick:()=>ne(le),children:b.jsx(hw,{size:16})}),b.jsx("button",{className:"btn btn-icon btn-ghost btn-sm",title:"Hapus",onClick:()=>ve(le),style:{color:"var(--error)"},children:b.jsx(gw,{size:16})})]})})]},le.id))})]})}),se>1&&b.jsx("div",{className:"card-footer",children:b.jsxs("div",{className:"pagination",children:[b.jsx("button",{className:"pagination-btn",disabled:o===1,onClick:()=>l(le=>le-1),children:b.jsx(_0,{size:16})}),[...Array(se)].map((le,K)=>b.jsx("button",{className:`pagination-btn ${o===K+1?"active":""}`,onClick:()=>l(K+1),children:K+1},K)),b.jsx("button",{className:"pagination-btn",disabled:o===se,onClick:()=>l(le=>le+1),children:b.jsx(Pp,{size:16})})]})})]})]}),d&&b.jsx("div",{className:"modal-overlay",onClick:()=>g(!1),children:b.jsxs("div",{className:"modal",onClick:le=>le.stopPropagation(),children:[b.jsxs("div",{className:"modal-header",children:[b.jsx("h3",{className:"modal-title",children:y?"Edit Pasien":"Tambah Pasien Baru"}),b.jsx("button",{className:"modal-close",onClick:()=>g(!1),children:b.jsx(Ic,{size:20})})]}),b.jsxs("form",{onSubmit:ie,children:[b.jsxs("div",{className:"modal-body",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Nomor Rekam Medis"}),b.jsx("input",{type:"text",className:"form-input",value:_.no_rm,onChange:le=>k({..._,no_rm:le.target.value}),placeholder:"RM-XXXXXX",required:!0}),!y&&b.jsx("p",{className:"form-hint",children:"Nomor RM digenerate otomatis, bisa diubah manual"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Nama Pasien"}),b.jsx("input",{type:"text",className:"form-input",value:_.nama,onChange:le=>k({..._,nama:le.target.value}),placeholder:"Masukkan nama lengkap",required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Tanggal Lahir"}),b.jsx("input",{type:"date",className:"form-input",value:_.tanggal_lahir,onChange:le=>k({..._,tanggal_lahir:le.target.value})})]})]}),b.jsxs("div",{className:"modal-footer",children:[b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>g(!1),children:"Batal"}),b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:N,children:N?"Menyimpan...":"Simpan"})]})]})]})}),O&&L&&b.jsx("div",{className:"modal-overlay",onClick:()=>j(!1),children:b.jsxs("div",{className:"modal",onClick:le=>le.stopPropagation(),style:{maxWidth:360},children:[b.jsxs("div",{className:"modal-header",children:[b.jsx("h3",{className:"modal-title",children:"QR Code"}),b.jsx("button",{className:"modal-close",onClick:()=>j(!1),children:b.jsx(Ic,{size:20})})]}),b.jsxs("div",{className:"modal-body text-center",children:[b.jsx("div",{className:"qr-code-display",children:b.jsx(Ob,{value:Yh(L.no_rm),size:200,level:"H"})}),b.jsxs("div",{className:"qr-code-info",children:[b.jsx("div",{className:"qr-code-no-rm",children:L.no_rm}),b.jsx("div",{className:"text-secondary",children:L.nama})]})]}),b.jsx("div",{className:"modal-footer",children:b.jsxs("button",{className:"btn btn-primary btn-block",onClick:()=>{U([L]),j(!1)},children:[b.jsx(Um,{size:18}),"Cetak QR Code"]})})]})})]})},xE=()=>{const{id:n}=sS(),e=Wl(),{profile:t}=Us(),{success:r,error:i}=$a(),[s,o]=de.useState(null),[l,c]=de.useState([]),[h,d]=de.useState(!0),[g,y]=de.useState(!1),[m,_]=de.useState(null),[k,N]=de.useState("");de.useEffect(()=>{P()},[n]);const P=async()=>{d(!0);try{const{data:D,error:J}=await lt.from("patients").select("*").eq("id",n).single();if(J)throw J;o(D),O()}catch(D){console.error("Error fetching data:",D),i("Gagal memuat data pasien")}d(!1)},O=async()=>{const{data:D,error:J}=await lt.from("tracer").select(`
                *,
                profiles:petugas_id (nama)
            `).eq("patient_id",n).order("created_at",{ascending:!1});if(J){console.error("Error fetching history:",J);return}c(D||[])},j=async()=>{if(m){y(!0);try{const{data:D,error:J}=await lt.from("tracer").insert({patient_id:n,status_lokasi:m,keterangan:k||null,petugas_id:t.id}).select().single();if(J)throw J;await lt.rpc("log_activity",{p_aksi:"UPDATE_STATUS_ADMIN",p_no_rm:s.no_rm,p_details:{status_lokasi:m,keterangan:k||null}}),r("Status lokasi berhasil diperbarui"),_(null),N(""),O()}catch(D){console.error("Error updating status:",D),i("Gagal memperbarui status")}y(!1)}};if(h)return b.jsxs("div",{className:"page-content",children:[b.jsx("div",{className:"skeleton",style:{height:200,marginBottom:20}}),b.jsx("div",{className:"skeleton",style:{height:400}})]});if(!s)return b.jsxs("div",{className:"page-content text-center",children:[b.jsx("h3",{children:"Pasien tidak ditemukan"}),b.jsx("button",{className:"btn btn-primary mt-md",onClick:()=>e("/admin/patients"),children:"Kembali"})]});const L=l.length>0?l[0].status_lokasi:null;return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"page-header",children:b.jsx("div",{className:"flex justify-between items-center",children:b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-sm mb-xs",children:[b.jsx("button",{className:"btn btn-icon btn-ghost btn-sm",onClick:()=>e("/admin/patients"),children:b.jsx(Bm,{size:20})}),b.jsx("h1",{className:"page-title",children:"Detail Pasien"})]}),b.jsx("p",{className:"page-subtitle ml-xl",children:"Informasi dan riwayat rekam medis"})]})})}),b.jsx("div",{className:"page-content",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-lg",children:[b.jsxs("div",{className:"md:col-span-1 flex flex-col gap-lg",children:[b.jsx("div",{className:"card",children:b.jsxs("div",{className:"card-body",children:[b.jsx("div",{className:"mb-md",children:b.jsx("span",{className:"badge badge-primary font-mono text-lg",children:s.no_rm})}),b.jsx("h2",{className:"text-xl font-bold mb-sm",children:s.nama}),b.jsxs("div",{className:"text-secondary flex flex-col gap-xs text-sm",children:[b.jsxs("div",{className:"flex items-center gap-sm",children:[b.jsx(sw,{size:16}),b.jsxs("span",{children:["Lahir: ",Fl(s.tanggal_lahir)]})]}),b.jsxs("div",{className:"flex items-center gap-sm",children:[b.jsx(fd,{size:16}),b.jsxs("span",{children:["Usia: ",jp(s.tanggal_lahir)]})]})]}),b.jsxs("div",{className:"mt-lg pt-md border-t border-gray-200",children:[b.jsx("p",{className:"text-sm font-medium text-secondary mb-xs",children:"Lokasi Terakhir"}),L?b.jsxs("div",{className:"flex items-center gap-sm",children:[b.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ha(L,kn)}}),b.jsx("span",{className:"font-semibold text-lg",children:ws(L,kn)})]}):b.jsx("span",{className:"badge badge-gray",children:"Belum ada riwayat"})]})]})}),b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"card-header",children:b.jsxs("h3",{className:"card-title text-lg font-semibold flex items-center gap-sm",children:[b.jsx(Ju,{size:20}),"Update Lokasi"]})}),b.jsxs("div",{className:"card-body",children:[b.jsx("div",{className:"flex flex-col gap-sm",children:kn.map(D=>b.jsxs("button",{className:`btn justify-between ${m===D.value?"active":""}`,onClick:()=>_(D.value),style:{background:m===D.value?`${D.color}10`:"white",borderColor:m===D.value?D.color:"var(--border)",borderWidth:"1px",borderStyle:"solid",color:"var(--text-primary)"},children:[b.jsxs("div",{className:"flex items-center gap-sm",children:[b.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:D.color}}),D.label]}),m===D.value&&b.jsx(b0,{size:16,style:{color:D.color}})]},D.value))}),b.jsxs("div",{className:"mt-md",children:[b.jsx("label",{className:"form-label",children:"Keterangan"}),b.jsx("textarea",{className:"form-input",rows:2,placeholder:"Catatan tambahan...",value:k,onChange:D=>N(D.target.value)})]}),b.jsx("button",{className:"btn btn-primary btn-block mt-md",disabled:!m||g,onClick:j,children:g?"Menyimpan...":"Simpan Perubahan"})]})]})]}),b.jsx("div",{className:"md:col-span-2",children:b.jsxs("div",{className:"card h-full",children:[b.jsxs("div",{className:"card-header flex justify-between items-center",children:[b.jsxs("h3",{className:"card-title text-lg font-semibold flex items-center gap-sm",children:[b.jsx(g4,{size:20}),"Riwayat Perpindahan"]}),b.jsxs("span",{className:"text-sm text-secondary",children:["Total: ",l.length," aktivitas"]})]}),b.jsx("div",{className:"card-body",children:l.length===0?b.jsx("div",{className:"empty-state",children:b.jsx("p",{children:"Belum ada riwayat perpindahan berkas."})}):b.jsx("div",{className:"relative pl-4 border-l-2 border-gray-100 space-y-8",children:l.map((D,J)=>b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute -left-[21px] top-1 w-3 h-3 rounded-full border-2 border-white box-content",style:{backgroundColor:ha(D.status_lokasi,kn)}}),b.jsxs("div",{className:"flex flex-col gap-xs",children:[b.jsxs("div",{className:"flex items-baseline justify-between",children:[b.jsx("span",{className:"font-semibold",style:{color:ha(D.status_lokasi,kn)},children:ws(D.status_lokasi,kn)}),b.jsxs("span",{className:"text-xs text-secondary flex items-center gap-xs",children:[b.jsx(dd,{size:12}),Fu(D.created_at)]})]}),D.keterangan&&b.jsxs("div",{className:"bg-gray-50 p-sm rounded text-sm text-secondary max-w-full break-words",children:['"',D.keterangan,'"']}),b.jsxs("div",{className:"text-xs text-muted flex items-center gap-xs mt-xs",children:[b.jsx(fd,{size:12}),b.jsxs("span",{children:["Petugas: ",D.profiles?.nama||"Unknown"]})]})]})]},D.id))})})]})})]})})]})},SE=()=>{const[n,e]=de.useState([]),[t,r]=de.useState(!0),[i,s]=de.useState(""),[o,l]=de.useState(1),[c,h]=de.useState(0),[d,g]=de.useState(!1),[y,m]=de.useState(!1),[_,k]=de.useState(null),[N,P]=de.useState(null),[O,j]=de.useState(""),[L,D]=de.useState({email:"",password:"",nama:"",role:"petugas"}),[J,U]=de.useState(!1),{success:H,error:W}=$a();de.useEffect(()=>{re()},[o,i]);const re=async()=>{r(!0);try{let $=lt.from("profiles").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range((o-1)*ua,o*ua-1);i&&($=$.or(`nama.ilike.%${i}%,email.ilike.%${i}%`));const{data:se,count:le,error:K}=await $;if(K)throw K;e(se||[]),h(le||0)}catch($){W("Gagal memuat data user"),console.error($)}r(!1)},I=Ep($=>{s($),l(1)},300),q=()=>{k(null),D({email:"",password:"",nama:"",role:"petugas"}),g(!0)},ne=$=>{k($),D({email:$.email,password:"",nama:$.nama,role:$.role}),g(!0)},ie=async $=>{if($.preventDefault(),!L.nama||!L.email){W("Nama dan Email harus diisi");return}if(!_&&!L.password){W("Password harus diisi untuk user baru");return}U(!0);try{if(_){const{error:se}=await lt.from("profiles").update({nama:L.nama,role:L.role}).eq("id",_.id);if(se)throw se;await lt.rpc("log_activity",{p_aksi:"UPDATE_USER",p_details:{email:L.email,role:L.role}}),H("User berhasil diperbarui")}else{const{data:se,error:le}=await lt.auth.signUp({email:L.email,password:L.password,options:{data:{nama:L.nama,role:L.role}}});if(le)throw le;await lt.rpc("log_activity",{p_aksi:"CREATE_USER",p_details:{email:L.email,role:L.role}}),H("User baru berhasil ditambahkan")}g(!1),re()}catch(se){W(se.message||"Gagal menyimpan user"),console.error(se)}U(!1)},ve=async $=>{try{const{error:se}=await lt.from("profiles").update({is_active:!$.is_active}).eq("id",$.id);if(se)throw se;H($.is_active?"User dinonaktifkan":"User diaktifkan"),re()}catch(se){W("Gagal mengubah status user"),console.error(se)}},be=async $=>{if(confirm(`Hapus user ${$.nama} (${$.email})?

Tindakan ini tidak dapat dibatalkan. Riwayat aktivitas user ini akan tetap ada namun tanpa nama.`)){r(!0);try{const{error:se}=await lt.rpc("delete_user_by_admin",{target_user_id:$.id});if(se)throw se;await lt.rpc("log_activity",{p_aksi:"DELETE_USER",p_details:{email:$.email,nama:$.nama}}),H(`User ${$.nama} berhasil dihapus`),re()}catch(se){W(se.message||"Gagal menghapus user"),console.error(se),r(!1)}}},he=Math.ceil(c/ua);return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"page-header",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"page-title",children:"Manajemen User"}),b.jsx("p",{className:"page-subtitle",children:"Kelola akun pengguna dan hak akses"})]}),b.jsxs("button",{className:"btn btn-primary",onClick:q,children:[b.jsx(dw,{size:18}),"Tambah User"]})]})}),b.jsxs("div",{className:"page-content",children:[b.jsx("div",{className:"card mb-lg",children:b.jsx("div",{className:"card-body",children:b.jsxs("div",{className:"search-box",children:[b.jsx(Ml,{className:"search-box-icon",size:18}),b.jsx("input",{type:"text",className:"form-input",placeholder:"Cari berdasarkan nama atau email...",onChange:$=>I($.target.value)})]})})}),b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"table-container",children:b.jsxs("table",{className:"table",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{children:"Nama"}),b.jsx("th",{children:"Email"}),b.jsx("th",{children:"Role"}),b.jsx("th",{children:"Status"}),b.jsx("th",{children:"Dibuat"}),b.jsx("th",{style:{width:150},children:"Aksi"})]})}),b.jsx("tbody",{children:t?[...Array(5)].map(($,se)=>b.jsx("tr",{children:b.jsx("td",{colSpan:6,children:b.jsx("div",{className:"skeleton skeleton-text"})})},se)):n.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:6,children:b.jsxs("div",{className:"empty-state",children:[b.jsx(np,{className:"empty-state-icon"}),b.jsx("p",{className:"empty-state-title",children:"Tidak ada data"}),b.jsx("p",{className:"empty-state-description",children:i?"Tidak ditemukan user dengan kata kunci tersebut":"Belum ada data user"})]})})}):n.map($=>b.jsxs("tr",{children:[b.jsx("td",{children:b.jsxs("div",{className:"flex items-center gap-md",children:[b.jsx("div",{className:"user-avatar",style:{background:$.role==="admin"?"linear-gradient(135deg, var(--primary-500), var(--primary-700))":"var(--gray-300)",color:$.role==="admin"?"white":"var(--gray-700)"},children:$.nama?.charAt(0).toUpperCase()||"U"}),b.jsx("span",{className:"font-medium",children:$.nama})]})}),b.jsx("td",{children:$.email}),b.jsx("td",{children:b.jsx("span",{className:`badge ${$.role==="admin"?"badge-primary":"badge-gray"}`,children:$.role==="admin"?b.jsxs(b.Fragment,{children:[b.jsx(_4,{size:12})," Admin"]}):b.jsxs(b.Fragment,{children:[b.jsx(pw,{size:12})," Petugas"]})})}),b.jsx("td",{children:b.jsx("span",{className:`badge ${$.is_active?"badge-success":"badge-error"}`,children:$.is_active?"Aktif":"Nonaktif"})}),b.jsx("td",{children:Fl($.created_at)}),b.jsx("td",{children:b.jsxs("div",{className:"table-actions",children:[b.jsx("button",{className:"btn btn-icon btn-ghost btn-sm",title:$.is_active?"Nonaktifkan":"Aktifkan",onClick:()=>ve($),children:$.is_active?b.jsx(S4,{size:16}):b.jsx(x4,{size:16})}),b.jsx("button",{className:"btn btn-icon btn-ghost btn-sm",title:"Edit",onClick:()=>ne($),children:b.jsx(hw,{size:16})}),b.jsx("button",{className:"btn btn-icon btn-ghost btn-sm",title:"Reset Password",onClick:()=>{P($),j(""),m(!0)},style:{color:"var(--warning)"},children:b.jsx(lw,{size:16})}),b.jsx("button",{className:"btn btn-icon btn-ghost btn-sm",title:"Hapus",onClick:()=>be($),style:{color:"var(--error)"},children:b.jsx(gw,{size:16})})]})})]},$.id))})]})}),he>1&&b.jsx("div",{className:"card-footer",children:b.jsxs("div",{className:"pagination",children:[b.jsx("button",{className:"pagination-btn",disabled:o===1,onClick:()=>l($=>$-1),children:b.jsx(_0,{size:16})}),[...Array(he)].map(($,se)=>b.jsx("button",{className:`pagination-btn ${o===se+1?"active":""}`,onClick:()=>l(se+1),children:se+1},se)),b.jsx("button",{className:"pagination-btn",disabled:o===he,onClick:()=>l($=>$+1),children:b.jsx(Pp,{size:16})})]})})]})]}),d&&b.jsx("div",{className:"modal-overlay",onClick:()=>g(!1),children:b.jsxs("div",{className:"modal",onClick:$=>$.stopPropagation(),children:[b.jsxs("div",{className:"modal-header",children:[b.jsx("h3",{className:"modal-title",children:_?"Edit User":"Tambah User Baru"}),b.jsx("button",{className:"modal-close",onClick:()=>g(!1),children:b.jsx(Ic,{size:20})})]}),b.jsxs("form",{onSubmit:ie,children:[b.jsxs("div",{className:"modal-body",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Nama Lengkap"}),b.jsx("input",{type:"text",className:"form-input",value:L.nama,onChange:$=>D({...L,nama:$.target.value}),placeholder:"Masukkan nama lengkap",required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Email"}),b.jsx("input",{type:"email",className:"form-input",value:L.email,onChange:$=>D({...L,email:$.target.value}),placeholder:"nama@rumahsakit.com",disabled:!!_,required:!0}),_&&b.jsx("p",{className:"form-hint",children:"Email tidak dapat diubah"})]}),!_&&b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Password"}),b.jsx("input",{type:"password",className:"form-input",value:L.password,onChange:$=>D({...L,password:$.target.value}),placeholder:"Minimal 6 karakter",minLength:6,required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Role"}),b.jsxs("select",{className:"form-input form-select",value:L.role,onChange:$=>D({...L,role:$.target.value}),children:[b.jsx("option",{value:"petugas",children:"Petugas"}),b.jsx("option",{value:"admin",children:"Admin"})]})]})]}),b.jsxs("div",{className:"modal-footer",children:[b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>g(!1),children:"Batal"}),b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:J,children:J?"Menyimpan...":"Simpan"})]})]})]})}),y&&b.jsx("div",{className:"modal-overlay",onClick:()=>m(!1),children:b.jsxs("div",{className:"modal",onClick:$=>$.stopPropagation(),children:[b.jsxs("div",{className:"modal-header",children:[b.jsxs("h3",{className:"modal-title flex items-center gap-sm",children:[b.jsx(x0,{size:20}),"Reset Password User"]}),b.jsx("button",{className:"modal-close",onClick:()=>m(!1),children:b.jsx(Ic,{size:20})})]}),b.jsxs("form",{onSubmit:async $=>{if($.preventDefault(),O.length<6){W("Password minimal 6 karakter");return}U(!0);try{const{error:se}=await lt.rpc("reset_user_password",{target_user_id:N.id,new_password:O});if(se)throw se;H(`Password untuk ${N.nama} berhasil direset`),m(!1)}catch(se){W(se.message||"Gagal mereset password"),console.error(se)}U(!1)},children:[b.jsxs("div",{className:"modal-body",children:[b.jsx("div",{className:"alert alert-warning mb-md",children:b.jsxs("p",{className:"text-sm",children:["Anda akan mengubah password untuk user ",b.jsx("strong",{children:N?.nama})," (",N?.email,")."]})}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Password Baru"}),b.jsx("input",{type:"password",className:"form-input",value:O,onChange:$=>j($.target.value),placeholder:"Minimal 6 karakter",minLength:6,required:!0})]})]}),b.jsxs("div",{className:"modal-footer",children:[b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>m(!1),children:"Batal"}),b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:J,children:J?"Mereset...":"Reset Password"})]})]})]})})]})},kE="modulepreload",NE=function(n){return"/"+n},ay={},qf=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let c=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=c(t.map(h=>{if(h=NE(h),h in ay)return;ay[h]=!0;const d=h.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=d?"stylesheet":kE,d||(y.as="script"),y.crossOrigin="",y.href=h,l&&y.setAttribute("nonce",l),document.head.appendChild(y),d)return new Promise((m,_)=>{y.addEventListener("load",m),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function wn(n){"@babel/helpers - typeof";return wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wn(n)}var fa=Uint8Array,ys=Uint16Array,U0=Int32Array,z0=new fa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),W0=new fa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),oy=new fa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Rb=function(n,e){for(var t=new ys(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new U0(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},Mb=Rb(z0,2),AE=Mb.b,Zm=Mb.r;AE[28]=258,Zm[258]=28;var PE=Rb(W0,0),ly=PE.r,e0=new ys(32768);for(var Fn=0;Fn<32768;++Fn){var Nl=(Fn&43690)>>1|(Fn&21845)<<1;Nl=(Nl&52428)>>2|(Nl&13107)<<2,Nl=(Nl&61680)>>4|(Nl&3855)<<4,e0[Fn]=((Nl&65280)>>8|(Nl&255)<<8)>>1}var td=(function(n,e,t){for(var r=n.length,i=0,s=new ys(e);i<r;++i)n[i]&&++s[n[i]-1];var o=new ys(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var l;if(t){l=new ys(1<<e);var c=15-e;for(i=0;i<r;++i)if(n[i])for(var h=i<<4|n[i],d=e-n[i],g=o[n[i]-1]++<<d,y=g|(1<<d)-1;g<=y;++g)l[e0[g]>>c]=h}else for(l=new ys(r),i=0;i<r;++i)n[i]&&(l[i]=e0[o[n[i]-1]++]>>15-n[i]);return l}),Bc=new fa(288);for(var Fn=0;Fn<144;++Fn)Bc[Fn]=8;for(var Fn=144;Fn<256;++Fn)Bc[Fn]=9;for(var Fn=256;Fn<280;++Fn)Bc[Fn]=7;for(var Fn=280;Fn<288;++Fn)Bc[Fn]=8;var pp=new fa(32);for(var Fn=0;Fn<32;++Fn)pp[Fn]=5;var CE=td(Bc,9,0),EE=td(pp,5,0),Ib=function(n){return(n+7)/8|0},jE=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new fa(n.subarray(e,t))},Eo=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},zh=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},em=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:Fb,l:0};if(i==1){var o=new fa(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(D,J){return D.f-J.f}),t.push({s:-1,f:25001});var l=t[0],c=t[1],h=0,d=1,g=2;for(t[0]={s:-1,f:l.f+c.f,l,r:c};d!=i-1;)l=t[t[h].f<t[g].f?h++:g++],c=t[h!=d&&t[h].f<t[g].f?h++:g++],t[d++]={s:-1,f:l.f+c.f,l,r:c};for(var y=s[0].s,r=1;r<i;++r)s[r].s>y&&(y=s[r].s);var m=new ys(y+1),_=t0(t[d-1],m,0);if(_>e){var r=0,k=0,N=_-e,P=1<<N;for(s.sort(function(J,U){return m[U.s]-m[J.s]||J.f-U.f});r<i;++r){var O=s[r].s;if(m[O]>e)k+=P-(1<<_-m[O]),m[O]=e;else break}for(k>>=N;k>0;){var j=s[r].s;m[j]<e?k-=1<<e-m[j]++-1:++r}for(;r>=0&&k;--r){var L=s[r].s;m[L]==e&&(--m[L],++k)}_=e}return{t:new fa(m),l:_}},t0=function(n,e,t){return n.s==-1?Math.max(t0(n.l,e,t+1),t0(n.r,e,t+1)):e[n.s]=t},cy=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ys(++e),r=0,i=n[0],s=1,o=function(c){t[r++]=c},l=1;l<=e;++l)if(n[l]==i&&l!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[l]}return{c:t.subarray(0,r),n:e}},Wh=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},Db=function(n,e,t){var r=t.length,i=Ib(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},uy=function(n,e,t,r,i,s,o,l,c,h,d){Eo(e,d++,t),++i[256];for(var g=em(i,15),y=g.t,m=g.l,_=em(s,15),k=_.t,N=_.l,P=cy(y),O=P.c,j=P.n,L=cy(k),D=L.c,J=L.n,U=new ys(19),H=0;H<O.length;++H)++U[O[H]&31];for(var H=0;H<D.length;++H)++U[D[H]&31];for(var W=em(U,7),re=W.t,I=W.l,q=19;q>4&&!re[oy[q-1]];--q);var ne=h+5<<3,ie=Wh(i,Bc)+Wh(s,pp)+o,ve=Wh(i,y)+Wh(s,k)+o+14+3*q+Wh(U,re)+2*U[16]+3*U[17]+7*U[18];if(c>=0&&ne<=ie&&ne<=ve)return Db(e,d,n.subarray(c,c+h));var be,he,$,se;if(Eo(e,d,1+(ve<ie)),d+=2,ve<ie){be=td(y,m,0),he=y,$=td(k,N,0),se=k;var le=td(re,I,0);Eo(e,d,j-257),Eo(e,d+5,J-1),Eo(e,d+10,q-4),d+=14;for(var H=0;H<q;++H)Eo(e,d+3*H,re[oy[H]]);d+=3*q;for(var K=[O,D],T=0;T<2;++T)for(var Y=K[T],H=0;H<Y.length;++H){var ee=Y[H]&31;Eo(e,d,le[ee]),d+=re[ee],ee>15&&(Eo(e,d,Y[H]>>5&127),d+=Y[H]>>12)}}else be=CE,he=Bc,$=EE,se=pp;for(var H=0;H<l;++H){var oe=r[H];if(oe>255){var ee=oe>>18&31;zh(e,d,be[ee+257]),d+=he[ee+257],ee>7&&(Eo(e,d,oe>>23&31),d+=z0[ee]);var ce=oe&31;zh(e,d,$[ce]),d+=se[ce],ce>3&&(zh(e,d,oe>>5&8191),d+=W0[ce])}else zh(e,d,be[oe]),d+=he[oe]}return zh(e,d,be[256]),d+he[256]},LE=new U0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Fb=new fa(0),TE=function(n,e,t,r,i,s){var o=s.z||n.length,l=new fa(r+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(r,l.length-i),h=s.l,d=(s.r||0)&7;if(e){d&&(c[0]=s.r>>3);for(var g=LE[e-1],y=g>>13,m=g&8191,_=(1<<t)-1,k=s.p||new ys(32768),N=s.h||new ys(_+1),P=Math.ceil(t/3),O=2*P,j=function(ct){return(n[ct]^n[ct+1]<<P^n[ct+2]<<O)&_},L=new U0(25e3),D=new ys(288),J=new ys(32),U=0,H=0,W=s.i||0,re=0,I=s.w||0,q=0;W+2<o;++W){var ne=j(W),ie=W&32767,ve=N[ne];if(k[ie]=ve,N[ne]=ie,I<=W){var be=o-W;if((U>7e3||re>24576)&&(be>423||!h)){d=uy(n,c,0,L,D,J,H,re,q,W-q,d),re=U=H=0,q=W;for(var he=0;he<286;++he)D[he]=0;for(var he=0;he<30;++he)J[he]=0}var $=2,se=0,le=m,K=ie-ve&32767;if(be>2&&ne==j(W-K))for(var T=Math.min(y,be)-1,Y=Math.min(32767,W),ee=Math.min(258,be);K<=Y&&--le&&ie!=ve;){if(n[W+$]==n[W+$-K]){for(var oe=0;oe<ee&&n[W+oe]==n[W+oe-K];++oe);if(oe>$){if($=oe,se=K,oe>T)break;for(var ce=Math.min(K,oe-2),ye=0,he=0;he<ce;++he){var _e=W-K+he&32767,Ae=k[_e],Te=_e-Ae&32767;Te>ye&&(ye=Te,ve=_e)}}}ie=ve,ve=k[ie],K+=ie-ve&32767}if(se){L[re++]=268435456|Zm[$]<<18|ly[se];var Ue=Zm[$]&31,Ve=ly[se]&31;H+=z0[Ue]+W0[Ve],++D[257+Ue],++J[Ve],I=W+$,++U}else L[re++]=n[W],++D[n[W]]}}for(W=Math.max(W,I);W<o;++W)L[re++]=n[W],++D[n[W]];d=uy(n,c,h,L,D,J,H,re,q,W-q,d),h||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=N,s.p=k,s.i=W,s.w=I)}else{for(var W=s.w||0;W<o+h;W+=65535){var He=W+65535;He>=o&&(c[d/8|0]=h,He=o),d=Db(c,d+1,n.subarray(W,He))}s.i=o}return jE(l,0,r+Ib(d)+i)},Bb=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)i+=r+=t[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},OE=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new fa(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return TE(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},Ub=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},RE=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=Bb();i.p(e.dictionary),Ub(n,2,i.d())}};function n0(n,e){e||(e={});var t=Bb();t.p(n);var r=OE(n,e,e.dictionary?6:2,4);return RE(r,e),Ub(r,r.length-4,t.d()),r}var ME=typeof TextDecoder<"u"&&new TextDecoder,IE=0;try{ME.decode(Fb,{stream:!0}),IE=1}catch{}function DE(n){if(Array.isArray(n))return n}function FE(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,l=[],c=!0,h=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(c=(r=s.call(t)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){h=!0,i=d}finally{try{if(!c&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(h)throw i}}return l}}function hy(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function BE(n,e){if(n){if(typeof n=="string")return hy(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?hy(n,e):void 0}}function UE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dy(n,e){return DE(n)||FE(n,e)||BE(n,e)||UE()}function fy(n,e="utf8"){return new TextDecoder(e).decode(n)}const zE=new TextEncoder;function WE(n){return zE.encode(n)}const qE=1024*8,HE=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),tm={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class q0{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=qE,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof q0)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=tm[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===HE&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+r));l.reverse();const c=new tm[t](l.buffer);return this.offset+=r,c.reverse(),c}const o=new tm[t](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return fy(this.readBytes(e))}decodeText(e=1,t="utf8"){return fy(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(WE(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function sh(n){let e=n.length;for(;--e>=0;)n[e]=0}const $E=3,VE=258,zb=29,GE=256,KE=GE+1+zb,Wb=30,YE=512,JE=new Array((KE+2)*2);sh(JE);const XE=new Array(Wb*2);sh(XE);const QE=new Array(YE);sh(QE);const ZE=new Array(VE-$E+1);sh(ZE);const ej=new Array(zb);sh(ej);const tj=new Array(Wb);sh(tj);const nj=(n,e,t,r)=>{let i=n&65535|0,s=n>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var r0=nj;const rj=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},ij=new Uint32Array(rj()),sj=(n,e,t,r)=>{const i=ij,s=r+t;n^=-1;for(let o=r;o<s;o++)n=n>>>8^i[(n^e[o])&255];return n^-1};var Da=sj,i0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},qb={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const aj=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var oj=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)aj(t,r)&&(n[r]=t[r])}}return n},lj=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,s=n.length;r<s;r++){let o=n[r];t.set(o,i),i+=o.length}return t},Hb={assign:oj,flattenChunks:lj};let $b=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{$b=!1}const xd=new Uint8Array(256);for(let n=0;n<256;n++)xd[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;xd[254]=xd[254]=1;var cj=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,s,o=n.length,l=0;for(i=0;i<o;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(l),s=0,i=0;s<l;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const uj=(n,e)=>{if(e<65534&&n.subarray&&$b)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var hj=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const s=new Array(t*2);for(i=0,r=0;r<t;){let o=n[r++];if(o<128){s[i++]=o;continue}let l=xd[o];if(l>4){s[i++]=65533,r+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&r<t;)o=o<<6|n[r++]&63,l--;if(l>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return uj(s,i)},dj=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+xd[n[t]]>e?t:e},s0={string2buf:cj,buf2string:hj,utf8border:dj};function fj(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var pj=fj;const Lf=16209,gj=16191;var mj=function(e,t){let r,i,s,o,l,c,h,d,g,y,m,_,k,N,P,O,j,L,D,J,U,H,W,re;const I=e.state;r=e.next_in,W=e.input,i=r+(e.avail_in-5),s=e.next_out,re=e.output,o=s-(t-e.avail_out),l=s+(e.avail_out-257),c=I.dmax,h=I.wsize,d=I.whave,g=I.wnext,y=I.window,m=I.hold,_=I.bits,k=I.lencode,N=I.distcode,P=(1<<I.lenbits)-1,O=(1<<I.distbits)-1;e:do{_<15&&(m+=W[r++]<<_,_+=8,m+=W[r++]<<_,_+=8),j=k[m&P];t:for(;;){if(L=j>>>24,m>>>=L,_-=L,L=j>>>16&255,L===0)re[s++]=j&65535;else if(L&16){D=j&65535,L&=15,L&&(_<L&&(m+=W[r++]<<_,_+=8),D+=m&(1<<L)-1,m>>>=L,_-=L),_<15&&(m+=W[r++]<<_,_+=8,m+=W[r++]<<_,_+=8),j=N[m&O];n:for(;;){if(L=j>>>24,m>>>=L,_-=L,L=j>>>16&255,L&16){if(J=j&65535,L&=15,_<L&&(m+=W[r++]<<_,_+=8,_<L&&(m+=W[r++]<<_,_+=8)),J+=m&(1<<L)-1,J>c){e.msg="invalid distance too far back",I.mode=Lf;break e}if(m>>>=L,_-=L,L=s-o,J>L){if(L=J-L,L>d&&I.sane){e.msg="invalid distance too far back",I.mode=Lf;break e}if(U=0,H=y,g===0){if(U+=h-L,L<D){D-=L;do re[s++]=y[U++];while(--L);U=s-J,H=re}}else if(g<L){if(U+=h+g-L,L-=g,L<D){D-=L;do re[s++]=y[U++];while(--L);if(U=0,g<D){L=g,D-=L;do re[s++]=y[U++];while(--L);U=s-J,H=re}}}else if(U+=g-L,L<D){D-=L;do re[s++]=y[U++];while(--L);U=s-J,H=re}for(;D>2;)re[s++]=H[U++],re[s++]=H[U++],re[s++]=H[U++],D-=3;D&&(re[s++]=H[U++],D>1&&(re[s++]=H[U++]))}else{U=s-J;do re[s++]=re[U++],re[s++]=re[U++],re[s++]=re[U++],D-=3;while(D>2);D&&(re[s++]=re[U++],D>1&&(re[s++]=re[U++]))}}else if((L&64)===0){j=N[(j&65535)+(m&(1<<L)-1)];continue n}else{e.msg="invalid distance code",I.mode=Lf;break e}break}}else if((L&64)===0){j=k[(j&65535)+(m&(1<<L)-1)];continue t}else if(L&32){I.mode=gj;break e}else{e.msg="invalid literal/length code",I.mode=Lf;break e}break}}while(r<i&&s<l);D=_>>3,r-=D,_-=D<<3,m&=(1<<_)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<l?257+(l-s):257-(s-l),I.hold=m,I.bits=_};const Eu=15,py=852,gy=592,my=0,nm=1,vy=2,vj=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),yj=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),wj=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),bj=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),_j=(n,e,t,r,i,s,o,l)=>{const c=l.bits;let h=0,d=0,g=0,y=0,m=0,_=0,k=0,N=0,P=0,O=0,j,L,D,J,U,H=null,W;const re=new Uint16Array(Eu+1),I=new Uint16Array(Eu+1);let q=null,ne,ie,ve;for(h=0;h<=Eu;h++)re[h]=0;for(d=0;d<r;d++)re[e[t+d]]++;for(m=c,y=Eu;y>=1&&re[y]===0;y--);if(m>y&&(m=y),y===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,l.bits=1,0;for(g=1;g<y&&re[g]===0;g++);for(m<g&&(m=g),N=1,h=1;h<=Eu;h++)if(N<<=1,N-=re[h],N<0)return-1;if(N>0&&(n===my||y!==1))return-1;for(I[1]=0,h=1;h<Eu;h++)I[h+1]=I[h]+re[h];for(d=0;d<r;d++)e[t+d]!==0&&(o[I[e[t+d]]++]=d);if(n===my?(H=q=o,W=20):n===nm?(H=vj,q=yj,W=257):(H=wj,q=bj,W=0),O=0,d=0,h=g,U=s,_=m,k=0,D=-1,P=1<<m,J=P-1,n===nm&&P>py||n===vy&&P>gy)return 1;for(;;){ne=h-k,o[d]+1<W?(ie=0,ve=o[d]):o[d]>=W?(ie=q[o[d]-W],ve=H[o[d]-W]):(ie=96,ve=0),j=1<<h-k,L=1<<_,g=L;do L-=j,i[U+(O>>k)+L]=ne<<24|ie<<16|ve|0;while(L!==0);for(j=1<<h-1;O&j;)j>>=1;if(j!==0?(O&=j-1,O+=j):O=0,d++,--re[h]===0){if(h===y)break;h=e[t+o[d]]}if(h>m&&(O&J)!==D){for(k===0&&(k=m),U+=g,_=h-k,N=1<<_;_+k<y&&(N-=re[_+k],!(N<=0));)_++,N<<=1;if(P+=1<<_,n===nm&&P>py||n===vy&&P>gy)return 1;D=O&J,i[D]=m<<24|_<<16|U-s|0}}return O!==0&&(i[U+O]=h-k<<24|64<<16|0),l.bits=m,0};var nd=_j;const xj=0,Vb=1,Gb=2,{Z_FINISH:yy,Z_BLOCK:Sj,Z_TREES:Tf,Z_OK:Uc,Z_STREAM_END:kj,Z_NEED_DICT:Nj,Z_STREAM_ERROR:Bs,Z_DATA_ERROR:Kb,Z_MEM_ERROR:Yb,Z_BUF_ERROR:Aj,Z_DEFLATED:wy}=qb,Bp=16180,by=16181,_y=16182,xy=16183,Sy=16184,ky=16185,Ny=16186,Ay=16187,Py=16188,Cy=16189,gp=16190,jo=16191,rm=16192,Ey=16193,im=16194,jy=16195,Ly=16196,Ty=16197,Oy=16198,Of=16199,Rf=16200,Ry=16201,My=16202,Iy=16203,Dy=16204,Fy=16205,sm=16206,By=16207,Uy=16208,Hn=16209,Jb=16210,Xb=16211,Pj=852,Cj=592,Ej=15,jj=Ej,zy=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function Lj(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const qc=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Bp||e.mode>Xb?1:0},Qb=n=>{if(qc(n))return Bs;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Bp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Pj),e.distcode=e.distdyn=new Int32Array(Cj),e.sane=1,e.back=-1,Uc},Zb=n=>{if(qc(n))return Bs;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,Qb(n)},e_=(n,e)=>{let t;if(qc(n))return Bs;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Bs:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,Zb(n))},t_=(n,e)=>{if(!n)return Bs;const t=new Lj;n.state=t,t.strm=n,t.window=null,t.mode=Bp;const r=e_(n,e);return r!==Uc&&(n.state=null),r},Tj=n=>t_(n,jj);let Wy=!0,am,om;const Oj=n=>{if(Wy){am=new Int32Array(512),om=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(nd(Vb,n.lens,0,288,am,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;nd(Gb,n.lens,0,32,om,0,n.work,{bits:5}),Wy=!1}n.lencode=am,n.lenbits=9,n.distcode=om,n.distbits=5},n_=(n,e,t,r)=>{let i;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(t-r,t-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(t-r,t),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},Rj=(n,e)=>{let t,r,i,s,o,l,c,h,d,g,y,m,_,k,N=0,P,O,j,L,D,J,U,H;const W=new Uint8Array(4);let re,I;const q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(qc(n)||!n.output||!n.input&&n.avail_in!==0)return Bs;t=n.state,t.mode===jo&&(t.mode=rm),o=n.next_out,i=n.output,c=n.avail_out,s=n.next_in,r=n.input,l=n.avail_in,h=t.hold,d=t.bits,g=l,y=c,H=Uc;e:for(;;)switch(t.mode){case Bp:if(t.wrap===0){t.mode=rm;break}for(;d<16;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}if(t.wrap&2&&h===35615){t.wbits===0&&(t.wbits=15),t.check=0,W[0]=h&255,W[1]=h>>>8&255,t.check=Da(t.check,W,2,0),h=0,d=0,t.mode=by;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((h&255)<<8)+(h>>8))%31){n.msg="incorrect header check",t.mode=Hn;break}if((h&15)!==wy){n.msg="unknown compression method",t.mode=Hn;break}if(h>>>=4,d-=4,U=(h&15)+8,t.wbits===0&&(t.wbits=U),U>15||U>t.wbits){n.msg="invalid window size",t.mode=Hn;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=h&512?Cy:jo,h=0,d=0;break;case by:for(;d<16;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}if(t.flags=h,(t.flags&255)!==wy){n.msg="unknown compression method",t.mode=Hn;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Hn;break}t.head&&(t.head.text=h>>8&1),t.flags&512&&t.wrap&4&&(W[0]=h&255,W[1]=h>>>8&255,t.check=Da(t.check,W,2,0)),h=0,d=0,t.mode=_y;case _y:for(;d<32;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}t.head&&(t.head.time=h),t.flags&512&&t.wrap&4&&(W[0]=h&255,W[1]=h>>>8&255,W[2]=h>>>16&255,W[3]=h>>>24&255,t.check=Da(t.check,W,4,0)),h=0,d=0,t.mode=xy;case xy:for(;d<16;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}t.head&&(t.head.xflags=h&255,t.head.os=h>>8),t.flags&512&&t.wrap&4&&(W[0]=h&255,W[1]=h>>>8&255,t.check=Da(t.check,W,2,0)),h=0,d=0,t.mode=Sy;case Sy:if(t.flags&1024){for(;d<16;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}t.length=h,t.head&&(t.head.extra_len=h),t.flags&512&&t.wrap&4&&(W[0]=h&255,W[1]=h>>>8&255,t.check=Da(t.check,W,2,0)),h=0,d=0}else t.head&&(t.head.extra=null);t.mode=ky;case ky:if(t.flags&1024&&(m=t.length,m>l&&(m=l),m&&(t.head&&(U=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(s,s+m),U)),t.flags&512&&t.wrap&4&&(t.check=Da(t.check,r,m,s)),l-=m,s+=m,t.length-=m),t.length))break e;t.length=0,t.mode=Ny;case Ny:if(t.flags&2048){if(l===0)break e;m=0;do U=r[s+m++],t.head&&U&&t.length<65536&&(t.head.name+=String.fromCharCode(U));while(U&&m<l);if(t.flags&512&&t.wrap&4&&(t.check=Da(t.check,r,m,s)),l-=m,s+=m,U)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Ay;case Ay:if(t.flags&4096){if(l===0)break e;m=0;do U=r[s+m++],t.head&&U&&t.length<65536&&(t.head.comment+=String.fromCharCode(U));while(U&&m<l);if(t.flags&512&&t.wrap&4&&(t.check=Da(t.check,r,m,s)),l-=m,s+=m,U)break e}else t.head&&(t.head.comment=null);t.mode=Py;case Py:if(t.flags&512){for(;d<16;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}if(t.wrap&4&&h!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Hn;break}h=0,d=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=jo;break;case Cy:for(;d<32;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}n.adler=t.check=zy(h),h=0,d=0,t.mode=gp;case gp:if(t.havedict===0)return n.next_out=o,n.avail_out=c,n.next_in=s,n.avail_in=l,t.hold=h,t.bits=d,Nj;n.adler=t.check=1,t.mode=jo;case jo:if(e===Sj||e===Tf)break e;case rm:if(t.last){h>>>=d&7,d-=d&7,t.mode=sm;break}for(;d<3;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}switch(t.last=h&1,h>>>=1,d-=1,h&3){case 0:t.mode=Ey;break;case 1:if(Oj(t),t.mode=Of,e===Tf){h>>>=2,d-=2;break e}break;case 2:t.mode=Ly;break;case 3:n.msg="invalid block type",t.mode=Hn}h>>>=2,d-=2;break;case Ey:for(h>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}if((h&65535)!==(h>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Hn;break}if(t.length=h&65535,h=0,d=0,t.mode=im,e===Tf)break e;case im:t.mode=jy;case jy:if(m=t.length,m){if(m>l&&(m=l),m>c&&(m=c),m===0)break e;i.set(r.subarray(s,s+m),o),l-=m,s+=m,c-=m,o+=m,t.length-=m;break}t.mode=jo;break;case Ly:for(;d<14;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}if(t.nlen=(h&31)+257,h>>>=5,d-=5,t.ndist=(h&31)+1,h>>>=5,d-=5,t.ncode=(h&15)+4,h>>>=4,d-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Hn;break}t.have=0,t.mode=Ty;case Ty:for(;t.have<t.ncode;){for(;d<3;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}t.lens[q[t.have++]]=h&7,h>>>=3,d-=3}for(;t.have<19;)t.lens[q[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,re={bits:t.lenbits},H=nd(xj,t.lens,0,19,t.lencode,0,t.work,re),t.lenbits=re.bits,H){n.msg="invalid code lengths set",t.mode=Hn;break}t.have=0,t.mode=Oy;case Oy:for(;t.have<t.nlen+t.ndist;){for(;N=t.lencode[h&(1<<t.lenbits)-1],P=N>>>24,O=N>>>16&255,j=N&65535,!(P<=d);){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}if(j<16)h>>>=P,d-=P,t.lens[t.have++]=j;else{if(j===16){for(I=P+2;d<I;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}if(h>>>=P,d-=P,t.have===0){n.msg="invalid bit length repeat",t.mode=Hn;break}U=t.lens[t.have-1],m=3+(h&3),h>>>=2,d-=2}else if(j===17){for(I=P+3;d<I;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}h>>>=P,d-=P,U=0,m=3+(h&7),h>>>=3,d-=3}else{for(I=P+7;d<I;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}h>>>=P,d-=P,U=0,m=11+(h&127),h>>>=7,d-=7}if(t.have+m>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Hn;break}for(;m--;)t.lens[t.have++]=U}}if(t.mode===Hn)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Hn;break}if(t.lenbits=9,re={bits:t.lenbits},H=nd(Vb,t.lens,0,t.nlen,t.lencode,0,t.work,re),t.lenbits=re.bits,H){n.msg="invalid literal/lengths set",t.mode=Hn;break}if(t.distbits=6,t.distcode=t.distdyn,re={bits:t.distbits},H=nd(Gb,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,re),t.distbits=re.bits,H){n.msg="invalid distances set",t.mode=Hn;break}if(t.mode=Of,e===Tf)break e;case Of:t.mode=Rf;case Rf:if(l>=6&&c>=258){n.next_out=o,n.avail_out=c,n.next_in=s,n.avail_in=l,t.hold=h,t.bits=d,mj(n,y),o=n.next_out,i=n.output,c=n.avail_out,s=n.next_in,r=n.input,l=n.avail_in,h=t.hold,d=t.bits,t.mode===jo&&(t.back=-1);break}for(t.back=0;N=t.lencode[h&(1<<t.lenbits)-1],P=N>>>24,O=N>>>16&255,j=N&65535,!(P<=d);){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}if(O&&(O&240)===0){for(L=P,D=O,J=j;N=t.lencode[J+((h&(1<<L+D)-1)>>L)],P=N>>>24,O=N>>>16&255,j=N&65535,!(L+P<=d);){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}h>>>=L,d-=L,t.back+=L}if(h>>>=P,d-=P,t.back+=P,t.length=j,O===0){t.mode=Fy;break}if(O&32){t.back=-1,t.mode=jo;break}if(O&64){n.msg="invalid literal/length code",t.mode=Hn;break}t.extra=O&15,t.mode=Ry;case Ry:if(t.extra){for(I=t.extra;d<I;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}t.length+=h&(1<<t.extra)-1,h>>>=t.extra,d-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=My;case My:for(;N=t.distcode[h&(1<<t.distbits)-1],P=N>>>24,O=N>>>16&255,j=N&65535,!(P<=d);){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}if((O&240)===0){for(L=P,D=O,J=j;N=t.distcode[J+((h&(1<<L+D)-1)>>L)],P=N>>>24,O=N>>>16&255,j=N&65535,!(L+P<=d);){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}h>>>=L,d-=L,t.back+=L}if(h>>>=P,d-=P,t.back+=P,O&64){n.msg="invalid distance code",t.mode=Hn;break}t.offset=j,t.extra=O&15,t.mode=Iy;case Iy:if(t.extra){for(I=t.extra;d<I;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}t.offset+=h&(1<<t.extra)-1,h>>>=t.extra,d-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Hn;break}t.mode=Dy;case Dy:if(c===0)break e;if(m=y-c,t.offset>m){if(m=t.offset-m,m>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Hn;break}m>t.wnext?(m-=t.wnext,_=t.wsize-m):_=t.wnext-m,m>t.length&&(m=t.length),k=t.window}else k=i,_=o-t.offset,m=t.length;m>c&&(m=c),c-=m,t.length-=m;do i[o++]=k[_++];while(--m);t.length===0&&(t.mode=Rf);break;case Fy:if(c===0)break e;i[o++]=t.length,c--,t.mode=Rf;break;case sm:if(t.wrap){for(;d<32;){if(l===0)break e;l--,h|=r[s++]<<d,d+=8}if(y-=c,n.total_out+=y,t.total+=y,t.wrap&4&&y&&(n.adler=t.check=t.flags?Da(t.check,i,y,o-y):r0(t.check,i,y,o-y)),y=c,t.wrap&4&&(t.flags?h:zy(h))!==t.check){n.msg="incorrect data check",t.mode=Hn;break}h=0,d=0}t.mode=By;case By:if(t.wrap&&t.flags){for(;d<32;){if(l===0)break e;l--,h+=r[s++]<<d,d+=8}if(t.wrap&4&&h!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Hn;break}h=0,d=0}t.mode=Uy;case Uy:H=kj;break e;case Hn:H=Kb;break e;case Jb:return Yb;case Xb:default:return Bs}return n.next_out=o,n.avail_out=c,n.next_in=s,n.avail_in=l,t.hold=h,t.bits=d,(t.wsize||y!==n.avail_out&&t.mode<Hn&&(t.mode<sm||e!==yy))&&n_(n,n.output,n.next_out,y-n.avail_out),g-=n.avail_in,y-=n.avail_out,n.total_in+=g,n.total_out+=y,t.total+=y,t.wrap&4&&y&&(n.adler=t.check=t.flags?Da(t.check,i,y,n.next_out-y):r0(t.check,i,y,n.next_out-y)),n.data_type=t.bits+(t.last?64:0)+(t.mode===jo?128:0)+(t.mode===Of||t.mode===im?256:0),(g===0&&y===0||e===yy)&&H===Uc&&(H=Aj),H},Mj=n=>{if(qc(n))return Bs;let e=n.state;return e.window&&(e.window=null),n.state=null,Uc},Ij=(n,e)=>{if(qc(n))return Bs;const t=n.state;return(t.wrap&2)===0?Bs:(t.head=e,e.done=!1,Uc)},Dj=(n,e)=>{const t=e.length;let r,i,s;return qc(n)||(r=n.state,r.wrap!==0&&r.mode!==gp)?Bs:r.mode===gp&&(i=1,i=r0(i,e,t,0),i!==r.check)?Kb:(s=n_(n,e,t,t),s?(r.mode=Jb,Yb):(r.havedict=1,Uc))};var Fj=Zb,Bj=e_,Uj=Qb,zj=Tj,Wj=t_,qj=Rj,Hj=Mj,$j=Ij,Vj=Dj,Gj="pako inflate (from Nodeca project)",Mo={inflateReset:Fj,inflateReset2:Bj,inflateResetKeep:Uj,inflateInit:zj,inflateInit2:Wj,inflate:qj,inflateEnd:Hj,inflateGetHeader:$j,inflateSetDictionary:Vj,inflateInfo:Gj};function Kj(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Yj=Kj;const r_=Object.prototype.toString,{Z_NO_FLUSH:Jj,Z_FINISH:Xj,Z_OK:Sd,Z_STREAM_END:lm,Z_NEED_DICT:cm,Z_STREAM_ERROR:Qj,Z_DATA_ERROR:qy,Z_MEM_ERROR:Zj}=qb;function Pd(n){this.options=Hb.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new pj,this.strm.avail_out=0;let t=Mo.inflateInit2(this.strm,e.windowBits);if(t!==Sd)throw new Error(i0[t]);if(this.header=new Yj,Mo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=s0.string2buf(e.dictionary):r_.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Mo.inflateSetDictionary(this.strm,e.dictionary),t!==Sd)))throw new Error(i0[t])}Pd.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?Xj:Jj,r_.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),s=Mo.inflate(t,o),s===cm&&i&&(s=Mo.inflateSetDictionary(t,i),s===Sd?s=Mo.inflate(t,o):s===qy&&(s=cm));t.avail_in>0&&s===lm&&t.state.wrap>0&&n[t.next_in]!==0;)Mo.inflateReset(t),s=Mo.inflate(t,o);switch(s){case Qj:case qy:case cm:case Zj:return this.onEnd(s),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||s===lm))if(this.options.to==="string"){let c=s0.utf8border(t.output,t.next_out),h=t.next_out-c,d=s0.buf2string(t.output,c);t.next_out=h,t.avail_out=r-h,h&&t.output.set(t.output.subarray(c,c+h),0),this.onData(d)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===Sd&&l===0)){if(s===lm)return s=Mo.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Pd.prototype.onData=function(n){this.chunks.push(n)};Pd.prototype.onEnd=function(n){n===Sd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Hb.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function eL(n,e){const t=new Pd(e);if(t.push(n),t.err)throw t.msg||i0[t.err];return t.result}var tL=Pd,nL=eL,rL={Inflate:tL,inflate:nL};const{Inflate:iL,inflate:sL}=rL;var Hy=iL,aL=sL;const i_=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;i_[n]=e}const $y=4294967295;function oL(n,e,t){let r=n;for(let i=0;i<t;i++)r=i_[(r^e[i])&255]^r>>>8;return r}function lL(n,e){return(oL($y,n,e)^$y)>>>0}function Vy(n,e,t){const r=n.readUint32(),i=lL(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function s_(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function a_(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function o_(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function l_(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=n[s]+(t[s]>>1)&255;for(;s<r;s++)e[s]=n[s]+(e[s-i]+t[s]>>1)&255}}function c_(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=n[s]+t[s]&255;for(;s<r;s++)e[s]=n[s]+cL(e[s-i],t[s],t[s-i])&255}}function cL(n,e,t){const r=n+e-t,i=Math.abs(r-n),s=Math.abs(r-e),o=Math.abs(r-t);return i<=s&&i<=o?n:s<=o?e:t}function uL(n,e,t,r,i,s){switch(n){case 0:s_(e,t,i);break;case 1:a_(e,t,i,s);break;case 2:o_(e,t,r,i);break;case 3:l_(e,t,r,i,s);break;case 4:c_(e,t,r,i,s);break;default:throw new Error(`Unsupported filter: ${n}`)}}const hL=new Uint16Array([255]),dL=new Uint8Array(hL.buffer),fL=dL[0]===255;function pL(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*i,c=new Uint8Array(r*t*l);let h=0;for(let d=0;d<7;d++){const g=o[d],y=Math.ceil((t-g.x)/g.xStep),m=Math.ceil((r-g.y)/g.yStep);if(y<=0||m<=0)continue;const _=y*l,k=new Uint8Array(_);for(let N=0;N<m;N++){const P=e[h++],O=e.subarray(h,h+_);h+=_;const j=new Uint8Array(_);uL(P,O,j,k,_,l),k.set(j);for(let L=0;L<y;L++){const D=g.x+L*g.xStep,J=g.y+N*g.yStep;if(!(D>=t||J>=r))for(let U=0;U<l;U++)c[(J*t+D)*l+U]=j[L*l+U]}}}if(s===16){const d=new Uint16Array(c.buffer);if(fL)for(let g=0;g<d.length;g++)d[g]=gL(d[g]);return d}else return c}function gL(n){return(n&255)<<8|n>>8&255}const mL=new Uint16Array([255]),vL=new Uint8Array(mL.buffer),yL=vL[0]===255,wL=new Uint8Array(0);function Gy(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,o=Math.ceil(s/8)*i,l=Math.ceil(s/8*i*t),c=new Uint8Array(r*l);let h=wL,d=0,g,y;for(let m=0;m<r;m++){switch(g=e.subarray(d+1,d+1+l),y=c.subarray(m*l,(m+1)*l),e[d]){case 0:s_(g,y,l);break;case 1:a_(g,y,l,o);break;case 2:o_(g,y,h,l);break;case 3:l_(g,y,h,l,o);break;case 4:c_(g,y,h,l,o);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}h=y,d+=l+1}if(s===16){const m=new Uint16Array(c.buffer);if(yL)for(let _=0;_<m.length;_++)m[_]=bL(m[_]);return m}else return c}function bL(n){return(n&255)<<8|n>>8&255}const Hf=Uint8Array.of(137,80,78,71,13,10,26,10);function Ky(n){if(!_L(n.readBytes(Hf.length)))throw new Error("wrong PNG signature")}function _L(n){if(n.length<Hf.length)return!1;for(let e=0;e<Hf.length;e++)if(n[e]!==Hf[e])return!1;return!0}const xL="tEXt",SL=0,u_=new TextDecoder("latin1");function kL(n){if(AL(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const NL=/^[\u0000-\u00FF]*$/;function AL(n){if(!NL.test(n))throw new Error("invalid latin1 text")}function PL(n,e,t){const r=h_(e);n[r]=CL(e,t-r.length-1)}function h_(n){for(n.mark();n.readByte()!==SL;);const e=n.offset;n.reset();const t=u_.decode(n.readBytes(e-n.offset-1));return n.skip(1),kL(t),t}function CL(n,e){return u_.decode(n.readBytes(e))}const fs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},um={UNKNOWN:-1,DEFLATE:0},Yy={UNKNOWN:-1,ADAPTIVE:0},hm={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Mf={NONE:0,BACKGROUND:1,PREVIOUS:2},dm={SOURCE:0,OVER:1};class EL extends q0{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new Hy,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=um.UNKNOWN,this._filterMethod=Yy.UNKNOWN,this._interlaceMethod=hm.UNKNOWN,this._colorType=fs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Ky(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(Ky(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case xL:PL(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Vy(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Vy(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=jL(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case fs.GREYSCALE:r=1;break;case fs.TRUECOLOUR:r=3;break;case fs.INDEXED_COLOUR:r=1;break;case fs.GREYSCALE_ALPHA:r=2;break;case fs.TRUECOLOUR_ALPHA:r=4;break;case fs.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==um.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<t;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case fs.GREYSCALE:case fs.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case fs.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case fs.UNKNOWN:case fs.GREYSCALE_ALPHA:case fs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=h_(this),r=this.readUint8();if(r!==um.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:aL(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=Gy({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case Mf.NONE:break;case Mf.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const o=(i*e.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)r.data[o+l]=0}break;case Mf.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,i=(s,o)=>{const l=((s+t.yOffset)*this._png.width+t.xOffset+o)*this._png.channels,c=(s*t.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(t.blendOp){case dm.SOURCE:for(let s=0;s<t.height;s++)for(let o=0;o<t.width;o++){const{index:l,frameIndex:c}=i(s,o);for(let h=0;h<this._png.channels;h++)e.data[l+h]=t.data[c+h]}break;case dm.OVER:for(let s=0;s<t.height;s++)for(let o=0;o<t.width;o++){const{index:l,frameIndex:c}=i(s,o);for(let h=0;h<this._png.channels;h++){const d=t.data[c+this._png.channels-1]/r,g=h%(this._png.channels-1)===0?1:t.data[c+h],y=Math.floor(d*g+(1-d)*e.data[l+h]);e.data[l+h]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Yy.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===hm.NO_INTERLACE)this._png.data=Gy({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===hm.ADAM7)this._png.data=pL({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Mf.NONE,blendOp:dm.SOURCE,data:e}),this._inflator=new Hy,this._writingDataChunks=!1}}function jL(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Jy;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Jy||(Jy={}));function LL(n,e){return new EL(n,e).decode()}var jt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function fm(){jt.console&&typeof jt.console.log=="function"&&jt.console.log.apply(jt.console,arguments)}var Pn={log:fm,warn:function(n){jt.console&&(typeof jt.console.warn=="function"?jt.console.warn.apply(jt.console,arguments):fm.call(null,arguments))},error:function(n){jt.console&&(typeof jt.console.error=="function"?jt.console.error.apply(jt.console,arguments):fm(n))}};function pm(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Ac(r.response,e,t)},r.onerror=function(){Pn.error("could not download file")},r.send()}function Xy(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function If(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Ac=jt.saveAs||((typeof window>"u"?"undefined":wn(window))!=="object"||window!==jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=jt.URL||jt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?Xy(i.href)?pm(n,e,t):If(i,i.target="_blank"):If(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){If(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Xy(n))pm(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){If(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:wn(s)!=="object"&&(Pn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return pm(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(jt.HTMLElement)||jt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":wn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},l.readAsDataURL(n)}else{var c=jt.URL||jt.webkitURL,h=c.createObjectURL(n);r?r.location=h:location.href=h,r=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});function d_(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,o=i.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+l+c+h}}var $f=jt.atob.bind(jt),Qy=jt.btoa.bind(jt);function gm(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=hi(t,r,i,s,e[0],7,-680876936),s=hi(s,t,r,i,e[1],12,-389564586),i=hi(i,s,t,r,e[2],17,606105819),r=hi(r,i,s,t,e[3],22,-1044525330),t=hi(t,r,i,s,e[4],7,-176418897),s=hi(s,t,r,i,e[5],12,1200080426),i=hi(i,s,t,r,e[6],17,-1473231341),r=hi(r,i,s,t,e[7],22,-45705983),t=hi(t,r,i,s,e[8],7,1770035416),s=hi(s,t,r,i,e[9],12,-1958414417),i=hi(i,s,t,r,e[10],17,-42063),r=hi(r,i,s,t,e[11],22,-1990404162),t=hi(t,r,i,s,e[12],7,1804603682),s=hi(s,t,r,i,e[13],12,-40341101),i=hi(i,s,t,r,e[14],17,-1502002290),t=di(t,r=hi(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=di(s,t,r,i,e[6],9,-1069501632),i=di(i,s,t,r,e[11],14,643717713),r=di(r,i,s,t,e[0],20,-373897302),t=di(t,r,i,s,e[5],5,-701558691),s=di(s,t,r,i,e[10],9,38016083),i=di(i,s,t,r,e[15],14,-660478335),r=di(r,i,s,t,e[4],20,-405537848),t=di(t,r,i,s,e[9],5,568446438),s=di(s,t,r,i,e[14],9,-1019803690),i=di(i,s,t,r,e[3],14,-187363961),r=di(r,i,s,t,e[8],20,1163531501),t=di(t,r,i,s,e[13],5,-1444681467),s=di(s,t,r,i,e[2],9,-51403784),i=di(i,s,t,r,e[7],14,1735328473),t=fi(t,r=di(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=fi(s,t,r,i,e[8],11,-2022574463),i=fi(i,s,t,r,e[11],16,1839030562),r=fi(r,i,s,t,e[14],23,-35309556),t=fi(t,r,i,s,e[1],4,-1530992060),s=fi(s,t,r,i,e[4],11,1272893353),i=fi(i,s,t,r,e[7],16,-155497632),r=fi(r,i,s,t,e[10],23,-1094730640),t=fi(t,r,i,s,e[13],4,681279174),s=fi(s,t,r,i,e[0],11,-358537222),i=fi(i,s,t,r,e[3],16,-722521979),r=fi(r,i,s,t,e[6],23,76029189),t=fi(t,r,i,s,e[9],4,-640364487),s=fi(s,t,r,i,e[12],11,-421815835),i=fi(i,s,t,r,e[15],16,530742520),t=pi(t,r=fi(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=pi(s,t,r,i,e[7],10,1126891415),i=pi(i,s,t,r,e[14],15,-1416354905),r=pi(r,i,s,t,e[5],21,-57434055),t=pi(t,r,i,s,e[12],6,1700485571),s=pi(s,t,r,i,e[3],10,-1894986606),i=pi(i,s,t,r,e[10],15,-1051523),r=pi(r,i,s,t,e[1],21,-2054922799),t=pi(t,r,i,s,e[8],6,1873313359),s=pi(s,t,r,i,e[15],10,-30611744),i=pi(i,s,t,r,e[6],15,-1560198380),r=pi(r,i,s,t,e[13],21,1309151649),t=pi(t,r,i,s,e[4],6,-145523070),s=pi(s,t,r,i,e[11],10,-1120210379),i=pi(i,s,t,r,e[2],15,718787259),r=pi(r,i,s,t,e[9],21,-343485551),n[0]=Ol(t,n[0]),n[1]=Ol(r,n[1]),n[2]=Ol(i,n[2]),n[3]=Ol(s,n[3])}function Up(n,e,t,r,i,s){return e=Ol(Ol(e,n),Ol(r,s)),Ol(e<<i|e>>>32-i,t)}function hi(n,e,t,r,i,s,o){return Up(e&t|~e&r,n,e,i,s,o)}function di(n,e,t,r,i,s,o){return Up(e&r|t&~r,n,e,i,s,o)}function fi(n,e,t,r,i,s,o){return Up(e^t^r,n,e,i,s,o)}function pi(n,e,t,r,i,s,o){return Up(t^(e|~r),n,e,i,s,o)}function f_(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)gm(r,TL(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(gm(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,gm(r,i),r}function TL(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var Zy="0123456789abcdef".split("");function OL(n){for(var e="",t=0;t<4;t++)e+=Zy[n>>8*t+4&15]+Zy[n>>8*t&15];return e}function RL(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function a0(n){return f_(n).map(RL).join("")}var ML=(function(n){for(var e=0;e<n.length;e++)n[e]=OL(n[e]);return n.join("")})(f_("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ol(n,e){if(ML){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function o0(n,e){var t,r,i,s;if(n!==t){for(var o=(i=n,s=1+(256/n.length|0),new Array(s+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var h=0;for(c=0;c<256;c++){var d=l[c];h=(h+d+o.charCodeAt(c))%256,l[c]=l[h],l[h]=d}t=n,r=l}else l=r;var g=e.length,y=0,m=0,_="";for(c=0;c<g;c++)m=(m+(d=l[y=(y+1)%256]))%256,l[y]=l[m],l[m]=d,o=l[(l[y]+l[m])%256],_+=String.fromCharCode(e.charCodeAt(c)^o);return _}var e5={print:4,modify:8,copy:16,"annot-forms":32};function Mu(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(l){if(e5.perm!==void 0)throw new Error("Invalid permission: "+l);i+=e5[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=a0(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=o0(this.encryptionKey,this.padding)}function Iu(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function t5(n){if(wn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(l){jt.console&&Pn.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function mp(n){if(!(this instanceof mp))return new mp(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function p_(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Ec(n,e,t,r,i){if(!(this instanceof Ec))return new Ec(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,p_.call(this,r,i)}function Uu(n,e,t,r,i){if(!(this instanceof Uu))return new Uu(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,p_.call(this,r,i)}function ht(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],l=1,c=16,h="S",d=null;wn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(d=n.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),h=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var g=n.putOnlyUsedFonts||!1,y={},m={internal:{},__private__:{}};m.__private__.PubSub=t5;var _="1.3",k=m.__private__.getPdfVersion=function(){return _};m.__private__.setPdfVersion=function(x){_=x};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return N};var P=m.__private__.getPageFormat=function(x){return N[x]};i=i||"a4";var O="compat",j="advanced",L=O;function D(){this.saveGraphicsState(),Q(new wt(At,0,0,-At,0,Fi()*At).toString()+" cm"),this.setFontSize(this.getFontSize()/At),h="n",L=j}function J(){this.restoreGraphicsState(),h="S",L=O}var U=m.__private__.combineFontStyleAndFontWeight=function(x,M){if(x=="bold"&&M=="normal"||x=="bold"&&M==400||x=="normal"&&M=="italic"||x=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(x=M==400||M==="normal"?x==="italic"?"italic":"normal":M!=700&&M!=="bold"||x!=="normal"?(M==700?"bold":M)+""+x:"bold"),x};m.advancedAPI=function(x){var M=L===O;return M&&D.call(this),typeof x!="function"||(x(this),M&&J.call(this)),this},m.compatAPI=function(x){var M=L===j;return M&&J.call(this),typeof x!="function"||(x(this),M&&D.call(this)),this},m.isAdvancedAPI=function(){return L===j};var H,W=function(x){if(L!==j)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},re=m.roundToPrecision=m.__private__.roundToPrecision=function(x,M){var te=e||M;if(isNaN(x)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(te).replace(/0+$/,"")};H=m.hpf=m.__private__.hpf=typeof c=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return re(x,c)}:c==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return re(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return re(x,16)};var I=m.f2=m.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return re(x,2)},q=m.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return re(x,3)},ne=m.scale=m.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return L===O?x*At:L===j?x:void 0},ie=function(x){return ne((function(M){return L===O?Fi()-M:L===j?M:void 0})(x))};m.__private__.setPrecision=m.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var ve,be="00000000000000000000000000000000",he=m.__private__.getFileId=function(){return be},$=m.__private__.setFileId=function(x){return be=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():be.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(fr=new Mu(d.userPermissions,d.userPassword,d.ownerPassword,be)),be};m.setFileId=function(x){return $(x),this},m.getFileId=function(){return he()};var se=m.__private__.convertDateToPDFDate=function(x){var M=x.getTimezoneOffset(),te=M<0?"+":"-",ue=Math.floor(Math.abs(M/60)),we=Math.abs(M%60),Oe=[te,ee(ue),"'",ee(we),"'"].join("");return["D:",x.getFullYear(),ee(x.getMonth()+1),ee(x.getDate()),ee(x.getHours()),ee(x.getMinutes()),ee(x.getSeconds()),Oe].join("")},le=m.__private__.convertPDFDateToDate=function(x){var M=parseInt(x.substr(2,4),10),te=parseInt(x.substr(6,2),10)-1,ue=parseInt(x.substr(8,2),10),we=parseInt(x.substr(10,2),10),Oe=parseInt(x.substr(12,2),10),Ie=parseInt(x.substr(14,2),10);return new Date(M,te,ue,we,Oe,Ie,0)},K=m.__private__.setCreationDate=function(x){var M;if(x===void 0&&(x=new Date),x instanceof Date)M=se(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=x}return ve=M},T=m.__private__.getCreationDate=function(x){var M=ve;return x==="jsDate"&&(M=le(ve)),M};m.setCreationDate=function(x){return K(x),this},m.getCreationDate=function(x){return T(x)};var Y,ee=m.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},oe=m.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},ce=0,ye=[],_e=[],Ae=0,Te=[],Ue=[],Ve=!1,He=_e;m.__private__.setCustomOutputDestination=function(x){Ve=!0,He=x};var ct=function(x){Ve||(He=x)};m.__private__.resetCustomOutputDestination=function(){Ve=!1,He=_e};var Q=m.__private__.out=function(x){return x=x.toString(),Ae+=x.length+1,He.push(x),He},$e=m.__private__.write=function(x){return Q(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},Mt=m.__private__.getArrayBuffer=function(x){for(var M=x.length,te=new ArrayBuffer(M),ue=new Uint8Array(te);M--;)ue[M]=x.charCodeAt(M);return te},mt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return mt};var De=n.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(x){return De=L===j?x/At:x,this};var dt,Ge=m.__private__.getFontSize=m.getFontSize=function(){return L===O?De:De*At},gt=n.R2L||!1;m.__private__.setR2L=m.setR2L=function(x){return gt=x,this},m.__private__.getR2L=m.getR2L=function(){return gt};var ft,Zt=m.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))dt=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');dt=x}else dt=parseInt(x,10)};m.__private__.getZoomMode=function(){return dt};var Wt,Lt=m.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');ft=x};m.__private__.getPageMode=function(){return ft};var qt=m.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');Wt=x};m.__private__.getLayoutMode=function(){return Wt},m.__private__.setDisplayMode=m.setDisplayMode=function(x,M,te){return Zt(x),qt(M),Lt(te),this};var Ut={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(x){if(Object.keys(Ut).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ut[x]},m.__private__.getDocumentProperties=function(){return Ut},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(x){for(var M in Ut)Ut.hasOwnProperty(M)&&x[M]&&(Ut[M]=x[M]);return this},m.__private__.setDocumentProperty=function(x,M){if(Object.keys(Ut).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ut[x]=M};var rt,At,nt,$n,Yt,Bt={},zt={},bn=[],pt={},cn={},vt={},Ct={},on=null,Ot=0,yt=[],en=new t5(m),ma=n.hotfixes||[],Pr={},bs={},ji=[],wt=function x(M,te,ue,we,Oe,Ie){if(!(this instanceof x))return new x(M,te,ue,we,Oe,Ie);isNaN(M)&&(M=1),isNaN(te)&&(te=0),isNaN(ue)&&(ue=0),isNaN(we)&&(we=1),isNaN(Oe)&&(Oe=0),isNaN(Ie)&&(Ie=0),this._matrix=[M,te,ue,we,Oe,Ie]};Object.defineProperty(wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wt.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(H).join(x)},wt.prototype.multiply=function(x){var M=x.sx*this.sx+x.shy*this.shx,te=x.sx*this.shy+x.shy*this.sy,ue=x.shx*this.sx+x.sy*this.shx,we=x.shx*this.shy+x.sy*this.sy,Oe=x.tx*this.sx+x.ty*this.shx+this.tx,Ie=x.tx*this.shy+x.ty*this.sy+this.ty;return new wt(M,te,ue,we,Oe,Ie)},wt.prototype.decompose=function(){var x=this.sx,M=this.shy,te=this.shx,ue=this.sy,we=this.tx,Oe=this.ty,Ie=Math.sqrt(x*x+M*M),Qe=(x/=Ie)*te+(M/=Ie)*ue;te-=x*Qe,ue-=M*Qe;var st=Math.sqrt(te*te+ue*ue);return Qe/=st,x*(ue/=st)<M*(te/=st)&&(x=-x,M=-M,Qe=-Qe,Ie=-Ie),{scale:new wt(Ie,0,0,st,0,0),translate:new wt(1,0,0,1,we,Oe),rotate:new wt(x,M,-M,x,0,0),skew:new wt(1,0,Qe,1,0,0)}},wt.prototype.toString=function(x){return this.join(" ")},wt.prototype.inversed=function(){var x=this.sx,M=this.shy,te=this.shx,ue=this.sy,we=this.tx,Oe=this.ty,Ie=1/(x*ue-M*te),Qe=ue*Ie,st=-M*Ie,Pt=-te*Ie,Tt=x*Ie;return new wt(Qe,st,Pt,Tt,-Qe*we-Pt*Oe,-st*we-Tt*Oe)},wt.prototype.applyToPoint=function(x){var M=x.x*this.sx+x.y*this.shx+this.tx,te=x.x*this.shy+x.y*this.sy+this.ty;return new Mi(M,te)},wt.prototype.applyToRectangle=function(x){var M=this.applyToPoint(x),te=this.applyToPoint(new Mi(x.x+x.w,x.y+x.h));return new io(M.x,M.y,te.x-M.x,te.y-M.y)},wt.prototype.clone=function(){var x=this.sx,M=this.shy,te=this.shx,ue=this.sy,we=this.tx,Oe=this.ty;return new wt(x,M,te,ue,we,Oe)},m.Matrix=wt;var mi=m.matrixMult=function(x,M){return M.multiply(x)},Qi=new wt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Qi;var Ir=function(x,M){if(!cn[x]){var te=(M instanceof Ec?"Sh":"P")+(Object.keys(pt).length+1).toString(10);M.id=te,cn[x]=te,pt[te]=M,en.publish("addPattern",M)}};m.ShadingPattern=Ec,m.TilingPattern=Uu,m.addShadingPattern=function(x,M){return W("addShadingPattern()"),Ir(x,M),this},m.beginTilingPattern=function(x){W("beginTilingPattern()"),Ii(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},m.endTilingPattern=function(x,M){W("endTilingPattern()"),M.stream=Ue[Y].join(`
`),Ir(x,M),en.publish("endTilingPattern",M),ji.pop().restore()};var Li,_n=m.__private__.newObject=function(){var x=Vn();return nr(x,!0),x},Vn=m.__private__.newObjectDeferred=function(){return ce++,ye[ce]=function(){return Ae},ce},nr=function(x,M){return M=typeof M=="boolean"&&M,ye[x]=Ae,M&&Q(x+" 0 obj"),x},zs=m.__private__.newAdditionalObject=function(){var x={objId:Vn(),content:""};return Te.push(x),x},va=Vn(),Zi=Vn(),_s=m.__private__.decodeColorString=function(x){var M=x.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length!==5||M[4]!=="k"&&M[4]!=="K"||(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var te=parseFloat(M[0]);M=[te,te,te,"r"]}for(var ue="#",we=0;we<3;we++)ue+=("0"+Math.floor(255*parseFloat(M[we])).toString(16)).slice(-2);return ue},Cr=m.__private__.encodeColorString=function(x){var M;typeof x=="string"&&(x={ch1:x});var te=x.ch1,ue=x.ch2,we=x.ch3,Oe=x.ch4,Ie=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var Qe=new d_(te);if(Qe.ok)te=Qe.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var st=parseInt(te.substr(1),16);te=st>>16&255,ue=st>>8&255,we=255&st}if(ue===void 0||Oe===void 0&&te===ue&&ue===we)M=typeof te=="string"?te+" "+Ie[0]:x.precision===2?I(te/255)+" "+Ie[0]:q(te/255)+" "+Ie[0];else if(Oe===void 0||wn(Oe)==="object"){if(Oe&&!isNaN(Oe.a)&&Oe.a===0)return["1.","1.","1.",Ie[1]].join(" ");M=typeof te=="string"?[te,ue,we,Ie[1]].join(" "):x.precision===2?[I(te/255),I(ue/255),I(we/255),Ie[1]].join(" "):[q(te/255),q(ue/255),q(we/255),Ie[1]].join(" ")}else M=typeof te=="string"?[te,ue,we,Oe,Ie[2]].join(" "):x.precision===2?[I(te),I(ue),I(we),I(Oe),Ie[2]].join(" "):[q(te),q(ue),q(we),q(Oe),Ie[2]].join(" ");return M},Ti=m.__private__.getFilters=function(){return o},vi=m.__private__.putStream=function(x){var M=(x=x||{}).data||"",te=x.filters||Ti(),ue=x.alreadyAppliedFilters||[],we=x.addLength1||!1,Oe=M.length,Ie=x.objectId,Qe=function(pr){return pr};if(d!==null&&Ie===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Qe=fr.encryptor(Ie,0));var st={};te===!0&&(te=["FlateEncode"]);var Pt=x.additionalKeyValues||[],Tt=(st=ht.API.processDataByFilters!==void 0?ht.API.processDataByFilters(M,te):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(ue)?ue.join(" "):ue.toString());if(st.data.length!==0&&(Pt.push({key:"Length",value:st.data.length}),we===!0&&Pt.push({key:"Length1",value:Oe})),Tt.length!=0)if(Tt.split("/").length-1==1)Pt.push({key:"Filter",value:Tt});else{Pt.push({key:"Filter",value:"["+Tt+"]"});for(var Jt=0;Jt<Pt.length;Jt+=1)if(Pt[Jt].key==="DecodeParms"){for(var Mn=[],sr=0;sr<st.reverseChain.split("/").length-1;sr+=1)Mn.push("null");Mn.push(Pt[Jt].value),Pt[Jt].value="["+Mn.join(" ")+"]"}}Q("<<");for(var xn=0;xn<Pt.length;xn++)Q("/"+Pt[xn].key+" "+Pt[xn].value);Q(">>"),st.data.length!==0&&(Q("stream"),Q(Qe(st.data)),Q("endstream"))},Ga=m.__private__.putPage=function(x){var M=x.number,te=x.data,ue=x.objId,we=x.contentsObjId;nr(ue,!0),Q("<</Type /Page"),Q("/Parent "+x.rootDictionaryObjId+" 0 R"),Q("/Resources "+x.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(H(x.mediaBox.bottomLeftX))+" "+parseFloat(H(x.mediaBox.bottomLeftY))+" "+H(x.mediaBox.topRightX)+" "+H(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&Q("/CropBox ["+H(x.cropBox.bottomLeftX)+" "+H(x.cropBox.bottomLeftY)+" "+H(x.cropBox.topRightX)+" "+H(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&Q("/BleedBox ["+H(x.bleedBox.bottomLeftX)+" "+H(x.bleedBox.bottomLeftY)+" "+H(x.bleedBox.topRightX)+" "+H(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&Q("/TrimBox ["+H(x.trimBox.bottomLeftX)+" "+H(x.trimBox.bottomLeftY)+" "+H(x.trimBox.topRightX)+" "+H(x.trimBox.topRightY)+"]"),x.artBox!==null&&Q("/ArtBox ["+H(x.artBox.bottomLeftX)+" "+H(x.artBox.bottomLeftY)+" "+H(x.artBox.topRightX)+" "+H(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&Q("/UserUnit "+x.userUnit),en.publish("putPage",{objId:ue,pageContext:yt[M],pageNumber:M,page:te}),Q("/Contents "+we+" 0 R"),Q(">>"),Q("endobj");var Oe=te.join(`
`);return L===j&&(Oe+=`
Q`),nr(we,!0),vi({data:Oe,filters:Ti(),objectId:we}),Q("endobj"),ue},es=m.__private__.putPages=function(){var x,M,te=[];for(x=1;x<=Ot;x++)yt[x].objId=Vn(),yt[x].contentsObjId=Vn();for(x=1;x<=Ot;x++)te.push(Ga({number:x,data:Ue[x],objId:yt[x].objId,contentsObjId:yt[x].contentsObjId,mediaBox:yt[x].mediaBox,cropBox:yt[x].cropBox,bleedBox:yt[x].bleedBox,trimBox:yt[x].trimBox,artBox:yt[x].artBox,userUnit:yt[x].userUnit,rootDictionaryObjId:va,resourceDictionaryObjId:Zi}));nr(va,!0),Q("<</Type /Pages");var ue="/Kids [";for(M=0;M<Ot;M++)ue+=te[M]+" 0 R ";Q(ue+"]"),Q("/Count "+Ot),Q(">>"),Q("endobj"),en.publish("postPutPages")},ya=function(x){en.publish("putFont",{font:x,out:Q,newObject:_n,putStream:vi}),x.isAlreadyPutted!==!0&&(x.objectNumber=_n(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+Iu(x.postScriptName)),Q("/Subtype /Type1"),typeof x.encoding=="string"&&Q("/Encoding /"+x.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},Ka=function(x){x.objectNumber=_n();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[H(x.x),H(x.y),H(x.x+x.width),H(x.y+x.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var te=x.pages[1].join(`
`);vi({data:te,additionalKeyValues:M,objectId:x.objectNumber}),Q("endobj")},Ya=function(x,M){M||(M=21);var te=_n(),ue=(function(Ie,Qe){var st,Pt=[],Tt=1/(Qe-1);for(st=0;st<1;st+=Tt)Pt.push(st);if(Pt.push(1),Ie[0].offset!=0){var Jt={offset:0,color:Ie[0].color};Ie.unshift(Jt)}if(Ie[Ie.length-1].offset!=1){var Mn={offset:1,color:Ie[Ie.length-1].color};Ie.push(Mn)}for(var sr="",xn=0,pr=0;pr<Pt.length;pr++){for(st=Pt[pr];st>Ie[xn+1].offset;)xn++;var Gn=Ie[xn].offset,Er=(st-Gn)/(Ie[xn+1].offset-Gn),Hs=Ie[xn].color,rs=Ie[xn+1].color;sr+=oe(Math.round((1-Er)*Hs[0]+Er*rs[0]).toString(16))+oe(Math.round((1-Er)*Hs[1]+Er*rs[1]).toString(16))+oe(Math.round((1-Er)*Hs[2]+Er*rs[2]).toString(16))}return sr.trim()})(x.colors,M),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+M+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),vi({data:ue,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),Q("endobj"),x.objectNumber=_n(),Q("<< /ShadingType "+x.type),Q("/ColorSpace /DeviceRGB");var Oe="/Coords ["+H(parseFloat(x.coords[0]))+" "+H(parseFloat(x.coords[1]))+" ";x.type===2?Oe+=H(parseFloat(x.coords[2]))+" "+H(parseFloat(x.coords[3])):Oe+=H(parseFloat(x.coords[2]))+" "+H(parseFloat(x.coords[3]))+" "+H(parseFloat(x.coords[4]))+" "+H(parseFloat(x.coords[5])),Q(Oe+="]"),x.matrix&&Q("/Matrix ["+x.matrix.toString()+"]"),Q("/Function "+te+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},qo=function(x,M){var te=Vn(),ue=_n();M.push({resourcesOid:te,objectOid:ue}),x.objectNumber=ue;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+x.boundingBox.map(H).join(" ")+"]"}),we.push({key:"XStep",value:H(x.xStep)}),we.push({key:"YStep",value:H(x.yStep)}),we.push({key:"Resources",value:te+" 0 R"}),x.matrix&&we.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),vi({data:x.stream,additionalKeyValues:we,objectId:x.objectNumber}),Q("endobj")},ah=function(x){for(var M in x.objectNumber=_n(),Q("<<"),x)switch(M){case"opacity":Q("/ca "+I(x[M]));break;case"stroke-opacity":Q("/CA "+I(x[M]))}Q(">>"),Q("endobj")},Nn=function(x){nr(x.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var M in Q("/Font <<"),Bt)Bt.hasOwnProperty(M)&&(g===!1||g===!0&&y.hasOwnProperty(M))&&Q("/"+M+" "+Bt[M].objectNumber+" 0 R");Q(">>")})(),(function(){if(Object.keys(pt).length>0){for(var M in Q("/Shading <<"),pt)pt.hasOwnProperty(M)&&pt[M]instanceof Ec&&pt[M].objectNumber>=0&&Q("/"+M+" "+pt[M].objectNumber+" 0 R");en.publish("putShadingPatternDict"),Q(">>")}})(),(function(M){if(Object.keys(pt).length>0){for(var te in Q("/Pattern <<"),pt)pt.hasOwnProperty(te)&&pt[te]instanceof m.TilingPattern&&pt[te].objectNumber>=0&&pt[te].objectNumber<M&&Q("/"+te+" "+pt[te].objectNumber+" 0 R");en.publish("putTilingPatternDict"),Q(">>")}})(x.objectOid),(function(){if(Object.keys(vt).length>0){var M;for(M in Q("/ExtGState <<"),vt)vt.hasOwnProperty(M)&&vt[M].objectNumber>=0&&Q("/"+M+" "+vt[M].objectNumber+" 0 R");en.publish("putGStateDict"),Q(">>")}})(),(function(){for(var M in Q("/XObject <<"),Pr)Pr.hasOwnProperty(M)&&Pr[M].objectNumber>=0&&Q("/"+M+" "+Pr[M].objectNumber+" 0 R");en.publish("putXobjectDict"),Q(">>")})(),Q(">>"),Q("endobj")},$c=function(x){zt[x.fontName]=zt[x.fontName]||{},zt[x.fontName][x.fontStyle]=x.id},Ho=function(x,M,te,ue,we){var Oe={id:"F"+(Object.keys(Bt).length+1).toString(10),postScriptName:x,fontName:M,fontStyle:te,encoding:ue,isStandardFont:we||!1,metadata:{}};return en.publish("addFont",{font:Oe,instance:this}),Bt[Oe.id]=Oe,$c(Oe),Oe.id},yi=m.__private__.pdfEscape=m.pdfEscape=function(x,M){return(function(te,ue){var we,Oe,Ie,Qe,st,Pt,Tt,Jt,Mn;if(Ie=(ue=ue||{}).sourceEncoding||"Unicode",st=ue.outputEncoding,(ue.autoencode||st)&&Bt[rt].metadata&&Bt[rt].metadata[Ie]&&Bt[rt].metadata[Ie].encoding&&(Qe=Bt[rt].metadata[Ie].encoding,!st&&Bt[rt].encoding&&(st=Bt[rt].encoding),!st&&Qe.codePages&&(st=Qe.codePages[0]),typeof st=="string"&&(st=Qe[st]),st)){for(Tt=!1,Pt=[],we=0,Oe=te.length;we<Oe;we++)(Jt=st[te.charCodeAt(we)])?Pt.push(String.fromCharCode(Jt)):Pt.push(te[we]),Pt[we].charCodeAt(0)>>8&&(Tt=!0);te=Pt.join("")}for(we=te.length;Tt===void 0&&we!==0;)te.charCodeAt(we-1)>>8&&(Tt=!0),we--;if(!Tt)return te;for(Pt=ue.noBOM?[]:[254,255],we=0,Oe=te.length;we<Oe;we++){if((Mn=(Jt=te.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+te+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Pt.push(Mn),Pt.push(Jt-(Mn<<8))}return String.fromCharCode.apply(void 0,Pt)})(x,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wa=m.__private__.beginPage=function(x){Ue[++Ot]=[],yt[Ot]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},Ja(Ot),ct(Ue[Y])},Vc=function(x,M){var te,ue,we;switch(t=M||t,typeof x=="string"&&(te=P(x.toLowerCase()),Array.isArray(te)&&(ue=te[0],we=te[1])),Array.isArray(x)&&(ue=x[0]*At,we=x[1]*At),isNaN(ue)&&(ue=i[0],we=i[1]),(ue>14400||we>14400)&&(Pn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ue=Math.min(14400,ue),we=Math.min(14400,we)),i=[ue,we],t.substr(0,1)){case"l":we>ue&&(i=[we,ue]);break;case"p":ue>we&&(i=[we,ue])}wa(i),xt(Ri),Q(no),Gl!==0&&Q(Gl+" J"),Kl!==0&&Q(Kl+" j"),en.publish("addPage",{pageNumber:Ot})},$o=function(x){x>0&&x<=Ot&&(Ue.splice(x,1),yt.splice(x,1),Ot--,Y>Ot&&(Y=Ot),this.setPage(Y))},Ja=function(x){x>0&&x<=Ot&&(Y=x)},wi=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Ue.length-1},Gc=function(x,M,te){var ue,we=void 0;return te=te||{},x=x!==void 0?x:Bt[rt].fontName,M=M!==void 0?M:Bt[rt].fontStyle,ue=x.toLowerCase(),zt[ue]!==void 0&&zt[ue][M]!==void 0?we=zt[ue][M]:zt[x]!==void 0&&zt[x][M]!==void 0?we=zt[x][M]:te.disableWarning===!1&&Pn.warn("Unable to look up font label for font '"+x+"', '"+M+"'. Refer to getFontList() for available fonts."),we||te.noFallback||(we=zt.times[M])==null&&(we=zt.times.normal),we},rr=m.__private__.putInfo=function(){var x=_n(),M=function(ue){return ue};for(var te in d!==null&&(M=fr.encryptor(x,0)),Q("<<"),Q("/Producer ("+yi(M("jsPDF "+ht.version))+")"),Ut)Ut.hasOwnProperty(te)&&Ut[te]&&Q("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+yi(M(Ut[te]))+")");Q("/CreationDate ("+yi(M(ve))+")"),Q(">>"),Q("endobj")},Vo=m.__private__.putCatalog=function(x){var M=(x=x||{}).rootDictionaryObjId||va;switch(_n(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+M+" 0 R"),dt||(dt="fullwidth"),dt){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+dt;te.substr(te.length-1)==="%"&&(dt=parseInt(dt)/100),typeof dt=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+I(dt)+"]")}switch(Wt||(Wt="continuous"),Wt){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}ft&&Q("/PageMode /"+ft),en.publish("putCatalog"),Q(">>"),Q("endobj")},oh=m.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(ce+1)),Q("/Root "+ce+" 0 R"),Q("/Info "+(ce-1)+" 0 R"),d!==null&&Q("/Encrypt "+fr.oid+" 0 R"),Q("/ID [ <"+be+"> <"+be+"> ]"),Q(">>")},ir=m.__private__.putHeader=function(){Q("%PDF-"+_),Q("%")},Xa=m.__private__.putXRef=function(){var x="0000000000";Q("xref"),Q("0 "+(ce+1)),Q("0000000000 65535 f ");for(var M=1;M<=ce;M++)typeof ye[M]=="function"?Q((x+ye[M]()).slice(-10)+" 00000 n "):ye[M]!==void 0?Q((x+ye[M]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},bi=m.__private__.buildDocument=function(){var x;ce=0,Ae=0,_e=[],ye=[],Te=[],va=Vn(),Zi=Vn(),ct(_e),en.publish("buildDocument"),ir(),es(),(function(){en.publish("putAdditionalObjects");for(var te=0;te<Te.length;te++){var ue=Te[te];nr(ue.objId,!0),Q(ue.content),Q("endobj")}en.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var te in Bt)Bt.hasOwnProperty(te)&&(g===!1||g===!0&&y.hasOwnProperty(te))&&ya(Bt[te])})(),(function(){var te;for(te in vt)vt.hasOwnProperty(te)&&ah(vt[te])})(),(function(){for(var te in Pr)Pr.hasOwnProperty(te)&&Ka(Pr[te])})(),(function(te){var ue;for(ue in pt)pt.hasOwnProperty(ue)&&(pt[ue]instanceof Ec?Ya(pt[ue]):pt[ue]instanceof Uu&&qo(pt[ue],te))})(x),en.publish("putResources"),x.forEach(Nn),Nn({resourcesOid:Zi,objectOid:Number.MAX_SAFE_INTEGER}),en.publish("postPutResources"),d!==null&&(fr.oid=_n(),Q("<<"),Q("/Filter /Standard"),Q("/V "+fr.v),Q("/R "+fr.r),Q("/U <"+fr.toHexString(fr.U)+">"),Q("/O <"+fr.toHexString(fr.O)+">"),Q("/P "+fr.P),Q(">>"),Q("endobj")),rr(),Vo();var M=Ae;return Xa(),oh(),Q("startxref"),Q(""+M),Q("%%EOF"),ct(Ue[Y]),_e.join(`
`)},xs=m.__private__.getBlob=function(x){return new Blob([Mt(x)],{type:"application/pdf"})},Qa=m.output=m.__private__.output=(Li=function(x,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",x){case void 0:return bi();case"save":m.save(M.filename);break;case"arraybuffer":return Mt(bi());case"blob":return xs(bi());case"bloburi":case"bloburl":if(jt.URL!==void 0&&typeof jt.URL.createObjectURL=="function")return jt.URL&&jt.URL.createObjectURL(xs(bi()))||void 0;Pn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",ue=bi();try{te=Qy(ue)}catch{te=Qy(unescape(encodeURIComponent(ue)))}return"data:application/pdf;filename="+M.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Oe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(we=M.pdfObjectUrl,Oe="");var Ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Oe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",Qe=jt.open();return Qe!==null&&Qe.document.write(Ie),Qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',Pt=jt.open();if(Pt!==null){Pt.document.write(st);var Tt=this;Pt.document.documentElement.querySelector("#pdfViewer").onload=function(){Pt.document.title=M.filename,Pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Tt.output("bloburl"))}}return Pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',Mn=jt.open();if(Mn!==null&&(Mn.document.write(Jt),Mn.document.title=M.filename),Mn||typeof safari>"u")return Mn;break;case"datauri":case"dataurl":return jt.document.location.href=this.output("datauristring",M);default:return null}},Li.foo=function(){try{return Li.apply(this,arguments)}catch(te){var x=te.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var M="Error in function "+x.split(`
`)[0].split("<")[0]+": "+te.message;if(!jt.console)throw new Error(M);jt.console.error(M,te),jt.alert&&alert(M)}},Li.foo.bar=Li,Li.foo),Oi=function(x){return Array.isArray(ma)===!0&&ma.indexOf(x)>-1};switch(r){case"pt":At=1;break;case"mm":At=72/25.4;break;case"cm":At=72/2.54;break;case"in":At=72;break;case"px":At=Oi("px_scaling")==1?.75:96/72;break;case"pc":case"em":At=12;break;case"ex":At=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);At=r}var fr=null;K(),$();var ts=m.__private__.getPageInfo=m.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:yt[x].objId,pageNumber:x,pageContext:yt[x]}},ql=m.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in yt)if(yt[M].objId===x)break;return ts(M)},Hl=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:yt[Y].objId,pageNumber:Y,pageContext:yt[Y]}};m.addPage=function(){return Vc.apply(this,arguments),this},m.setPage=function(){return Ja.apply(this,arguments),ct.call(this,Ue[Y]),this},m.insertPage=function(x){return this.addPage(),this.movePage(Y,x),this},m.movePage=function(x,M){var te,ue;if(x>M){te=Ue[x],ue=yt[x];for(var we=x;we>M;we--)Ue[we]=Ue[we-1],yt[we]=yt[we-1];Ue[M]=te,yt[M]=ue,this.setPage(M)}else if(x<M){te=Ue[x],ue=yt[x];for(var Oe=x;Oe<M;Oe++)Ue[Oe]=Ue[Oe+1],yt[Oe]=yt[Oe+1];Ue[M]=te,yt[M]=ue,this.setPage(M)}return this},m.deletePage=function(){return $o.apply(this,arguments),this},m.__private__.text=m.text=function(x,M,te,ue,we){var Oe,Ie,Qe,st,Pt,Tt,Jt,Mn,sr,xn=(ue=ue||{}).scope||this;if(typeof x=="number"&&typeof M=="number"&&(typeof te=="string"||Array.isArray(te))){var pr=te;te=M,M=x,x=pr}if(arguments[3]instanceof wt==0?(Qe=arguments[4],st=arguments[5],wn(Jt=arguments[3])==="object"&&Jt!==null||(typeof Qe=="string"&&(st=Qe,Qe=null),typeof Jt=="string"&&(st=Jt,Jt=null),typeof Jt=="number"&&(Qe=Jt,Jt=null),ue={flags:Jt,angle:Qe,align:st})):(W("The transform parameter of text() with a Matrix value"),sr=we),isNaN(M)||isNaN(te)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return xn;var Gn,Er="",Hs=typeof ue.lineHeightFactor=="number"?ue.lineHeightFactor:ti,rs=xn.internal.scaleFactor;function $s(tn){return tn=tn.split("	").join(Array(ue.TabLen||9).join(" ")),yi(tn,Jt)}function oo(tn){for(var un,Un=tn.concat(),ar=[],as=Un.length;as--;)typeof(un=Un.shift())=="string"?ar.push(un):Array.isArray(tn)&&(un.length===1||un[1]===void 0&&un[2]===void 0)?ar.push(un[0]):ar.push([un[0],un[1],un[2]]);return ar}function el(tn,un){var Un;if(typeof tn=="string")Un=un(tn)[0];else if(Array.isArray(tn)){for(var ar,as,Ql=tn.concat(),sl=[],Js=Ql.length;Js--;)typeof(ar=Ql.shift())=="string"?sl.push(un(ar)[0]):Array.isArray(ar)&&typeof ar[0]=="string"&&(as=un(ar[0],ar[1],ar[2]),sl.push([as[0],as[1],as[2]]));Un=sl}return Un}var xa=!1,lo=!0;if(typeof x=="string")xa=!0;else if(Array.isArray(x)){var Sa=x.concat();Ie=[];for(var ka,jr=Sa.length;jr--;)(typeof(ka=Sa.shift())!="string"||Array.isArray(ka)&&typeof ka[0]!="string")&&(lo=!1);xa=lo}if(xa===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var co=De/xn.internal.scaleFactor,uo=co*(Hs-1);switch(ue.baseline){case"bottom":te-=uo;break;case"top":te+=co-uo;break;case"hanging":te+=co-2*uo;break;case"middle":te+=co/2-uo}if((Tt=ue.maxWidth||0)>0&&(typeof x=="string"?x=xn.splitTextToSize(x,Tt):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(tn,un){return tn.concat(xn.splitTextToSize(un,Tt))},[]))),Oe={text:x,x:M,y:te,options:ue,mutex:{pdfEscape:yi,activeFontKey:rt,fonts:Bt,activeFontSize:De}},en.publish("preProcessText",Oe),x=Oe.text,Qe=(ue=Oe.options).angle,sr instanceof wt==0&&Qe&&typeof Qe=="number"){Qe*=Math.PI/180,ue.rotationDirection===0&&(Qe=-Qe),L===j&&(Qe=-Qe);var Jl=Math.cos(Qe),Xl=Math.sin(Qe);sr=new wt(Jl,Xl,-Xl,Jl,0,0)}else Qe&&Qe instanceof wt&&(sr=Qe);L!==j||sr||(sr=Qi),(Pt=ue.charSpace||ni)!==void 0&&(Er+=H(ne(Pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mn=ue.horizontalScale)!==void 0&&(Er+=H(100*Mn)+` Tz
`),ue.lang;var Gr=-1,is=ue.renderingMode!==void 0?ue.renderingMode:ue.stroke,Ps=xn.internal.getCurrentPageInfo().pageContext;switch(is){case 0:case!1:case"fill":Gr=0;break;case 1:case!0:case"stroke":Gr=1;break;case 2:case"fillThenStroke":Gr=2;break;case 3:case"invisible":Gr=3;break;case 4:case"fillAndAddForClipping":Gr=4;break;case 5:case"strokeAndAddPathForClipping":Gr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Gr=6;break;case 7:case"addToPathForClipping":Gr=7}var Qc=Ps.usedRenderingMode!==void 0?Ps.usedRenderingMode:-1;Gr!==-1?Er+=Gr+` Tr
`:Qc!==-1&&(Er+=`0 Tr
`),Gr!==-1&&(Ps.usedRenderingMode=Gr),st=ue.align||"left";var xi,Na=De*Hs,tl=xn.internal.pageSize.getWidth(),nl=Bt[rt];Pt=ue.charSpace||ni,Tt=ue.maxWidth||0,Jt=Object.assign({autoencode:!0,noBOM:!0},ue.flags);var Vs=[],Bi=function(tn){return xn.getStringUnitWidth(tn,{font:nl,charSpace:Pt,fontSize:De,doKerning:!1})*De/rs};if(Object.prototype.toString.call(x)==="[object Array]"){var Si;Ie=oo(x),st!=="left"&&(xi=Ie.map(Bi));var ki,Aa=0;if(st==="right"){M-=xi[0],x=[],jr=Ie.length;for(var Cs=0;Cs<jr;Cs++)Cs===0?(ki=_i(M),Si=Ws(te)):(ki=ne(Aa-xi[Cs]),Si=-Na),x.push([Ie[Cs],ki,Si]),Aa=xi[Cs]}else if(st==="center"){M-=xi[0]/2,x=[],jr=Ie.length;for(var Gs=0;Gs<jr;Gs++)Gs===0?(ki=_i(M),Si=Ws(te)):(ki=ne((Aa-xi[Gs])/2),Si=-Na),x.push([Ie[Gs],ki,Si]),Aa=xi[Gs]}else if(st==="left"){x=[],jr=Ie.length;for(var Ks=0;Ks<jr;Ks++)x.push(Ie[Ks])}else if(st==="justify"&&nl.encoding==="Identity-H"){x=[],jr=Ie.length,Tt=Tt!==0?Tt:tl;for(var Es=0,Kn=0;Kn<jr;Kn++)if(Si=Kn===0?Ws(te):-Na,ki=Kn===0?_i(M):Es,Kn<jr-1){var ho=ne((Tt-xi[Kn])/(Ie[Kn].split(" ").length-1)),js=Ie[Kn].split(" ");x.push([js[0]+" ",ki,Si]),Es=0;for(var ss=1;ss<js.length;ss++){var fo=(Bi(js[ss-1]+" "+js[ss])-Bi(js[ss]))*rs+ho;ss==js.length-1?x.push([js[ss],fo,0]):x.push([js[ss]+" ",fo,0]),Es-=fo}}else x.push([Ie[Kn],ki,Si]);x.push(["",Es,0])}else{if(st!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],jr=Ie.length,Tt=Tt!==0?Tt:tl,Kn=0;Kn<jr;Kn++){Si=Kn===0?Ws(te):-Na,ki=Kn===0?_i(M):0;var po=Ie[Kn].split(" ").length-1,rl=po>0?(Tt-xi[Kn])/po:0;Kn<jr-1?Vs.push(H(ne(rl))):Vs.push(0),x.push([Ie[Kn],ki,Si])}}}(typeof ue.R2L=="boolean"?ue.R2L:gt)===!0&&(x=el(x,function(tn,un,Un){return[tn.split("").reverse().join(""),un,Un]})),Oe={text:x,x:M,y:te,options:ue,mutex:{pdfEscape:yi,activeFontKey:rt,fonts:Bt,activeFontSize:De}},en.publish("postProcessText",Oe),x=Oe.text,Gn=Oe.mutex.isHex||!1;var il=Bt[rt].encoding;il!=="WinAnsiEncoding"&&il!=="StandardEncoding"||(x=el(x,function(tn,un,Un){return[$s(tn),un,Un]})),Ie=oo(x),x=[];for(var Ys,Pa,Ca,go=Array.isArray(Ie[0])?1:0,Ea="",mo=function(tn,un,Un){var ar="";return Un instanceof wt?(Un=typeof ue.angle=="number"?mi(Un,new wt(1,0,0,1,tn,un)):mi(new wt(1,0,0,1,tn,un),Un),L===j&&(Un=mi(new wt(1,0,0,-1,0,0),Un)),ar=Un.join(" ")+` Tm
`):ar=H(tn)+" "+H(un)+` Td
`,ar},Bn=0;Bn<Ie.length;Bn++){switch(Ea="",go){case 1:Ca=(Gn?"<":"(")+Ie[Bn][0]+(Gn?">":")"),Ys=parseFloat(Ie[Bn][1]),Pa=parseFloat(Ie[Bn][2]);break;case 0:Ca=(Gn?"<":"(")+Ie[Bn]+(Gn?">":")"),Ys=_i(M),Pa=Ws(te)}Vs!==void 0&&Vs[Bn]!==void 0&&(Ea=Vs[Bn]+` Tw
`),Bn===0?x.push(Ea+mo(Ys,Pa,sr)+Ca):go===0?x.push(Ea+Ca):go===1&&x.push(Ea+mo(Ys,Pa,sr)+Ca)}x=go===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var ri=`BT
/`;return ri+=rt+" "+De+` Tf
`,ri+=H(De*Hs)+` TL
`,ri+=ns+`
`,ri+=Er,ri+=x,Q(ri+="ET"),y[rt]=!0,xn};var Za=m.__private__.clip=m.clip=function(x){return Q(x==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Za("evenodd")},m.__private__.discardPath=m.discardPath=function(){return Q("n"),this};var Ss=m.__private__.isValidStyle=function(x){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(M=!0),M};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(x){return Ss(x)&&(h=x),this};var Go=m.__private__.getStyle=m.getStyle=function(x){var M=h;switch(x){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=x}return M},Qt=m.close=function(){return Q("h"),this};m.stroke=function(){return Q("S"),this},m.fill=function(x){return eo("f",x),this},m.fillEvenOdd=function(x){return eo("f*",x),this},m.fillStroke=function(x){return eo("B",x),this},m.fillStrokeEvenOdd=function(x){return eo("B*",x),this};var eo=function(x,M){wn(M)==="object"?Kc(M,x):Q(x)},ba=function(x){x===null||L===j&&x===void 0||(x=Go(x),Q(x))};function $l(x,M,te,ue,we){var Oe=new Uu(M||this.boundingBox,te||this.xStep,ue||this.yStep,this.gState,we||this.matrix);Oe.stream=this.stream;var Ie=x+"$$"+this.cloneIndex+++"$$";return Ir(Ie,Oe),Oe}var Kc=function(x,M){var te=cn[x.key],ue=pt[te];if(ue instanceof Ec)Q("q"),Q(Yc(M)),ue.gState&&m.setGState(ue.gState),Q(x.matrix.toString()+" cm"),Q("/"+te+" sh"),Q("Q");else if(ue instanceof Uu){var we=new wt(1,0,0,-1,0,Fi());x.matrix&&(we=we.multiply(x.matrix||Qi),te=$l.call(ue,x.key,x.boundingBox,x.xStep,x.yStep,we).id),Q("q"),Q("/Pattern cs"),Q("/"+te+" scn"),ue.gState&&m.setGState(ue.gState),Q(M),Q("Q")}},Yc=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ko=m.moveTo=function(x,M){return Q(H(ne(x))+" "+H(ie(M))+" m"),this},Yo=m.lineTo=function(x,M){return Q(H(ne(x))+" "+H(ie(M))+" l"),this},ei=m.curveTo=function(x,M,te,ue,we,Oe){return Q([H(ne(x)),H(ie(M)),H(ne(te)),H(ie(ue)),H(ne(we)),H(ie(Oe)),"c"].join(" ")),this};m.__private__.line=m.line=function(x,M,te,ue,we){if(isNaN(x)||isNaN(M)||isNaN(te)||isNaN(ue)||!Ss(we))throw new Error("Invalid arguments passed to jsPDF.line");return L===O?this.lines([[te-x,ue-M]],x,M,[1,1],we||"S"):this.lines([[te-x,ue-M]],x,M,[1,1]).stroke()},m.__private__.lines=m.lines=function(x,M,te,ue,we,Oe){var Ie,Qe,st,Pt,Tt,Jt,Mn,sr,xn,pr,Gn,Er;if(typeof x=="number"&&(Er=te,te=M,M=x,x=Er),ue=ue||[1,1],Oe=Oe||!1,isNaN(M)||isNaN(te)||!Array.isArray(x)||!Array.isArray(ue)||!Ss(we)||typeof Oe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ko(M,te),Ie=ue[0],Qe=ue[1],Pt=x.length,pr=M,Gn=te,st=0;st<Pt;st++)(Tt=x[st]).length===2?(pr=Tt[0]*Ie+pr,Gn=Tt[1]*Qe+Gn,Yo(pr,Gn)):(Jt=Tt[0]*Ie+pr,Mn=Tt[1]*Qe+Gn,sr=Tt[2]*Ie+pr,xn=Tt[3]*Qe+Gn,pr=Tt[4]*Ie+pr,Gn=Tt[5]*Qe+Gn,ei(Jt,Mn,sr,xn,pr,Gn));return Oe&&Qt(),ba(we),this},m.path=function(x){for(var M=0;M<x.length;M++){var te=x[M],ue=te.c;switch(te.op){case"m":Ko(ue[0],ue[1]);break;case"l":Yo(ue[0],ue[1]);break;case"c":ei.apply(this,ue);break;case"h":Qt()}}return this},m.__private__.rect=m.rect=function(x,M,te,ue,we){if(isNaN(x)||isNaN(M)||isNaN(te)||isNaN(ue)||!Ss(we))throw new Error("Invalid arguments passed to jsPDF.rect");return L===O&&(ue=-ue),Q([H(ne(x)),H(ie(M)),H(ne(te)),H(ne(ue)),"re"].join(" ")),ba(we),this},m.__private__.triangle=m.triangle=function(x,M,te,ue,we,Oe,Ie){if(isNaN(x)||isNaN(M)||isNaN(te)||isNaN(ue)||isNaN(we)||isNaN(Oe)||!Ss(Ie))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-x,ue-M],[we-te,Oe-ue],[x-we,M-Oe]],x,M,[1,1],Ie,!0),this},m.__private__.roundedRect=m.roundedRect=function(x,M,te,ue,we,Oe,Ie){if(isNaN(x)||isNaN(M)||isNaN(te)||isNaN(ue)||isNaN(we)||isNaN(Oe)||!Ss(Ie))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Qe=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*te),Oe=Math.min(Oe,.5*ue),this.lines([[te-2*we,0],[we*Qe,0,we,Oe-Oe*Qe,we,Oe],[0,ue-2*Oe],[0,Oe*Qe,-we*Qe,Oe,-we,Oe],[2*we-te,0],[-we*Qe,0,-we,-Oe*Qe,-we,-Oe],[0,2*Oe-ue],[0,-Oe*Qe,we*Qe,-Oe,we,-Oe]],x+we,M,[1,1],Ie,!0),this},m.__private__.ellipse=m.ellipse=function(x,M,te,ue,we){if(isNaN(x)||isNaN(M)||isNaN(te)||isNaN(ue)||!Ss(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Oe=4/3*(Math.SQRT2-1)*te,Ie=4/3*(Math.SQRT2-1)*ue;return Ko(x+te,M),ei(x+te,M-Ie,x+Oe,M-ue,x,M-ue),ei(x-Oe,M-ue,x-te,M-Ie,x-te,M),ei(x-te,M+Ie,x-Oe,M+ue,x,M+ue),ei(x+Oe,M+ue,x+te,M+Ie,x+te,M),ba(we),this},m.__private__.circle=m.circle=function(x,M,te,ue){if(isNaN(x)||isNaN(M)||isNaN(te)||!Ss(ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,M,te,te,ue)},m.setFont=function(x,M,te){return te&&(M=U(M,te)),rt=Gc(x,M,{disableWarning:!1}),this};var ks=m.__private__.getFont=m.getFont=function(){return Bt[Gc.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var x,M,te={};for(x in zt)if(zt.hasOwnProperty(x))for(M in te[x]=[],zt[x])zt[x].hasOwnProperty(M)&&te[x].push(M);return te},m.addFont=function(x,M,te,ue,we){var Oe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Oe.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Oe.indexOf(arguments[3])==-1&&(te=U(te,ue)),Ho.call(this,x,M,te,we=we||"Identity-H")};var ti,Ri=n.lineWidth||.200025,to=m.__private__.getLineWidth=m.getLineWidth=function(){return Ri},xt=m.__private__.setLineWidth=m.setLineWidth=function(x){return Ri=x,Q(H(ne(x))+" w"),this};m.__private__.setLineDash=ht.API.setLineDash=ht.API.setLineDashPattern=function(x,M){if(x=x||[],M=M||0,isNaN(M)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(te){return H(ne(te))}).join(" "),M=H(ne(M)),Q("["+x+"] "+M+" d"),this};var Ns=m.__private__.getLineHeight=m.getLineHeight=function(){return De*ti};m.__private__.getLineHeight=m.getLineHeight=function(){return De*ti};var lh=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(ti=x),this},Jc=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return ti};lh(n.lineHeight);var _i=m.__private__.getHorizontalCoordinate=function(x){return ne(x)},Ws=m.__private__.getVerticalCoordinate=function(x){return L===j?x:yt[Y].mediaBox.topRightY-yt[Y].mediaBox.bottomLeftY-ne(x)},Xc=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(x){return H(_i(x))},Jo=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(x){return H(Ws(x))},no=n.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return _s(no)},m.__private__.setStrokeColor=m.setDrawColor=function(x,M,te,ue){return no=Cr({ch1:x,ch2:M,ch3:te,ch4:ue,pdfColorType:"draw",precision:2}),Q(no),this};var Vl=n.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return _s(Vl)},m.__private__.setFillColor=m.setFillColor=function(x,M,te,ue){return Vl=Cr({ch1:x,ch2:M,ch3:te,ch4:ue,pdfColorType:"fill",precision:2}),Q(Vl),this};var ns=n.textColor||"0 g",ro=m.__private__.getTextColor=m.getTextColor=function(){return _s(ns)};m.__private__.setTextColor=m.setTextColor=function(x,M,te,ue){return ns=Cr({ch1:x,ch2:M,ch3:te,ch4:ue,pdfColorType:"text",precision:3}),this};var ni=n.charSpace,Xo=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(ni||0)};m.__private__.setCharSpace=m.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ni=x,this};var Gl=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(x){var M=m.CapJoinStyles[x];if(M===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gl=M,Q(M+" J"),this};var Kl=0;m.__private__.setLineJoin=m.setLineJoin=function(x){var M=m.CapJoinStyles[x];if(M===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kl=M,Q(M+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(H(ne(x))+" M"),this},m.GState=mp,m.setGState=function(x){(x=typeof x=="string"?vt[Ct[x]]:Qo(null,x)).equals(on)||(Q("/"+x.id+" gs"),on=x)};var Qo=function(x,M){if(!x||!Ct[x]){var te=!1;for(var ue in vt)if(vt.hasOwnProperty(ue)&&vt[ue].equals(M)){te=!0;break}if(te)M=vt[ue];else{var we="GS"+(Object.keys(vt).length+1).toString(10);vt[we]=M,M.id=we}return x&&(Ct[x]=M.id),en.publish("addGState",M),M}};m.addGState=function(x,M){return Qo(x,M),this},m.saveGraphicsState=function(){return Q("q"),bn.push({key:rt,size:De,color:ns}),this},m.restoreGraphicsState=function(){Q("Q");var x=bn.pop();return rt=x.key,De=x.size,ns=x.color,on=null,this},m.setCurrentTransformationMatrix=function(x){return Q(x.toString()+" cm"),this},m.comment=function(x){return Q("#"+x),this};var Mi=function(x,M){var te=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(Oe){isNaN(Oe)||(te=parseFloat(Oe))}});var ue=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ue},set:function(Oe){isNaN(Oe)||(ue=parseFloat(Oe))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Oe){we=Oe.toString()}}),this},io=function(x,M,te,ue){Mi.call(this,x,M),this.type="rect";var we=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(Ie){isNaN(Ie)||(we=parseFloat(Ie))}});var Oe=ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Oe},set:function(Ie){isNaN(Ie)||(Oe=parseFloat(Ie))}}),this},so=function(){this.page=Ot,this.currentPage=Y,this.pages=Ue.slice(0),this.pagesContext=yt.slice(0),this.x=nt,this.y=$n,this.matrix=Yt,this.width=_a(Y),this.height=ao(Y),this.outputDestination=He,this.id="",this.objectNumber=-1};so.prototype.restore=function(){Ot=this.page,Y=this.currentPage,yt=this.pagesContext,Ue=this.pages,nt=this.x,$n=this.y,Yt=this.matrix,Yl(Y,this.width),Di(Y,this.height),He=this.outputDestination};var Ii=function(x,M,te,ue,we){ji.push(new so),Ot=Y=0,Ue=[],nt=x,$n=M,Yt=we,wa([te,ue])};for(var qs in m.beginFormObject=function(x,M,te,ue,we){return Ii(x,M,te,ue,we),this},m.endFormObject=function(x){return(function(M){if(bs[M])ji.pop().restore();else{var te=new so,ue="Xo"+(Object.keys(Pr).length+1).toString(10);te.id=ue,bs[M]=ue,Pr[ue]=te,en.publish("addFormObject",te),ji.pop().restore()}})(x),this},m.doFormObject=function(x,M){var te=Pr[bs[x]];return Q("q"),Q(M.toString()+" cm"),Q("/"+te.id+" Do"),Q("Q"),this},m.getFormObject=function(x){var M=Pr[bs[x]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},m.save=function(x,M){return x=x||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(Ac(xs(bi()),x),typeof Ac.unload=="function"&&jt.setTimeout&&setTimeout(Ac.unload,911),this):new Promise(function(te,ue){try{var we=Ac(xs(bi()),x);typeof Ac.unload=="function"&&jt.setTimeout&&setTimeout(Ac.unload,911),te(we)}catch(Oe){ue(Oe.message)}})},ht.API)ht.API.hasOwnProperty(qs)&&(qs==="events"&&ht.API.events.length?(function(x,M){var te,ue,we;for(we=M.length-1;we!==-1;we--)te=M[we][0],ue=M[we][1],x.subscribe.apply(x,[te].concat(typeof ue=="function"?[ue]:ue))})(en,ht.API.events):m[qs]=ht.API[qs]);function _a(x){return yt[x].mediaBox.topRightX-yt[x].mediaBox.bottomLeftX}function Yl(x,M){yt[x].mediaBox.topRightX=M+yt[x].mediaBox.bottomLeftX}function ao(x){return yt[x].mediaBox.topRightY-yt[x].mediaBox.bottomLeftY}function Di(x,M){yt[x].mediaBox.topRightY=M+yt[x].mediaBox.bottomLeftY}var As=m.getPageWidth=function(x){return _a(x=x||Y)/At},Dr=m.setPageWidth=function(x,M){Yl(x,M*At)},Fi=m.getPageHeight=function(x){return ao(x=x||Y)/At},Zo=m.setPageHeight=function(x,M){Di(x,M*At)};return m.internal={pdfEscape:yi,getStyle:Go,getFont:ks,getFontSize:Ge,getCharSpace:Xo,getTextColor:ro,getLineHeight:Ns,getLineHeightFactor:Jc,getLineWidth:to,write:$e,getHorizontalCoordinate:_i,getVerticalCoordinate:Ws,getCoordinateString:Xc,getVerticalCoordinateString:Jo,collections:{},newObject:_n,newAdditionalObject:zs,newObjectDeferred:Vn,newObjectDeferredBegin:nr,getFilters:Ti,putStream:vi,events:en,scaleFactor:At,pageSize:{getWidth:function(){return As(Y)},setWidth:function(x){Dr(Y,x)},getHeight:function(){return Fi(Y)},setHeight:function(x){Zo(Y,x)}},encryptionOptions:d,encryption:fr,getEncryptor:function(x){return d!==null?fr.encryptor(x,0):function(M){return M}},output:Qa,getNumberOfPages:wi,get pages(){return Ue},out:Q,f2:I,f3:q,getPageInfo:ts,getPageInfoByObjId:ql,getCurrentPageInfo:Hl,getPDFVersion:k,Point:Mi,Rectangle:io,Matrix:wt,hasHotfix:Oi},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return As(Y)},set:function(x){Dr(Y,x)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Fi(Y)},set:function(x){Zo(Y,x)},enumerable:!0,configurable:!0}),(function(x){for(var M=0,te=mt.length;M<te;M++){var ue=Ho.call(this,x[M][0],x[M][1],x[M][2],mt[M][3],!0);g===!1&&(y[ue]=!0);var we=x[M][0].split("-");$c({id:ue,fontName:we[0],fontStyle:we[1]||""})}en.publish("addFonts",{fonts:Bt,dictionary:zt})}).call(m,mt),rt="F1",Vc(i,t),en.publish("initialized"),m}Mu.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Mu.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Mu.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Mu.prototype.processOwnerPassword=function(n,e){return o0(a0(e).substr(0,5),n)},Mu.prototype.encryptor=function(n,e){var t=a0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return o0(t,r)}},mp.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||wn(n)!==wn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},ht.API={events:[]},ht.version="4.0.0";var hr=ht.API,H0=1,Hc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ju=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Dt=function(n){return n.toFixed(2)},Al=function(n){return n.toFixed(5)};hr.__acroform__={};var Xi=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},n5=function(n){return n*H0},Ba=function(n){var e=new m_,t=tt.internal.getHeight(n)||0,r=tt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Dt(r)),Number(Dt(t))],e},IL=hr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},DL=hr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},FL=hr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},yr=hr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return FL(n,e-1)},wr=hr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return IL(n,e-1)},br=hr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return DL(n,e-1)},BL=hr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],l=n[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=r(s+l)||0,c.upperRight_X=t(i+o)||0,c.upperRight_Y=r(s)||0,[Number(Dt(c.lowerLeft_X)),Number(Dt(c.lowerLeft_Y)),Number(Dt(c.upperRight_X)),Number(Dt(c.upperRight_Y))]},UL=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=l0(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Dt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ba(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},l0=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var s=t,o=tt.internal.getHeight(n)||0;o=o<0?-o:o;var l=tt.internal.getWidth(n)||0;l=l<0?-l:l;var c=function(I,q,ne){if(I+1<i.length){var ie=q+" "+i[I+1][0];return Df(ie,n,ne).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var h,d,g=Df("3",n,s).height,y=n.multiline?o-s:(o-g)/2,m=y+=2,_=0,k=0,N=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Df(e,n,s=12).width+", FieldWidth:"+l+`
`;break}for(var P="",O=0,j=0;j<i.length;j++)if(i.hasOwnProperty(j)){var L=!1;if(i[j].length!==1&&N!==i[j].length-1){if((g+2)*(O+2)+2>o)continue e;P+=i[j][N],L=!0,k=j,j--}else{P=(P+=i[j][N]+" ").substr(P.length-1)==" "?P.substr(0,P.length-1):P;var D=parseInt(j),J=c(D,P,s),U=j>=i.length-1;if(J&&!U){P+=" ",N=0;continue}if(J||U){if(U)k=D;else if(n.multiline&&(g+2)*(O+2)+2>o)continue e}else{if(!n.multiline||(g+2)*(O+2)+2>o)continue e;k=D}}for(var H="",W=_;W<=k;W++){var re=i[W];if(n.multiline){if(W===k){H+=re[N]+" ",N=(N+1)%re.length;continue}if(W===_){H+=re[re.length-1]+" ";continue}}H+=re[0]+" "}switch(H=H.substr(H.length-1)==" "?H.substr(0,H.length-1):H,d=Df(H,n,s).width,n.textAlign){case"right":h=l-d-2;break;case"center":h=(l-d)/2;break;default:h=2}e+=Dt(h)+" "+Dt(m)+` Td
`,e+="("+Hc(H)+`) Tj
`,e+=-Dt(h)+` 0 Td
`,m=-(s+2),d=0,_=L?k:k+1,O++,P=""}break}return r.text=e,r.fontSize=s,r},Df=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},zL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},WL=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},qL=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(pa.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(zL)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");H0=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new v_,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&WL(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var l=r[o],c=[],h=l.Rect;if(l.Rect&&(l.Rect=BL(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=tt.createDefaultAppearanceStream(l),wn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=h,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=UL(l);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var g="";for(var y in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(y)){var m=l.appearanceStreamContent[y];if(g+="/"+y+" ",g+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var _=m[o];typeof _=="function"&&(_=_.call(i,l)),g+="/"+o+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=m)=="function"&&(_=_.call(i,l)),g+="/"+o+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);g+=">>"}c.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}s&&(function(k,N){for(var P in k)if(k.hasOwnProperty(P)){var O=P,j=k[P];N.internal.newObjectDeferredBegin(j.objId,!0),wn(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete k[O]}})(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},g_=hr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),wn(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Hc(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},mm=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Hc(r(n))+")"},qa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qa.prototype.toString=function(){return this.objId+" 0 R"},qa.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},qa.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:g_(i,this.objId,this.scope)}):i instanceof qa?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var m_=function(){qa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Xi(m_,qa);var v_=function(){qa.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Hc(t(n))+")"}},set:function(t){n=t}})};Xi(v_,qa);var pa=function n(){qa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute F supplied.');e=P}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!yr(e,3)},set:function(P){P?this.F=wr(e,3):this.F=br(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute Ff supplied.');t=P}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(P){r=P!==void 0?P:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(P){r[0]=P}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(P){r[1]=P}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(P){r[2]=P}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(P){r[3]=P}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(P){switch(P){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=P;break;default:throw new Error('Invalid value "'+P+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof vp)return;s="FieldObject"+n.FieldNum++}var P=function(O){return O};return this.scope&&(P=this.scope.internal.getEncryptor(this.objId)),"("+Hc(P(s))+")"},set:function(P){s=P.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(P){s=P}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(P){o=P}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(P){l=P}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(P){c=P}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/H0:h},set:function(P){h=P}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(P){d=P}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof vp||this instanceof Mc))return mm(g,this.objId,this.scope)},set:function(P){P=P.toString(),g=P}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof $r==0?mm(y,this.objId,this.scope):y},set:function(P){P=P.toString(),y=this instanceof $r==0?P.substr(0,1)==="("?ju(P.substr(1,P.length-2)):ju(P):P}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $r==1?ju(y.substr(1,y.length-1)):y},set:function(P){P=P.toString(),y=this instanceof $r==1?"/"+P:P}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(P){this.V=P}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof $r==0?mm(m,this.objId,this.scope):m},set:function(P){P=P.toString(),m=this instanceof $r==0?P.substr(0,1)==="("?ju(P.substr(1,P.length-2)):ju(P):P}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $r==1?ju(m.substr(1,m.length-1)):m},set:function(P){P=P.toString(),m=this instanceof $r==1?"/"+P:P}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(P){P=!!P,k=P}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(P){_=P}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,1)},set:function(P){P?this.Ff=wr(this.Ff,1):this.Ff=br(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,2)},set:function(P){P?this.Ff=wr(this.Ff,2):this.Ff=br(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,3)},set:function(P){P?this.Ff=wr(this.Ff,3):this.Ff=br(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(P){if([0,1,2].indexOf(P)===-1)throw new Error('Invalid value "'+P+'" for attribute Q supplied.');N=P}}),Object.defineProperty(this,"textAlign",{get:function(){var P;switch(N){case 0:default:P="left";break;case 1:P="center";break;case 2:P="right"}return P},configurable:!0,enumerable:!0,set:function(P){switch(P){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};Xi(pa,qa);var Hu=function(){pa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return g_(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(s,o,l){l||(l=1);for(var c,h=[];c=o.exec(s);)h.push(c[l]);return h})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,18)},set:function(t){t?this.Ff=wr(this.Ff,18):this.Ff=br(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=wr(this.Ff,19):this.Ff=br(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,20)},set:function(t){t?(this.Ff=wr(this.Ff,20),e.sort()):this.Ff=br(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,22)},set:function(t){t?this.Ff=wr(this.Ff,22):this.Ff=br(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,23)},set:function(t){t?this.Ff=wr(this.Ff,23):this.Ff=br(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,27)},set:function(t){t?this.Ff=wr(this.Ff,27):this.Ff=br(this.Ff,27)}}),this.hasAppearanceStream=!1};Xi(Hu,pa);var $u=function(){Hu.call(this),this.fontName="helvetica",this.combo=!1};Xi($u,Hu);var Vu=function(){$u.call(this),this.combo=!0};Xi(Vu,$u);var Vf=function(){Vu.call(this),this.edit=!0};Xi(Vf,Vu);var $r=function(){pa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,15)},set:function(t){t?this.Ff=wr(this.Ff,15):this.Ff=br(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,16)},set:function(t){t?this.Ff=wr(this.Ff,16):this.Ff=br(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,17)},set:function(t){t?this.Ff=wr(this.Ff,17):this.Ff=br(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,26)},set:function(t){t?this.Ff=wr(this.Ff,26):this.Ff=br(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Hc(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){wn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Xi($r,pa);var Gf=function(){$r.call(this),this.pushButton=!0};Xi(Gf,$r);var Gu=function(){$r.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Xi(Gu,$r);var vp=function(){var n,e;pa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Hc(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){wn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=tt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Xi(vp,pa),Gu.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Gu.prototype.createOption=function(n){var e=new vp;return e.Parent=this,e.optionName=n,this.Kids.push(e),HL.call(this.scope,e),e};var Kf=function(){$r.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=tt.CheckBox.createAppearanceStream()};Xi(Kf,$r);var Mc=function(){pa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,13)},set:function(e){e?this.Ff=wr(this.Ff,13):this.Ff=br(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,21)},set:function(e){e?this.Ff=wr(this.Ff,21):this.Ff=br(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,23)},set:function(e){e?this.Ff=wr(this.Ff,23):this.Ff=br(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,24)},set:function(e){e?this.Ff=wr(this.Ff,24):this.Ff=br(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,25)},set:function(e){e?this.Ff=wr(this.Ff,25):this.Ff=br(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,26)},set:function(e){e?this.Ff=wr(this.Ff,26):this.Ff=br(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Xi(Mc,pa);var Yf=function(){Mc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,14)},set:function(n){n?this.Ff=wr(this.Ff,14):this.Ff=br(this.Ff,14)}}),this.password=!0};Xi(Yf,Mc);var tt={CheckBox:{createAppearanceStream:function(){return{N:{On:tt.CheckBox.YesNormal},D:{On:tt.CheckBox.YesPushDown,Off:tt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Ba(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=l0(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Dt(tt.internal.getWidth(n))+" "+Dt(tt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Dt(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Ba(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=tt.internal.getHeight(n),o=tt.internal.getWidth(n),l=l0(n,n.caption);return i.push("1 g"),i.push("0 0 "+Dt(o)+" "+Dt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Dt(o-1)+" "+Dt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Dt(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Ba(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Dt(tt.internal.getWidth(n))+" "+Dt(tt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:tt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=tt.RadioButton.Circle.YesNormal,e.D[n]=tt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Ba(n);e.scope=n.scope;var t=[],r=tt.internal.getWidth(n)<=tt.internal.getHeight(n)?tt.internal.getWidth(n)/4:tt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=tt.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Al(tt.internal.getWidth(n)/2)+" "+Al(tt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ba(n);e.scope=n.scope;var t=[],r=tt.internal.getWidth(n)<=tt.internal.getHeight(n)?tt.internal.getWidth(n)/4:tt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*tt.internal.Bezier_C).toFixed(5)),o=Number((r*tt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Al(tt.internal.getWidth(n)/2)+" "+Al(tt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Al(tt.internal.getWidth(n)/2)+" "+Al(tt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Ba(n);e.scope=n.scope;var t=[],r=tt.internal.getWidth(n)<=tt.internal.getHeight(n)?tt.internal.getWidth(n)/4:tt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*tt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Al(tt.internal.getWidth(n)/2)+" "+Al(tt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:tt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=tt.RadioButton.Cross.YesNormal,e.D[n]=tt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Ba(n);e.scope=n.scope;var t=[],r=tt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Dt(tt.internal.getWidth(n)-2)+" "+Dt(tt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Dt(r.x1.x)+" "+Dt(r.x1.y)+" m"),t.push(Dt(r.x2.x)+" "+Dt(r.x2.y)+" l"),t.push(Dt(r.x4.x)+" "+Dt(r.x4.y)+" m"),t.push(Dt(r.x3.x)+" "+Dt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ba(n);e.scope=n.scope;var t=tt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Dt(tt.internal.getWidth(n))+" "+Dt(tt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Dt(tt.internal.getWidth(n)-2)+" "+Dt(tt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Dt(t.x1.x)+" "+Dt(t.x1.y)+" m"),r.push(Dt(t.x2.x)+" "+Dt(t.x2.y)+" l"),r.push(Dt(t.x4.x)+" "+Dt(t.x4.y)+" m"),r.push(Dt(t.x3.x)+" "+Dt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Ba(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Dt(tt.internal.getWidth(n))+" "+Dt(tt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};tt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=tt.internal.getWidth(n),t=tt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},tt.internal.getWidth=function(n){var e=0;return wn(n)==="object"&&(e=n5(n.Rect[2])),e},tt.internal.getHeight=function(n){var e=0;return wn(n)==="object"&&(e=n5(n.Rect[3])),e};var HL=hr.addField=function(n){if(qL(this,n),!(n instanceof pa))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};hr.AcroFormChoiceField=Hu,hr.AcroFormListBox=$u,hr.AcroFormComboBox=Vu,hr.AcroFormEditBox=Vf,hr.AcroFormButton=$r,hr.AcroFormPushButton=Gf,hr.AcroFormRadioButton=Gu,hr.AcroFormCheckBox=Kf,hr.AcroFormTextField=Mc,hr.AcroFormPasswordField=Yf,hr.AcroFormAppearance=tt,hr.AcroForm={ChoiceField:Hu,ListBox:$u,ComboBox:Vu,EditBox:Vf,Button:$r,PushButton:Gf,RadioButton:Gu,CheckBox:Kf,TextField:Mc,PasswordField:Yf,Appearance:tt},ht.AcroForm={ChoiceField:Hu,ListBox:$u,ComboBox:Vu,EditBox:Vf,Button:$r,PushButton:Gf,RadioButton:Gu,CheckBox:Kf,TextField:Mc,PasswordField:Yf,Appearance:tt};ht.AcroForm;function y_(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(I,q){var ne,ie,ve,be,he,$=t;if((q=q||t)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(J(I))for(he in r)for(ve=r[he],ne=0;ne<ve.length;ne+=1){for(be=!0,ie=0;ie<ve[ne].length;ie+=1)if(ve[ne][ie]!==void 0&&ve[ne][ie]!==I[ie]){be=!1;break}if(be===!0){$=he;break}}else for(he in r)for(ve=r[he],ne=0;ne<ve.length;ne+=1){for(be=!0,ie=0;ie<ve[ne].length;ie+=1)if(ve[ne][ie]!==void 0&&ve[ne][ie]!==I.charCodeAt(ie)){be=!1;break}if(be===!0){$=he;break}}return $===t&&q!==t&&($=q),$},s=function I(q){for(var ne=this.internal.write,ie=this.internal.putStream,ve=(0,this.internal.getFilters)();ve.indexOf("FlateEncode")!==-1;)ve.splice(ve.indexOf("FlateEncode"),1);q.objectId=this.internal.newObject();var be=[];if(be.push({key:"Type",value:"/XObject"}),be.push({key:"Subtype",value:"/Image"}),be.push({key:"Width",value:q.width}),be.push({key:"Height",value:q.height}),q.colorSpace===P.INDEXED?be.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(q.palette.length/3-1)+" "+("sMask"in q&&q.sMask!==void 0?q.objectId+2:q.objectId+1)+" 0 R]"}):(be.push({key:"ColorSpace",value:"/"+q.colorSpace}),q.colorSpace===P.DEVICE_CMYK&&be.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),be.push({key:"BitsPerComponent",value:q.bitsPerComponent}),"decodeParameters"in q&&q.decodeParameters!==void 0&&be.push({key:"DecodeParms",value:"<<"+q.decodeParameters+">>"}),"transparency"in q&&Array.isArray(q.transparency)&&q.transparency.length>0){for(var he="",$=0,se=q.transparency.length;$<se;$++)he+=q.transparency[$]+" "+q.transparency[$]+" ";be.push({key:"Mask",value:"["+he+"]"})}q.sMask!==void 0&&be.push({key:"SMask",value:q.objectId+1+" 0 R"});var le=q.filter!==void 0?["/"+q.filter]:void 0;if(ie({data:q.data,additionalKeyValues:be,alreadyAppliedFilters:le,objectId:q.objectId}),ne("endobj"),"sMask"in q&&q.sMask!==void 0){var K,T=(K=q.sMaskBitsPerComponent)!==null&&K!==void 0?K:q.bitsPerComponent,Y={width:q.width,height:q.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:q.sMask};"filter"in q&&(Y.decodeParameters="/Predictor ".concat(q.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(q.width),Y.filter=q.filter),I.call(this,Y)}if(q.colorSpace===P.INDEXED){var ee=this.internal.newObject();ie({data:H(new Uint8Array(q.palette)),objectId:ee}),ne("endobj")}},o=function(){var I=this.internal.collections[e+"images"];for(var q in I)s.call(this,I[q])},l=function(){var I,q=this.internal.collections[e+"images"],ne=this.internal.write;for(var ie in q)ne("/I"+(I=q[ie]).index,I.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},h=function(){var I=this.internal.collections[e+"images"];return c.call(this),I},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},g=function(I){return typeof n["process"+I.toUpperCase()]=="function"},y=function(I){return wn(I)==="object"&&I.nodeType===1},m=function(I,q){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var ne=""+I.getAttribute("src");if(ne.indexOf("data:image/")===0)return $f(unescape(ne).split("base64,").pop());var ie=n.loadFile(ne,!0);if(ie!==void 0)return ie}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var ve;switch(q){case"PNG":ve="image/png";break;case"WEBP":ve="image/webp";break;default:ve="image/jpeg"}return $f(I.toDataURL(ve,1).split("base64,").pop())}},_=function(I){var q=this.internal.collections[e+"images"];if(q){for(var ne in q)if(I===q[ne].alias)return q[ne]}},k=function(I,q,ne){return I||q||(I=-96,q=-96),I<0&&(I=-1*ne.width*72/I/this.internal.scaleFactor),q<0&&(q=-1*ne.height*72/q/this.internal.scaleFactor),I===0&&(I=q*ne.width/ne.height),q===0&&(q=I*ne.height/ne.width),[I,q]},N=function(I,q,ne,ie,ve,be){var he=k.call(this,ne,ie,ve),$=this.internal.getCoordinateString,se=this.internal.getVerticalCoordinateString,le=h.call(this);if(ne=he[0],ie=he[1],le[ve.index]=ve,be){be*=Math.PI/180;var K=Math.cos(be),T=Math.sin(be),Y=function(oe){return oe.toFixed(4)},ee=[Y(K),Y(T),Y(-1*T),Y(K),0,0,"cm"]}this.internal.write("q"),be?(this.internal.write([1,"0","0",1,$(I),se(q+ie),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([$(ne),"0","0",$(ie),"0","0","cm"].join(" "))):this.internal.write([$(ne),"0","0",$(ie),$(I),se(q+ie),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ve.index+" Do"),this.internal.write("Q")},P=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var O=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=n.__addimage__.sHashCode=function(I){var q,ne,ie=0;if(typeof I=="string")for(ne=I.length,q=0;q<ne;q++)ie=(ie<<5)-ie+I.charCodeAt(q),ie|=0;else if(J(I))for(ne=I.byteLength/2,q=0;q<ne;q++)ie=(ie<<5)-ie+I[q],ie|=0;return ie},L=n.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var q=!0;return I.length===0&&(q=!1),I.length%4!=0&&(q=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(q=!1),q},D=n.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var q=I.indexOf(",");return q<0?null:I.substring(0,q).trim().endsWith("base64")?I.substring(q+1):null};n.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var J=n.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},U=n.__addimage__.binaryStringToUint8Array=function(I){for(var q=I.length,ne=new Uint8Array(q),ie=0;ie<q;ie++)ne[ie]=I.charCodeAt(ie);return ne},H=n.__addimage__.arrayBufferToBinaryString=function(I){for(var q="",ne=J(I)?I:new Uint8Array(I),ie=0;ie<ne.length;ie+=8192)q+=String.fromCharCode.apply(null,ne.subarray(ie,ie+8192));return q};n.addImage=function(){var I,q,ne,ie,ve,be,he,$,se;if(typeof arguments[1]=="number"?(q=t,ne=arguments[1],ie=arguments[2],ve=arguments[3],be=arguments[4],he=arguments[5],$=arguments[6],se=arguments[7]):(q=arguments[1],ne=arguments[2],ie=arguments[3],ve=arguments[4],be=arguments[5],he=arguments[6],$=arguments[7],se=arguments[8]),wn(I=arguments[0])==="object"&&!y(I)&&"imageData"in I){var le=I;I=le.imageData,q=le.format||q||t,ne=le.x||ne||0,ie=le.y||ie||0,ve=le.w||le.width||ve,be=le.h||le.height||be,he=le.alias||he,$=le.compression||$,se=le.rotation||le.angle||se}var K=this.internal.getFilters();if($===void 0&&K.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(ne)||isNaN(ie))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var T=W.call(this,I,q,he,$);return N.call(this,ne,ie,ve,be,T,se),this};var W=function(I,q,ne,ie){var ve,be,he;if(typeof I=="string"&&i(I)===t){I=unescape(I);var $=re(I,!1);($!==""||($=n.loadFile(I,!0))!==void 0)&&(I=$)}if(y(I)&&(I=m(I,q)),q=i(I,q),!g(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(((he=ne)==null||he.length===0)&&(ne=(function(se){return typeof se=="string"||J(se)?j(se):J(se.data)?j(se.data):null})(I)),(ve=_.call(this,ne))||(I instanceof Uint8Array||q==="RGBA"||(be=I,I=U(I)),ve=this["process"+q.toUpperCase()](I,d.call(this),ne,(function(se){return se&&typeof se=="string"&&(se=se.toUpperCase()),se in n.image_compression?se:O.NONE})(ie),be)),!ve)throw new Error("An unknown error occurred whilst processing the image.");return ve},re=n.__addimage__.convertBase64ToBinaryString=function(I,q){q=typeof q!="boolean"||q;var ne,ie="";if(typeof I=="string"){var ve;ne=(ve=D(I))!==null&&ve!==void 0?ve:I;try{ie=$f(ne)}catch(be){if(q)throw L(ne)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+be.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ie};n.getImageProperties=function(I){var q,ne,ie="";if(y(I)&&(I=m(I)),typeof I=="string"&&i(I)===t&&((ie=re(I,!1))===""&&(ie=n.loadFile(I)||""),I=ie),ne=i(I),!g(ne))throw new Error("addImage does not support files of type '"+ne+"', please ensure that a plugin for '"+ne+"' support is added.");if(I instanceof Uint8Array||(I=U(I)),!(q=this["process"+ne.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return q.fileType=ne,q}})(ht.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};ht.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,d=!1,g=0;g<h.length&&!d;g++)switch((r=h[g]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var y=0;y<h.length;y++){r=h[y];var m=this.internal.pdfEscape,_=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),P=this.internal.getEncryptor(k.objId),O=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+m(P(r.contents))+")",s+=" /Popup "+N.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+m(P(O))+") >>",k.content=s;var j=k.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+j,r.open&&(s+=" /Open true"),s+=" >>",N.content=s,this.internal.write(k.objId,"0 R",N.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var L=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(_(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+L+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var D=this.annotations._nameMap[r.options.name];r.options.pageNumber=D.page,r.options.top=D.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(_(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var J=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+J+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(t),y:h(r),w:c(t+i),h:h(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,l,c=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var d=this.splitTextToSize(t,l).length;o=Math.ceil(h*d)}else l=c,o=h;return this.text(t,r,i,s),i+=.2*h,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-h,l,o,s),c},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(ht.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(k){return e[k.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},l=n.__arabicParser__.isArabicEndLetter=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(k){return o(k)&&i.indexOf(k.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length>=1};var h=n.__arabicParser__.arabicLetterHasFinalForm=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length>=3};var d=n.__arabicParser__.arabicLetterHasMedialForm=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length==4},g=n.__arabicParser__.resolveLigatures=function(k){var N=0,P=t,O="",j=0;for(N=0;N<k.length;N+=1)P[k.charCodeAt(N)]!==void 0?(j++,typeof(P=P[k.charCodeAt(N)])=="number"&&(O+=String.fromCharCode(P),P=t,j=0),N===k.length-1&&(P=t,O+=k.charAt(N-(j-1)),N-=j-1,j=0)):(P=t,O+=k.charAt(N-j),N-=j,j=0);return O};n.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&r[k.charCodeAt(0)]!==void 0};var y=n.__arabicParser__.getCorrectForm=function(k,N,P){return o(k)?s(k)===!1?-1:!h(k)||!o(N)&&!o(P)||!o(P)&&l(N)||l(k)&&!o(N)||l(k)&&c(N)||l(k)&&l(N)?0:d(k)&&o(N)&&!l(N)&&o(P)&&h(P)?3:l(k)||!o(P)?1:2:-1},m=function(k){var N=0,P=0,O=0,j="",L="",D="",J=(k=k||"").split("\\s+"),U=[];for(N=0;N<J.length;N+=1){for(U.push(""),P=0;P<J[N].length;P+=1)j=J[N][P],L=J[N][P-1],D=J[N][P+1],o(j)?(O=y(j,L,D),U[N]+=O!==-1?String.fromCharCode(e[j.charCodeAt(0)][O]):j):U[N]+=j;U[N]=g(U[N])}return U.join(" ")},_=n.__arabicParser__.processArabic=n.processArabic=function(){var k,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,P=[];if(Array.isArray(N)){var O=0;for(P=[],O=0;O<N.length;O+=1)Array.isArray(N[O])?P.push([m(N[O][0]),N[O][1],N[O][2]]):P.push([m(N[O])]);k=P}else k=m(N);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};n.events.push(["preProcessText",_])})(ht.API),ht.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(ht.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(k){c=k}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(k){h=k}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(k){d=k}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(k){g=k}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(k){y=k}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(k){m=k}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(k){_=k}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,h){r.call(this);var d=(h=h||{}).fontSize||this.getFontSize(),g=h.font||this.getFont(),y=h.scaleFactor||this.internal.scaleFactor,m=0,_=0,k=0,N=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var P=h.maxWidth;P>0?typeof c=="string"?c=this.splitTextToSize(c,P):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(j,L){return j.concat(N.splitTextToSize(L,P))},[])):c=Array.isArray(c)?c:[c];for(var O=0;O<c.length;O++)m<(k=this.getStringUnitWidth(c[O],{font:g})*d)&&(m=k);return m!==0&&(_=c.length),{w:m/=y,h:Math.max((_*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/y,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var h=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=g.top,m&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};n.table=function(c,h,d,g,y){if(r.call(this),!d)throw new Error("No data for PDF table.");var m,_,k,N,P=[],O=[],j=[],L={},D={},J=[],U=[],H=(y=y||{}).autoSize||!1,W=y.printHeaders!==!1,re=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,I=y.margins||Object.assign({width:this.getPageWidth()},e),q=typeof y.padding=="number"?y.padding:3,ne=y.headerBackgroundColor||"#c8c8c8",ie=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=W,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=re,this.internal.__cell__.padding=q,this.internal.__cell__.headerBackgroundColor=ne,this.internal.__cell__.headerTextColor=ie,this.setFontSize(re),g==null)O=P=Object.keys(d[0]),j=P.map(function(){return"left"});else if(Array.isArray(g)&&wn(g[0])==="object")for(P=g.map(function(le){return le.name}),O=g.map(function(le){return le.prompt||le.name||""}),j=g.map(function(le){return le.align||"left"}),m=0;m<g.length;m+=1)D[g[m].name]=.7499990551181103*g[m].width;else Array.isArray(g)&&typeof g[0]=="string"&&(O=P=g,j=P.map(function(){return"left"}));if(H||Array.isArray(g)&&typeof g[0]=="string")for(m=0;m<P.length;m+=1){for(L[N=P[m]]=d.map(function(le){return le[N]}),this.setFont(void 0,"bold"),J.push(this.getTextDimensions(O[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=L[N],this.setFont(void 0,"normal"),k=0;k<_.length;k+=1)J.push(this.getTextDimensions(_[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[N]=Math.max.apply(null,J)+q+q,J=[]}if(W){var ve={};for(m=0;m<P.length;m+=1)ve[P[m]]={},ve[P[m]].text=O[m],ve[P[m]].align=j[m];var be=l.call(this,ve,D);U=P.map(function(le){return new s(c,h,D[le],be,ve[le].text,void 0,ve[le].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var he=g.reduce(function(le,K){return le[K.name]=K.align,le},{});for(m=0;m<d.length;m+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:m,data:d[m]},this);var $=l.call(this,d[m],D);for(k=0;k<P.length;k+=1){var se=d[m][P[k]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:m,col:k,data:se},this),o.call(this,new s(c,h,D[P[k]],$,se,m+2,he[P[k]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var l=function(c,h){var d=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(m){var _=c[m];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,h[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*g/y+d+d},this).reduce(function(m,_){return Math.max(m,_)},0)};n.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),h&&(d.y=this.internal.__cell__.margins.top||0,y.push(d)),d.lineNumber=c;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(_)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),t=!1}})(ht.API);var w_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},b_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],c0=y_(b_),__=[100,200,300,400,500,600,700,800,900],$L=y_(__);function vm(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return w_[s=s||"normal"]?s:"normal"})(n.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(n.weight),i=(function(s){return typeof c0[s=s||"normal"]=="number"?s:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function r5(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var VL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},i5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function s5(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function a5(n){return n.trimLeft()}function GL(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function KL(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Ff,o5,l5,Lu,Bf,c5,u5,h5,ym=["times"];function d5(n,e,t,r,i){var s=4,o=p5;switch(i){case ht.API.image_compression.FAST:s=1,o=f5;break;case ht.API.image_compression.MEDIUM:s=6,o=g5;break;case ht.API.image_compression.SLOW:s=9,o=m5}n=(function(c,h,d,g){for(var y,m=c.length/h,_=new Uint8Array(c.length+m),k=[YL,f5,p5,g5,m5],N=0;N<m;N+=1){var P=N*h,O=c.subarray(P,P+h);if(g)_.set(g(O,d,y),P+N);else{for(var j=k.length,L=[],D=0;D<j;D+=1)L[D]=k[D](O,d,y);var J=XL(L.concat());_.set(L[J],P+N)}y=O}return _})(n,e,Math.ceil(t*r/8),o);var l=n0(n,{level:s});return ht.API.__addimage__.arrayBufferToBinaryString(l)}function YL(n){var e=Array.apply([],n);return e.unshift(0),e}function f5(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var s=n[i-e]||0;r[i+1]=n[i]-s+256&255}return r}function p5(n,e,t){var r=n.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=t&&t[s]||0;i[s+1]=n[s]-o+256&255}return i}function g5(n,e,t){var r=n.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=n[s-e]||0,l=t&&t[s]||0;i[s+1]=n[s]+256-(o+l>>>1)&255}return i}function m5(n,e,t){var r=n.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=JL(n[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=n[s]-o+256&255}return i}function JL(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),s=Math.abs(n+e-t-t);return r<=i&&r<=s?n:i<=s?e:t}function XL(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function wm(n,e,t){var r=e*t,i=Math.floor(r/8),s=16-(r-8*i+t),o=(1<<t)-1;return x_(n,i)>>s&o}function v5(n,e,t,r){var i=t*r,s=Math.floor(i/8),o=16-(i-8*s+r),l=(1<<r)-1,c=(e&l)<<o;(function(h,d,g){if(d+1<h.byteLength)h.setUint16(d,g,!1);else{var y=g>>8&255;h.setUint8(d,y)}})(n,s,x_(n,s)&~(l<<o)&65535|c)}function x_(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function QL(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,o=1<<1+(7&i);n[e++],n[e++];var l=null,c=null;s&&(l=e,c=o,e+=3*o);var h=!0,d=[],g=0,y=null,m=0,_=null;for(this.width=t,this.height=r;h&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,_=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var k=n[e++];g=n[e++]|n[e++]<<8,y=n[e++],1&k||(y=null),m=k>>2&7,e++;break;case 254:for(;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var N=n[e++]|n[e++]<<8,P=n[e++]|n[e++]<<8,O=n[e++]|n[e++]<<8,j=n[e++]|n[e++]<<8,L=n[e++],D=L>>6&1,J=1<<1+(7&L),U=l,H=c,W=!1;L>>7&&(W=!0,U=e,H=J,e+=3*J);var re=e;for(e++;;){var I;if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}d.push({x:N,y:P,width:O,height:j,has_local_palette:W,palette_offset:U,palette_size:H,data_offset:re,data_length:e-re,transparent_index:y,interlaced:!!D,delay:g,disposal:m});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return _},this.frameInfo=function(q){if(q<0||q>=d.length)throw new Error("Frame index out of range.");return d[q]},this.decodeAndBlitFrameBGRA=function(q,ne){var ie=this.frameInfo(q),ve=ie.width*ie.height,be=new Uint8Array(ve);y5(n,ie.data_offset,be,ve);var he=ie.palette_offset,$=ie.transparent_index;$===null&&($=256);var se=ie.width,le=t-se,K=se,T=4*(ie.y*t+ie.x),Y=4*((ie.y+ie.height)*t+ie.x),ee=T,oe=4*le;ie.interlaced===!0&&(oe+=4*t*7);for(var ce=8,ye=0,_e=be.length;ye<_e;++ye){var Ae=be[ye];if(K===0&&(K=se,(ee+=oe)>=Y&&(oe=4*le+4*t*(ce-1),ee=T+(se+le)*(ce<<1),ce>>=1)),Ae===$)ee+=4;else{var Te=n[he+3*Ae],Ue=n[he+3*Ae+1],Ve=n[he+3*Ae+2];ne[ee++]=Ve,ne[ee++]=Ue,ne[ee++]=Te,ne[ee++]=255}--K}},this.decodeAndBlitFrameRGBA=function(q,ne){var ie=this.frameInfo(q),ve=ie.width*ie.height,be=new Uint8Array(ve);y5(n,ie.data_offset,be,ve);var he=ie.palette_offset,$=ie.transparent_index;$===null&&($=256);var se=ie.width,le=t-se,K=se,T=4*(ie.y*t+ie.x),Y=4*((ie.y+ie.height)*t+ie.x),ee=T,oe=4*le;ie.interlaced===!0&&(oe+=4*t*7);for(var ce=8,ye=0,_e=be.length;ye<_e;++ye){var Ae=be[ye];if(K===0&&(K=se,(ee+=oe)>=Y&&(oe=4*le+4*t*(ce-1),ee=T+(se+le)*(ce<<1),ce>>=1)),Ae===$)ee+=4;else{var Te=n[he+3*Ae],Ue=n[he+3*Ae+1],Ve=n[he+3*Ae+2];ne[ee++]=Te,ne[ee++]=Ue,ne[ee++]=Ve,ne[ee++]=255}--K}}}function y5(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,l=o+1,c=i+1,h=(1<<c)-1,d=0,g=0,y=0,m=n[e++],_=new Int32Array(4096),k=null;;){for(;d<16&&m!==0;)g|=n[e++]<<d,d+=8,m===1?m=n[e++]:--m;if(d<c)break;var N=g&h;if(g>>=c,d-=c,N!==s){if(N===o)break;for(var P=N<l?N:k,O=0,j=P;j>s;)j=_[j]>>8,++O;var L=j;if(y+O+(P!==N?1:0)>r)return void Pn.log("Warning, gif stream longer than expected.");t[y++]=L;var D=y+=O;for(P!==N&&(t[y++]=L),j=P;O--;)j=_[j],t[--D]=255&j,j>>=8;k!==null&&l<4096&&(_[l++]=k<<8|L,l>=h+1&&c<12&&(++c,h=h<<1|1)),k=N}else l=o+1,h=(1<<(c=i+1))-1,k=null}return y!==r&&Pn.log("Warning, gif stream shorter than expected."),t}function bm(n){var e,t,r,i,s,o=Math.floor,l=new Array(64),c=new Array(64),h=new Array(64),d=new Array(64),g=new Array(65535),y=new Array(65535),m=new Array(64),_=new Array(64),k=[],N=0,P=7,O=new Array(64),j=new Array(64),L=new Array(64),D=new Array(256),J=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],H=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ne=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ve=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function be(T,Y){for(var ee=0,oe=0,ce=new Array,ye=1;ye<=16;ye++){for(var _e=1;_e<=T[ye];_e++)ce[Y[oe]]=[],ce[Y[oe]][0]=ee,ce[Y[oe]][1]=ye,oe++,ee++;ee*=2}return ce}function he(T){for(var Y=T[0],ee=T[1]-1;ee>=0;)Y&1<<ee&&(N|=1<<P),ee--,--P<0&&(N==255?($(255),$(0)):$(N),P=7,N=0)}function $(T){k.push(T)}function se(T){$(T>>8&255),$(255&T)}function le(T,Y,ee,oe,ce){for(var ye,_e=ce[0],Ae=ce[240],Te=(function(De,dt){var Ge,gt,ft,Zt,Wt,Lt,qt,Ut,rt,At,nt=0;for(rt=0;rt<8;++rt){Ge=De[nt],gt=De[nt+1],ft=De[nt+2],Zt=De[nt+3],Wt=De[nt+4],Lt=De[nt+5],qt=De[nt+6];var $n=Ge+(Ut=De[nt+7]),Yt=Ge-Ut,Bt=gt+qt,zt=gt-qt,bn=ft+Lt,pt=ft-Lt,cn=Zt+Wt,vt=Zt-Wt,Ct=$n+cn,on=$n-cn,Ot=Bt+bn,yt=Bt-bn;De[nt]=Ct+Ot,De[nt+4]=Ct-Ot;var en=.707106781*(yt+on);De[nt+2]=on+en,De[nt+6]=on-en;var ma=.382683433*((Ct=vt+pt)-(yt=zt+Yt)),Pr=.5411961*Ct+ma,bs=1.306562965*yt+ma,ji=.707106781*(Ot=pt+zt),wt=Yt+ji,mi=Yt-ji;De[nt+5]=mi+Pr,De[nt+3]=mi-Pr,De[nt+1]=wt+bs,De[nt+7]=wt-bs,nt+=8}for(nt=0,rt=0;rt<8;++rt){Ge=De[nt],gt=De[nt+8],ft=De[nt+16],Zt=De[nt+24],Wt=De[nt+32],Lt=De[nt+40],qt=De[nt+48];var Qi=Ge+(Ut=De[nt+56]),Ir=Ge-Ut,Li=gt+qt,_n=gt-qt,Vn=ft+Lt,nr=ft-Lt,zs=Zt+Wt,va=Zt-Wt,Zi=Qi+zs,_s=Qi-zs,Cr=Li+Vn,Ti=Li-Vn;De[nt]=Zi+Cr,De[nt+32]=Zi-Cr;var vi=.707106781*(Ti+_s);De[nt+16]=_s+vi,De[nt+48]=_s-vi;var Ga=.382683433*((Zi=va+nr)-(Ti=_n+Ir)),es=.5411961*Zi+Ga,ya=1.306562965*Ti+Ga,Ka=.707106781*(Cr=nr+_n),Ya=Ir+Ka,qo=Ir-Ka;De[nt+40]=qo+es,De[nt+24]=qo-es,De[nt+8]=Ya+ya,De[nt+56]=Ya-ya,nt++}for(rt=0;rt<64;++rt)At=De[rt]*dt[rt],m[rt]=At>0?At+.5|0:At-.5|0;return m})(T,Y),Ue=0;Ue<64;++Ue)_[U[Ue]]=Te[Ue];var Ve=_[0]-ee;ee=_[0],Ve==0?he(oe[0]):(he(oe[y[ye=32767+Ve]]),he(g[ye]));for(var He=63;He>0&&_[He]==0;)He--;if(He==0)return he(_e),ee;for(var ct,Q=1;Q<=He;){for(var $e=Q;_[Q]==0&&Q<=He;)++Q;var Mt=Q-$e;if(Mt>=16){ct=Mt>>4;for(var mt=1;mt<=ct;++mt)he(Ae);Mt&=15}ye=32767+_[Q],he(ce[(Mt<<4)+y[ye]]),he(g[ye]),Q++}return He!=63&&he(_e),ee}function K(T){T=Math.min(Math.max(T,1),100),s!=T&&((function(Y){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var ce=o((ee[oe]*Y+50)/100);ce=Math.min(Math.max(ce,1),255),l[U[oe]]=ce}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var Ae=o((ye[_e]*Y+50)/100);Ae=Math.min(Math.max(Ae,1),255),c[U[_e]]=Ae}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ue=0,Ve=0;Ve<8;Ve++)for(var He=0;He<8;He++)h[Ue]=1/(l[U[Ue]]*Te[Ve]*Te[He]*8),d[Ue]=1/(c[U[Ue]]*Te[Ve]*Te[He]*8),Ue++})(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),s=T)}this.encode=function(T,Y){Y&&K(Y),k=new Array,N=0,P=7,se(65496),se(65504),se(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),se(1),se(1),$(0),$(0),(function(){se(65499),se(132),$(0);for(var gt=0;gt<64;gt++)$(l[gt]);$(1);for(var ft=0;ft<64;ft++)$(c[ft])})(),(function(gt,ft){se(65472),se(17),$(8),se(ft),se(gt),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)})(T.width,T.height),(function(){se(65476),se(418),$(0);for(var gt=0;gt<16;gt++)$(H[gt+1]);for(var ft=0;ft<=11;ft++)$(W[ft]);$(16);for(var Zt=0;Zt<16;Zt++)$(re[Zt+1]);for(var Wt=0;Wt<=161;Wt++)$(I[Wt]);$(1);for(var Lt=0;Lt<16;Lt++)$(q[Lt+1]);for(var qt=0;qt<=11;qt++)$(ne[qt]);$(17);for(var Ut=0;Ut<16;Ut++)$(ie[Ut+1]);for(var rt=0;rt<=161;rt++)$(ve[rt])})(),se(65498),se(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var ee=0,oe=0,ce=0;N=0,P=7,this.encode.displayName="_encode_";for(var ye,_e,Ae,Te,Ue,Ve,He,ct,Q,$e=T.data,Mt=T.width,mt=T.height,De=4*Mt,dt=0;dt<mt;){for(ye=0;ye<De;){for(Ue=De*dt+ye,He=-1,ct=0,Q=0;Q<64;Q++)Ve=Ue+(ct=Q>>3)*De+(He=4*(7&Q)),dt+ct>=mt&&(Ve-=De*(dt+1+ct-mt)),ye+He>=De&&(Ve-=ye+He-De+4),_e=$e[Ve++],Ae=$e[Ve++],Te=$e[Ve++],O[Q]=(J[_e]+J[Ae+256|0]+J[Te+512|0]>>16)-128,j[Q]=(J[_e+768|0]+J[Ae+1024|0]+J[Te+1280|0]>>16)-128,L[Q]=(J[_e+1280|0]+J[Ae+1536|0]+J[Te+1792|0]>>16)-128;ee=le(O,h,ee,e,r),oe=le(j,d,oe,t,i),ce=le(L,d,ce,t,i),ye+=32}dt+=8}if(P>=0){var Ge=[];Ge[1]=P+1,Ge[0]=(1<<P+1)-1,he(Ge)}return se(65497),new Uint8Array(k)},n=n||50,(function(){for(var T=String.fromCharCode,Y=0;Y<256;Y++)D[Y]=T(Y)})(),e=be(H,W),t=be(q,ne),r=be(re,I),i=be(ie,ve),(function(){for(var T=1,Y=2,ee=1;ee<=15;ee++){for(var oe=T;oe<Y;oe++)y[32767+oe]=ee,g[32767+oe]=[],g[32767+oe][1]=ee,g[32767+oe][0]=oe;for(var ce=-(Y-1);ce<=-T;ce++)y[32767+ce]=ee,g[32767+ce]=[],g[32767+ce][1]=ee,g[32767+ce][0]=Y-1+ce;T<<=1,Y<<=1}})(),(function(){for(var T=0;T<256;T++)J[T]=19595*T,J[T+256|0]=38470*T,J[T+512|0]=7471*T+32768,J[T+768|0]=-11059*T,J[T+1024|0]=-21709*T,J[T+1280|0]=32768*T+8421375,J[T+1536|0]=-27439*T,J[T+1792|0]=-5329*T})(),K(n)}function aa(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function w5(n){function e(W){if(!W)throw Error("assert :P")}function t(W,re,I){for(var q=0;4>q;q++)if(W[re+q]!=I.charCodeAt(q))return!0;return!1}function r(W,re,I,q,ne){for(var ie=0;ie<ne;ie++)W[re+ie]=I[q+ie]}function i(W,re,I,q){for(var ne=0;ne<q;ne++)W[re+ne]=I}function s(W){return new Int32Array(W)}function o(W,re){for(var I=[],q=0;q<W;q++)I.push(new re);return I}function l(W,re){var I=[];return(function q(ne,ie,ve){for(var be=ve[ie],he=0;he<be&&(ne.push(ve.length>ie+1?[]:new re),!(ve.length<ie+1));he++)q(ne[he],ie+1,ve)})(I,0,W),I}var c=function(){var W=this;function re(p,w){for(var A=1<<w-1>>>0;p&A;)A>>>=1;return A?(p&A-1)+A:p}function I(p,w,A,E,R){e(!(E%A));do p[w+(E-=A)]=R;while(0<E)}function q(p,w,A,E,R){if(e(2328>=R),512>=R)var B=s(512);else if((B=s(R))==null)return 0;return(function(z,V,G,X,fe,Se){var Z,ge,xe=V,Le=1<<G,Ne=s(16),Ee=s(16);for(e(fe!=0),e(X!=null),e(z!=null),e(0<G),ge=0;ge<fe;++ge){if(15<X[ge])return 0;++Ne[X[ge]]}if(Ne[0]==fe)return 0;for(Ee[1]=0,Z=1;15>Z;++Z){if(Ne[Z]>1<<Z)return 0;Ee[Z+1]=Ee[Z]+Ne[Z]}for(ge=0;ge<fe;++ge)Z=X[ge],0<X[ge]&&(Se[Ee[Z]++]=ge);if(Ee[15]==1)return(X=new ne).g=0,X.value=Se[0],I(z,xe,1,Le,X),Le;var je,Re=-1,Me=Le-1,at=0,Ye=1,Rt=1,Ze=1<<G;for(ge=0,Z=1,fe=2;Z<=G;++Z,fe<<=1){if(Ye+=Rt<<=1,0>(Rt-=Ne[Z]))return 0;for(;0<Ne[Z];--Ne[Z])(X=new ne).g=Z,X.value=Se[ge++],I(z,xe+at,fe,Ze,X),at=re(at,Z)}for(Z=G+1,fe=2;15>=Z;++Z,fe<<=1){if(Ye+=Rt<<=1,0>(Rt-=Ne[Z]))return 0;for(;0<Ne[Z];--Ne[Z]){if(X=new ne,(at&Me)!=Re){for(xe+=Ze,je=1<<(Re=Z)-G;15>Re&&!(0>=(je-=Ne[Re]));)++Re,je<<=1;Le+=Ze=1<<(je=Re-G),z[V+(Re=at&Me)].g=je+G,z[V+Re].value=xe-V-Re}X.g=Z-G,X.value=Se[ge++],I(z,xe+(at>>G),fe,Ze,X),at=re(at,Z)}}return Ye!=2*Ee[15]-1?0:Le})(p,w,A,E,R,B)}function ne(){this.value=this.g=0}function ie(){this.value=this.g=0}function ve(){this.G=o(5,ne),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Bi,ie)}function be(p,w,A,E){e(p!=null),e(w!=null),e(2147483648>E),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=w,p.pa=A,p.Jd=w,p.Yc=A+E,p.Zc=4<=E?A+E-4+1:A,_e(p)}function he(p,w){for(var A=0;0<w--;)A|=Te(p,128)<<w;return A}function $(p,w){var A=he(p,w);return Ae(p)?-A:A}function se(p,w,A,E){var R,B=0;for(e(p!=null),e(w!=null),e(4294967288>E),p.Sb=E,p.Ra=0,p.u=0,p.h=0,4<E&&(E=4),R=0;R<E;++R)B+=w[A+R]<<8*R;p.Ra=B,p.bb=E,p.oa=w,p.pa=A}function le(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Aa-8>>>0,++p.bb,p.u-=8;oe(p)&&(p.h=1,p.u=0)}function K(p,w){if(e(0<=w),!p.h&&w<=ki){var A=ee(p)&Si[w];return p.u+=w,le(p),A}return p.h=1,p.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(p){return p.Ra>>>(p.u&Aa-1)>>>0}function oe(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Aa}function ce(p,w){p.u=w,p.h=oe(p)}function ye(p){p.u>=Cs&&(e(p.u>=Cs),le(p))}function _e(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Ae(p){return he(p,1)}function Te(p,w){var A=p.Ca;0>p.b&&_e(p);var E=p.b,R=A*w>>>8,B=(p.I>>>E>R)+0;for(B?(A-=R,p.I-=R+1<<E>>>0):A=R+1,E=A,R=0;256<=E;)R+=8,E>>=8;return E=7^R+Gs[E],p.b-=E,p.Ca=(A<<E)-1,B}function Ue(p,w,A){p[w+0]=A>>24&255,p[w+1]=A>>16&255,p[w+2]=A>>8&255,p[w+3]=255&A}function Ve(p,w){return p[w+0]|p[w+1]<<8}function He(p,w){return Ve(p,w)|p[w+2]<<16}function ct(p,w){return Ve(p,w)|Ve(p,w+2)<<16}function Q(p,w){var A=1<<w;return e(p!=null),e(0<w),p.X=s(A),p.X==null?0:(p.Mb=32-w,p.Xa=w,1)}function $e(p,w){e(p!=null),e(w!=null),e(p.Xa==w.Xa),r(w.X,0,p.X,0,1<<w.Xa)}function Mt(){this.X=[],this.Xa=this.Mb=0}function mt(p,w,A,E){e(A!=null),e(E!=null);var R=A[0],B=E[0];return R==0&&(R=(p*B+w/2)/w),B==0&&(B=(w*R+p/2)/p),0>=R||0>=B?0:(A[0]=R,E[0]=B,1)}function De(p,w){return p+(1<<w)-1>>>w}function dt(p,w){return((4278255360&p)+(4278255360&w)>>>0&4278255360)+((16711935&p)+(16711935&w)>>>0&16711935)>>>0}function Ge(p,w){W[w]=function(A,E,R,B,z,V,G){var X;for(X=0;X<z;++X){var fe=W[p](V[G+X-1],R,B+X);V[G+X]=dt(A[E+X],fe)}}}function gt(){this.ud=this.hd=this.jd=0}function ft(p,w){return((4278124286&(p^w))>>>1)+(p&w)>>>0}function Zt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Wt(p,w){return Zt(p+(p-w+.5>>1))}function Lt(p,w,A){return Math.abs(w-A)-Math.abs(p-A)}function qt(p,w,A,E,R,B,z){for(E=B[z-1],A=0;A<R;++A)B[z+A]=E=dt(p[w+A],E)}function Ut(p,w,A,E,R){var B;for(B=0;B<A;++B){var z=p[w+B],V=z>>8&255,G=16711935&(G=(G=16711935&z)+((V<<16)+V));E[R+B]=(4278255360&z)+G>>>0}}function rt(p,w){w.jd=255&p,w.hd=p>>8&255,w.ud=p>>16&255}function At(p,w,A,E,R,B){var z;for(z=0;z<E;++z){var V=w[A+z],G=V>>>8,X=V,fe=255&(fe=(fe=V>>>16)+((p.jd<<24>>24)*(G<<24>>24)>>>5));X=255&(X=(X+=(p.hd<<24>>24)*(G<<24>>24)>>>5)+((p.ud<<24>>24)*(fe<<24>>24)>>>5)),R[B+z]=(4278255360&V)+(fe<<16)+X}}function nt(p,w,A,E,R){W[w]=function(B,z,V,G,X,fe,Se,Z,ge){for(G=Se;G<Z;++G)for(Se=0;Se<ge;++Se)X[fe++]=R(V[E(B[z++])])},W[p]=function(B,z,V,G,X,fe,Se){var Z=8>>B.b,ge=B.Ea,xe=B.K[0],Le=B.w;if(8>Z)for(B=(1<<B.b)-1,Le=(1<<Z)-1;z<V;++z){var Ne,Ee=0;for(Ne=0;Ne<ge;++Ne)Ne&B||(Ee=E(G[X++])),fe[Se++]=R(xe[Ee&Le]),Ee>>=Z}else W["VP8LMapColor"+A](G,X,xe,Le,fe,Se,z,V,ge)}}function $n(p,w,A,E,R){for(A=w+A;w<A;){var B=p[w++];E[R++]=B>>16&255,E[R++]=B>>8&255,E[R++]=255&B}}function Yt(p,w,A,E,R){for(A=w+A;w<A;){var B=p[w++];E[R++]=B>>16&255,E[R++]=B>>8&255,E[R++]=255&B,E[R++]=B>>24&255}}function Bt(p,w,A,E,R){for(A=w+A;w<A;){var B=(z=p[w++])>>16&240|z>>12&15,z=240&z|z>>28&15;E[R++]=B,E[R++]=z}}function zt(p,w,A,E,R){for(A=w+A;w<A;){var B=(z=p[w++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;E[R++]=B,E[R++]=z}}function bn(p,w,A,E,R){for(A=w+A;w<A;){var B=p[w++];E[R++]=255&B,E[R++]=B>>8&255,E[R++]=B>>16&255}}function pt(p,w,A,E,R,B){if(B==0)for(A=w+A;w<A;)Ue(E,((B=p[w++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),R+=32;else r(E,R,p,w,A)}function cn(p,w){W[w][0]=W[p+"0"],W[w][1]=W[p+"1"],W[w][2]=W[p+"2"],W[w][3]=W[p+"3"],W[w][4]=W[p+"4"],W[w][5]=W[p+"5"],W[w][6]=W[p+"6"],W[w][7]=W[p+"7"],W[w][8]=W[p+"8"],W[w][9]=W[p+"9"],W[w][10]=W[p+"10"],W[w][11]=W[p+"11"],W[w][12]=W[p+"12"],W[w][13]=W[p+"13"],W[w][14]=W[p+"0"],W[w][15]=W[p+"0"]}function vt(p){return p==ll||p==wo||p==rc||p==ic}function Ct(){this.eb=[],this.size=this.A=this.fb=0}function on(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ot(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ct,this.f.kb=new on,this.sd=null}function yt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function en(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ma(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Pr(p,w){var A=p.T,E=w.ba.f.RGBA,R=E.eb,B=E.fb+p.ka*E.A,z=si[w.ba.S],V=p.y,G=p.O,X=p.f,fe=p.N,Se=p.ea,Z=p.W,ge=w.cc,xe=w.dc,Le=w.Mc,Ne=w.Nc,Ee=p.ka,je=p.ka+p.T,Re=p.U,Me=Re+1>>1;for(Ee==0?z(V,G,null,null,X,fe,Se,Z,X,fe,Se,Z,R,B,null,null,Re):(z(w.ec,w.fc,V,G,ge,xe,Le,Ne,X,fe,Se,Z,R,B-E.A,R,B,Re),++A);Ee+2<je;Ee+=2)ge=X,xe=fe,Le=Se,Ne=Z,fe+=p.Rc,Z+=p.Rc,B+=2*E.A,z(V,(G+=2*p.fa)-p.fa,V,G,ge,xe,Le,Ne,X,fe,Se,Z,R,B-E.A,R,B,Re);return G+=p.fa,p.j+je<p.o?(r(w.ec,w.fc,V,G,Re),r(w.cc,w.dc,X,fe,Me),r(w.Mc,w.Nc,Se,Z,Me),A--):1&je||z(V,G,null,null,X,fe,Se,Z,X,fe,Se,Z,R,B+E.A,null,null,Re),A}function bs(p,w,A){var E=p.F,R=[p.J];if(E!=null){var B=p.U,z=w.ba.S,V=z==nc||z==rc;w=w.ba.f.RGBA;var G=[0],X=p.ka;G[0]=p.T,p.Kb&&(X==0?--G[0]:(--X,R[0]-=p.width),p.j+p.ka+p.T==p.o&&(G[0]=p.o-p.j-X));var fe=w.eb;X=w.fb+X*w.A,p=ec(E,R[0],p.width,B,G,fe,X+(V?0:3),w.A),e(A==G),p&&vt(z)&&yo(fe,X,V,B,G,w.A)}return 0}function ji(p){var w=p.ma,A=w.ba.S,E=11>A,R=A==ja||A==tc||A==nc||A==fn||A==12||vt(A);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!tl(w.Oa,p,R?11:12))return 0;if(R&&vt(A)&&oo(),p.da)alert("todo:use_scaling");else{if(E){if(w.Ib=ma,p.Kb){if(A=p.U+1>>1,w.memory=s(p.U+2*A),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+p.U,w.Mc=w.cc,w.Nc=w.dc+A,w.Ib=Pr,oo()}}else alert("todo:EmitYUV");R&&(w.Jb=bs,E&&rs())}if(E&&!Lr){for(p=0;256>p;++p)ai[p]=89858*(p-128)+os>>Xs,oi[p]=-22014*(p-128)+os,dl[p]=-45773*(p-128),So[p]=113618*(p-128)+os>>Xs;for(p=ln;p<hn;++p)w=76283*(p-16)+os>>Xs,su[p-ln]=rr(w,255),Od[p-ln]=rr(w+8>>4,15);Lr=1}return 1}function wt(p){var w=p.ma,A=p.U,E=p.T;return e(!(1&p.ka)),0>=A||0>=E?0:(A=w.Ib(p,w),w.Jb!=null&&w.Jb(p,w,A),w.Dc+=A,1)}function mi(p){p.ma.memory=null}function Qi(p,w,A,E){return K(p,8)!=47?0:(w[0]=K(p,14)+1,A[0]=K(p,14)+1,E[0]=K(p,1),K(p,3)!=0?0:!p.h)}function Ir(p,w){if(4>p)return p+1;var A=p-2>>1;return(2+(1&p)<<A)+K(w,A)+1}function Li(p,w){return 120<w?w-120:1<=(A=((A=Hp[w-1])>>4)*p+(8-(15&A)))?A:1;var A}function _n(p,w,A){var E=ee(A),R=p[w+=255&E].g-8;return 0<R&&(ce(A,A.u+8),E=ee(A),w+=p[w].value,w+=E&(1<<R)-1),ce(A,A.u+p[w].g),p[w].value}function Vn(p,w,A){return A.g+=p.g,A.value+=p.value<<w>>>0,e(8>=A.g),p.g}function nr(p,w,A){var E=p.xc;return e((w=E==0?0:p.vc[p.md*(A>>E)+(w>>E)])<p.Wb),p.Ya[w]}function zs(p,w,A,E){var R=p.ab,B=p.c*w,z=p.C;w=z+w;var V=A,G=E;for(E=p.Ta,A=p.Ua;0<R--;){var X=p.gc[R],fe=z,Se=w,Z=V,ge=G,xe=(G=E,V=A,X.Ea);switch(e(fe<Se),e(Se<=X.nc),X.hc){case 2:Kn(Z,ge,(Se-fe)*xe,G,V);break;case 0:var Le=fe,Ne=Se,Ee=G,je=V,Re=(Ze=X).Ea;Le==0&&(Ks(Z,ge,null,null,1,Ee,je),qt(Z,ge+1,0,0,Re-1,Ee,je+1),ge+=Re,je+=Re,++Le);for(var Me=1<<Ze.b,at=Me-1,Ye=De(Re,Ze.b),Rt=Ze.K,Ze=Ze.w+(Le>>Ze.b)*Ye;Le<Ne;){var $t=Rt,zn=Ze,It=1;for(Es(Z,ge,Ee,je-Re,1,Ee,je);It<Re;){var Je=(It&~at)+Me;Je>Re&&(Je=Re),(0,po[$t[zn++]>>8&15])(Z,ge+ +It,Ee,je+It-Re,Je-It,Ee,je+It),It=Je}ge+=Re,je+=Re,++Le&at||(Ze+=Ye)}Se!=X.nc&&r(G,V-xe,G,V+(Se-fe-1)*xe,xe);break;case 1:for(xe=Z,Ne=ge,Re=(Z=X.Ea)-(je=Z&~(Ee=(ge=1<<X.b)-1)),Le=De(Z,X.b),Me=X.K,X=X.w+(fe>>X.b)*Le;fe<Se;){for(at=Me,Ye=X,Rt=new gt,Ze=Ne+je,$t=Ne+Z;Ne<Ze;)rt(at[Ye++],Rt),rl(Rt,xe,Ne,ge,G,V),Ne+=ge,V+=ge;Ne<$t&&(rt(at[Ye++],Rt),rl(Rt,xe,Ne,Re,G,V),Ne+=Re,V+=Re),++fe&Ee||(X+=Le)}break;case 3:if(Z==G&&ge==V&&0<X.b){for(Ne=G,Z=xe=V+(Se-fe)*xe-(je=(Se-fe)*De(X.Ea,X.b)),ge=G,Ee=V,Le=[],je=(Re=je)-1;0<=je;--je)Le[je]=ge[Ee+je];for(je=Re-1;0<=je;--je)Ne[Z+je]=Le[je];ho(X,fe,Se,G,xe,G,V)}else ho(X,fe,Se,Z,ge,G,V)}V=E,G=A}G!=A&&r(E,A,V,G,B)}function va(p,w){var A=p.V,E=p.Ba+p.c*p.C,R=w-p.C;if(e(w<=p.l.o),e(16>=R),0<R){var B=p.l,z=p.Ta,V=p.Ua,G=B.width;if(zs(p,R,A,E),R=V=[V],e((A=p.C)<(E=w)),e(B.v<B.va),E>B.o&&(E=B.o),A<B.j){var X=B.j-A;A=B.j,R[0]+=X*G}if(A>=E?A=0:(R[0]+=4*B.v,B.ka=A-B.j,B.U=B.va-B.v,B.T=E-A,A=1),A){if(V=V[0],11>(A=p.ca).S){var fe=A.f.RGBA,Se=(E=A.S,R=B.U,B=B.T,X=fe.eb,fe.A),Z=B;for(fe=fe.fb+p.Ma*fe.A;0<Z--;){var ge=z,xe=V,Le=R,Ne=X,Ee=fe;switch(E){case tu:il(ge,xe,Le,Ne,Ee);break;case ja:Ys(ge,xe,Le,Ne,Ee);break;case ll:Ys(ge,xe,Le,Ne,Ee),yo(Ne,Ee,0,Le,1,0);break;case Cd:go(ge,xe,Le,Ne,Ee);break;case tc:pt(ge,xe,Le,Ne,Ee,1);break;case wo:pt(ge,xe,Le,Ne,Ee,1),yo(Ne,Ee,0,Le,1,0);break;case nc:pt(ge,xe,Le,Ne,Ee,0);break;case rc:pt(ge,xe,Le,Ne,Ee,0),yo(Ne,Ee,1,Le,1,0);break;case fn:Pa(ge,xe,Le,Ne,Ee);break;case ic:Pa(ge,xe,Le,Ne,Ee),uh(Ne,Ee,Le,1,0);break;case nu:Ca(ge,xe,Le,Ne,Ee);break;default:e(0)}V+=G,fe+=Se}p.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=A.height)}}p.C=w,e(p.C<=p.i)}function Zi(p){var w;if(0<p.ua)return 0;for(w=0;w<p.Wb;++w){var A=p.Ya[w].G,E=p.Ya[w].H;if(0<A[1][E[1]+0].g||0<A[2][E[2]+0].g||0<A[3][E[3]+0].g)return 0}return 1}function _s(p,w,A,E,R,B){if(p.Z!=0){var z=p.qd,V=p.rd;for(e(Fr[p.Z]!=null);w<A;++w)Fr[p.Z](z,V,E,R,E,R,B),z=E,V=R,R+=B;p.qd=z,p.rd=V}}function Cr(p,w){var A=p.l.ma,E=A.Z==0||A.Z==1?p.l.j:p.C;if(E=p.C<E?E:p.C,e(w<=p.l.o),w>E){var R=p.l.width,B=A.ca,z=A.tb+R*E,V=p.V,G=p.Ba+p.c*E,X=p.gc;e(p.ab==1),e(X[0].hc==3),ss(X[0],E,w,V,G,B,z),_s(A,E,w,B,z,R)}p.C=p.Ma=w}function Ti(p,w,A,E,R,B,z){var V=p.$/E,G=p.$%E,X=p.m,fe=p.s,Se=A+p.$,Z=Se;R=A+E*R;var ge=A+E*B,xe=280+fe.ua,Le=p.Pb?V:16777216,Ne=0<fe.ua?fe.Wa:null,Ee=fe.wc,je=Se<ge?nr(fe,G,V):null;e(p.C<B),e(ge<=R);var Re=!1;e:for(;;){for(;Re||Se<ge;){var Me=0;if(V>=Le){var at=Se-A;e((Le=p).Pb),Le.wd=Le.m,Le.xd=at,0<Le.s.ua&&$e(Le.s.Wa,Le.s.vb),Le=V+iu}if(G&Ee||(je=nr(fe,G,V)),e(je!=null),je.Qb&&(w[Se]=je.qb,Re=!0),!Re)if(ye(X),je.jc){Me=X,at=w;var Ye=Se,Rt=je.pd[ee(Me)&Bi-1];e(je.jc),256>Rt.g?(ce(Me,Me.u+Rt.g),at[Ye]=Rt.value,Me=0):(ce(Me,Me.u+Rt.g-256),e(256<=Rt.value),Me=Rt.value),Me==0&&(Re=!0)}else Me=_n(je.G[0],je.H[0],X);if(X.h)break;if(Re||256>Me){if(!Re)if(je.nd)w[Se]=(je.qb|Me<<8)>>>0;else{if(ye(X),Re=_n(je.G[1],je.H[1],X),ye(X),at=_n(je.G[2],je.H[2],X),Ye=_n(je.G[3],je.H[3],X),X.h)break;w[Se]=(Ye<<24|Re<<16|Me<<8|at)>>>0}if(Re=!1,++Se,++G>=E&&(G=0,++V,z!=null&&V<=B&&!(V%16)&&z(p,V),Ne!=null))for(;Z<Se;)Me=w[Z++],Ne.X[(506832829*Me&4294967295)>>>Ne.Mb]=Me}else if(280>Me){if(Me=Ir(Me-256,X),at=_n(je.G[4],je.H[4],X),ye(X),at=Li(E,at=Ir(at,X)),X.h)break;if(Se-A<at||R-Se<Me)break e;for(Ye=0;Ye<Me;++Ye)w[Se+Ye]=w[Se+Ye-at];for(Se+=Me,G+=Me;G>=E;)G-=E,++V,z!=null&&V<=B&&!(V%16)&&z(p,V);if(e(Se<=R),G&Ee&&(je=nr(fe,G,V)),Ne!=null)for(;Z<Se;)Me=w[Z++],Ne.X[(506832829*Me&4294967295)>>>Ne.Mb]=Me}else{if(!(Me<xe))break e;for(Re=Me-280,e(Ne!=null);Z<Se;)Me=w[Z++],Ne.X[(506832829*Me&4294967295)>>>Ne.Mb]=Me;Me=Se,e(!(Re>>>(at=Ne).Xa)),w[Me]=at.X[Re],Re=!0}Re||e(X.h==oe(X))}if(p.Pb&&X.h&&Se<R)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&$e(p.s.vb,p.s.Wa);else{if(X.h)break e;z?.(p,V>B?B:V),p.a=0,p.$=Se-A}return 1}return p.a=3,0}function vi(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var w=p.Wa;w!=null&&(w.X=null),p.vb=null,e(p!=null)}function Ga(){var p=new Pt;return p==null?null:(p.a=0,p.xb=ul,cn("Predictor","VP8LPredictors"),cn("Predictor","VP8LPredictors_C"),cn("PredictorAdd","VP8LPredictorsAdd"),cn("PredictorAdd","VP8LPredictorsAdd_C"),Kn=Ut,rl=At,il=$n,Ys=Yt,Pa=Bt,Ca=zt,go=bn,W.VP8LMapColor32b=js,W.VP8LMapColor8b=fo,p)}function es(p,w,A,E,R){var B=1,z=[p],V=[w],G=E.m,X=E.s,fe=null,Se=0;e:for(;;){if(A)for(;B&&K(G,1);){var Z=z,ge=V,xe=E,Le=1,Ne=xe.m,Ee=xe.gc[xe.ab],je=K(Ne,2);if(xe.Oc&1<<je)B=0;else{switch(xe.Oc|=1<<je,Ee.hc=je,Ee.Ea=Z[0],Ee.nc=ge[0],Ee.K=[null],++xe.ab,e(4>=xe.ab),je){case 0:case 1:Ee.b=K(Ne,3)+2,Le=es(De(Ee.Ea,Ee.b),De(Ee.nc,Ee.b),0,xe,Ee.K),Ee.K=Ee.K[0];break;case 3:var Re,Me=K(Ne,8)+1,at=16<Me?0:4<Me?1:2<Me?2:3;if(Z[0]=De(Ee.Ea,at),Ee.b=at,Re=Le=es(Me,1,0,xe,Ee.K)){var Ye,Rt=Me,Ze=Ee,$t=1<<(8>>Ze.b),zn=s($t);if(zn==null)Re=0;else{var It=Ze.K[0],Je=Ze.w;for(zn[0]=Ze.K[0][0],Ye=1;Ye<1*Rt;++Ye)zn[Ye]=dt(It[Je+Ye],zn[Ye-1]);for(;Ye<4*$t;++Ye)zn[Ye]=0;Ze.K[0]=null,Ze.K[0]=zn,Re=1}}Le=Re;break;case 2:break;default:e(0)}B=Le}}if(z=z[0],V=V[0],B&&K(G,1)&&!(B=1<=(Se=K(G,4))&&11>=Se)){E.a=3;break e}var qe;if(qe=B)t:{var Yn,kt,Ht,Sn=E,xr=z,or=V,In=Se,gr=A,Sr=Sn.m,jn=Sn.s,Gt=[null],nn=1,Ln=0,rn=jd[In];n:for(;;){if(gr&&K(Sr,1)){var Wn=K(Sr,3)+2,qn=De(xr,Wn),pn=De(or,Wn),Br=qn*pn;if(!es(qn,pn,0,Sn,Gt))break n;for(Gt=Gt[0],jn.xc=Wn,Yn=0;Yn<Br;++Yn){var dn=Gt[Yn]>>8&65535;Gt[Yn]=dn,dn>=nn&&(nn=dn+1)}}if(Sr.h)break n;for(kt=0;5>kt;++kt){var gn=bo[kt];!kt&&0<In&&(gn+=1<<In),Ln<gn&&(Ln=gn)}var lr=o(nn*rn,ne),Tr=nn,li=o(Tr,ve);if(li==null)var Jn=null;else e(65536>=Tr),Jn=li;var Xn=s(Ln);if(Jn==null||Xn==null||lr==null){Sn.a=1;break n}var Ur=lr;for(Yn=Ht=0;Yn<nn;++Yn){var mn=Jn[Yn],zr=mn.G,Wi=mn.H,ls=0,kr=1,Qn=0;for(kt=0;5>kt;++kt){gn=bo[kt],zr[kt]=Ur,Wi[kt]=Ht,!kt&&0<In&&(gn+=1<<In);i:{var Oa,Zs=gn,fl=Sn,Os=Xn,Md=Ur,xh=Ht,An=0,cs=fl.m,Sh=K(cs,1);if(i(Os,0,0,Zs),Sh){var kh=K(cs,1)+1,au=K(cs,1),ou=K(cs,au==0?1:8);Os[ou]=1,kh==2&&(Os[ou=K(cs,8)]=1);var Rs=1}else{var Tn=s(19),cr=K(cs,4)+4;if(19<cr){fl.a=3;var Zn=0;break i}for(Oa=0;Oa<cr;++Oa)Tn[qp[Oa]]=K(cs,3);var pl=void 0,ea=void 0,gl=fl,Yp=Tn,mr=Zs,lu=Os,cc=0,Ms=gl.m,us=8,Ni=o(128,ne);r:for(;q(Ni,0,7,Yp,19);){if(K(Ms,1)){var uc=2+2*K(Ms,3);if((pl=2+K(Ms,uc))>mr)break r}else pl=mr;for(ea=0;ea<mr&&pl--;){ye(Ms);var cu=Ni[0+(127&ee(Ms))];ce(Ms,Ms.u+cu.g);var Ra=cu.value;if(16>Ra)lu[ea++]=Ra,Ra!=0&&(us=Ra);else{var Id=Ra==16,Nh=Ra-16,Dd=ru[Nh],Ah=K(Ms,sc[Nh])+Dd;if(ea+Ah>mr)break r;for(var Fd=Id?us:0;0<Ah--;)lu[ea++]=Fd}}cc=1;break r}cc||(gl.a=3),Rs=cc}(Rs=Rs&&!cs.h)&&(An=q(Md,xh,8,Os,Zs)),Rs&&An!=0?Zn=An:(fl.a=3,Zn=0)}if(Zn==0)break n;if(kr&&Ed[kt]==1&&(kr=Ur[Ht].g==0),ls+=Ur[Ht].g,Ht+=Zn,3>=kt){var ml,uu=Xn[0];for(ml=1;ml<gn;++ml)Xn[ml]>uu&&(uu=Xn[ml]);Qn+=uu}}if(mn.nd=kr,mn.Qb=0,kr&&(mn.qb=(zr[3][Wi[3]+0].value<<24|zr[1][Wi[1]+0].value<<16|zr[2][Wi[2]+0].value)>>>0,ls==0&&256>zr[0][Wi[0]+0].value&&(mn.Qb=1,mn.qb+=zr[0][Wi[0]+0].value<<8)),mn.jc=!mn.Qb&&6>Qn,mn.jc){var hc,Ai=mn;for(hc=0;hc<Bi;++hc){var ta=hc,hs=Ai.pd[ta],No=Ai.G[0][Ai.H[0]+ta];256<=No.value?(hs.g=No.g+256,hs.value=No.value):(hs.g=0,hs.value=0,ta>>=Vn(No,8,hs),ta>>=Vn(Ai.G[1][Ai.H[1]+ta],16,hs),ta>>=Vn(Ai.G[2][Ai.H[2]+ta],0,hs),Vn(Ai.G[3][Ai.H[3]+ta],24,hs))}}}jn.vc=Gt,jn.Wb=nn,jn.Ya=Jn,jn.yc=lr,qe=1;break t}qe=0}if(!(B=qe)){E.a=3;break e}if(0<Se){if(X.ua=1<<Se,!Q(X.Wa,Se)){E.a=1,B=0;break e}}else X.ua=0;var hu=E,du=z,Bd=V,fu=hu.s,pu=fu.xc;if(hu.c=du,hu.i=Bd,fu.md=De(du,pu),fu.wc=pu==0?-1:(1<<pu)-1,A){E.xb=Ts;break e}if((fe=s(z*V))==null){E.a=1,B=0;break e}B=(B=Ti(E,fe,0,z,V,V,null))&&!G.h;break e}return B?(R!=null?R[0]=fe:(e(fe==null),e(A)),E.$=0,A||vi(X)):vi(X),B}function ya(p,w){var A=p.c*p.i,E=A+w+16*w;return e(p.c<=w),p.V=s(E),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+A+w,1)}function Ka(p,w){var A=p.C,E=w-A,R=p.V,B=p.Ba+p.c*A;for(e(w<=p.l.o);0<E;){var z=16<E?16:E,V=p.l.ma,G=p.l.width,X=G*z,fe=V.ca,Se=V.tb+G*A,Z=p.Ta,ge=p.Ua;zs(p,z,R,B),hh(Z,ge,fe,Se,X),_s(V,A,A+z,fe,Se,G),E-=z,R+=z*p.c,A+=z}e(A==w),p.C=p.Ma=w}function Ya(){this.ub=this.yd=this.td=this.Rb=0}function qo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ah(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Nn(){this.Yb=(function(){var p=[];return(function w(A,E,R){for(var B=R[E],z=0;z<B&&(A.push(R.length>E+1?[]:0),!(R.length<E+1));z++)w(A[z],E+1,R)})(p,0,[3,11]),p})()}function $c(){this.jb=s(3),this.Wc=l([4,8],Nn),this.Xc=l([4,17],Nn)}function Ho(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function yi(){this.ld=this.La=this.dd=this.tc=0}function wa(){this.Na=this.la=0}function Vc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $o(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ja(){this.uc=this.M=this.Nb=0,this.wa=Array(new yi),this.Y=0,this.ya=Array(new $o),this.aa=0,this.l=new Vo}function wi(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Gc(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new Ya,this.Kc=new qo,this.ed=new Ho,this.Qa=new ah,this.Ic=this.$c=this.Aa=0,this.D=new Ja,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,T),this.ia=0,this.pb=o(4,Vc),this.Pa=new $c,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wi),this.Hd=0,this.rb=Array(new wa),this.sb=0,this.wa=Array(new yi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $o),this.L=this.aa=0,this.gd=l([4,2],yi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function rr(p,w){return 0>p?0:p>w?w:p}function Vo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function oh(){var p=new Gc;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,_o||(_o=xs)),p}function ir(p,w,A){return p.a==0&&(p.a=w,p.sc=A,p.cb=0),0}function Xa(p,w,A){return 3<=A&&p[w+0]==157&&p[w+1]==1&&p[w+2]==42}function bi(p,w){if(p==null)return 0;if(p.a=0,p.sc="OK",w==null)return ir(p,2,"null VP8Io passed to VP8GetHeaders()");var A=w.data,E=w.w,R=w.ha;if(4>R)return ir(p,7,"Truncated header.");var B=A[E+0]|A[E+1]<<8|A[E+2]<<16,z=p.Od;if(z.Rb=!(1&B),z.td=B>>1&7,z.yd=B>>4&1,z.ub=B>>5,3<z.td)return ir(p,3,"Incorrect keyframe parameters.");if(!z.yd)return ir(p,4,"Frame not displayable.");E+=3,R-=3;var V=p.Kc;if(z.Rb){if(7>R)return ir(p,7,"cannot parse picture header");if(!Xa(A,E,R))return ir(p,3,"Bad code word");V.c=16383&(A[E+4]<<8|A[E+3]),V.Td=A[E+4]>>6,V.i=16383&(A[E+6]<<8|A[E+5]),V.Ud=A[E+6]>>6,E+=7,R-=7,p.za=V.c+15>>4,p.Ub=V.i+15>>4,w.width=V.c,w.height=V.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,i((B=p.Pa).jb,0,255,B.jb.length),e((B=p.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,i(B.Zb,0,0,B.Zb.length),i(B.Lb,0,0,B.Lb)}if(z.ub>R)return ir(p,7,"bad partition length");be(B=p.m,A,E,z.ub),E+=z.ub,R-=z.ub,z.Rb&&(V.Ld=Ae(B),V.Kd=Ae(B)),V=p.Qa;var G,X=p.Pa;if(e(B!=null),e(V!=null),V.Cb=Ae(B),V.Cb){if(V.Bb=Ae(B),Ae(B)){for(V.Fb=Ae(B),G=0;4>G;++G)V.Zb[G]=Ae(B)?$(B,7):0;for(G=0;4>G;++G)V.Lb[G]=Ae(B)?$(B,6):0}if(V.Bb)for(G=0;3>G;++G)X.jb[G]=Ae(B)?he(B,8):255}else V.Bb=0;if(B.Ka)return ir(p,3,"cannot parse segment header");if((V=p.ed).zd=Ae(B),V.Tb=he(B,6),V.wb=he(B,3),V.Pc=Ae(B),V.Pc&&Ae(B)){for(X=0;4>X;++X)Ae(B)&&(V.vd[X]=$(B,6));for(X=0;4>X;++X)Ae(B)&&(V.od[X]=$(B,6))}if(p.L=V.Tb==0?0:V.zd?1:2,B.Ka)return ir(p,3,"cannot parse filter header");var fe=R;if(R=G=E,E=G+fe,V=fe,p.Xb=(1<<he(p.m,2))-1,fe<3*(X=p.Xb))A=7;else{for(G+=3*X,V-=3*X,fe=0;fe<X;++fe){var Se=A[R+0]|A[R+1]<<8|A[R+2]<<16;Se>V&&(Se=V),be(p.Jc[+fe],A,G,Se),G+=Se,V-=Se,R+=3}be(p.Jc[+X],A,G,V),A=G<E?0:5}if(A!=0)return ir(p,A,"cannot parse partitions");for(A=he(G=p.m,7),R=Ae(G)?$(G,4):0,E=Ae(G)?$(G,4):0,V=Ae(G)?$(G,4):0,X=Ae(G)?$(G,4):0,G=Ae(G)?$(G,4):0,fe=p.Qa,Se=0;4>Se;++Se){if(fe.Cb){var Z=fe.Zb[Se];fe.Fb||(Z+=A)}else{if(0<Se){p.pb[Se]=p.pb[0];continue}Z=A}var ge=p.pb[Se];ge.Sc[0]=cl[rr(Z+R,127)],ge.Sc[1]=ac[rr(Z+0,127)],ge.Eb[0]=2*cl[rr(Z+E,127)],ge.Eb[1]=101581*ac[rr(Z+V,127)]>>16,8>ge.Eb[1]&&(ge.Eb[1]=8),ge.Qc[0]=cl[rr(Z+X,117)],ge.Qc[1]=ac[rr(Z+G,127)],ge.lc=Z+G}if(!z.Rb)return ir(p,4,"Not a key frame.");for(Ae(B),z=p.Pa,A=0;4>A;++A){for(R=0;8>R;++R)for(E=0;3>E;++E)for(V=0;11>V;++V)X=Te(B,Vp[A][R][E][V])?he(B,8):Td[A][R][E][V],z.Wc[A][R].Yb[E][V]=X;for(R=0;17>R;++R)z.Xc[A][R]=z.Wc[A][wh[R]]}return p.kc=Ae(B),p.kc&&(p.Bd=he(B,8)),p.cb=1}function xs(p,w,A,E,R,B,z){var V=w[R].Yb[A];for(A=0;16>R;++R){if(!Te(p,V[A+0]))return R;for(;!Te(p,V[A+1]);)if(V=w[++R].Yb[0],A=0,R==16)return 16;var G=w[R+1].Yb;if(Te(p,V[A+2])){var X=p,fe=0;if(Te(X,(Z=V)[(Se=A)+3]))if(Te(X,Z[Se+6])){for(V=0,Se=2*(fe=Te(X,Z[Se+8]))+(Z=Te(X,Z[Se+9+fe])),fe=0,Z=vh[Se];Z[V];++V)fe+=fe+Te(X,Z[V]);fe+=3+(8<<Se)}else Te(X,Z[Se+7])?(fe=7+2*Te(X,165),fe+=Te(X,145)):fe=5+Te(X,159);else fe=Te(X,Z[Se+4])?3+Te(X,Z[Se+5]):2;V=G[2]}else fe=1,V=G[1];G=z+yh[R],0>(X=p).b&&_e(X);var Se,Z=X.b,ge=(Se=X.Ca>>1)-(X.I>>Z)>>31;--X.b,X.Ca+=ge,X.Ca|=1,X.I-=(Se+1&ge)<<Z,B[G]=((fe^ge)-ge)*E[(0<R)+0]}return 16}function Qa(p){var w=p.rb[p.sb-1];w.la=0,w.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function Oi(p,w,A,E,R){R=p[w+A+32*E]+(R>>3),p[w+A+32*E]=-256&R?0>R?0:255:R}function fr(p,w,A,E,R,B){Oi(p,w,0,A,E+R),Oi(p,w,1,A,E+B),Oi(p,w,2,A,E-B),Oi(p,w,3,A,E-R)}function ts(p){return(20091*p>>16)+p}function ql(p,w,A,E){var R,B=0,z=s(16);for(R=0;4>R;++R){var V=p[w+0]+p[w+8],G=p[w+0]-p[w+8],X=(35468*p[w+4]>>16)-ts(p[w+12]),fe=ts(p[w+4])+(35468*p[w+12]>>16);z[B+0]=V+fe,z[B+1]=G+X,z[B+2]=G-X,z[B+3]=V-fe,B+=4,w++}for(R=B=0;4>R;++R)V=(p=z[B+0]+4)+z[B+8],G=p-z[B+8],X=(35468*z[B+4]>>16)-ts(z[B+12]),Oi(A,E,0,0,V+(fe=ts(z[B+4])+(35468*z[B+12]>>16))),Oi(A,E,1,0,G+X),Oi(A,E,2,0,G-X),Oi(A,E,3,0,V-fe),B++,E+=32}function Hl(p,w,A,E){var R=p[w+0]+4,B=35468*p[w+4]>>16,z=ts(p[w+4]),V=35468*p[w+1]>>16;fr(A,E,0,R+z,p=ts(p[w+1]),V),fr(A,E,1,R+B,p,V),fr(A,E,2,R-B,p,V),fr(A,E,3,R-z,p,V)}function Za(p,w,A,E,R){ql(p,w,A,E),R&&ql(p,w+16,A,E+4)}function Ss(p,w,A,E){mo(p,w+0,A,E,1),mo(p,w+32,A,E+128,1)}function Go(p,w,A,E){var R;for(p=p[w+0]+4,R=0;4>R;++R)for(w=0;4>w;++w)Oi(A,E,w,R,p)}function Qt(p,w,A,E){p[w+0]&&tn(p,w+0,A,E),p[w+16]&&tn(p,w+16,A,E+4),p[w+32]&&tn(p,w+32,A,E+128),p[w+48]&&tn(p,w+48,A,E+128+4)}function eo(p,w,A,E){var R,B=s(16);for(R=0;4>R;++R){var z=p[w+0+R]+p[w+12+R],V=p[w+4+R]+p[w+8+R],G=p[w+4+R]-p[w+8+R],X=p[w+0+R]-p[w+12+R];B[0+R]=z+V,B[8+R]=z-V,B[4+R]=X+G,B[12+R]=X-G}for(R=0;4>R;++R)z=(p=B[0+4*R]+3)+B[3+4*R],V=B[1+4*R]+B[2+4*R],G=B[1+4*R]-B[2+4*R],X=p-B[3+4*R],A[E+0]=z+V>>3,A[E+16]=X+G>>3,A[E+32]=z-V>>3,A[E+48]=X-G>>3,E+=64}function ba(p,w,A){var E,R=w-32,B=Kr,z=255-p[R-1];for(E=0;E<A;++E){var V,G=B,X=z+p[w-1];for(V=0;V<A;++V)p[w+V]=G[X+p[R+V]];w+=32}}function $l(p,w){ba(p,w,4)}function Kc(p,w){ba(p,w,8)}function Yc(p,w){ba(p,w,16)}function Ko(p,w){var A;for(A=0;16>A;++A)r(p,w+32*A,p,w-32,16)}function Yo(p,w){var A;for(A=16;0<A;--A)i(p,w,p[w-1],16),w+=32}function ei(p,w,A){var E;for(E=0;16>E;++E)i(w,A+32*E,p,16)}function ks(p,w){var A,E=16;for(A=0;16>A;++A)E+=p[w-1+32*A]+p[w+A-32];ei(E>>5,p,w)}function ti(p,w){var A,E=8;for(A=0;16>A;++A)E+=p[w-1+32*A];ei(E>>4,p,w)}function Ri(p,w){var A,E=8;for(A=0;16>A;++A)E+=p[w+A-32];ei(E>>4,p,w)}function to(p,w){ei(128,p,w)}function xt(p,w,A){return p+2*w+A+2>>2}function Ns(p,w){var A,E=w-32;for(E=new Uint8Array([xt(p[E-1],p[E+0],p[E+1]),xt(p[E+0],p[E+1],p[E+2]),xt(p[E+1],p[E+2],p[E+3]),xt(p[E+2],p[E+3],p[E+4])]),A=0;4>A;++A)r(p,w+32*A,E,0,E.length)}function lh(p,w){var A=p[w-1],E=p[w-1+32],R=p[w-1+64],B=p[w-1+96];Ue(p,w+0,16843009*xt(p[w-1-32],A,E)),Ue(p,w+32,16843009*xt(A,E,R)),Ue(p,w+64,16843009*xt(E,R,B)),Ue(p,w+96,16843009*xt(R,B,B))}function Jc(p,w){var A,E=4;for(A=0;4>A;++A)E+=p[w+A-32]+p[w-1+32*A];for(E>>=3,A=0;4>A;++A)i(p,w+32*A,E,4)}function _i(p,w){var A=p[w-1+0],E=p[w-1+32],R=p[w-1+64],B=p[w-1-32],z=p[w+0-32],V=p[w+1-32],G=p[w+2-32],X=p[w+3-32];p[w+0+96]=xt(E,R,p[w-1+96]),p[w+1+96]=p[w+0+64]=xt(A,E,R),p[w+2+96]=p[w+1+64]=p[w+0+32]=xt(B,A,E),p[w+3+96]=p[w+2+64]=p[w+1+32]=p[w+0+0]=xt(z,B,A),p[w+3+64]=p[w+2+32]=p[w+1+0]=xt(V,z,B),p[w+3+32]=p[w+2+0]=xt(G,V,z),p[w+3+0]=xt(X,G,V)}function Ws(p,w){var A=p[w+1-32],E=p[w+2-32],R=p[w+3-32],B=p[w+4-32],z=p[w+5-32],V=p[w+6-32],G=p[w+7-32];p[w+0+0]=xt(p[w+0-32],A,E),p[w+1+0]=p[w+0+32]=xt(A,E,R),p[w+2+0]=p[w+1+32]=p[w+0+64]=xt(E,R,B),p[w+3+0]=p[w+2+32]=p[w+1+64]=p[w+0+96]=xt(R,B,z),p[w+3+32]=p[w+2+64]=p[w+1+96]=xt(B,z,V),p[w+3+64]=p[w+2+96]=xt(z,V,G),p[w+3+96]=xt(V,G,G)}function Xc(p,w){var A=p[w-1+0],E=p[w-1+32],R=p[w-1+64],B=p[w-1-32],z=p[w+0-32],V=p[w+1-32],G=p[w+2-32],X=p[w+3-32];p[w+0+0]=p[w+1+64]=B+z+1>>1,p[w+1+0]=p[w+2+64]=z+V+1>>1,p[w+2+0]=p[w+3+64]=V+G+1>>1,p[w+3+0]=G+X+1>>1,p[w+0+96]=xt(R,E,A),p[w+0+64]=xt(E,A,B),p[w+0+32]=p[w+1+96]=xt(A,B,z),p[w+1+32]=p[w+2+96]=xt(B,z,V),p[w+2+32]=p[w+3+96]=xt(z,V,G),p[w+3+32]=xt(V,G,X)}function Jo(p,w){var A=p[w+0-32],E=p[w+1-32],R=p[w+2-32],B=p[w+3-32],z=p[w+4-32],V=p[w+5-32],G=p[w+6-32],X=p[w+7-32];p[w+0+0]=A+E+1>>1,p[w+1+0]=p[w+0+64]=E+R+1>>1,p[w+2+0]=p[w+1+64]=R+B+1>>1,p[w+3+0]=p[w+2+64]=B+z+1>>1,p[w+0+32]=xt(A,E,R),p[w+1+32]=p[w+0+96]=xt(E,R,B),p[w+2+32]=p[w+1+96]=xt(R,B,z),p[w+3+32]=p[w+2+96]=xt(B,z,V),p[w+3+64]=xt(z,V,G),p[w+3+96]=xt(V,G,X)}function no(p,w){var A=p[w-1+0],E=p[w-1+32],R=p[w-1+64],B=p[w-1+96];p[w+0+0]=A+E+1>>1,p[w+2+0]=p[w+0+32]=E+R+1>>1,p[w+2+32]=p[w+0+64]=R+B+1>>1,p[w+1+0]=xt(A,E,R),p[w+3+0]=p[w+1+32]=xt(E,R,B),p[w+3+32]=p[w+1+64]=xt(R,B,B),p[w+3+64]=p[w+2+64]=p[w+0+96]=p[w+1+96]=p[w+2+96]=p[w+3+96]=B}function Vl(p,w){var A=p[w-1+0],E=p[w-1+32],R=p[w-1+64],B=p[w-1+96],z=p[w-1-32],V=p[w+0-32],G=p[w+1-32],X=p[w+2-32];p[w+0+0]=p[w+2+32]=A+z+1>>1,p[w+0+32]=p[w+2+64]=E+A+1>>1,p[w+0+64]=p[w+2+96]=R+E+1>>1,p[w+0+96]=B+R+1>>1,p[w+3+0]=xt(V,G,X),p[w+2+0]=xt(z,V,G),p[w+1+0]=p[w+3+32]=xt(A,z,V),p[w+1+32]=p[w+3+64]=xt(E,A,z),p[w+1+64]=p[w+3+96]=xt(R,E,A),p[w+1+96]=xt(B,R,E)}function ns(p,w){var A;for(A=0;8>A;++A)r(p,w+32*A,p,w-32,8)}function ro(p,w){var A;for(A=0;8>A;++A)i(p,w,p[w-1],8),w+=32}function ni(p,w,A){var E;for(E=0;8>E;++E)i(w,A+32*E,p,8)}function Xo(p,w){var A,E=8;for(A=0;8>A;++A)E+=p[w+A-32]+p[w-1+32*A];ni(E>>4,p,w)}function Gl(p,w){var A,E=4;for(A=0;8>A;++A)E+=p[w+A-32];ni(E>>3,p,w)}function Kl(p,w){var A,E=4;for(A=0;8>A;++A)E+=p[w-1+32*A];ni(E>>3,p,w)}function Qo(p,w){ni(128,p,w)}function Mi(p,w,A){var E=p[w-A],R=p[w+0],B=3*(R-E)+Ls[1020+p[w-2*A]-p[w+A]],z=ol[112+(B+4>>3)];p[w-A]=Kr[255+E+ol[112+(B+3>>3)]],p[w+0]=Kr[255+R-z]}function io(p,w,A,E){var R=p[w+0],B=p[w+A];return Ui[255+p[w-2*A]-p[w-A]]>E||Ui[255+B-R]>E}function so(p,w,A,E){return 4*Ui[255+p[w-A]-p[w+0]]+Ui[255+p[w-2*A]-p[w+A]]<=E}function Ii(p,w,A,E,R){var B=p[w-3*A],z=p[w-2*A],V=p[w-A],G=p[w+0],X=p[w+A],fe=p[w+2*A],Se=p[w+3*A];return 4*Ui[255+V-G]+Ui[255+z-X]>E?0:Ui[255+p[w-4*A]-B]<=R&&Ui[255+B-z]<=R&&Ui[255+z-V]<=R&&Ui[255+Se-fe]<=R&&Ui[255+fe-X]<=R&&Ui[255+X-G]<=R}function qs(p,w,A,E){var R=2*E+1;for(E=0;16>E;++E)so(p,w+E,A,R)&&Mi(p,w+E,A)}function _a(p,w,A,E){var R=2*E+1;for(E=0;16>E;++E)so(p,w+E*A,1,R)&&Mi(p,w+E*A,1)}function Yl(p,w,A,E){var R;for(R=3;0<R;--R)qs(p,w+=4*A,A,E)}function ao(p,w,A,E){var R;for(R=3;0<R;--R)_a(p,w+=4,A,E)}function Di(p,w,A,E,R,B,z,V){for(B=2*B+1;0<R--;){if(Ii(p,w,A,B,z))if(io(p,w,A,V))Mi(p,w,A);else{var G=p,X=w,fe=A,Se=G[X-2*fe],Z=G[X-fe],ge=G[X+0],xe=G[X+fe],Le=G[X+2*fe],Ne=27*(je=Ls[1020+3*(ge-Z)+Ls[1020+Se-xe]])+63>>7,Ee=18*je+63>>7,je=9*je+63>>7;G[X-3*fe]=Kr[255+G[X-3*fe]+je],G[X-2*fe]=Kr[255+Se+Ee],G[X-fe]=Kr[255+Z+Ne],G[X+0]=Kr[255+ge-Ne],G[X+fe]=Kr[255+xe-Ee],G[X+2*fe]=Kr[255+Le-je]}w+=E}}function As(p,w,A,E,R,B,z,V){for(B=2*B+1;0<R--;){if(Ii(p,w,A,B,z))if(io(p,w,A,V))Mi(p,w,A);else{var G=p,X=w,fe=A,Se=G[X-fe],Z=G[X+0],ge=G[X+fe],xe=ol[112+(4+(Le=3*(Z-Se))>>3)],Le=ol[112+(Le+3>>3)],Ne=xe+1>>1;G[X-2*fe]=Kr[255+G[X-2*fe]+Ne],G[X-fe]=Kr[255+Se+Le],G[X+0]=Kr[255+Z-xe],G[X+fe]=Kr[255+ge-Ne]}w+=E}}function Dr(p,w,A,E,R,B){Di(p,w,A,1,16,E,R,B)}function Fi(p,w,A,E,R,B){Di(p,w,1,A,16,E,R,B)}function Zo(p,w,A,E,R,B){var z;for(z=3;0<z;--z)As(p,w+=4*A,A,1,16,E,R,B)}function x(p,w,A,E,R,B){var z;for(z=3;0<z;--z)As(p,w+=4,1,A,16,E,R,B)}function M(p,w,A,E,R,B,z,V){Di(p,w,R,1,8,B,z,V),Di(A,E,R,1,8,B,z,V)}function te(p,w,A,E,R,B,z,V){Di(p,w,1,R,8,B,z,V),Di(A,E,1,R,8,B,z,V)}function ue(p,w,A,E,R,B,z,V){As(p,w+4*R,R,1,8,B,z,V),As(A,E+4*R,R,1,8,B,z,V)}function we(p,w,A,E,R,B,z,V){As(p,w+4,1,R,8,B,z,V),As(A,E+4,1,R,8,B,z,V)}function Oe(){this.ba=new Ot,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new en,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ie(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Qe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function st(){this.ua=0,this.Wa=new Mt,this.vb=new Mt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ve,this.yc=new ne}function Pt(){this.xb=this.a=0,this.l=new Vo,this.ca=new Ot,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new st,this.ab=0,this.gc=o(4,Qe),this.Oc=0}function Tt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Vo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Jt(p,w,A,E,R,B,z){for(p=p==null?0:p[w+0],w=0;w<z;++w)R[B+w]=p+A[E+w]&255,p=R[B+w]}function Mn(p,w,A,E,R,B,z){var V;if(p==null)Jt(null,null,A,E,R,B,z);else for(V=0;V<z;++V)R[B+V]=p[w+V]+A[E+V]&255}function sr(p,w,A,E,R,B,z){if(p==null)Jt(null,null,A,E,R,B,z);else{var V,G=p[w+0],X=G,fe=G;for(V=0;V<z;++V)X=fe+(G=p[w+V])-X,fe=A[E+V]+(-256&X?0>X?0:255:X)&255,X=G,R[B+V]=fe}}function xn(p,w,A,E){var R=w.width,B=w.o;if(e(p!=null&&w!=null),0>A||0>=E||A+E>B)return null;if(!p.Cc){if(p.ga==null){var z;if(p.ga=new Tt,(z=p.ga==null)||(z=w.width*w.o,e(p.Gb.length==0),p.Gb=s(z),p.Uc=0,p.Gb==null?z=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,z=1),z=!z),!z){z=p.ga;var V=p.Fa,G=p.P,X=p.qc,fe=p.mb,Se=p.nb,Z=G+1,ge=X-1,xe=z.l;if(e(V!=null&&fe!=null&&w!=null),Fr[0]=null,Fr[1]=Jt,Fr[2]=Mn,Fr[3]=sr,z.ca=fe,z.tb=Se,z.c=w.width,z.i=w.height,e(0<z.c&&0<z.i),1>=X)w=0;else if(z.$a=3&V[G+0],z.Z=V[G+0]>>2&3,z.Lc=V[G+0]>>4&3,G=V[G+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||G)w=0;else if(xe.put=wt,xe.ac=ji,xe.bc=mi,xe.ma=z,xe.width=w.width,xe.height=w.height,xe.Da=w.Da,xe.v=w.v,xe.va=w.va,xe.j=w.j,xe.o=w.o,z.$a)e:{e(z.$a==1),w=Ga();t:for(;;){if(w==null){w=0;break e}if(e(z!=null),z.mc=w,w.c=z.c,w.i=z.i,w.l=z.l,w.l.ma=z,w.l.width=z.c,w.l.height=z.i,w.a=0,se(w.m,V,Z,ge),!es(z.c,z.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Zi(w.s)?(z.ic=1,V=w.c*w.i,w.Ta=null,w.Ua=0,w.V=s(V),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(z.ic=0,w=ya(w,z.c)),!w))break t;w=1;break e}z.mc=null,w=0}else w=ge>=z.c*z.i;z=!w}if(z)return null;p.ga.Lc!=1?p.Ga=0:E=B-A}e(p.ga!=null),e(A+E<=B);e:{if(w=(V=p.ga).c,B=V.l.o,V.$a==0){if(Z=p.rc,ge=p.Vc,xe=p.Fa,G=p.P+1+A*w,X=p.mb,fe=p.nb+A*w,e(G<=p.P+p.qc),V.Z!=0)for(e(Fr[V.Z]!=null),z=0;z<E;++z)Fr[V.Z](Z,ge,xe,G,X,fe,w),Z=X,ge=fe,fe+=w,G+=w;else for(z=0;z<E;++z)r(X,fe,xe,G,w),Z=X,ge=fe,fe+=w,G+=w;p.rc=Z,p.Vc=ge}else{if(e(V.mc!=null),w=A+E,e((z=V.mc)!=null),e(w<=z.i),z.C>=w)w=1;else if(V.ic||rs(),V.ic){V=z.V,Z=z.Ba,ge=z.c;var Le=z.i,Ne=(xe=1,G=z.$/ge,X=z.$%ge,fe=z.m,Se=z.s,z.$),Ee=ge*Le,je=ge*w,Re=Se.wc,Me=Ne<je?nr(Se,X,G):null;e(Ne<=Ee),e(w<=Le),e(Zi(Se));t:for(;;){for(;!fe.h&&Ne<je;){if(X&Re||(Me=nr(Se,X,G)),e(Me!=null),ye(fe),256>(Le=_n(Me.G[0],Me.H[0],fe)))V[Z+Ne]=Le,++Ne,++X>=ge&&(X=0,++G<=w&&!(G%16)&&Cr(z,G));else{if(!(280>Le)){xe=0;break t}Le=Ir(Le-256,fe);var at,Ye=_n(Me.G[4],Me.H[4],fe);if(ye(fe),!(Ne>=(Ye=Li(ge,Ye=Ir(Ye,fe)))&&Ee-Ne>=Le)){xe=0;break t}for(at=0;at<Le;++at)V[Z+Ne+at]=V[Z+Ne+at-Ye];for(Ne+=Le,X+=Le;X>=ge;)X-=ge,++G<=w&&!(G%16)&&Cr(z,G);Ne<je&&X&Re&&(Me=nr(Se,X,G))}e(fe.h==oe(fe))}Cr(z,G>w?w:G);break t}!xe||fe.h&&Ne<Ee?(xe=0,z.a=fe.h?5:3):z.$=Ne,w=xe}else w=Ti(z,z.V,z.Ba,z.c,z.i,w,Ka);if(!w){E=0;break e}}A+E>=B&&(p.Cc=1),E=1}if(!E)return null;if(p.Cc&&((E=p.ga)!=null&&(E.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+A*R}function pr(p,w,A,E,R,B){for(;0<R--;){var z,V=p,G=w+(A?1:0),X=p,fe=w+(A?0:3);for(z=0;z<E;++z){var Se=X[fe+4*z];Se!=255&&(Se*=32897,V[G+4*z+0]=V[G+4*z+0]*Se>>23,V[G+4*z+1]=V[G+4*z+1]*Se>>23,V[G+4*z+2]=V[G+4*z+2]*Se>>23)}w+=B}}function Gn(p,w,A,E,R){for(;0<E--;){var B;for(B=0;B<A;++B){var z=p[w+2*B+0],V=15&(X=p[w+2*B+1]),G=4369*V,X=(240&X|X>>4)*G>>16;p[w+2*B+0]=(240&z|z>>4)*G>>16&240|(15&z|z<<4)*G>>16>>4&15,p[w+2*B+1]=240&X|V}w+=R}}function Er(p,w,A,E,R,B,z,V){var G,X,fe=255;for(X=0;X<R;++X){for(G=0;G<E;++G){var Se=p[w+G];B[z+4*G]=Se,fe&=Se}w+=A,z+=V}return fe!=255}function Hs(p,w,A,E,R){var B;for(B=0;B<R;++B)A[E+B]=p[w+B]>>8}function rs(){yo=pr,uh=Gn,ec=Er,hh=Hs}function $s(p,w,A){W[p]=function(E,R,B,z,V,G,X,fe,Se,Z,ge,xe,Le,Ne,Ee,je,Re){var Me,at=Re-1>>1,Ye=V[G+0]|X[fe+0]<<16,Rt=Se[Z+0]|ge[xe+0]<<16;e(E!=null);var Ze=3*Ye+Rt+131074>>2;for(w(E[R+0],255&Ze,Ze>>16,Le,Ne),B!=null&&(Ze=3*Rt+Ye+131074>>2,w(B[z+0],255&Ze,Ze>>16,Ee,je)),Me=1;Me<=at;++Me){var $t=V[G+Me]|X[fe+Me]<<16,zn=Se[Z+Me]|ge[xe+Me]<<16,It=Ye+$t+Rt+zn+524296,Je=It+2*($t+Rt)>>3;Ze=Je+Ye>>1,Ye=(It=It+2*(Ye+zn)>>3)+$t>>1,w(E[R+2*Me-1],255&Ze,Ze>>16,Le,Ne+(2*Me-1)*A),w(E[R+2*Me-0],255&Ye,Ye>>16,Le,Ne+(2*Me-0)*A),B!=null&&(Ze=It+Rt>>1,Ye=Je+zn>>1,w(B[z+2*Me-1],255&Ze,Ze>>16,Ee,je+(2*Me-1)*A),w(B[z+2*Me+0],255&Ye,Ye>>16,Ee,je+(2*Me+0)*A)),Ye=$t,Rt=zn}1&Re||(Ze=3*Ye+Rt+131074>>2,w(E[R+Re-1],255&Ze,Ze>>16,Le,Ne+(Re-1)*A),B!=null&&(Ze=3*Rt+Ye+131074>>2,w(B[z+Re-1],255&Ze,Ze>>16,Ee,je+(Re-1)*A)))}}function oo(){si[tu]=Gp,si[ja]=La,si[Cd]=Kp,si[tc]=hl,si[nc]=xo,si[fn]=oc,si[nu]=bh,si[ll]=La,si[wo]=hl,si[rc]=xo,si[ic]=oc}function el(p){return p&-16384?0>p?0:255:p>>Ta}function xa(p,w){return el((19077*p>>8)+(26149*w>>8)-14234)}function lo(p,w,A){return el((19077*p>>8)-(6419*w>>8)-(13320*A>>8)+8708)}function Sa(p,w){return el((19077*p>>8)+(33050*w>>8)-17685)}function ka(p,w,A,E,R){E[R+0]=xa(p,A),E[R+1]=lo(p,w,A),E[R+2]=Sa(p,w)}function jr(p,w,A,E,R){E[R+0]=Sa(p,w),E[R+1]=lo(p,w,A),E[R+2]=xa(p,A)}function co(p,w,A,E,R){var B=lo(p,w,A);w=B<<3&224|Sa(p,w)>>3,E[R+0]=248&xa(p,A)|B>>5,E[R+1]=w}function uo(p,w,A,E,R){var B=240&Sa(p,w)|15;E[R+0]=240&xa(p,A)|lo(p,w,A)>>4,E[R+1]=B}function Jl(p,w,A,E,R){E[R+0]=255,ka(p,w,A,E,R+1)}function Xl(p,w,A,E,R){jr(p,w,A,E,R),E[R+3]=255}function Gr(p,w,A,E,R){ka(p,w,A,E,R),E[R+3]=255}function is(p,w,A){W[p]=function(E,R,B,z,V,G,X,fe,Se){for(var Z=fe+(-2&Se)*A;fe!=Z;)w(E[R+0],B[z+0],V[G+0],X,fe),w(E[R+1],B[z+0],V[G+0],X,fe+A),R+=2,++z,++G,fe+=2*A;1&Se&&w(E[R+0],B[z+0],V[G+0],X,fe)}}function Ps(p,w,A){return A==0?p==0?w==0?6:5:w==0?4:0:A}function Qc(p,w,A,E,R){switch(p>>>30){case 3:mo(w,A,E,R,0);break;case 2:Bn(w,A,E,R);break;case 1:tn(w,A,E,R)}}function xi(p,w){var A,E,R=w.M,B=w.Nb,z=p.oc,V=p.pc+40,G=p.oc,X=p.pc+584,fe=p.oc,Se=p.pc+600;for(A=0;16>A;++A)z[V+32*A-1]=129;for(A=0;8>A;++A)G[X+32*A-1]=129,fe[Se+32*A-1]=129;for(0<R?z[V-1-32]=G[X-1-32]=fe[Se-1-32]=129:(i(z,V-32-1,127,21),i(G,X-32-1,127,9),i(fe,Se-32-1,127,9)),E=0;E<p.za;++E){var Z=w.ya[w.aa+E];if(0<E){for(A=-1;16>A;++A)r(z,V+32*A-4,z,V+32*A+12,4);for(A=-1;8>A;++A)r(G,X+32*A-4,G,X+32*A+4,4),r(fe,Se+32*A-4,fe,Se+32*A+4,4)}var ge=p.Gd,xe=p.Hd+E,Le=Z.ad,Ne=Z.Hc;if(0<R&&(r(z,V-32,ge[xe].y,0,16),r(G,X-32,ge[xe].f,0,8),r(fe,Se-32,ge[xe].ea,0,8)),Z.Za){var Ee=z,je=V-32+16;for(0<R&&(E>=p.za-1?i(Ee,je,ge[xe].y[15],4):r(Ee,je,ge[xe+1].y,0,4)),A=0;4>A;A++)Ee[je+128+A]=Ee[je+256+A]=Ee[je+384+A]=Ee[je+0+A];for(A=0;16>A;++A,Ne<<=2)Ee=z,je=V+_h[A],zi[Z.Ob[A]](Ee,je),Qc(Ne,Le,16*+A,Ee,je)}else if(Ee=Ps(E,R,Z.Ob[0]),Yr[Ee](z,V),Ne!=0)for(A=0;16>A;++A,Ne<<=2)Qc(Ne,Le,16*+A,z,V+_h[A]);for(A=Z.Gc,Ee=Ps(E,R,Z.Dd),ii[Ee](G,X),ii[Ee](fe,Se),Ne=Le,Ee=G,je=X,255&(Z=0|A)&&(170&Z?ri(Ne,256,Ee,je):un(Ne,256,Ee,je)),Z=fe,Ne=Se,255&(A>>=8)&&(170&A?ri(Le,320,Z,Ne):un(Le,320,Z,Ne)),R<p.Ub-1&&(r(ge[xe].y,0,z,V+480,16),r(ge[xe].f,0,G,X+224,8),r(ge[xe].ea,0,fe,Se+224,8)),A=8*B*p.B,ge=p.sa,xe=p.ta+16*E+16*B*p.R,Le=p.qa,Z=p.ra+8*E+A,Ne=p.Ha,Ee=p.Ia+8*E+A,A=0;16>A;++A)r(ge,xe+A*p.R,z,V+32*A,16);for(A=0;8>A;++A)r(Le,Z+A*p.B,G,X+32*A,8),r(Ne,Ee+A*p.B,fe,Se+32*A,8)}}function Na(p,w,A,E,R,B,z,V,G){var X=[0],fe=[0],Se=0,Z=G!=null?G.kd:0,ge=G??new Ie;if(p==null||12>A)return 7;ge.data=p,ge.w=w,ge.ha=A,w=[w],A=[A],ge.gb=[ge.gb];e:{var xe=w,Le=A,Ne=ge.gb;if(e(p!=null),e(Le!=null),e(Ne!=null),Ne[0]=0,12<=Le[0]&&!t(p,xe[0],"RIFF")){if(t(p,xe[0]+8,"WEBP")){Ne=3;break e}var Ee=ct(p,xe[0]+4);if(12>Ee||4294967286<Ee){Ne=3;break e}if(Z&&Ee>Le[0]-8){Ne=7;break e}Ne[0]=Ee,xe[0]+=12,Le[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Ee=0<ge.gb[0],A=A[0];;){e:{var je=p;Le=w,Ne=A;var Re=X,Me=fe,at=xe=[0];if((Ze=Se=[Se])[0]=0,8>Ne[0])Ne=7;else{if(!t(je,Le[0],"VP8X")){if(ct(je,Le[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var Ye=ct(je,Le[0]+8),Rt=1+He(je,Le[0]+12);if(2147483648<=Rt*(je=1+He(je,Le[0]+15))){Ne=3;break e}at!=null&&(at[0]=Ye),Re!=null&&(Re[0]=Rt),Me!=null&&(Me[0]=je),Le[0]+=18,Ne[0]-=18,Ze[0]=1}Ne=0}}if(Se=Se[0],xe=xe[0],Ne!=0)return Ne;if(Le=!!(2&xe),!Ee&&Se)return 3;if(B!=null&&(B[0]=!!(16&xe)),z!=null&&(z[0]=Le),V!=null&&(V[0]=0),z=X[0],xe=fe[0],Se&&Le&&G==null){Ne=0;break}if(4>A){Ne=7;break}if(Ee&&Se||!Ee&&!Se&&!t(p,w[0],"ALPH")){A=[A],ge.na=[ge.na],ge.P=[ge.P],ge.Sa=[ge.Sa];e:{Ye=p,Ne=w,Ee=A;var Ze=ge.gb;Re=ge.na,Me=ge.P,at=ge.Sa,Rt=22,e(Ye!=null),e(Ee!=null),je=Ne[0];var $t=Ee[0];for(e(Re!=null),e(at!=null),Re[0]=null,Me[0]=null,at[0]=0;;){if(Ne[0]=je,Ee[0]=$t,8>$t){Ne=7;break e}var zn=ct(Ye,je+4);if(4294967286<zn){Ne=3;break e}var It=8+zn+1&-2;if(Rt+=It,0<Ze&&Rt>Ze){Ne=3;break e}if(!t(Ye,je,"VP8 ")||!t(Ye,je,"VP8L")){Ne=0;break e}if($t[0]<It){Ne=7;break e}t(Ye,je,"ALPH")||(Re[0]=Ye,Me[0]=je+8,at[0]=zn),je+=It,$t-=It}}if(A=A[0],ge.na=ge.na[0],ge.P=ge.P[0],ge.Sa=ge.Sa[0],Ne!=0)break}A=[A],ge.Ja=[ge.Ja],ge.xa=[ge.xa];e:if(Ze=p,Ne=w,Ee=A,Re=ge.gb[0],Me=ge.Ja,at=ge.xa,Ye=Ne[0],je=!t(Ze,Ye,"VP8 "),Rt=!t(Ze,Ye,"VP8L"),e(Ze!=null),e(Ee!=null),e(Me!=null),e(at!=null),8>Ee[0])Ne=7;else{if(je||Rt){if(Ze=ct(Ze,Ye+4),12<=Re&&Ze>Re-12){Ne=3;break e}if(Z&&Ze>Ee[0]-8){Ne=7;break e}Me[0]=Ze,Ne[0]+=8,Ee[0]-=8,at[0]=Rt}else at[0]=5<=Ee[0]&&Ze[Ye+0]==47&&!(Ze[Ye+4]>>5),Me[0]=Ee[0];Ne=0}if(A=A[0],ge.Ja=ge.Ja[0],ge.xa=ge.xa[0],w=w[0],Ne!=0)break;if(4294967286<ge.Ja)return 3;if(V==null||Le||(V[0]=ge.xa?2:1),z=[z],xe=[xe],ge.xa){if(5>A){Ne=7;break}V=z,Z=xe,Le=B,p==null||5>A?p=0:5<=A&&p[w+0]==47&&!(p[w+4]>>5)?(Ee=[0],Ze=[0],Re=[0],se(Me=new Y,p,w,A),Qi(Me,Ee,Ze,Re)?(V!=null&&(V[0]=Ee[0]),Z!=null&&(Z[0]=Ze[0]),Le!=null&&(Le[0]=Re[0]),p=1):p=0):p=0}else{if(10>A){Ne=7;break}V=xe,p==null||10>A||!Xa(p,w+3,A-3)?p=0:(Z=p[w+0]|p[w+1]<<8|p[w+2]<<16,Le=16383&(p[w+7]<<8|p[w+6]),p=16383&(p[w+9]<<8|p[w+8]),1&Z||3<(Z>>1&7)||!(Z>>4&1)||Z>>5>=ge.Ja||!Le||!p?p=0:(z&&(z[0]=Le),V&&(V[0]=p),p=1))}if(!p||(z=z[0],xe=xe[0],Se&&(X[0]!=z||fe[0]!=xe)))return 3;G!=null&&(G[0]=ge,G.offset=w-G.w,e(4294967286>w-G.w),e(G.offset==G.ha-A));break}return Ne==0||Ne==7&&Se&&G==null?(B!=null&&(B[0]|=ge.na!=null&&0<ge.na.length),E!=null&&(E[0]=z),R!=null&&(R[0]=xe),0):Ne}function tl(p,w,A){var E=w.width,R=w.height,B=0,z=0,V=E,G=R;if(w.Da=p!=null&&0<p.Da,w.Da&&(V=p.cd,G=p.bd,B=p.v,z=p.j,11>A||(B&=-2,z&=-2),0>B||0>z||0>=V||0>=G||B+V>E||z+G>R))return 0;if(w.v=B,w.j=z,w.va=B+V,w.o=z+G,w.U=V,w.T=G,w.da=p!=null&&0<p.da,w.da){if(!mt(V,G,A=[p.ib],B=[p.hb]))return 0;w.ib=A[0],w.hb=B[0]}return w.ob=p!=null&&p.ob,w.Kb=p==null||!p.Sd,w.da&&(w.ob=w.ib<3*E/4&&w.hb<3*R/4,w.Kb=0),1}function nl(p){if(p==null)return 2;if(11>p.S){var w=p.f.RGBA;w.fb+=(p.height-1)*w.A,w.A=-w.A}else w=p.f.kb,p=p.height,w.O+=(p-1)*w.fa,w.fa=-w.fa,w.N+=(p-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(p-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(p-1)*w.lb,w.lb=-w.lb);return 0}function Vs(p,w,A,E){if(E==null||0>=p||0>=w)return 2;if(A!=null){if(A.Da){var R=A.cd,B=A.bd,z=-2&A.v,V=-2&A.j;if(0>z||0>V||0>=R||0>=B||z+R>p||V+B>w)return 2;p=R,w=B}if(A.da){if(!mt(p,w,R=[A.ib],B=[A.hb]))return 2;p=R[0],w=B[0]}}E.width=p,E.height=w;e:{var G=E.width,X=E.height;if(p=E.S,0>=G||0>=X||!(p>=tu&&13>p))p=2;else{if(0>=E.Rd&&E.sd==null){z=B=R=w=0;var fe=(V=G*lc[p])*X;if(11>p||(B=(X+1)/2*(w=(G+1)/2),p==12&&(z=(R=G)*X)),(X=s(fe+2*B+z))==null){p=1;break e}E.sd=X,11>p?((G=E.f.RGBA).eb=X,G.fb=0,G.A=V,G.size=fe):((G=E.f.kb).y=X,G.O=0,G.fa=V,G.Fd=fe,G.f=X,G.N=0+fe,G.Ab=w,G.Cd=B,G.ea=X,G.W=0+fe+B,G.Db=w,G.Ed=B,p==12&&(G.F=X,G.J=0+fe+2*B),G.Tc=z,G.lb=R)}if(w=1,R=E.S,B=E.width,z=E.height,R>=tu&&13>R)if(11>R)p=E.f.RGBA,w&=(V=Math.abs(p.A))*(z-1)+B<=p.size,w&=V>=B*lc[R],w&=p.eb!=null;else{p=E.f.kb,V=(B+1)/2,fe=(z+1)/2,G=Math.abs(p.fa),X=Math.abs(p.Ab);var Se=Math.abs(p.Db),Z=Math.abs(p.lb),ge=Z*(z-1)+B;w&=G*(z-1)+B<=p.Fd,w&=X*(fe-1)+V<=p.Cd,w=(w&=Se*(fe-1)+V<=p.Ed)&G>=B&X>=V&Se>=V,w&=p.y!=null,w&=p.f!=null,w&=p.ea!=null,R==12&&(w&=Z>=B,w&=ge<=p.Tc,w&=p.F!=null)}else w=0;p=w?0:2}}return p!=0||A!=null&&A.fd&&(p=nl(E)),p}var Bi=64,Si=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ki=24,Aa=32,Cs=8,Gs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ge("Predictor0","PredictorAdd0"),W.Predictor0=function(){return 4278190080},W.Predictor1=function(p){return p},W.Predictor2=function(p,w,A){return w[A+0]},W.Predictor3=function(p,w,A){return w[A+1]},W.Predictor4=function(p,w,A){return w[A-1]},W.Predictor5=function(p,w,A){return ft(ft(p,w[A+1]),w[A+0])},W.Predictor6=function(p,w,A){return ft(p,w[A-1])},W.Predictor7=function(p,w,A){return ft(p,w[A+0])},W.Predictor8=function(p,w,A){return ft(w[A-1],w[A+0])},W.Predictor9=function(p,w,A){return ft(w[A+0],w[A+1])},W.Predictor10=function(p,w,A){return ft(ft(p,w[A-1]),ft(w[A+0],w[A+1]))},W.Predictor11=function(p,w,A){var E=w[A+0];return 0>=Lt(E>>24&255,p>>24&255,(w=w[A-1])>>24&255)+Lt(E>>16&255,p>>16&255,w>>16&255)+Lt(E>>8&255,p>>8&255,w>>8&255)+Lt(255&E,255&p,255&w)?E:p},W.Predictor12=function(p,w,A){var E=w[A+0];return(Zt((p>>24&255)+(E>>24&255)-((w=w[A-1])>>24&255))<<24|Zt((p>>16&255)+(E>>16&255)-(w>>16&255))<<16|Zt((p>>8&255)+(E>>8&255)-(w>>8&255))<<8|Zt((255&p)+(255&E)-(255&w)))>>>0},W.Predictor13=function(p,w,A){var E=w[A-1];return(Wt((p=ft(p,w[A+0]))>>24&255,E>>24&255)<<24|Wt(p>>16&255,E>>16&255)<<16|Wt(p>>8&255,E>>8&255)<<8|Wt(255&p,255&E))>>>0};var Ks=W.PredictorAdd0;W.PredictorAdd1=qt,Ge("Predictor2","PredictorAdd2"),Ge("Predictor3","PredictorAdd3"),Ge("Predictor4","PredictorAdd4"),Ge("Predictor5","PredictorAdd5"),Ge("Predictor6","PredictorAdd6"),Ge("Predictor7","PredictorAdd7"),Ge("Predictor8","PredictorAdd8"),Ge("Predictor9","PredictorAdd9"),Ge("Predictor10","PredictorAdd10"),Ge("Predictor11","PredictorAdd11"),Ge("Predictor12","PredictorAdd12"),Ge("Predictor13","PredictorAdd13");var Es=W.PredictorAdd2;nt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Kn,ho=W.ColorIndexInverseTransform,js=W.MapARGB,ss=W.VP8LColorIndexInverseTransformAlpha,fo=W.MapAlpha,po=W.VP8LPredictorsAdd=[];po.length=16,(W.VP8LPredictors=[]).length=16,(W.VP8LPredictorsAdd_C=[]).length=16,(W.VP8LPredictors_C=[]).length=16;var rl,il,Ys,Pa,Ca,go,Ea,mo,Bn,ri,tn,un,Un,ar,as,Ql,sl,Js,Zc,al,eu,ch,Zl,vo,yo,uh,ec,hh,dh=s(511),fh=s(2041),ph=s(225),gh=s(767),mh=0,Ls=fh,ol=ph,Kr=gh,Ui=dh,tu=0,ja=1,Cd=2,tc=3,nc=4,fn=5,nu=6,ll=7,wo=8,rc=9,ic=10,sc=[2,3,7],ru=[3,3,11],bo=[280,256,256,256,40],Ed=[0,1,1,1,0],qp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Hp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],jd=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],iu=8,cl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ac=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_o=null,vh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],yh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ld=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Td=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$p=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Vp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],wh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Yr=[],zi=[],ii=[],Ts=1,ul=2,Fr=[],si=[];$s("UpsampleRgbLinePair",ka,3),$s("UpsampleBgrLinePair",jr,3),$s("UpsampleRgbaLinePair",Gr,4),$s("UpsampleBgraLinePair",Xl,4),$s("UpsampleArgbLinePair",Jl,4),$s("UpsampleRgba4444LinePair",uo,2),$s("UpsampleRgb565LinePair",co,2);var Gp=W.UpsampleRgbLinePair,Kp=W.UpsampleBgrLinePair,La=W.UpsampleRgbaLinePair,hl=W.UpsampleBgraLinePair,xo=W.UpsampleArgbLinePair,oc=W.UpsampleRgba4444LinePair,bh=W.UpsampleRgb565LinePair,Xs=16,os=1<<Xs-1,ln=-227,hn=482,Ta=6,Lr=0,ai=s(256),So=s(256),dl=s(256),oi=s(256),su=s(hn-ln),Od=s(hn-ln);is("YuvToRgbRow",ka,3),is("YuvToBgrRow",jr,3),is("YuvToRgbaRow",Gr,4),is("YuvToBgraRow",Xl,4),is("YuvToArgbRow",Jl,4),is("YuvToRgba4444Row",uo,2),is("YuvToRgb565Row",co,2);var _h=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ko=[0,2,8],Rd=[8,7,6,4,4,2,2,2,1,1,1,1],Qs=1;this.WebPDecodeRGBA=function(p,w,A,E,R){var B=ja,z=new Oe,V=new Ot;z.ba=V,V.S=B,V.width=[V.width],V.height=[V.height];var G=V.width,X=V.height,fe=new yt;if(fe==null||p==null)var Se=2;else e(fe!=null),Se=Na(p,w,A,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(Se!=0?G=0:(G!=null&&(G[0]=fe.width[0]),X!=null&&(X[0]=fe.height[0]),G=1),G){V.width=V.width[0],V.height=V.height[0],E!=null&&(E[0]=V.width),R!=null&&(R[0]=V.height);e:{if(E=new Vo,(R=new Ie).data=p,R.w=w,R.ha=A,R.kd=1,w=[0],e(R!=null),((p=Na(R.data,R.w,R.ha,null,null,null,w,null,R))==0||p==7)&&w[0]&&(p=4),(w=p)==0){if(e(z!=null),E.data=R.data,E.w=R.w+R.offset,E.ha=R.ha-R.offset,E.put=wt,E.ac=ji,E.bc=mi,E.ma=z,R.xa){if((p=Ga())==null){z=1;break e}if((function(Z,ge){var xe=[0],Le=[0],Ne=[0];t:for(;;){if(Z==null)return 0;if(ge==null)return Z.a=2,0;if(Z.l=ge,Z.a=0,se(Z.m,ge.data,ge.w,ge.ha),!Qi(Z.m,xe,Le,Ne)){Z.a=3;break t}if(Z.xb=ul,ge.width=xe[0],ge.height=Le[0],!es(xe[0],Le[0],1,Z,null))break t;return 1}return e(Z.a!=0),0})(p,E)){if(E=(w=Vs(E.width,E.height,z.Oa,z.ba))==0){t:{E=p;n:for(;;){if(E==null){E=0;break t}if(e(E.s.yc!=null),e(E.s.Ya!=null),e(0<E.s.Wb),e((A=E.l)!=null),e((R=A.ma)!=null),E.xb!=0){if(E.ca=R.ba,E.tb=R.tb,e(E.ca!=null),!tl(R.Oa,A,tc)){E.a=2;break n}if(!ya(E,A.width)||A.da)break n;if((A.da||vt(E.ca.S))&&rs(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&rs()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!Q(E.s.vb,E.s.Wa.Xa)){E.a=1;break n}E.xb=0}if(!Ti(E,E.V,E.Ba,E.c,E.i,A.o,va))break n;R.Dc=E.Ma,E=1;break t}e(E.a!=0),E=0}E=!E}E&&(w=p.a)}else w=p.a}else{if((p=new oh)==null){z=1;break e}if(p.Fa=R.na,p.P=R.P,p.qc=R.Sa,bi(p,E)){if((w=Vs(E.width,E.height,z.Oa,z.ba))==0){if(p.Aa=0,A=z.Oa,e((R=p)!=null),A!=null){if(0<(G=0>(G=A.Md)?0:100<G?255:255*G/100)){for(X=fe=0;4>X;++X)12>(Se=R.pb[X]).lc&&(Se.ia=G*Rd[0>Se.lc?0:Se.lc]>>3),fe|=Se.ia;fe&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=A.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}(function(Z,ge){if(Z==null)return 0;if(ge==null)return ir(Z,2,"NULL VP8Io parameter in VP8Decode().");if(!Z.cb&&!bi(Z,ge))return 0;if(e(Z.cb),ge.ac==null||ge.ac(ge)){ge.ob&&(Z.L=0);var xe=ko[Z.L];if(Z.L==2?(Z.yb=0,Z.zb=0):(Z.yb=ge.v-xe>>4,Z.zb=ge.j-xe>>4,0>Z.yb&&(Z.yb=0),0>Z.zb&&(Z.zb=0)),Z.Va=ge.o+15+xe>>4,Z.Hb=ge.va+15+xe>>4,Z.Hb>Z.za&&(Z.Hb=Z.za),Z.Va>Z.Ub&&(Z.Va=Z.Ub),0<Z.L){var Le=Z.ed;for(xe=0;4>xe;++xe){var Ne;if(Z.Qa.Cb){var Ee=Z.Qa.Lb[xe];Z.Qa.Fb||(Ee+=Le.Tb)}else Ee=Le.Tb;for(Ne=0;1>=Ne;++Ne){var je=Z.gd[xe][Ne],Re=Ee;if(Le.Pc&&(Re+=Le.vd[0],Ne&&(Re+=Le.od[0])),0<(Re=0>Re?0:63<Re?63:Re)){var Me=Re;0<Le.wb&&(Me=4<Le.wb?Me>>2:Me>>1)>9-Le.wb&&(Me=9-Le.wb),1>Me&&(Me=1),je.dd=Me,je.tc=2*Re+Me,je.ld=40<=Re?2:15<=Re?1:0}else je.tc=0;je.La=Ne}}}xe=0}else ir(Z,6,"Frame setup failed"),xe=Z.a;if(xe=xe==0){if(xe){Z.$c=0,0<Z.Aa||(Z.Ic=Qs);t:{xe=Z.Ic,Le=4*(Me=Z.za);var at=32*Me,Ye=Me+1,Rt=0<Z.L?Me*(0<Z.Aa?2:1):0,Ze=(Z.Aa==2?2:1)*Me;if((je=Le+832+(Ne=3*(16*xe+ko[Z.L])/2*at)+(Ee=Z.Fa!=null&&0<Z.Fa.length?Z.Kc.c*Z.Kc.i:0))!=je)xe=0;else{if(je>Z.Vb){if(Z.Vb=0,Z.Ec=s(je),Z.Fc=0,Z.Ec==null){xe=ir(Z,1,"no memory during frame initialization.");break t}Z.Vb=je}je=Z.Ec,Re=Z.Fc,Z.Ac=je,Z.Bc=Re,Re+=Le,Z.Gd=o(at,wi),Z.Hd=0,Z.rb=o(Ye+1,wa),Z.sb=1,Z.wa=Rt?o(Rt,yi):null,Z.Y=0,Z.D.Nb=0,Z.D.wa=Z.wa,Z.D.Y=Z.Y,0<Z.Aa&&(Z.D.Y+=Me),e(!0),Z.oc=je,Z.pc=Re,Re+=832,Z.ya=o(Ze,$o),Z.aa=0,Z.D.ya=Z.ya,Z.D.aa=Z.aa,Z.Aa==2&&(Z.D.aa+=Me),Z.R=16*Me,Z.B=8*Me,Me=(at=ko[Z.L])*Z.R,at=at/2*Z.B,Z.sa=je,Z.ta=Re+Me,Z.qa=Z.sa,Z.ra=Z.ta+16*xe*Z.R+at,Z.Ha=Z.qa,Z.Ia=Z.ra+8*xe*Z.B+at,Z.$c=0,Re+=Ne,Z.mb=Ee?je:null,Z.nb=Ee?Re:null,e(Re+Ee<=Z.Fc+Z.Vb),Qa(Z),i(Z.Ac,Z.Bc,0,Le),xe=1}}if(xe){if(ge.ka=0,ge.y=Z.sa,ge.O=Z.ta,ge.f=Z.qa,ge.N=Z.ra,ge.ea=Z.Ha,ge.Vd=Z.Ia,ge.fa=Z.R,ge.Rc=Z.B,ge.F=null,ge.J=0,!mh){for(xe=-255;255>=xe;++xe)dh[255+xe]=0>xe?-xe:xe;for(xe=-1020;1020>=xe;++xe)fh[1020+xe]=-128>xe?-128:127<xe?127:xe;for(xe=-112;112>=xe;++xe)ph[112+xe]=-16>xe?-16:15<xe?15:xe;for(xe=-255;510>=xe;++xe)gh[255+xe]=0>xe?0:255<xe?255:xe;mh=1}Ea=eo,mo=Za,ri=Ss,tn=Go,un=Qt,Bn=Hl,Un=Dr,ar=Fi,as=M,Ql=te,sl=Zo,Js=x,Zc=ue,al=we,eu=qs,ch=_a,Zl=Yl,vo=ao,zi[0]=Jc,zi[1]=$l,zi[2]=Ns,zi[3]=lh,zi[4]=_i,zi[5]=Xc,zi[6]=Ws,zi[7]=Jo,zi[8]=Vl,zi[9]=no,Yr[0]=ks,Yr[1]=Yc,Yr[2]=Ko,Yr[3]=Yo,Yr[4]=ti,Yr[5]=Ri,Yr[6]=to,ii[0]=Xo,ii[1]=Kc,ii[2]=ns,ii[3]=ro,ii[4]=Kl,ii[5]=Gl,ii[6]=Qo,xe=1}else xe=0}xe&&(xe=(function($t,zn){for($t.M=0;$t.M<$t.Va;++$t.M){var It,Je=$t.Jc[$t.M&$t.Xb],qe=$t.m,Yn=$t;for(It=0;It<Yn.za;++It){var kt=qe,Ht=Yn,Sn=Ht.Ac,xr=Ht.Bc+4*It,or=Ht.zc,In=Ht.ya[Ht.aa+It];if(Ht.Qa.Bb?In.$b=Te(kt,Ht.Pa.jb[0])?2+Te(kt,Ht.Pa.jb[2]):Te(kt,Ht.Pa.jb[1]):In.$b=0,Ht.kc&&(In.Ad=Te(kt,Ht.Bd)),In.Za=!Te(kt,145)+0,In.Za){var gr=In.Ob,Sr=0;for(Ht=0;4>Ht;++Ht){var jn,Gt=or[0+Ht];for(jn=0;4>jn;++jn){Gt=$p[Sn[xr+jn]][Gt];for(var nn=Ld[Te(kt,Gt[0])];0<nn;)nn=Ld[2*nn+Te(kt,Gt[nn])];Gt=-nn,Sn[xr+jn]=Gt}r(gr,Sr,Sn,xr,4),Sr+=4,or[0+Ht]=Gt}}else Gt=Te(kt,156)?Te(kt,128)?1:3:Te(kt,163)?2:0,In.Ob[0]=Gt,i(Sn,xr,Gt,4),i(or,0,Gt,4);In.Dd=Te(kt,142)?Te(kt,114)?Te(kt,183)?1:3:2:0}if(Yn.m.Ka)return ir($t,7,"Premature end-of-partition0 encountered.");for(;$t.ja<$t.za;++$t.ja){if(Yn=Je,kt=(qe=$t).rb[qe.sb-1],Sn=qe.rb[qe.sb+qe.ja],It=qe.ya[qe.aa+qe.ja],xr=qe.kc?It.Ad:0)kt.la=Sn.la=0,It.Za||(kt.Na=Sn.Na=0),It.Hc=0,It.Gc=0,It.ia=0;else{var Ln,rn;if(kt=Sn,Sn=Yn,xr=qe.Pa.Xc,or=qe.ya[qe.aa+qe.ja],In=qe.pb[or.$b],Ht=or.ad,gr=0,Sr=qe.rb[qe.sb-1],Gt=jn=0,i(Ht,gr,0,384),or.Za)var Wn=0,qn=xr[3];else{nn=s(16);var pn=kt.Na+Sr.Na;if(pn=_o(Sn,xr[1],pn,In.Eb,0,nn,0),kt.Na=Sr.Na=(0<pn)+0,1<pn)Ea(nn,0,Ht,gr);else{var Br=nn[0]+3>>3;for(nn=0;256>nn;nn+=16)Ht[gr+nn]=Br}Wn=1,qn=xr[0]}var dn=15&kt.la,gn=15&Sr.la;for(nn=0;4>nn;++nn){var lr=1&gn;for(Br=rn=0;4>Br;++Br)dn=dn>>1|(lr=(pn=_o(Sn,qn,pn=lr+(1&dn),In.Sc,Wn,Ht,gr))>Wn)<<7,rn=rn<<2|(3<pn?3:1<pn?2:Ht[gr+0]!=0),gr+=16;dn>>=4,gn=gn>>1|lr<<7,jn=(jn<<8|rn)>>>0}for(qn=dn,Wn=gn>>4,Ln=0;4>Ln;Ln+=2){for(rn=0,dn=kt.la>>4+Ln,gn=Sr.la>>4+Ln,nn=0;2>nn;++nn){for(lr=1&gn,Br=0;2>Br;++Br)pn=lr+(1&dn),dn=dn>>1|(lr=0<(pn=_o(Sn,xr[2],pn,In.Qc,0,Ht,gr)))<<3,rn=rn<<2|(3<pn?3:1<pn?2:Ht[gr+0]!=0),gr+=16;dn>>=2,gn=gn>>1|lr<<5}Gt|=rn<<4*Ln,qn|=dn<<4<<Ln,Wn|=(240&gn)<<Ln}kt.la=qn,Sr.la=Wn,or.Hc=jn,or.Gc=Gt,or.ia=43690&Gt?0:In.ia,xr=!(jn|Gt)}if(0<qe.L&&(qe.wa[qe.Y+qe.ja]=qe.gd[It.$b][It.Za],qe.wa[qe.Y+qe.ja].La|=!xr),Yn.Ka)return ir($t,7,"Premature end-of-file encountered.")}if(Qa($t),qe=zn,Yn=1,It=(Je=$t).D,kt=0<Je.L&&Je.M>=Je.zb&&Je.M<=Je.Va,Je.Aa==0)t:{if(It.M=Je.M,It.uc=kt,xi(Je,It),Yn=1,It=(rn=Je.D).Nb,kt=(Gt=ko[Je.L])*Je.R,Sn=Gt/2*Je.B,nn=16*It*Je.R,Br=8*It*Je.B,xr=Je.sa,or=Je.ta-kt+nn,In=Je.qa,Ht=Je.ra-Sn+Br,gr=Je.Ha,Sr=Je.Ia-Sn+Br,gn=(dn=rn.M)==0,jn=dn>=Je.Va-1,Je.Aa==2&&xi(Je,rn),rn.uc)for(lr=(pn=Je).D.M,e(pn.D.uc),rn=pn.yb;rn<pn.Hb;++rn){Wn=rn,qn=lr;var Tr=(li=(Qn=pn).D).Nb;Ln=Qn.R;var li=li.wa[li.Y+Wn],Jn=Qn.sa,Xn=Qn.ta+16*Tr*Ln+16*Wn,Ur=li.dd,mn=li.tc;if(mn!=0)if(e(3<=mn),Qn.L==1)0<Wn&&ch(Jn,Xn,Ln,mn+4),li.La&&vo(Jn,Xn,Ln,mn),0<qn&&eu(Jn,Xn,Ln,mn+4),li.La&&Zl(Jn,Xn,Ln,mn);else{var zr=Qn.B,Wi=Qn.qa,ls=Qn.ra+8*Tr*zr+8*Wn,kr=Qn.Ha,Qn=Qn.Ia+8*Tr*zr+8*Wn;Tr=li.ld,0<Wn&&(ar(Jn,Xn,Ln,mn+4,Ur,Tr),Ql(Wi,ls,kr,Qn,zr,mn+4,Ur,Tr)),li.La&&(Js(Jn,Xn,Ln,mn,Ur,Tr),al(Wi,ls,kr,Qn,zr,mn,Ur,Tr)),0<qn&&(Un(Jn,Xn,Ln,mn+4,Ur,Tr),as(Wi,ls,kr,Qn,zr,mn+4,Ur,Tr)),li.La&&(sl(Jn,Xn,Ln,mn,Ur,Tr),Zc(Wi,ls,kr,Qn,zr,mn,Ur,Tr))}}if(Je.ia&&alert("todo:DitherRow"),qe.put!=null){if(rn=16*dn,dn=16*(dn+1),gn?(qe.y=Je.sa,qe.O=Je.ta+nn,qe.f=Je.qa,qe.N=Je.ra+Br,qe.ea=Je.Ha,qe.W=Je.Ia+Br):(rn-=Gt,qe.y=xr,qe.O=or,qe.f=In,qe.N=Ht,qe.ea=gr,qe.W=Sr),jn||(dn-=Gt),dn>qe.o&&(dn=qe.o),qe.F=null,qe.J=null,Je.Fa!=null&&0<Je.Fa.length&&rn<dn&&(qe.J=xn(Je,qe,rn,dn-rn),qe.F=Je.mb,qe.F==null&&qe.F.length==0)){Yn=ir(Je,3,"Could not decode alpha data.");break t}rn<qe.j&&(Gt=qe.j-rn,rn=qe.j,e(!(1&Gt)),qe.O+=Je.R*Gt,qe.N+=Je.B*(Gt>>1),qe.W+=Je.B*(Gt>>1),qe.F!=null&&(qe.J+=qe.width*Gt)),rn<dn&&(qe.O+=qe.v,qe.N+=qe.v>>1,qe.W+=qe.v>>1,qe.F!=null&&(qe.J+=qe.v),qe.ka=rn-qe.j,qe.U=qe.va-qe.v,qe.T=dn-rn,Yn=qe.put(qe))}It+1!=Je.Ic||jn||(r(Je.sa,Je.ta-kt,xr,or+16*Je.R,kt),r(Je.qa,Je.ra-Sn,In,Ht+8*Je.B,Sn),r(Je.Ha,Je.Ia-Sn,gr,Sr+8*Je.B,Sn))}if(!Yn)return ir($t,6,"Output aborted.")}return 1})(Z,ge)),ge.bc!=null&&ge.bc(ge),xe&=1}return xe?(Z.cb=0,xe):0})(p,E)||(w=p.a)}}else w=p.a}w==0&&z.Oa!=null&&z.Oa.fd&&(w=nl(z.ba))}z=w}B=z!=0?null:11>B?V.f.RGBA.eb:V.f.kb.y}else B=null;return B};var lc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(W,re){for(var I="",q=0;q<4;q++)I+=String.fromCharCode(W[re++]);return I}function d(W,re){return W[re+0]|W[re+1]<<8}function g(W,re){return(W[re+0]|W[re+1]<<8|W[re+2]<<16)>>>0}function y(W,re){return(W[re+0]|W[re+1]<<8|W[re+2]<<16|W[re+3]<<24)>>>0}new c;var m=[0],_=[0],k=[],N=new c,P=n,O=(function(W,re){var I={},q=0,ne=!1,ie=0,ve=0;if(I.frames=[],!(function(T,Y){for(var ee=0;ee<4;ee++)if(T[Y+ee]!="RIFF".charCodeAt(ee))return!0;return!1})(W,re)){for(y(W,re+=4),re+=8;re<W.length;){var be=h(W,re),he=y(W,re+=4);re+=4;var $=he+(1&he);switch(be){case"VP8 ":case"VP8L":I.frames[q]===void 0&&(I.frames[q]={}),(K=I.frames[q]).src_off=ne?ve:re-8,K.src_size=ie+he+8,q++,ne&&(ne=!1,ie=0,ve=0);break;case"VP8X":(K=I.header={}).feature_flags=W[re];var se=re+4;K.canvas_width=1+g(W,se),se+=3,K.canvas_height=1+g(W,se),se+=3;break;case"ALPH":ne=!0,ie=$+8,ve=re-8;break;case"ANIM":(K=I.header).bgcolor=y(W,re),se=re+4,K.loop_count=d(W,se),se+=2;break;case"ANMF":var le,K;(K=I.frames[q]={}).offset_x=2*g(W,re),re+=3,K.offset_y=2*g(W,re),re+=3,K.width=1+g(W,re),re+=3,K.height=1+g(W,re),re+=3,K.duration=g(W,re),re+=3,le=W[re++],K.dispose=1&le,K.blend=le>>1&1}be!="ANMF"&&(re+=$)}return I}})(P,0);O.response=P,O.rgbaoutput=!0,O.dataurl=!1;var j=O.header?O.header:null,L=O.frames?O.frames:null;if(j){j.loop_counter=j.loop_count,m=[j.canvas_height],_=[j.canvas_width];for(var D=0;D<L.length&&L[D].blend!=0;D++);}var J=L[0],U=N.WebPDecodeRGBA(P,J.src_off,J.src_size,_,m);J.rgba=U,J.imgwidth=_[0],J.imgheight=m[0];for(var H=0;H<_[0]*m[0]*4;H++)k[H]=U[H];return this.width=_,this.height=m,this.data=k,this}(function(n){var e,t,r,i,s,o,l,c,h,d=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new c,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new o,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new o,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,h=new d}]);var g=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=T;Object.defineProperty(this,"pdf",{get:function(){return Y}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(Q){ee=!!Q}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(Q){oe=!!Q}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(Q){isNaN(Q)||(ce=Q)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(Q){isNaN(Q)||(ye=Q)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Q){var $e;typeof Q=="number"?$e=[Q,Q,Q,Q]:(($e=new Array(4))[0]=Q[0],$e[1]=Q.length>=2?Q[1]:$e[0],$e[2]=Q.length>=3?Q[2]:$e[0],$e[3]=Q.length>=4?Q[3]:$e[1]),h.margin=$e}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(Q){_e=Q}});var Ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ae},set:function(Q){Ae=Q}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(Q){Te=Q}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Q){Q instanceof d&&(h=Q)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Q){h.path=Q}});var Ue=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ue},set:function(Q){Ue=Q}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Q){var $e;$e=y(Q),this.ctx.fillStyle=$e.style,this.ctx.isFillTransparent=$e.a===0,this.ctx.fillOpacity=$e.a,this.pdf.setFillColor($e.r,$e.g,$e.b,{a:$e.a}),this.pdf.setTextColor($e.r,$e.g,$e.b,{a:$e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Q){var $e=y(Q);this.ctx.strokeStyle=$e.style,this.ctx.isStrokeTransparent=$e.a===0,this.ctx.strokeOpacity=$e.a,$e.a===0?this.pdf.setDrawColor(255,255,255):($e.a,this.pdf.setDrawColor($e.r,$e.g,$e.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Q){["butt","round","square"].indexOf(Q)!==-1&&(this.ctx.lineCap=Q,this.pdf.setLineCap(Q))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Q){isNaN(Q)||(this.ctx.lineWidth=Q,this.pdf.setLineWidth(Q))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Q){["bevel","round","miter"].indexOf(Q)!==-1&&(this.ctx.lineJoin=Q,this.pdf.setLineJoin(Q))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Q){isNaN(Q)||(this.ctx.miterLimit=Q,this.pdf.setMiterLimit(Q))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Q){this.ctx.textBaseline=Q}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Q){["right","end","center","left","start"].indexOf(Q)!==-1&&(this.ctx.textAlign=Q)}});var Ve=null,He=null,ct=null;Object.defineProperty(this,"fontFaces",{get:function(){return ct},set:function(Q){Ve=null,He=null,ct=Q}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Q){var $e;if(this.ctx.font=Q,($e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Q))!==null){var Mt=$e[1];$e[2];var mt=$e[3],De=$e[4];$e[5];var dt=$e[6],Ge=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(De)[2];De=Math.floor(Ge==="px"?parseFloat(De)*this.pdf.internal.scaleFactor:Ge==="em"?parseFloat(De)*this.pdf.getFontSize():parseFloat(De)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(De);var gt=(function(nt){var $n,Yt,Bt=[],zt=nt.trim();if(zt==="")return ym;if(zt in i5)return[i5[zt]];for(;zt!=="";){switch(Yt=null,$n=(zt=a5(zt)).charAt(0)){case'"':case"'":Yt=GL(zt.substring(1),$n);break;default:Yt=KL(zt)}if(Yt===null||(Bt.push(Yt[0]),(zt=a5(Yt[1]))!==""&&zt.charAt(0)!==","))return ym;zt=zt.replace(/^,/,"")}return Bt})(dt);if(this.fontFaces){var ft=(function(nt,$n){var Yt=nt.getFontList(),Bt=JSON.stringify(Yt);if(Ve===null||He!==Bt){var zt=(function(bn){var pt=[];return Object.keys(bn).forEach(function(cn){bn[cn].forEach(function(vt){var Ct=null;switch(vt){case"bold":Ct={family:cn,weight:"bold"};break;case"italic":Ct={family:cn,style:"italic"};break;case"bolditalic":Ct={family:cn,weight:"bold",style:"italic"};break;case"":case"normal":Ct={family:cn}}Ct!==null&&(Ct.ref={name:cn,style:vt},pt.push(Ct))})}),pt})(Yt);Ve=(function(bn){for(var pt={},cn=0;cn<bn.length;++cn){var vt=vm(bn[cn]),Ct=vt.family,on=vt.stretch,Ot=vt.style,yt=vt.weight;pt[Ct]=pt[Ct]||{},pt[Ct][on]=pt[Ct][on]||{},pt[Ct][on][Ot]=pt[Ct][on][Ot]||{},pt[Ct][on][Ot][yt]=vt}return pt})(zt.concat($n)),He=Bt}return Ve})(this.pdf,this.fontFaces),Zt=gt.map(function(nt){return{family:nt,stretch:"normal",weight:mt,style:Mt}}),Wt=(function(nt,$n,Yt){for(var Bt=(Yt=Yt||{}).defaultFontFamily||"times",zt=Object.assign({},VL,Yt.genericFontFamilies||{}),bn=null,pt=null,cn=0;cn<$n.length;++cn)if(zt[(bn=vm($n[cn])).family]&&(bn.family=zt[bn.family]),nt.hasOwnProperty(bn.family)){pt=nt[bn.family];break}if(!(pt=pt||nt[Bt]))throw new Error("Could not find a font-family for the rule '"+s5(bn)+"' and default family '"+Bt+"'.");if(pt=(function(vt,Ct){if(Ct[vt])return Ct[vt];var on=c0[vt],Ot=on<=c0.normal?-1:1,yt=r5(Ct,b_,on,Ot);if(!yt)throw new Error("Could not find a matching font-stretch value for "+vt);return yt})(bn.stretch,pt),pt=(function(vt,Ct){if(Ct[vt])return Ct[vt];for(var on=w_[vt],Ot=0;Ot<on.length;++Ot)if(Ct[on[Ot]])return Ct[on[Ot]];throw new Error("Could not find a matching font-style for "+vt)})(bn.style,pt),!(pt=(function(vt,Ct){if(Ct[vt])return Ct[vt];if(vt===400&&Ct[500])return Ct[500];if(vt===500&&Ct[400])return Ct[400];var on=$L[vt],Ot=r5(Ct,__,on,vt<400?-1:1);if(!Ot)throw new Error("Could not find a matching font-weight for value "+vt);return Ot})(bn.weight,pt)))throw new Error("Failed to resolve a font for the rule '"+s5(bn)+"'.");return pt})(ft,Zt);this.pdf.setFont(Wt.ref.name,Wt.ref.style)}else{var Lt="";(mt==="bold"||parseInt(mt,10)>=700||Mt==="bold")&&(Lt="bold"),Mt==="italic"&&(Lt+="italic"),Lt.length===0&&(Lt="normal");for(var qt="",Ut={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},rt=0;rt<gt.length;rt++){if(this.pdf.internal.getFont(gt[rt],Lt,{noFallback:!0,disableWarning:!0})!==void 0){qt=gt[rt];break}if(Lt==="bolditalic"&&this.pdf.internal.getFont(gt[rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)qt=gt[rt],Lt="bold";else if(this.pdf.internal.getFont(gt[rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){qt=gt[rt],Lt="normal";break}}if(qt===""){for(var At=0;At<gt.length;At++)if(Ut[gt[At]]){qt=Ut[gt[At]];break}}qt=qt===""?"Times":qt,this.pdf.setFont(qt,Lt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Q){this.ctx.globalCompositeOperation=Q}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Q){this.ctx.globalAlpha=Q}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Q){this.ctx.lineDashOffset=Q,K.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Q){this.ctx.lineDash=Q,K.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Q){this.ctx.ignoreClearRect=!!Q}})};g.prototype.setLineDash=function(T){this.lineDash=T},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){L.call(this,"fill",!1)},g.prototype.stroke=function(){L.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(T,Y){if(isNaN(T)||isNaN(Y))throw Pn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new o(T,Y));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(T,Y)},g.prototype.closePath=function(){var T=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&wn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){T=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(T.x,T.y)},g.prototype.lineTo=function(T,Y){if(isNaN(T)||isNaN(Y))throw Pn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new o(T,Y));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),L.call(this,null,!0)},g.prototype.quadraticCurveTo=function(T,Y,ee,oe){if(isNaN(ee)||isNaN(oe)||isNaN(T)||isNaN(Y))throw Pn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new o(ee,oe)),ye=this.ctx.transform.applyToPoint(new o(T,Y));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},g.prototype.bezierCurveTo=function(T,Y,ee,oe,ce,ye){if(isNaN(ce)||isNaN(ye)||isNaN(T)||isNaN(Y)||isNaN(ee)||isNaN(oe))throw Pn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new o(ce,ye)),Ae=this.ctx.transform.applyToPoint(new o(T,Y)),Te=this.ctx.transform.applyToPoint(new o(ee,oe));this.path.push({type:"bct",x1:Ae.x,y1:Ae.y,x2:Te.x,y2:Te.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new o(_e.x,_e.y)},g.prototype.arc=function(T,Y,ee,oe,ce,ye){if(isNaN(T)||isNaN(Y)||isNaN(ee)||isNaN(oe)||isNaN(ce))throw Pn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new o(T,Y));T=_e.x,Y=_e.y;var Ae=this.ctx.transform.applyToPoint(new o(0,ee)),Te=this.ctx.transform.applyToPoint(new o(0,0));ee=Math.sqrt(Math.pow(Ae.x-Te.x,2)+Math.pow(Ae.y-Te.y,2))}Math.abs(ce-oe)>=2*Math.PI&&(oe=0,ce=2*Math.PI),this.path.push({type:"arc",x:T,y:Y,radius:ee,startAngle:oe,endAngle:ce,counterclockwise:ye})},g.prototype.arcTo=function(T,Y,ee,oe,ce){throw new Error("arcTo not implemented.")},g.prototype.rect=function(T,Y,ee,oe){if(isNaN(T)||isNaN(Y)||isNaN(ee)||isNaN(oe))throw Pn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,Y),this.lineTo(T+ee,Y),this.lineTo(T+ee,Y+oe),this.lineTo(T,Y+oe),this.lineTo(T,Y),this.lineTo(T+ee,Y),this.lineTo(T,Y)},g.prototype.fillRect=function(T,Y,ee,oe){if(isNaN(T)||isNaN(Y)||isNaN(ee)||isNaN(oe))throw Pn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,Y,ee,oe),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},g.prototype.strokeRect=function(T,Y,ee,oe){if(isNaN(T)||isNaN(Y)||isNaN(ee)||isNaN(oe))throw Pn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(T,Y,ee,oe),this.stroke())},g.prototype.clearRect=function(T,Y,ee,oe){if(isNaN(T)||isNaN(Y)||isNaN(ee)||isNaN(oe))throw Pn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,Y,ee,oe))},g.prototype.save=function(T){T=typeof T!="boolean"||T;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},g.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(T){var Y,ee,oe,ce;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))Y=0,ee=0,oe=0,ce=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(ye!==null)Y=parseInt(ye[1]),ee=parseInt(ye[2]),oe=parseInt(ye[3]),ce=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)Y=parseInt(ye[1]),ee=parseInt(ye[2]),oe=parseInt(ye[3]),ce=parseFloat(ye[4]);else{if(ce=1,typeof T=="string"&&T.charAt(0)!=="#"){var _e=new d_(T);T=_e.ok?_e.toHex():"#000000"}T.length===4?(Y=T.substring(1,2),Y+=Y,ee=T.substring(2,3),ee+=ee,oe=T.substring(3,4),oe+=oe):(Y=T.substring(1,3),ee=T.substring(3,5),oe=T.substring(5,7)),Y=parseInt(Y,16),ee=parseInt(ee,16),oe=parseInt(oe,16)}}return{r:Y,g:ee,b:oe,a:ce,style:T}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(T,Y,ee,oe){if(isNaN(Y)||isNaN(ee)||typeof T!="string")throw Pn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!m.call(this)){var ce=$(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;q.call(this,{text:T,x:Y,y:ee,scale:ye,angle:ce,align:this.textAlign,maxWidth:oe})}},g.prototype.strokeText=function(T,Y,ee,oe){if(isNaN(Y)||isNaN(ee)||typeof T!="string")throw Pn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){oe=isNaN(oe)?void 0:oe;var ce=$(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;q.call(this,{text:T,x:Y,y:ee,scale:ye,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:oe})}},g.prototype.measureText=function(T){if(typeof T!="string")throw Pn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,ee=this.pdf.internal.scaleFactor,oe=Y.internal.getFontSize(),ce=Y.getStringUnitWidth(T)*oe/Y.internal.scaleFactor;return new function(ye){var _e=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _e}}),this}({width:ce*=Math.round(96*ee/72*1e4)/1e4})},g.prototype.scale=function(T,Y){if(isNaN(T)||isNaN(Y))throw Pn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new c(T,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},g.prototype.rotate=function(T){if(isNaN(T))throw Pn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new c(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},g.prototype.translate=function(T,Y){if(isNaN(T)||isNaN(Y))throw Pn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new c(1,0,0,1,T,Y);this.ctx.transform=this.ctx.transform.multiply(ee)},g.prototype.transform=function(T,Y,ee,oe,ce,ye){if(isNaN(T)||isNaN(Y)||isNaN(ee)||isNaN(oe)||isNaN(ce)||isNaN(ye))throw Pn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new c(T,Y,ee,oe,ce,ye);this.ctx.transform=this.ctx.transform.multiply(_e)},g.prototype.setTransform=function(T,Y,ee,oe,ce,ye){T=isNaN(T)?1:T,Y=isNaN(Y)?0:Y,ee=isNaN(ee)?0:ee,oe=isNaN(oe)?1:oe,ce=isNaN(ce)?0:ce,ye=isNaN(ye)?0:ye,this.ctx.transform=new c(T,Y,ee,oe,ce,ye)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(T,Y,ee,oe,ce,ye,_e,Ae,Te){var Ue=this.pdf.getImageProperties(T),Ve=1,He=1,ct=1,Q=1;oe!==void 0&&Ae!==void 0&&(ct=Ae/oe,Q=Te/ce,Ve=Ue.width/oe*Ae/oe,He=Ue.height/ce*Te/ce),ye===void 0&&(ye=Y,_e=ee,Y=0,ee=0),oe!==void 0&&Ae===void 0&&(Ae=oe,Te=ce),oe===void 0&&Ae===void 0&&(Ae=Ue.width,Te=Ue.height);var $e=this.ctx.transform.decompose(),Mt=$($e.rotate.shx),mt=new c,De=(mt=(mt=(mt=mt.multiply($e.translate)).multiply($e.skew)).multiply($e.scale)).applyToRectangle(new l(ye-Y*ct,_e-ee*Q,oe*Ve,ce*He));if(this.autoPaging){for(var dt,Ge=N.call(this,De),gt=[],ft=0;ft<Ge.length;ft+=1)gt.indexOf(Ge[ft])===-1&&gt.push(Ge[ft]);j(gt);for(var Zt=gt[0],Wt=gt[gt.length-1],Lt=Zt;Lt<Wt+1;Lt++){this.pdf.setPage(Lt);var qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ut=Lt===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=Lt===1?0:rt+(Lt-2)*At;if(this.ctx.clip_path.length!==0){var $n=this.path;dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(dt,this.posX+this.margin[3],-nt+Ut+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=$n}var Yt=JSON.parse(JSON.stringify(De));Yt=O([Yt],this.posX+this.margin[3],-nt+Ut+this.ctx.prevPageLastElemOffset)[0];var Bt=(Lt>Zt||Lt<Wt)&&k.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qt,At,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,Mt),Bt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(T,"JPEG",De.x,De.y,De.w,De.h,null,null,Mt)};var N=function(T,Y,ee){var oe=[];Y=Y||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":oe.push(Math.floor((T.y+ce)/ee)+1);break;case"arc":oe.push(Math.floor((T.y+ce-T.radius)/ee)+1),oe.push(Math.floor((T.y+ce+T.radius)/ee)+1);break;case"qct":var ye=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);oe.push(Math.floor((ye.y+ce)/ee)+1),oe.push(Math.floor((ye.y+ye.h+ce)/ee)+1);break;case"bct":var _e=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);oe.push(Math.floor((_e.y+ce)/ee)+1),oe.push(Math.floor((_e.y+_e.h+ce)/ee)+1);break;case"rect":oe.push(Math.floor((T.y+ce)/ee)+1),oe.push(Math.floor((T.y+T.h+ce)/ee)+1)}for(var Ae=0;Ae<oe.length;Ae+=1)for(;this.pdf.internal.getNumberOfPages()<oe[Ae];)P.call(this);return oe},P=function(){var T=this.fillStyle,Y=this.strokeStyle,ee=this.font,oe=this.lineCap,ce=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=Y,this.font=ee,this.lineCap=oe,this.lineWidth=ce,this.lineJoin=ye},O=function(T,Y,ee){for(var oe=0;oe<T.length;oe++)switch(T[oe].type){case"bct":T[oe].x2+=Y,T[oe].y2+=ee;case"qct":T[oe].x1+=Y,T[oe].y1+=ee;default:T[oe].x+=Y,T[oe].y+=ee}return T},j=function(T){return T.sort(function(Y,ee){return Y-ee})},L=function(T,Y){var ee=this.fillStyle,oe=this.strokeStyle,ce=this.lineCap,ye=this.lineWidth,_e=Math.abs(ye*this.ctx.transform.scaleX),Ae=this.lineJoin;if(this.autoPaging){for(var Te,Ue,Ve=JSON.parse(JSON.stringify(this.path)),He=JSON.parse(JSON.stringify(this.path)),ct=[],Q=0;Q<He.length;Q++)if(He[Q].x!==void 0)for(var $e=N.call(this,He[Q]),Mt=0;Mt<$e.length;Mt+=1)ct.indexOf($e[Mt])===-1&&ct.push($e[Mt]);for(var mt=0;mt<ct.length;mt++)for(;this.pdf.internal.getNumberOfPages()<ct[mt];)P.call(this);j(ct);for(var De=ct[0],dt=ct[ct.length-1],Ge=De;Ge<dt+1;Ge++){this.pdf.setPage(Ge),this.fillStyle=ee,this.strokeStyle=oe,this.lineCap=ce,this.lineWidth=_e,this.lineJoin=Ae;var gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=Ge===1?this.posY+this.margin[0]:this.margin[0],Zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Lt=Ge===1?0:Zt+(Ge-2)*Wt;if(this.ctx.clip_path.length!==0){var qt=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(Te,this.posX+this.margin[3],-Lt+ft+this.ctx.prevPageLastElemOffset),D.call(this,T,!0),this.path=qt}if(Ue=JSON.parse(JSON.stringify(Ve)),this.path=O(Ue,this.posX+this.margin[3],-Lt+ft+this.ctx.prevPageLastElemOffset),Y===!1||Ge===0){var Ut=(Ge>De||Ge<dt)&&k.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,Wt,null).clip().discardPath()),D.call(this,T,Y),Ut&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}this.path=Ve}else this.lineWidth=_e,D.call(this,T,Y),this.lineWidth=ye},D=function(T,Y){if((T!=="stroke"||Y||!_.call(this))&&(T==="stroke"||Y||!m.call(this))){for(var ee,oe,ce=[],ye=this.path,_e=0;_e<ye.length;_e++){var Ae=ye[_e];switch(Ae.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Ae,deltas:[],abs:[]});break;case"lt":var Te=ce.length;if(ye[_e-1]&&!isNaN(ye[_e-1].x)&&(ee=[Ae.x-ye[_e-1].x,Ae.y-ye[_e-1].y],Te>0)){for(;Te>=0;Te--)if(ce[Te-1].close!==!0&&ce[Te-1].begin!==!0){ce[Te-1].deltas.push(ee),ce[Te-1].abs.push(Ae);break}}break;case"bct":ee=[Ae.x1-ye[_e-1].x,Ae.y1-ye[_e-1].y,Ae.x2-ye[_e-1].x,Ae.y2-ye[_e-1].y,Ae.x-ye[_e-1].x,Ae.y-ye[_e-1].y],ce[ce.length-1].deltas.push(ee);break;case"qct":var Ue=ye[_e-1].x+2/3*(Ae.x1-ye[_e-1].x),Ve=ye[_e-1].y+2/3*(Ae.y1-ye[_e-1].y),He=Ae.x+2/3*(Ae.x1-Ae.x),ct=Ae.y+2/3*(Ae.y1-Ae.y),Q=Ae.x,$e=Ae.y;ee=[Ue-ye[_e-1].x,Ve-ye[_e-1].y,He-ye[_e-1].x,ct-ye[_e-1].y,Q-ye[_e-1].x,$e-ye[_e-1].y],ce[ce.length-1].deltas.push(ee);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Ae)}}oe=Y?null:T==="stroke"?"stroke":"fill";for(var Mt=!1,mt=0;mt<ce.length;mt++)if(ce[mt].arc)for(var De=ce[mt].abs,dt=0;dt<De.length;dt++){var Ge=De[dt];Ge.type==="arc"?H.call(this,Ge.x,Ge.y,Ge.radius,Ge.startAngle,Ge.endAngle,Ge.counterclockwise,void 0,Y,!Mt):ne.call(this,Ge.x,Ge.y),Mt=!0}else if(ce[mt].close===!0)this.pdf.internal.out("h"),Mt=!1;else if(ce[mt].begin!==!0){var gt=ce[mt].start.x,ft=ce[mt].start.y;ie.call(this,ce[mt].deltas,gt,ft),Mt=!0}oe&&W.call(this,oe),Y&&re.call(this)}},J=function(T){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-ee;case"top":return T+Y-ee;case"hanging":return T+Y-2*ee;case"middle":return T+Y/2-ee;default:return T}},U=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(Y,ee){this.colorStops.push([Y,ee])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var H=function(T,Y,ee,oe,ce,ye,_e,Ae,Te){for(var Ue=be.call(this,ee,oe,ce,ye),Ve=0;Ve<Ue.length;Ve++){var He=Ue[Ve];Ve===0&&(Te?I.call(this,He.x1+T,He.y1+Y):ne.call(this,He.x1+T,He.y1+Y)),ve.call(this,T,Y,He.x2,He.y2,He.x3,He.y3,He.x4,He.y4)}Ae?re.call(this):W.call(this,_e)},W=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},re=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(T,Y){this.pdf.internal.out(t(T)+" "+r(Y)+" m")},q=function(T){var Y;switch(T.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var ee,oe,ce,ye=this.pdf.getTextDimensions(T.text),_e=J.call(this,T.y),Ae=U.call(this,_e)-ye.h,Te=this.ctx.transform.applyToPoint(new o(T.x,_e));if(this.autoPaging){var Ue=this.ctx.transform.decompose(),Ve=new c;Ve=(Ve=(Ve=Ve.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale);for(var He=this.ctx.transform.applyToRectangle(new l(T.x,_e,ye.w,ye.h)),ct=Ve.applyToRectangle(new l(T.x,Ae,ye.w,ye.h)),Q=N.call(this,ct),$e=[],Mt=0;Mt<Q.length;Mt+=1)$e.indexOf(Q[Mt])===-1&&$e.push(Q[Mt]);j($e);for(var mt=$e[0],De=$e[$e.length-1],dt=mt;dt<De+1;dt++){this.pdf.setPage(dt);var Ge=dt===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[2],Zt=ft-this.margin[0],Wt=this.pdf.internal.pageSize.width-this.margin[1],Lt=Wt-this.margin[3],qt=dt===1?0:gt+(dt-2)*Zt;if(this.ctx.clip_path.length!==0){var Ut=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(ee,this.posX+this.margin[3],-1*qt+Ge),D.call(this,"fill",!0),this.path=Ut}var rt=O([JSON.parse(JSON.stringify(ct))],this.posX+this.margin[3],-qt+Ge+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*T.scale),ce=this.lineWidth,this.lineWidth=ce*T.scale);var At=this.autoPaging!=="text";if(At||rt.y+rt.h<=ft){if(At||rt.y>=Ge&&rt.x<=Wt){var nt=At?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||Wt-rt.x)[0],$n=O([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-qt+Ge+this.ctx.prevPageLastElemOffset)[0],Yt=At&&(dt>mt||dt<De)&&k.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Lt,Zt,null).clip().discardPath()),this.pdf.text(nt,$n.x,$n.y,{angle:T.angle,align:Y,renderingMode:T.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else rt.y<ft&&(this.ctx.prevPageLastElemOffset+=ft-rt.y);T.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=ce)}}else T.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*T.scale),ce=this.lineWidth,this.lineWidth=ce*T.scale),this.pdf.text(T.text,Te.x+this.posX,Te.y+this.posY,{angle:T.angle,align:Y,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=ce)},ne=function(T,Y,ee,oe){ee=ee||0,oe=oe||0,this.pdf.internal.out(t(T+ee)+" "+r(Y+oe)+" l")},ie=function(T,Y,ee){return this.pdf.lines(T,Y,ee,null,null)},ve=function(T,Y,ee,oe,ce,ye,_e,Ae){this.pdf.internal.out([e(i(ee+T)),e(s(oe+Y)),e(i(ce+T)),e(s(ye+Y)),e(i(_e+T)),e(s(Ae+Y)),"c"].join(" "))},be=function(T,Y,ee,oe){for(var ce=2*Math.PI,ye=Math.PI/2;Y>ee;)Y-=ce;var _e=Math.abs(ee-Y);_e<ce&&oe&&(_e=ce-_e);for(var Ae=[],Te=oe?-1:1,Ue=Y;_e>1e-5;){var Ve=Ue+Te*Math.min(_e,ye);Ae.push(he.call(this,T,Ue,Ve)),_e-=Math.abs(Ve-Ue),Ue=Ve}return Ae},he=function(T,Y,ee){var oe=(ee-Y)/2,ce=T*Math.cos(oe),ye=T*Math.sin(oe),_e=ce,Ae=-ye,Te=_e*_e+Ae*Ae,Ue=Te+_e*ce+Ae*ye,Ve=4/3*(Math.sqrt(2*Te*Ue)-Ue)/(_e*ye-Ae*ce),He=_e-Ve*Ae,ct=Ae+Ve*_e,Q=He,$e=-ct,Mt=oe+Y,mt=Math.cos(Mt),De=Math.sin(Mt);return{x1:T*Math.cos(Y),y1:T*Math.sin(Y),x2:He*mt-ct*De,y2:He*De+ct*mt,x3:Q*mt-$e*De,y3:Q*De+$e*mt,x4:T*Math.cos(ee),y4:T*Math.sin(ee)}},$=function(T){return 180*T/Math.PI},se=function(T,Y,ee,oe,ce,ye){var _e=T+.5*(ee-T),Ae=Y+.5*(oe-Y),Te=ce+.5*(ee-ce),Ue=ye+.5*(oe-ye),Ve=Math.min(T,ce,_e,Te),He=Math.max(T,ce,_e,Te),ct=Math.min(Y,ye,Ae,Ue),Q=Math.max(Y,ye,Ae,Ue);return new l(Ve,ct,He-Ve,Q-ct)},le=function(T,Y,ee,oe,ce,ye,_e,Ae){var Te,Ue,Ve,He,ct,Q,$e,Mt,mt,De,dt,Ge,gt,ft,Zt=ee-T,Wt=oe-Y,Lt=ce-ee,qt=ye-oe,Ut=_e-ce,rt=Ae-ye;for(Ue=0;Ue<41;Ue++)mt=($e=(Ve=T+(Te=Ue/40)*Zt)+Te*((ct=ee+Te*Lt)-Ve))+Te*(ct+Te*(ce+Te*Ut-ct)-$e),De=(Mt=(He=Y+Te*Wt)+Te*((Q=oe+Te*qt)-He))+Te*(Q+Te*(ye+Te*rt-Q)-Mt),Ue==0?(dt=mt,Ge=De,gt=mt,ft=De):(dt=Math.min(dt,mt),Ge=Math.min(Ge,De),gt=Math.max(gt,mt),ft=Math.max(ft,De));return new l(Math.round(dt),Math.round(Ge),Math.round(gt-dt),Math.round(ft-Ge))},K=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,Y,ee=(T=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:Y}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(ht.API),(function(n){var e=function(o){var l,c,h,d,g,y,m,_,k,N;for(c=[],h=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>h;h+=4)(g=(o.charCodeAt(h)<<24)+(o.charCodeAt(h+1)<<16)+(o.charCodeAt(h+2)<<8)+o.charCodeAt(h+3))!==0?(y=(g=((g=((g=((g=(g-(N=g%85))/85)-(k=g%85))/85)-(_=g%85))/85)-(m=g%85))/85)%85,c.push(y+33,m+33,_+33,k+33,N+33)):c.push(122);return(function(P,O){for(var j=O;j>0;j--)P.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},t=function(o){var l,c,h,d,g,y=String,m="length",_=255,k="charCodeAt",N="slice",P="replace";for(o[N](-2),o=o[N](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),h=[],d=0,g=(o+=l="uuuuu"[N](o[m]%5||5))[m];g>d;d+=5)c=52200625*(o[k](d)-33)+614125*(o[k](d+1)-33)+7225*(o[k](d+2)-33)+85*(o[k](d+3)-33)+(o[k](d+4)-33),h.push(_&c>>24,_&c>>16,_&c>>8,_&c);return(function(O,j){for(var L=j;L>0;L--)O.pop()})(h,l[m]),y.fromCharCode.apply(y,h)},r=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",h=0;h<o.length;h+=2)c+=String.fromCharCode("0x"+(o[h]+o[h+1]));return c},s=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=n0(l)).reduce(function(h,d){return h+String.fromCharCode(d)},"")};n.processDataByFilters=function(o,l){var c=0,h=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":h=t(h),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=r(h),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=s(h),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:h,reverseChain:d.reverse().join(" ")}}})(ht.API),(function(n){n.loadFile=function(e,t,r){return(function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,h,d){var g=new XMLHttpRequest,y=0,m=function(_){var k=_.length,N=[],P=String.fromCharCode;for(y=0;y<k;y+=1)N.push(P(255&_.charCodeAt(y)));return N.join("")};if(g.open("GET",c,!h),g.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(g.onload=function(){g.status===200?d(m(this.responseText)):d(void 0)}),g.send(null),h&&g.status===200)return m(g.responseText)})(i,s,o)}catch{}return l})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(ht.API),(function(n){function e(){return(jt.html2canvas?Promise.resolve(jt.html2canvas):qf(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(jt.DOMPurify?Promise.resolve(jt.DOMPurify):qf(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var c=wn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var h=document.createElement(l);for(var d in c.className&&(h.className=c.className),c.innerHTML&&c.dompurify&&(h.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)h.style[d]=c.style[d];return h},s=function l(c,h){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),g=c.firstChild;g;g=g.nextSibling)h!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||d.appendChild(l(g,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var h=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),h);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(h){switch(r(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(t).then(function(h){return this.set({src:i("div",{innerHTML:l,dompurify:h})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,c(this.prop.container,h)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var h=this.opt.jsPDF,d=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var _=d[m],k=_.src.find(function(N){return N.format==="truetype"});k&&h.addFont(k.url,_.ref.name,_.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,h.context2d.save(!0),c(this.prop.container,y)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(r(l)!=="object")return this;var c=Object.keys(l||{}).map(function(h){if(h in o.template.prop)return function(){this.prop[h]=l[h]};switch(h){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[h]=l[h]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var h=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(h):h})},o.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(h,d){return Math.floor(h*d/72*96)}return this.then(function(){(l=l||ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,h,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),h!=null&&(this.progress.n=h),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,h,d){return this.setProgress(l?this.progress.val+l:null,c||null,h?this.progress.n+h:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var h=this;return this.thenCore(l,c,function(d,g){return h.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(y){return h.updateProgress(null,d),y}).then(d,g).then(function(y){return h.updateProgress(1),y})})},o.prototype.thenCore=function(l,c,h){h=h||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),y=h.call(g,l,c);return o.convert(y,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(h){c=c.thenCore(h)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ht.getPageSize=function(l,c,h){if(wn(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,h=d.format||h}c=c||"mm",h=h||"a4",l=(""+(l||"P")).toLowerCase();var g,y=(""+h).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+c}var _,k=0,N=0;if(m.hasOwnProperty(y))k=m[y][1]/g,N=m[y][0]/g;else try{k=h[1],N=h[0]}catch{throw new Error("Invalid format: "+h)}if(l==="p"||l==="portrait")l="p",N>k&&(_=N,N=k,k=_);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",k>N&&(_=N,N=k,k=_)}return{width:N,height:k,unit:c,k:g,orientation:l}},n.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(vm):null;var h=new o(c);return c.worker?h:h.from(l).doCallback()}})(ht.API),ht.API.addJS=function(n){return l5=n,this.internal.events.subscribe("postPutResources",function(){Ff=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ff+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),o5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+l5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ff!==void 0&&o5!==void 0&&this.internal.out("/Names <</JavaScript "+Ff+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],l=r.exec(o);if(l!=null){var c=l[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,d=[];for(s=0;s<h;s++){var g=t.internal.newObject();d.push(g);var y=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<d.length;s++)t.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(ht.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,l){var c,h=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=(function(g){for(var y,m=256*g.charCodeAt(4)+g.charCodeAt(5),_=g.length,k={width:0,height:0,numcomponents:1},N=4;N<_;N+=2){if(N+=m,e.indexOf(g.charCodeAt(N+1))!==-1){y=256*g.charCodeAt(N+5)+g.charCodeAt(N+6),k={width:256*g.charCodeAt(N+7)+g.charCodeAt(N+8),height:y,numcomponents:g.charCodeAt(N+9)};break}m=256*g.charCodeAt(N+2)+g.charCodeAt(N+3)}return k})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:t,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:h,index:r,alias:i}}return d}})(ht.API),ht.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,s=LL(n,{checkCrc:!0}),o=s.width,l=s.height,c=s.channels,h=s.palette,d=s.depth;i=h&&c===1?(function(H){for(var W=H.width,re=H.height,I=H.data,q=H.palette,ne=H.depth,ie=!1,ve=[],be=[],he=void 0,$=!1,se=0,le=0;le<q.length;le++){var K=dy(q[le],4),T=K[0],Y=K[1],ee=K[2],oe=K[3];ve.push(T,Y,ee),oe!=null&&(oe===0?(se++,be.length<1&&be.push(le)):oe<255&&($=!0))}if($||se>1){ie=!0,be=void 0;var ce=W*re;he=new Uint8Array(ce);for(var ye=new DataView(I.buffer),_e=0;_e<ce;_e++){var Ae=wm(ye,_e,ne),Te=dy(q[Ae],4)[3];he[_e]=Te}}else se===0&&(be=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ie?8:void 0,colorBytes:I,alphaBytes:he,needSMask:ie,palette:ve,mask:be}})(s):c===2||c===4?(function(H){for(var W=H.data,re=H.width,I=H.height,q=H.channels,ne=H.depth,ie=q===2?"DeviceGray":"DeviceRGB",ve=q-1,be=re*I,he=ve,$=be*he,se=1*be,le=Math.ceil($*ne/8),K=Math.ceil(se*ne/8),T=new Uint8Array(le),Y=new Uint8Array(K),ee=new DataView(W.buffer),oe=new DataView(T.buffer),ce=new DataView(Y.buffer),ye=!1,_e=0;_e<be;_e++){for(var Ae=_e*q,Te=0;Te<he;Te++)v5(oe,wm(ee,Ae+Te,ne),_e*he+Te,ne);var Ue=wm(ee,Ae+he,ne);Ue<(1<<ne)-1&&(ye=!0),v5(ce,Ue,1*_e,ne)}return{colorSpace:ie,colorsPerPixel:ve,sMaskBitsPerComponent:ye?ne:void 0,colorBytes:T,alphaBytes:Y,needSMask:ye}})(s):(function(H){var W=H.data,re=H.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:re,colorsPerPixel:re==="DeviceGray"?1:3,colorBytes:W instanceof Uint16Array?(function(I){for(var q=I.length,ne=new Uint8Array(2*q),ie=new DataView(ne.buffer,ne.byteOffset,ne.byteLength),ve=0;ve<q;ve++)ie.setUint16(2*ve,I[ve],!1);return ne})(W):W,needSMask:!1}})(s);var g,y,m,_=i,k=_.colorSpace,N=_.colorsPerPixel,P=_.sMaskBitsPerComponent,O=_.colorBytes,j=_.alphaBytes,L=_.needSMask,D=_.palette,J=_.mask,U=null;return r!==ht.API.image_compression.NONE&&typeof n0=="function"?(U=(function(H){var W;switch(H){case ht.API.image_compression.FAST:W=11;break;case ht.API.image_compression.MEDIUM:W=13;break;case ht.API.image_compression.SLOW:W=14;break;default:W=12}return W})(r),g=this.decode.FLATE_DECODE,y="/Predictor ".concat(U," /Colors ").concat(N," /BitsPerComponent ").concat(d," /Columns ").concat(o),n=d5(O,Math.ceil(o*N*d/8),N,d,r),L&&(m=d5(j,Math.ceil(o*P/8),1,P,r))):(g=void 0,y=void 0,n=O,L&&(m=j)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:t,data:n,index:e,filter:g,decodeParameters:y,transparency:J,palette:D,sMask:m,predictor:U,width:o,height:l,bitsPerComponent:d,sMaskBitsPerComponent:P,colorSpace:k}}},(function(n){n.processGIF89A=function(e,t,r,i){var s=new QL(e),o=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:o,height:l},d=new bm(100).encode(h,100);return n.processJPEG.call(this,d,t,r,i)},n.processGIF87A=n.processGIF89A})(ht.API),aa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},aa.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Pn.log("bit decode error:"+t)}},aa.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}t!==0&&(this.pos+=4-t)}},aa.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,l=s>>4,c=15&s,h=this.palette[l];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*i+1>=this.width)break;h=this.palette[c],this.data[o+4]=h.blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},aa.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},aa.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,h=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=h}this.pos+=n}},aa.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&t)/t*255|0,h=(o>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=h,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=n}},aa.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},aa.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=o}},aa.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var s=new aa(e,!1),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},h=new bm(100).encode(c,100);return n.processJPEG.call(this,h,t,r,i)}})(ht.API),w5.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var s=new w5(e),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},h=new bm(100).encode(c,100);return n.processJPEG.call(this,h,t,r,i)}})(ht.API),ht.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,h=0;h<i;h+=4){var d=r[h],g=r[h+1],y=r[h+2],m=r[h+3];s[l++]=d,s[l++]=g,s[l++]=y,o[c++]=m}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:_,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},ht.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Lu=ht.API,Bf=Lu.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=h.fof?h.fof:1,g=e.doKerning!==!1,y=0,m=n.length,_=0,k=l[0]||c,N=[];for(t=0;t<m;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?N.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(y=g&&wn(h[r])==="object"&&!isNaN(parseInt(h[r][_],10))?h[r][_]/d:0,N.push((l[r]||k)/c+y)),_=r;return N},c5=Lu.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Lu.processArabic&&(n=Lu.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Bf.apply(this,arguments).reduce(function(s,o){return s+o},0)},u5=function(n,e,t,r){for(var i=[],s=0,o=n.length,l=0;s!==o&&l+e[s]<t;)l+=e[s],s++;i.push(n.slice(0,s));var c=s;for(l=0;s!==o;)l+e[s]>r&&(i.push(n.slice(c,s)),l=0,c=s),l+=e[s],s++;return c!==s&&i.push(n.slice(c,s)),i},h5=function(n,e,t){t||(t={});var r,i,s,o,l,c,h,d=[],g=[d],y=t.textIndent||0,m=0,_=0,k=n.split(" "),N=Bf.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?k[0].length+2:t.lineIndent||0){var P=Array(c).join(" "),O=[];k.map(function(L){(L=L.split(/\s*\n/)).length>1?O=O.concat(L.map(function(D,J){return(J&&D.length?`
`:"")+D})):O.push(L[0])}),k=O,c=c5.apply(this,[P,t])}for(s=0,o=k.length;s<o;s++){var j=0;if(r=k[s],c&&r[0]==`
`&&(r=r.substr(1),j=1),y+m+(_=(i=Bf.apply(this,[r,t])).reduce(function(L,D){return L+D},0))>e||j){if(_>e){for(l=u5.apply(this,[r,i,e-(y+m),e]),d.push(l.shift()),d=[l.pop()];l.length;)g.push([l.shift()]);_=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(L,D){return L+D},0)}else d=[r];g.push(d),y=_+c,m=N}else d.push(r),y+=m+_,m=N}return h=c?function(L,D){return(D?P:"")+L.join(" ")}:function(L){return L.join(" ")},g.map(h)},Lu.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var g=this.internal.getFont(d.fontName,d.fontStyle),y="Unicode";return g.metadata[y]?{widths:g.metadata[y].widths||{0:1},kerning:g.metadata[y].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var l,c,h=[];for(l=0,c=r.length;l<c;l++)h=h.concat(h5.apply(this,[r[l],o,s]));return h},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[t[s]]=e[s],i[e[s]]=t[s];var o=function(y){return"0x"+parseInt(y,10).toString(16)},l=n.__fontmetrics__.compress=function(y){var m,_,k,N,P=["{"];for(var O in y){if(m=y[O],isNaN(parseInt(O,10))?_="'"+O+"'":(O=parseInt(O,10),_=(_=o(O).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof m=="number")m<0?(k=o(m).slice(3),N="-"):(k=o(m).slice(2),N=""),k=N+k.slice(0,-1)+i[k.slice(-1)];else{if(wn(m)!=="object")throw new Error("Don't know what to do with value type "+wn(m)+".");k=l(m)}P.push(_+k)}return P.push("}"),P.join("")},c=n.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,_,k,N,P={},O=1,j=P,L=[],D="",J="",U=y.length-1,H=1;H<U;H+=1)(N=y[H])=="'"?m?(k=m.join(""),m=void 0):m=[]:m?m.push(N):N=="{"?(L.push([j,k]),j={},k=void 0):N=="}"?((_=L.pop())[0][_[1]]=j,k=void 0,j=_[0]):N=="-"?O=-1:k===void 0?r.hasOwnProperty(N)?(D+=r[N],k=parseInt(D,16)*O,O=1,D=""):D+=N:r.hasOwnProperty(N)?(J+=r[N],j[k]=parseInt(J,16)*O,O=1,k=void 0,J=""):J+=N;return P},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},g={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(y){var m=y.font,_=g.Unicode[m.postScriptName];_&&(m.metadata.Unicode={},m.metadata.Unicode.widths=_.widths,m.metadata.Unicode.kerning=_.kerning);var k=d.Unicode[m.postScriptName];k&&(m.metadata.Unicode.encoding=k,m.encoding=k.codePages[0])}])})(ht.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e($f(l)),o.metadata=n.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])})(ht),ht.API.addSvgAsImage=function(n,e,t,r,i,s,o,l){if(isNaN(e)||isNaN(t))throw Pn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Pn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var h=c.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(jt.canvg?Promise.resolve(jt.canvg):qf(()=>import("./index.es-J0QpEmJB.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(h,n,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(d)}).then(function(){g.addImage(c.toDataURL("image/jpeg",1),e,t,r,i,o,l)})},ht.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},ht.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],h=0,d=0,g=0;function y(_,k){var N,P=!1;for(N=0;N<_.length;N+=1)_[N]===k&&(P=!0);return P}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var m=l.length;for(g=0;g<m;g+=1)t[l[g]].value=t[l[g]].defaultValue,t[l[g]].explicitSet=!1}if(wn(n)==="object"){for(i in n)if(s=n[i],y(l,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&y(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(h=0;h<s.length;h+=1)if(r=!0,s[h].length===1&&typeof s[h][0]=="number")c.push(String(s[h]-1));else if(s[h].length>1){for(d=0;d<s[h].length;d+=1)typeof s[h][d]!="number"&&(r=!1);r===!0&&c.push([s[h][0]-1,s[h][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,k=[];for(_ in t)t[_].explicitSet===!0&&(t[_].type==="name"?k.push("/"+_+" /"+t[_].value):k.push("/"+_+" "+t[_].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(ht.API),(function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var l,c=o.metadata.Unicode.widths,h=["","0","00","000","0000"],d=[""],g=0,y=s.length;g<y;++g){if(l=o.metadata.characterToGlyph(s.charCodeAt(g)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(g),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(h[4-l.length],l)}return d.join("")},r=function(s){var o,l,c,h,d,g,y;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],g=0,y=(l=Object.keys(s).sort(function(m,_){return m-_})).length;g<y;g++)o=l[g],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(h=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+h+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,h=o.newObject,d=o.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="Identity-H"){for(var g=l.metadata.Unicode.widths,y=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",_=0;_<y.length;_++)m+=String.fromCharCode(y[_]);var k=h();d({data:m,addLength1:!0,objectId:k}),c("endobj");var N=h();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:N}),c("endobj");var P=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Iu(l.fontName)),c("/FontFile2 "+k+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var O=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+Iu(l.fontName)),c("/FontDescriptor "+P+" 0 R"),c("/W "+n.API.PDFObject.convert(g)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+N+" 0 R"),c("/BaseFont /"+Iu(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+O+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,h=o.newObject,d=o.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var g=l.metadata.rawData,y="",m=0;m<g.length;m++)y+=String.fromCharCode(g[m]);var _=h();d({data:y,addLength1:!0,objectId:_}),c("endobj");var k=h();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:k}),c("endobj");var N=h();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+_+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Iu(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=h();for(var P=0;P<l.metadata.hmtx.widths.length;P++)l.metadata.hmtx.widths[P]=parseInt(l.metadata.hmtx.widths[P]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+Iu(l.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,l=s.text||"",c=s.x,h=s.y,d=s.options||{},g=s.mutex||{},y=g.pdfEscape,m=g.activeFontKey,_=g.fonts,k=m,N="",P=0,O="",j=_[k].encoding;if(_[k].encoding!=="Identity-H")return{text:l,x:c,y:h,options:d,mutex:g};for(O=l,k=m,Array.isArray(l)&&(O=l[0]),P=0;P<O.length;P+=1)_[k].metadata.hasOwnProperty("cmap")&&(o=_[k].metadata.cmap.unicode.codeMap[O[P].charCodeAt(0)]),o||O[P].charCodeAt(0)<256&&_[k].metadata.hasOwnProperty("Unicode")?N+=O[P]:N+="";var L="";return parseInt(k.slice(1))<14||j==="WinAnsiEncoding"?L=y(N,k).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(L=t(N,_[k])),g.isHex=!0,{text:L,x:c,y:h,options:d,mutex:g}};e.events.push(["postProcessText",function(s){var o=s.text||"",l=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&o[h].length===3?l.push([i(Object.assign({},c,{text:o[h][0]})).text,o[h][1],o[h][2]]):l.push(i(Object.assign({},c,{text:o[h]})).text);s.text=l}else s.text=i(Object.assign({},c,{text:o})).text}])})(ht),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(ht.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,l,c,h,d,g=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],P=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),O=!1,j=0;this.__bidiEngine__={};var L=function(I){var q=I.charCodeAt(),ne=q>>8,ie=k[ne];return ie!==void 0?g[256*ie+(255&q)]:ne===252||ne===253?"AL":P.test(ne)?"L":ne===8?"R":"N"},D=function(I){for(var q,ne=0;ne<I.length;ne++){if((q=L(I.charAt(ne)))==="L")return!1;if(q==="R")return!0}return!1},J=function(I,q,ne,ie){var ve,be,he,$,se=q[ie];switch(se){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":O=!1;break;case"N":case"AN":break;case"EN":O&&(se="AN");break;case"AL":O=!0,se="R";break;case"WS":case"BN":se="N";break;case"CS":ie<1||ie+1>=q.length||(ve=ne[ie-1])!=="EN"&&ve!=="AN"||(be=q[ie+1])!=="EN"&&be!=="AN"?se="N":O&&(be="AN"),se=be===ve?be:"N";break;case"ES":se=(ve=ie>0?ne[ie-1]:"B")==="EN"&&ie+1<q.length&&q[ie+1]==="EN"?"EN":"N";break;case"ET":if(ie>0&&ne[ie-1]==="EN"){se="EN";break}if(O){se="N";break}for(he=ie+1,$=q.length;he<$&&q[he]==="ET";)he++;se=he<$&&q[he]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for($=q.length,he=ie+1;he<$&&q[he]==="NSM";)he++;if(he<$){var le=I[ie],K=le>=1425&&le<=2303||le===64286;if(ve=q[he],K&&(ve==="R"||ve==="AL")){se="R";break}}}se=ie<1||(ve=q[ie-1])==="B"?"N":ne[ie-1];break;case"B":O=!1,i=!0,se=j;break;case"S":s=!0,se="N"}return se},U=function(I,q,ne){var ie=I.split("");return ne&&H(ie,ne,{hiLevel:j}),ie.reverse(),q&&q.reverse(),ie.join("")},H=function(I,q,ne){var ie,ve,be,he,$,se=-1,le=I.length,K=0,T=[],Y=j?m:y,ee=[];for(O=!1,i=!1,s=!1,ve=0;ve<le;ve++)ee[ve]=L(I[ve]);for(be=0;be<le;be++){if($=K,T[be]=J(I,ee,T,be),ie=240&(K=Y[$][_[T[be]]]),K&=15,q[be]=he=Y[K][5],ie>0)if(ie===16){for(ve=se;ve<be;ve++)q[ve]=1;se=-1}else se=-1;if(Y[K][6])se===-1&&(se=be);else if(se>-1){for(ve=se;ve<be;ve++)q[ve]=he;se=-1}ee[be]==="B"&&(q[be]=0),ne.hiLevel|=he}s&&(function(oe,ce,ye){for(var _e=0;_e<ye;_e++)if(oe[_e]==="S"){ce[_e]=j;for(var Ae=_e-1;Ae>=0&&oe[Ae]==="WS";Ae--)ce[Ae]=j}})(ee,q,le)},W=function(I,q,ne,ie,ve){if(!(ve.hiLevel<I)){if(I===1&&j===1&&!i)return q.reverse(),void(ne&&ne.reverse());for(var be,he,$,se,le=q.length,K=0;K<le;){if(ie[K]>=I){for($=K+1;$<le&&ie[$]>=I;)$++;for(se=K,he=$-1;se<he;se++,he--)be=q[se],q[se]=q[he],q[he]=be,ne&&(be=ne[se],ne[se]=ne[he],ne[he]=be);K=$}K++}}},re=function(I,q,ne){var ie=I.split(""),ve={hiLevel:j};return ne||(ne=[]),H(ie,ne,ve),(function(be,he,$){if($.hiLevel!==0&&d)for(var se,le=0;le<be.length;le++)he[le]===1&&(se=N.indexOf(be[le]))>=0&&(be[le]=N[se+1])})(ie,ne,ve),W(2,ie,q,ne,ve),W(1,ie,q,ne,ve),ie.join("")};return this.__bidiEngine__.doBidiReorder=function(I,q,ne){if((function(ve,be){if(be)for(var he=0;he<ve.length;he++)be[he]=he;l===void 0&&(l=D(ve)),h===void 0&&(h=D(ve))})(I,q),o||!c||h)if(o&&c&&l^h)j=l?1:0,I=U(I,q,ne);else if(!o&&c&&h)j=l?1:0,I=re(I,q,ne),I=U(I,q);else if(!o||l||c||h){if(o&&!c&&l^h)I=U(I,q),l?(j=0,I=re(I,q,ne)):(j=1,I=re(I,q,ne),I=U(I,q));else if(o&&l&&!c&&h)j=1,I=re(I,q,ne),I=U(I,q);else if(!o&&!c&&l^h){var ie=d;l?(j=1,I=re(I,q,ne),j=0,d=!1,I=re(I,q,ne),d=ie):(j=0,I=re(I,q,ne),I=U(I,q),j=1,d=!1,I=re(I,q,ne),d=ie,I=U(I,q))}}else j=0,I=re(I,q,ne);else j=l?1:0,I=re(I,q,ne);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,c=I.isOutputVisual,l=I.isInputRtl,h=I.isOutputRtl,d=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([t.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([t.doBidiReorder(i[l])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(ht),ht.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Ul(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new fT(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new ZL(this.contents),this.head=new tT(this),this.name=new aT(this),this.cmap=new S_(this),this.toUnicode={},this.hhea=new nT(this),this.maxp=new oT(this),this.hmtx=new lT(this),this.post=new iT(this),this.os2=new rT(this),this.loca=new dT(this),this.glyf=new cT(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,h;for(h=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,l;for(o=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var ga,Ul=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,l,c;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*l+c},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n})(),ZL=(function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,o,l,c,h,d,g,y,m,_,k;for(k in m=Object.keys(t).length,c=Math.log(2),g=16*Math.floor(Math.log(m)/c),o=Math.floor(g/c),d=16*m-g,(i=new Ul).writeInt(this.scalarType),i.writeShort(m),i.writeShort(g),i.writeShort(o),i.writeShort(d),s=16*m,h=i.pos+s,l=null,_=[],t)for(y=t[k],i.writeString(k),i.writeInt(n(y)),i.writeInt(h),i.writeInt(y.length),_=_.concat(y),k==="head"&&(l=h),h+=y.length;h%4;)_.push(0),h++;return i.write(_),r=2981146554-n(i.data),i.pos=l+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=k_.call(t);t.length%4;)t.push(0);for(s=new Ul(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),eT={}.hasOwnProperty,Va=function(n,e){for(var t in e)eT.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};ga=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var tT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Va(n,ga),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Ul).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),b5=(function(){function n(e,t){var r,i,s,o,l,c,h,d,g,y,m,_,k,N,P,O,j;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(m=e.readUInt16(),y=m/2,e.pos+=6,s=(function(){var L,D;for(D=[],c=L=0;0<=y?L<y:L>y;c=0<=y?++L:--L)D.push(e.readUInt16());return D})(),e.pos+=2,k=(function(){var L,D;for(D=[],c=L=0;0<=y?L<y:L>y;c=0<=y?++L:--L)D.push(e.readUInt16());return D})(),h=(function(){var L,D;for(D=[],c=L=0;0<=y?L<y:L>y;c=0<=y?++L:--L)D.push(e.readUInt16());return D})(),d=(function(){var L,D;for(D=[],c=L=0;0<=y?L<y:L>y;c=0<=y?++L:--L)D.push(e.readUInt16());return D})(),i=(this.length-e.pos+this.offset)/2,l=(function(){var L,D;for(D=[],c=L=0;0<=i?L<i:L>i;c=0<=i?++L:--L)D.push(e.readUInt16());return D})(),c=P=0,j=s.length;P<j;c=++P)for(N=s[c],r=O=_=k[c];_<=N?O<=N:O>=N;r=_<=N?++O:--O)d[c]===0?o=r+h[c]:(o=l[d[c]/2+(r-_)-(y-c)]||0)!==0&&(o+=h[c]),this.codeMap[r]=65535&o}e.pos=g}return n.encode=function(e,t){var r,i,s,o,l,c,h,d,g,y,m,_,k,N,P,O,j,L,D,J,U,H,W,re,I,q,ne,ie,ve,be,he,$,se,le,K,T,Y,ee,oe,ce,ye,_e,Ae,Te,Ue,Ve;switch(ie=new Ul,o=Object.keys(e).sort(function(He,ct){return He-ct}),t){case"macroman":for(k=0,N=(function(){var He=[];for(_=0;_<256;++_)He.push(0);return He})(),O={0:0},s={},ve=0,se=o.length;ve<se;ve++)O[Ae=e[i=o[ve]]]==null&&(O[Ae]=++k),s[i]={old:e[i],new:O[e[i]]},N[i]=O[e[i]];return ie.writeUInt16(1),ie.writeUInt16(0),ie.writeUInt32(12),ie.writeUInt16(0),ie.writeUInt16(262),ie.writeUInt16(0),ie.write(N),{charMap:s,subtable:ie.data,maxGlyphID:k+1};case"unicode":for(q=[],g=[],j=0,O={},r={},P=h=null,be=0,le=o.length;be<le;be++)O[D=e[i=o[be]]]==null&&(O[D]=++j),r[i]={old:D,new:O[D]},l=O[D]-i,P!=null&&l===h||(P&&g.push(P),q.push(i),h=l),P=i;for(P&&g.push(P),g.push(65535),q.push(65535),re=2*(W=q.length),H=2*Math.pow(Math.log(W)/Math.LN2,2),y=Math.log(H/2)/Math.LN2,U=2*W-H,c=[],J=[],m=[],_=he=0,K=q.length;he<K;_=++he){if(I=q[_],d=g[_],I===65535){c.push(0),J.push(0);break}if(I-(ne=r[I].new)>=32768)for(c.push(0),J.push(2*(m.length+W-_)),i=$=I;I<=d?$<=d:$>=d;i=I<=d?++$:--$)m.push(r[i].new);else c.push(ne-I),J.push(0)}for(ie.writeUInt16(3),ie.writeUInt16(1),ie.writeUInt32(12),ie.writeUInt16(4),ie.writeUInt16(16+8*W+2*m.length),ie.writeUInt16(0),ie.writeUInt16(re),ie.writeUInt16(H),ie.writeUInt16(y),ie.writeUInt16(U),ye=0,T=g.length;ye<T;ye++)i=g[ye],ie.writeUInt16(i);for(ie.writeUInt16(0),_e=0,Y=q.length;_e<Y;_e++)i=q[_e],ie.writeUInt16(i);for(Te=0,ee=c.length;Te<ee;Te++)l=c[Te],ie.writeUInt16(l);for(Ue=0,oe=J.length;Ue<oe;Ue++)L=J[Ue],ie.writeUInt16(L);for(Ve=0,ce=m.length;Ve<ce;Ve++)k=m[Ve],ie.writeUInt16(k);return{charMap:r,subtable:ie.data,maxGlyphID:j+1}}},n})(),S_=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Va(n,ga),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new b5(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=b5.encode(e,t),(i=new Ul).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),nT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Va(n,ga),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),rT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Va(n,ga),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),iT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Va(n,ga),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(e.readUInt32());return c}).call(this)}},n})(),sT=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},aT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Va(n,ga),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,s,o,l,c,h,d,g,y;for(e.pos=this.offset,e.readShort(),t=e.readShort(),l=e.readShort(),r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},s=d=0,g=r.length;d<g;s=++d)i=r[s],e.pos=i.offset,h=e.readString(i.length),o=new sT(h,i),c[y=i.nameID]==null&&(c[y]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},n})(),oT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Va(n,ga),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),lT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Va(n,ga),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,s,o,l,c;for(e.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,d;for(d=[],t=h=0;0<=i?h<i:h>i;t=0<=i?++h:--h)d.push(e.readInt16());return d})(),this.widths=(function(){var h,d,g,y;for(y=[],h=0,d=(g=this.metrics).length;h<d;h++)s=g[h],y.push(s.advance);return y}).call(this),r=this.widths[this.widths.length-1],c=[],t=o=0;0<=i?o<i:o>i;t=0<=i?++o:--o)c.push(this.widths.push(r));return c},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),k_=[].slice,cT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Va(n,ga),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,s,o,l,c,h,d,g;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,o=(l=new Ul(t.read(i))).readShort(),h=l.readShort(),g=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[e]=o===-1?new hT(l,h,g,c,d):new uT(l,o,h,g,c,d),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,s,o,l,c;for(o=[],s=[],l=0,c=t.length;l<c;l++)i=e[t[l]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},n})(),uT=(function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),hT=(function(){function n(e,t,r,i,s){var o,l;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Ul(k_.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),dT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Va(n,ga),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<t.length&&t[s]==o){++s,r[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var h=new Array(4*r.length),d=0;d<r.length;++d)h[4*d+3]=255&r[d],h[4*d+2]=(65280&r[d])>>8,h[4*d+1]=(16711680&r[d])>>16,h[4*d]=(4278190080&r[d])>>24;return h},n})(),fT=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,l,c;for(i={},o=0,l=e.length;o<l;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))r=c[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,o,l,c,h,d,g,y,m,_,k,N,P;for(i in r=S_.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),m={0:0},P=r.charMap)m[(c=P[i]).old]=c.new;for(_ in y=r.maxGlyphID,o)_ in m||(m[_]=y++);return d=(function(O){var j,L;for(j in L={},O)L[O[j]]=j;return L})(m),g=Object.keys(d).sort(function(O,j){return O-j}),k=(function(){var O,j,L;for(L=[],O=0,j=g.length;O<j;O++)l=g[O],L.push(d[l]);return L})(),s=this.font.glyf.encode(o,k,m),h=this.font.loca.encode(s.offsets,k),N={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},n})();ht.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,o;if(Array.isArray(t))return"["+(function(){var l,c,h;for(h=[],l=0,c=t.length;l<c;l++)r=t[l],h.push(e.convert(r));return h})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)o=t[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e})();function N_(n,e,t,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,l=i.internal.getFontSize()/o,c=i.getLineHeightFactor?i.getLineHeightFactor():s,h=l*c,d=/\r\n|\r|\n/g,g="",y=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(g=typeof n=="string"?n.split(d):n,y=g.length||1),t+=l*(2-s),r.valign==="middle"?t-=y/2*h:r.valign==="bottom"&&(t-=y*h),r.halign==="center"||r.halign==="right"){var m=l;if(r.halign==="center"&&(m*=.5),g&&y>=1){for(var _=0;_<g.length;_++)i.text(g[_],e-i.getStringUnitWidth(g[_])*m,t),t+=h;return i}e-=i.getStringUnitWidth(n)*m}return r.halign==="justify"?i.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(n,e,t),i}var _5={},Ku=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:_5=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,i,s;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var h=this.getFontList()[c];h&&h.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),l=h[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var d=n.unifyColor(e.fillColor);d&&(r=this.jsPDFDocument).setFillColor.apply(r,d),d=n.unifyColor(e.textColor),d&&(i=this.jsPDFDocument).setTextColor.apply(i,d),d=n.unifyColor(e.lineColor),d&&(s=this.jsPDFDocument).setDrawColor.apply(s,d),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,i,s){return this.jsPDFDocument.rect(e,t,r,i,s)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return _5||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),u0=function(n,e){return u0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},u0(n,e)};function A_(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u0(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var P_=(function(n){A_(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function pT(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function gT(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function yp(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],i=r.map(function(s){return t.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function C_(n,e,t,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;n.applyStyles({lineWidth:i,lineColor:s});var o=E_(i,!1);o&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,o)}function E_(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function zp(n,e){var t,r,i,s;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(i=n.right)!==null&&i!==void 0?i:e,bottom:(s=n.bottom)!==null&&s!==void 0?s:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function j_(n,e){var t=zp(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function mT(n,e,t,r,i){var s={},o=1.3333333333333333,l=_m(e,function(j){return i.getComputedStyle(j).backgroundColor});l!=null&&(s.fillColor=l);var c=_m(e,function(j){return i.getComputedStyle(j).color});c!=null&&(s.textColor=c);var h=yT(r,t);h&&(s.cellPadding=h);var d="borderTopColor",g=o*t,y=r.borderTopWidth;if(r.borderBottomWidth===y&&r.borderRightWidth===y&&r.borderLeftWidth===y){var m=(parseFloat(y)||0)/g;m&&(s.lineWidth=m)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/g,right:(parseFloat(r.borderRightWidth)||0)/g,bottom:(parseFloat(r.borderBottomWidth)||0)/g,left:(parseFloat(r.borderLeftWidth)||0)/g},s.lineWidth.top||(s.lineWidth.right?d="borderRightColor":s.lineWidth.bottom?d="borderBottomColor":s.lineWidth.left&&(d="borderLeftColor"));var _=_m(e,function(j){return i.getComputedStyle(j)[d]});_!=null&&(s.lineColor=_);var k=["left","right","center","justify"];k.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),k=["middle","bottom","top"],k.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var N=parseInt(r.fontSize||"");isNaN(N)||(s.fontSize=N/o);var P=vT(r);P&&(s.fontStyle=P);var O=(r.fontFamily||"").toLowerCase();return n.indexOf(O)!==-1&&(s.font=O),s}function vT(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function _m(n,e){var t=L_(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function L_(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:L_(n.parentElement,e):t}function yT(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),i=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,s=t.map(function(l){return parseInt(l||"0")/r}),o=zp(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function T_(n,e,t,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var l;typeof e=="string"?l=t.document.querySelector(e):l=e;var c=Object.keys(n.getFontList()),h=n.scaleFactor(),d=[],g=[],y=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:d,body:g,foot:y};for(var m=0;m<l.rows.length;m++){var _=l.rows[m],k=(o=(s=_?.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),N=wT(c,h,t,_,r,i);N&&(k==="thead"?d.push(N):k==="tfoot"?y.push(N):g.push(N))}return{head:d,body:g,foot:y}}function wT(n,e,t,r,i,s){for(var o=new P_(r),l=0;l<r.cells.length;l++){var c=r.cells[l],h=t.getComputedStyle(c);if(i||h.display!=="none"){var d=void 0;s&&(d=mT(n,c,e,h,t)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:bT(c)})}}var g=t.getComputedStyle(r);if(o.length>0&&(i||g.display!=="none"))return o}function bT(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function _T(n,e,t){for(var r=0,i=[n,e,t];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Fo(n,e,t,r,i){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(n),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])}return s}function O_(n,e){var t=new Ku(n),r=t.getDocumentOptions(),i=t.getGlobalOptions();_T(i,r,e);var s=Fo({},i,r,e),o;typeof window<"u"&&(o=window);var l=xT(i,r,e),c=ST(i,r,e),h=kT(t,s),d=AT(t,s,o);return{id:e.tableId,content:d,hooks:c,styles:l,settings:h}}function xT(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var h=n[c],d=e[c],g=t[c];r.columnStyles=Fo({},h,d,g)}else{var y=[n,e,t],m=y.map(function(_){return _[c]||{}});r[c]=Fo({},m[0],m[1],m[2])}},s=0,o=Object.keys(r);s<o.length;s++){var l=o[s];i(l)}return r}function ST(n,e,t){for(var r=[n,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var l=o[s];l.didParseCell&&i.didParseCell.push(l.didParseCell),l.willDrawCell&&i.willDrawCell.push(l.willDrawCell),l.didDrawCell&&i.didDrawCell.push(l.didDrawCell),l.willDrawPage&&i.willDrawPage.push(l.willDrawPage),l.didDrawPage&&i.didDrawPage.push(l.didDrawPage)}return i}function kT(n,e){var t,r,i,s,o,l,c,h,d,g,y,m,_=zp(e.margin,40/n.scaleFactor()),k=(t=NT(n,e.startY))!==null&&t!==void 0?t:_.top,N;e.showFoot===!0?N="everyPage":e.showFoot===!1?N="never":N=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var P;e.showHead===!0?P="everyPage":e.showHead===!1?P="never":P=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var O=(s=e.useCss)!==null&&s!==void 0?s:!1,j=e.theme||(O?"plain":"striped"),L=!!e.horizontalPageBreak,D=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:O,theme:j,startY:k,margin:_,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(h=e.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(d=e.tableWidth)!==null&&d!==void 0?d:"auto",showHead:P,showFoot:N,tableLineWidth:(g=e.tableLineWidth)!==null&&g!==void 0?g:0,tableLineColor:(y=e.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:L,horizontalPageBreakRepeat:D,horizontalPageBreakBehaviour:(m=e.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function NT(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),i=n.pageNumber(),s=!1;if(t&&t.startPageNumber){var o=t.startPageNumber+t.pageNumber-1;s=o===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&t?.finalY!=null?t.finalY+20/r:null}function AT(n,e,t){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(t){var l=T_(n,e.html,t,o,e.useCss)||{};r=l.head||r,i=l.body||r,s=l.foot||r}else console.error("Cannot parse html in non browser environment")}var c=e.columns||PT(r,i,s);return{columns:c,head:r,body:i,foot:s}}function PT(n,e,t){var r=n[0]||e[0]||t[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,l;Array.isArray(r)?l=r[parseInt(s)]:l=r[s],typeof l=="object"&&!Array.isArray(l)&&(o=l?.colSpan||1);for(var c=0;c<o;c++){var h=void 0;Array.isArray(r)?h=i.length:h=s+(c>0?"_".concat(c):"");var d={dataKey:h};i.push(d)}}),i}var h0=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),CT=(function(n){A_(e,n);function e(t,r,i,s,o,l){var c=n.call(this,t,r,l)||this;return c.cell=i,c.row=s,c.column=o,c.section=s.section,c}return e})(h0),ET=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,i,s,o){for(var l=0,c=t;l<c.length;l++){var h=c[l],d=new CT(e,this,r,i,s,o),g=h(d)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],g)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new h0(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new h0(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),R_=(function(){function n(e,t,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof P_&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=i,this.spansMultiplePages=s}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=t.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var i=t.cells[r.index];return i?i.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var l=t.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),h=c+l;return h>i?h:i},0)},n})(),M_=(function(){function n(e,t,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=zp(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),jT=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(t=Math.max(t,o.styles.cellWidth))}return t},n})();function LT(n,e){TT(n,e);var t=[],r=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,t.push(s)),r+=s.width});var i=e.getWidth(n.pageSize().width)-r;i&&(i=d0(t,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=d0(t,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/n.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),RT(e),MT(e,n),OT(e)}function TT(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,i=j_(n,e);e.allRows().forEach(function(s){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],h=s.cells[c.index];if(h){var d=e.hooks.didParseCell;e.callCellHooks(n,d,h,s,c,null);var g=h.padding("horizontal");h.contentWidth=yp(h.text,h.styles,n)+g;var y=yp(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,n);if(h.minReadableWidth=y+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||r===!0)h.contentWidth>i?(h.minWidth=i,h.wrappedWidth=i):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var m=10/t;h.minWidth=h.styles.minCellWidth||m,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],h=s.cells[c.index];if(h&&h.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,h.wrappedWidth),c.minWidth=Math.max(c.minWidth,h.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,h.minReadableWidth);else{var d=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},g=d.cellWidth||d.minCellWidth;g&&typeof g=="number"&&(c.minWidth=g,c.wrappedWidth=g)}h&&(h.colSpan>1&&!c.minWidth&&(c.minWidth=h.minWidth),h.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=h.minWidth))}})}function d0(n,e,t){for(var r=e,i=n.reduce(function(m,_){return m+_.wrappedWidth},0),s=0;s<n.length;s++){var o=n[s],l=o.wrappedWidth/i,c=r*l,h=o.width+c,d=t(o),g=h<d?d:h;e-=g-o.width,o.width=g}if(e=Math.round(e*1e10)/1e10,e){var y=n.filter(function(m){return e<0?m.width>t(m):!0});y.length&&(e=d0(y,e,t))}return e}function OT(n){for(var e={},t=1,r=n.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,l=n.columns;o<l.length;o++){var c=l[o],h=e[c.index];if(t>1)t--,delete s.cells[c.index];else if(h)h.cell.height+=s.height,t=h.cell.colSpan,delete s.cells[c.index],h.left--,h.left<=1&&delete e[c.index];else{var d=s.cells[c.index];if(!d)continue;if(d.height=s.height,d.rowSpan>1){var g=r.length-i,y=d.rowSpan>g?g:d.rowSpan;e[c.index]={cell:d,left:y,row:s}}}}}function RT(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],i=null,s=0,o=0,l=0;l<n.columns.length;l++){var c=n.columns[l];if(o-=1,o>1&&n.columns[l+1])s+=c.width,delete r.cells[c.index];else if(i){var h=i;delete r.cells[c.index],i=null,h.width=c.width+s}else{var h=r.cells[c.index];if(!h)continue;if(o=h.colSpan,s=0,h.colSpan>1){i=h,s+=c.width;continue}h.width=c.width+s}}}function MT(n,e){for(var t={count:0,height:0},r=0,i=n.allRows();r<i.length;r++){for(var s=i[r],o=0,l=n.columns;o<l.length;o++){var c=l[o],h=s.cells[c.index];if(h){e.applyStyles(h.styles,!0);var d=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=e.splitTextToSize(h.text,d+1/e.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=x5(h.text,d,h.styles,e,"...");else if(h.styles.overflow==="hidden")h.text=x5(h.text,d,h.styles,e,"");else if(typeof h.styles.overflow=="function"){var g=h.styles.overflow(h.text,d);typeof g=="string"?h.text=[g]:h.text=g}h.contentHeight=h.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var y=h.contentHeight/h.rowSpan;h.rowSpan>1&&t.count*t.height<y*h.rowSpan?t={height:y,count:h.rowSpan}:t&&t.count>0&&t.height>y&&(y=t.height),y>s.height&&(s.height=y)}}t.count--}}function x5(n,e,t,r,i){return n.map(function(s){return IT(s,e,t,r,i)})}function IT(n,e,t,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=yp(n,t,r))return n;for(;e<yp(n+i,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+i}function I_(n,e){var t=new Ku(n),r=DT(e,t.scaleFactor()),i=new ET(e,r);return LT(t,i),t.applyStyles(t.userStyles),i}function DT(n,e){var t=n.content,r=BT(t.columns);if(t.head.length===0){var i=S5(r,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=S5(r,"foot");i&&t.foot.push(i)}var s=n.settings.theme,o=n.styles;return{columns:r,head:xm("head",t.head,r,o,s,e),body:xm("body",t.body,r,o,s,e),foot:xm("foot",t.foot,r,o,s,e)}}function xm(n,e,t,r,i,s){var o={},l=e.map(function(c,h){for(var d=0,g={},y=0,m=0,_=0,k=t;_<k.length;_++){var N=k[_];if(o[N.index]==null||o[N.index].left===0)if(m===0){var P=void 0;Array.isArray(c)?P=c[N.index-y-d]:P=c[N.dataKey];var O={};typeof P=="object"&&!Array.isArray(P)&&(O=P?.styles||{});var j=UT(n,N,h,i,r,s,O),L=new M_(P,j,n);g[N.dataKey]=L,g[N.index]=L,m=L.colSpan-1,o[N.index]={left:L.rowSpan-1,times:m}}else m--,y++;else o[N.index].left--,m=o[N.index].times,d++}return new R_(c,h,n,g)});return l}function S5(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var i=FT(e,r.raw);i!=null&&(t[r.dataKey]=i)}}),Object.keys(t).length>0?t:null}function FT(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function BT(n){return n.map(function(e,t){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:t:i=t,new jT(i,e,t)})}function UT(n,e,t,r,i,s,o){var l=gT(r),c;n==="head"?c=i.headStyles:n==="body"?c=i.bodyStyles:n==="foot"&&(c=i.footStyles);var h=Fo({},l.table,l[n],i.styles,c),d=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},g=n==="body"?d:{},y=n==="body"&&t%2===0?Fo({},l.alternateRow,i.alternateRowStyles):{},m=pT(s),_=Fo({},m,h,y,g);return Fo(_,o)}function zT(n,e,t){var r;t===void 0&&(t={});var i=j_(n,e),s=new Map,o=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(y){var m=e.columns.find(function(_){return _.dataKey===y||_.index===y});m&&!s.has(m.index)&&(s.set(m.index,!0),o.push(m.index),l.push(e.columns[m.index]),i-=m.wrappedWidth)});for(var h=!0,d=(r=t?.start)!==null&&r!==void 0?r:0;d<e.columns.length;){if(s.has(d)){d++;continue}var g=e.columns[d].wrappedWidth;if(h||i>=g)h=!1,o.push(d),l.push(e.columns[d]),i-=g;else break;d++}return{colIndexes:o,columns:l,lastIndex:d-1}}function WT(n,e){for(var t=[],r=0;r<e.columns.length;r++){var i=zT(n,e,{start:r});i.columns.length&&(t.push(i),r=i.lastIndex)}return t}function D_(n,e){var t=e.settings,r=t.startY,i=t.margin,s={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=r+i.bottom+o;if(t.pageBreak==="avoid"){var c=e.body,h=c.reduce(function(y,m){return y+m.height},0);l+=h}var d=new Ku(n);(t.pageBreak==="always"||t.startY!=null&&l>d.pageSize().height)&&(B_(d),s.y=i.top),e.callWillDrawPageHooks(d,s);var g=Fo({},s);e.startPageNumber=d.pageNumber(),t.horizontalPageBreak?qT(d,e,g,s):(d.applyStyles(d.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(y){return Uo(d,e,y,s,e.columns)}),d.applyStyles(d.userStyles),e.body.forEach(function(y,m){var _=m===e.body.length-1;wp(d,e,y,_,g,s,e.columns)}),d.applyStyles(d.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(y){return Uo(d,e,y,s,e.columns)})),C_(d,e,g,s),e.callEndPageHooks(d,s),e.finalY=s.y,n.lastAutoTable=e,d.applyStyles(d.userStyles)}function qT(n,e,t,r){var i=WT(n,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(h,d){n.applyStyles(n.userStyles),d>0?rd(n,e,t,r,h.columns,!0):k5(n,e,r,h.columns),HT(n,e,t,r,h.columns),Sm(n,e,r,h.columns)});else for(var o=-1,l=i[0],c=function(){var h=o;if(l){n.applyStyles(n.userStyles);var d=l.columns;o>=0?rd(n,e,t,r,d,!0):k5(n,e,r,d),h=N5(n,e,o+1,r,d),Sm(n,e,r,d)}var g=h-o;i.slice(1).forEach(function(y){n.applyStyles(n.userStyles),rd(n,e,t,r,y.columns,!0),N5(n,e,o+1,r,y.columns,g),Sm(n,e,r,y.columns)}),o=h};o<e.body.length-1;)c()}function k5(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Uo(n,e,s,t,r)})}function HT(n,e,t,r,i){n.applyStyles(n.userStyles),e.body.forEach(function(s,o){var l=o===e.body.length-1;wp(n,e,s,l,t,r,i)})}function N5(n,e,t,r,i,s){n.applyStyles(n.userStyles),s=s??e.body.length;var o=Math.min(t+s,e.body.length),l=-1;return e.body.slice(t,o).forEach(function(c,h){var d=t+h===e.body.length-1,g=F_(n,e,d,r);c.canEntireRowFit(g,i)&&(Uo(n,e,c,r,i),l=t+h)}),l}function Sm(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Uo(n,e,s,t,r)})}function $T(n,e,t){var r=t.getLineHeight(n.styles.fontSize),i=n.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function VT(n,e,t,r){var i={};n.spansMultiplePages=!0,n.height=0;for(var s=0,o=0,l=t.columns;o<l.length;o++){var c=l[o],h=n.cells[c.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var d=new M_(h.raw,h.styles,h.section);d=Fo(d,h),d.text=[];var g=$T(h,e,r);h.text.length>g&&(d.text=h.text.splice(g,h.text.length));var y=r.scaleFactor(),m=r.getLineHeightFactor();h.contentHeight=h.getContentHeight(y,m),h.contentHeight>=e&&(h.contentHeight=e,d.styles.minCellHeight-=e),h.contentHeight>n.height&&(n.height=h.contentHeight),d.contentHeight=d.getContentHeight(y,m),d.contentHeight>s&&(s=d.contentHeight),i[c.index]=d}}var _=new R_(n.raw,-1,n.section,i,!0);_.height=s;for(var k=0,N=t.columns;k<N.length;k++){var c=N[k],d=_.cells[c.index];d&&(d.height=_.height);var h=n.cells[c.index];h&&(h.height=n.height)}return _}function GT(n,e,t,r){var i=n.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,l=i-o;e.section==="body"&&(l-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=e.getMinimumRowHeight(r.columns,n),h=c<t;if(c>l)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var d=e.hasRowSpan(r.columns),g=e.getMaxCellHeight(r.columns)>l;return g?(d&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||r.settings.rowPageBreak==="avoid")}function wp(n,e,t,r,i,s,o){var l=F_(n,e,r,s);if(t.canEntireRowFit(l,o))Uo(n,e,t,s,o);else if(GT(n,t,l,e)){var c=VT(t,l,e,n);Uo(n,e,t,s,o),rd(n,e,i,s,o),wp(n,e,c,r,i,s,o)}else rd(n,e,i,s,o),wp(n,e,t,r,i,s,o)}function Uo(n,e,t,r,i){r.x=e.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var l=o[s],c=t.cells[l.index];if(!c){r.x+=l.width;continue}n.applyStyles(c.styles),c.x=r.x,c.y=r.y;var h=e.callCellHooks(n,e.hooks.willDrawCell,c,t,l,r);if(h===!1){r.x+=l.width;continue}KT(n,c,r);var d=c.getTextPos();N_(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,c,t,l,r),r.x+=l.width}r.y+=t.height}function KT(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=E_(r.lineWidth,r.fillColor);i&&n.rect(e.x,t.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),YT(n,e,t,r.lineWidth))}function YT(n,e,t,r){var i,s,o,l;r.top&&(i=t.x,s=t.y,o=t.x+e.width,l=t.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),c(r.top,i,s,o,l)),r.bottom&&(i=t.x,s=t.y+e.height,o=t.x+e.width,l=t.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),c(r.bottom,i,s,o,l)),r.left&&(i=t.x,s=t.y,o=t.x,l=t.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(l+=.5*r.bottom),c(r.left,i,s,o,l)),r.right&&(i=t.x+e.width,s=t.y,o=t.x+e.width,l=t.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(l+=.5*r.bottom),c(r.right,i,s,o,l));function c(h,d,g,y,m){n.getDocument().setLineWidth(h),n.getDocument().line(d,g,y,m,"S")}}function F_(n,e,t,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-i}function rd(n,e,t,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(l){return Uo(n,e,l,r,i)}),e.callEndPageHooks(n,r);var o=e.settings.margin;C_(n,e,t,r),B_(n),e.pageNumber++,r.x=o.left,r.y=o.top,t.y=o.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return Uo(n,e,l,r,i)}),n.applyStyles(n.userStyles))}function B_(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function JT(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=O_(this,r),s=I_(this,i);return D_(this,s),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,i){N_(e,t,r,i,this)},n.API.autoTableSetDefaults=function(e){return Ku.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Ku.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Ku(this),s=T_(i,e,window,t,!1),o=s.head,l=s.body,c=((r=o[0])===null||r===void 0?void 0:r.map(function(h){return h.content}))||[];return{columns:c,rows:l,data:l}}}var km;function XT(n,e){var t=O_(n,e),r=I_(n,t);D_(n,r)}try{if(typeof window<"u"&&window){var A5=window,P5=A5.jsPDF||((km=A5.jspdf)===null||km===void 0?void 0:km.jsPDF);P5&&JT(P5)}}catch(n){console.error("Could not apply autoTable plugin",n)}const QT=()=>{const[n,e]=de.useState([]),[t,r]=de.useState(!0),[i,s]=de.useState(1),[o,l]=de.useState(0),[c,h]=de.useState({search:"",user_id:"",status:"",date_from:"",date_to:""}),[d,g]=de.useState([]),{success:y,error:m}=$a();de.useEffect(()=>{_()},[]),de.useEffect(()=>{k()},[i,c]),de.useEffect(()=>{const U=lt.channel("activity-logs-realtime").on("postgres_changes",{event:"INSERT",schema:"public",table:"activity_logs"},H=>{k()}).subscribe();return()=>{lt.removeChannel(U)}},[]);const _=async()=>{const{data:U}=await lt.from("profiles").select("id, nama").order("nama");g(U||[])},k=async()=>{r(!0);try{let U=lt.from("activity_logs").select(`
          *,
          profiles:user_id (nama, email)
        `,{count:"exact"}).order("created_at",{ascending:!1}).range((i-1)*ua,i*ua-1);if(c.search&&(U=U.ilike("no_rm",`%${c.search}%`)),c.user_id&&(U=U.eq("user_id",c.user_id)),c.date_from&&(U=U.gte("created_at",c.date_from)),c.date_to){const I=new Date(c.date_to);I.setDate(I.getDate()+1),U=U.lt("created_at",I.toISOString())}const{data:H,count:W,error:re}=await U;if(re)throw re;e(H||[]),l(W||0)}catch(U){m("Gagal memuat log aktivitas"),console.error(U)}r(!1)},N=Ep(U=>{h(H=>({...H,search:U})),s(1)},300),P=(U,H)=>{h(W=>({...W,[U]:H})),s(1)},O=()=>{h({search:"",user_id:"",status:"",date_from:"",date_to:""}),s(1)},j=async()=>{try{let U=lt.from("activity_logs").select(`
          *,
          profiles:user_id (nama, email)
        `).order("created_at",{ascending:!1}).limit(1e3);if(c.search&&(U=U.ilike("no_rm",`%${c.search}%`)),c.user_id&&(U=U.eq("user_id",c.user_id)),c.date_from&&(U=U.gte("created_at",c.date_from)),c.date_to){const q=new Date(c.date_to);q.setDate(q.getDate()+1),U=U.lt("created_at",q.toISOString())}const{data:H,error:W}=await U;if(W)throw W;const re=new ht;re.setFontSize(18),re.text("RUMAH SAKIT UMUM DAERAH",105,20,{align:"center"}),re.setFontSize(14),re.text("LAPORAN AKTIVITAS SISTEM REKAM MEDIS",105,30,{align:"center"}),re.setFontSize(10),re.text(`Dicetak pada: ${Fu(new Date().toISOString())}`,14,45),re.text(`Filter: ${c.date_from?c.date_from:"Awal"} s/d ${c.date_to?c.date_to:"Sekarang"}`,14,50);const I=H.map(q=>[Fu(q.created_at),q.profiles?.nama||"-",q.aksi,q.no_rm||"-",q.details?.status_lokasi?ws(q.details.status_lokasi,kn):q.details?.keterangan||"-"]);XT(re,{startY:55,head:[["Waktu","User","Aksi","No RM","Detail / Lokasi"]],body:I,theme:"grid",headStyles:{fillColor:[41,128,185]},styles:{fontSize:8}}),re.save(`laporan-aktivitas-${new Date().toISOString().split("T")[0]}.pdf`),y("Laporan PDF berhasil didownload")}catch(U){m("Gagal membuat laporan PDF"),console.error(U)}},L=async()=>{try{let U=lt.from("activity_logs").select(`
          *,
          profiles:user_id (nama, email)
        `).order("created_at",{ascending:!1}).limit(1e3);if(c.search&&(U=U.ilike("no_rm",`%${c.search}%`)),c.user_id&&(U=U.eq("user_id",c.user_id)),c.date_from&&(U=U.gte("created_at",c.date_from)),c.date_to){const I=new Date(c.date_to);I.setDate(I.getDate()+1),U=U.lt("created_at",I.toISOString())}const{data:H,error:W}=await U;if(W)throw W;const re=H.map(I=>({Tanggal:Fu(I.created_at),User:I.profiles?.nama||"-",Email:I.profiles?.email||"-",Aksi:I.aksi,"No RM":I.no_rm||"-","Status Lokasi":I.details?.status_lokasi?ws(I.details.status_lokasi,kn):"-",Keterangan:I.details?.keterangan||"-"}));DA(re,`log-aktivitas-${new Date().toISOString().split("T")[0]}`),y("Data berhasil diexport")}catch(U){m("Gagal export data"),console.error(U)}},D=U=>U.includes("DELETE")?"badge-error":U.includes("CREATE")?"badge-success":U.includes("UPDATE")?"badge-warning":U==="LOGIN"||U==="LOGOUT"?"badge-primary":"badge-gray",J=Math.ceil(o/ua);return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"page-header",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"page-title",children:"Log Aktivitas"}),b.jsx("p",{className:"page-subtitle",children:"Monitoring semua aktivitas sistem"})]}),b.jsxs("div",{className:"flex gap-sm",children:[b.jsxs("span",{className:"badge badge-primary",children:[b.jsx(fw,{size:12})," Realtime"]}),b.jsxs("button",{className:"btn btn-secondary",onClick:j,disabled:n.length===0,children:[b.jsx(Bo,{size:18}),"Export PDF"]}),b.jsxs("button",{className:"btn btn-secondary",onClick:L,disabled:n.length===0,children:[b.jsx(aw,{size:18}),"Export CSV"]})]})]})}),b.jsxs("div",{className:"page-content",children:[b.jsxs("div",{className:"filter-bar",children:[b.jsx("div",{className:"filter-item",style:{flex:2},children:b.jsxs("div",{className:"search-box",children:[b.jsx(Ml,{className:"search-box-icon",size:18}),b.jsx("input",{type:"text",className:"form-input",placeholder:"Cari No RM...",onChange:U=>N(U.target.value)})]})}),b.jsx("div",{className:"filter-item",children:b.jsxs("select",{className:"form-input form-select",value:c.user_id,onChange:U=>P("user_id",U.target.value),children:[b.jsx("option",{value:"",children:"Semua User"}),d.map(U=>b.jsx("option",{value:U.id,children:U.nama},U.id))]})}),b.jsx("div",{className:"filter-item",children:b.jsx("input",{type:"date",className:"form-input",value:c.date_from,onChange:U=>P("date_from",U.target.value),placeholder:"Dari tanggal"})}),b.jsx("div",{className:"filter-item",children:b.jsx("input",{type:"date",className:"form-input",value:c.date_to,onChange:U=>P("date_to",U.target.value),placeholder:"Sampai tanggal"})}),(c.search||c.user_id||c.date_from||c.date_to)&&b.jsx("button",{className:"btn btn-ghost btn-sm",onClick:O,children:"Reset"})]}),b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"table-container",children:b.jsxs("table",{className:"table",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{children:"Waktu"}),b.jsx("th",{children:"User"}),b.jsx("th",{children:"Aksi"}),b.jsx("th",{children:"No. RM"}),b.jsx("th",{children:"Detail"})]})}),b.jsx("tbody",{children:t?[...Array(10)].map((U,H)=>b.jsx("tr",{children:b.jsx("td",{colSpan:5,children:b.jsx("div",{className:"skeleton skeleton-text"})})},H)):n.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:5,children:b.jsxs("div",{className:"empty-state",children:[b.jsx(tp,{className:"empty-state-icon"}),b.jsx("p",{className:"empty-state-title",children:"Tidak ada log"}),b.jsx("p",{className:"empty-state-description",children:"Belum ada aktivitas yang tercatat"})]})})}):n.map(U=>b.jsxs("tr",{children:[b.jsx("td",{children:b.jsx("div",{className:"text-sm",children:Fu(U.created_at)})}),b.jsx("td",{children:b.jsxs("div",{className:"flex items-center gap-sm",children:[b.jsx("div",{className:"user-avatar",style:{width:32,height:32,fontSize:"0.75rem",background:"var(--gray-200)",color:"var(--gray-700)"},children:U.profiles?.nama?.charAt(0).toUpperCase()||"S"}),b.jsx("span",{children:U.profiles?.nama||"System"})]})}),b.jsx("td",{children:b.jsx("span",{className:`badge ${D(U.aksi)}`,children:U.aksi})}),b.jsx("td",{children:U.no_rm?b.jsx("span",{className:"font-medium",style:{color:"var(--primary-600)"},children:U.no_rm}):b.jsx("span",{className:"text-muted",children:"-"})}),b.jsx("td",{children:U.details?b.jsxs("div",{className:"text-sm text-secondary",children:[U.details.status_lokasi&&b.jsxs("div",{children:["Lokasi: ",ws(U.details.status_lokasi,kn)]}),U.details.keterangan&&b.jsxs("div",{children:["Note: ",U.details.keterangan]}),U.details.nama&&b.jsxs("div",{children:["Pasien: ",U.details.nama]}),U.details.email&&b.jsxs("div",{children:["Email: ",U.details.email]})]}):b.jsx("span",{className:"text-muted",children:"-"})})]},U.id))})]})}),J>1&&b.jsx("div",{className:"card-footer",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{className:"text-sm text-secondary",children:["Menampilkan ",(i-1)*ua+1," - ",Math.min(i*ua,o)," dari ",o]}),b.jsxs("div",{className:"pagination",children:[b.jsx("button",{className:"pagination-btn",disabled:i===1,onClick:()=>s(U=>U-1),children:b.jsx(_0,{size:16})}),[...Array(Math.min(J,5))].map((U,H)=>{const W=H+1;return b.jsx("button",{className:`pagination-btn ${i===W?"active":""}`,onClick:()=>s(W),children:W},W)}),J>5&&b.jsx("span",{className:"px-md",children:"..."}),b.jsx("button",{className:"pagination-btn",disabled:i===J,onClick:()=>s(U=>U+1),children:b.jsx(Pp,{size:16})})]})]})})]})]})]})},ZT=()=>{const n=zl(),e=Wl(),t=n.state?.patients||[],r=de.useRef(null),i=()=>{const o=document.createElement("canvas"),l=o.getContext("2d"),c=5,h=120,d=15,g=35,y=h+d*2,m=h+g+d*2,_=Math.ceil(t.length/c);o.width=c*y,o.height=_*m,l.fillStyle="#ffffff",l.fillRect(0,0,o.width,o.height);const k=t.map((N,P)=>new Promise(O=>{const j=P%c,L=Math.floor(P/c),D=j*y+d,J=L*m+d,U=document.getElementById(`qr-canvas-${N.id}`);U&&l.drawImage(U,D+10,J,h,h),l.strokeStyle="#cbd5e1",l.setLineDash([4,4]),l.lineWidth=1,l.strokeRect(D,J-5,y-d,m-d+5),l.setLineDash([]),l.fillStyle="#1e293b",l.font="bold 11px Arial, sans-serif",l.textAlign="center",l.fillText(N.no_rm,D+y/2-d/2,J+h+15),l.fillStyle="#64748b",l.font="9px Arial, sans-serif";const H=N.nama.length>18?N.nama.substring(0,18)+"...":N.nama;l.fillText(H,D+y/2-d/2,J+h+28),O()}));Promise.all(k).then(()=>{setTimeout(()=>{const N=document.createElement("a");N.download=`label-qr-${new Date().toISOString().split("T")[0]}.png`,N.href=o.toDataURL("image/png",1),document.body.appendChild(N),N.click(),document.body.removeChild(N)},100)})},s=()=>{window.print()};return t.length===0?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"page-header no-print",children:b.jsx("h1",{className:"page-title",children:"Print QR Code"})}),b.jsx("div",{className:"page-content",children:b.jsx("div",{className:"card",children:b.jsx("div",{className:"card-body",children:b.jsxs("div",{className:"empty-state",children:[b.jsx("p",{children:"Tidak ada pasien yang dipilih"}),b.jsxs("button",{className:"btn btn-primary mt-md",onClick:()=>e("/admin/patients"),children:[b.jsx(Bm,{size:18}),"Kembali ke Daftar Pasien"]})]})})})})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"page-header no-print",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"page-title",children:"Print QR Code"}),b.jsxs("p",{className:"page-subtitle",children:[t.length," label QR dipilih"]})]}),b.jsxs("div",{className:"flex gap-sm",children:[b.jsxs("button",{className:"btn btn-secondary",onClick:()=>e("/admin/patients"),children:[b.jsx(Bm,{size:18}),"Kembali"]}),b.jsxs("button",{className:"btn btn-success",onClick:i,children:[b.jsx(aw,{size:18}),"Download Gambar"]}),b.jsxs("button",{className:"btn btn-primary",onClick:s,children:[b.jsx(Um,{size:18}),"Preview Print"]})]})]})}),b.jsxs("div",{className:"page-content",children:[b.jsx("div",{className:"card no-print mb-md",children:b.jsxs("div",{className:"card-body",children:[b.jsxs("div",{className:"flex items-center gap-md",children:[b.jsx(Bo,{size:24,style:{color:"var(--primary-500)"}}),b.jsxs("div",{children:[b.jsx("h3",{style:{fontSize:"1rem",fontWeight:600},children:"Label QR Code untuk Berkas"}),b.jsx("p",{className:"text-sm text-secondary",children:"Ukuran kecil untuk ditempel pada berkas rekam medis"})]})]}),b.jsxs("div",{className:"mt-md",style:{padding:"12px",background:"var(--gray-100)",borderRadius:"var(--radius-md)"},children:[b.jsxs("p",{className:"text-sm",children:[b.jsx("strong",{children:"Download Gambar:"})," Simpan sebagai file PNG untuk dicetak nanti"]}),b.jsxs("p",{className:"text-sm mt-xs",children:[b.jsx("strong",{children:"Preview Print:"})," Buka dialog print browser untuk langsung cetak"]})]})]})}),b.jsxs("div",{className:"print-area",ref:r,children:[b.jsx("style",{children:`
              @media print {
                @page {
                  size: A4;
                  margin: 8mm;
                }
                
                body {
                  print-color-adjust: exact;
                  -webkit-print-color-adjust: exact;
                }
                
                .print-area {
                  display: block !important;
                }
                
                .print-qr-grid {
                  display: grid !important;
                  grid-template-columns: repeat(5, 1fr) !important;
                  gap: 4mm !important;
                  padding: 0 !important;
                }
                
                .print-qr-item {
                  page-break-inside: avoid;
                  border: 1px dashed #999 !important;
                  padding: 2mm !important;
                }
                
                .no-print {
                  display: none !important;
                }

                .page-header, .card.no-print {
                  display: none !important;
                }
              }
            `}),b.jsx("div",{className:"print-qr-grid",style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"10px",padding:"16px",background:"white",borderRadius:"var(--radius-lg)"},children:t.map(o=>b.jsxs("div",{className:"print-qr-item",style:{textAlign:"center",padding:"10px",border:"1px dashed #e2e8f0",borderRadius:"4px",background:"white"},children:[b.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px"},children:b.jsx(bE,{id:`qr-canvas-${o.id}`,value:Yh(o.no_rm),size:100,level:"H"})}),b.jsx(Ob,{value:Yh(o.no_rm),size:80,level:"H",style:{margin:"0 auto"}}),b.jsx("div",{style:{marginTop:"6px",fontWeight:600,fontSize:"10px",lineHeight:1.2,color:"#1e293b"},children:o.no_rm}),b.jsx("div",{style:{fontSize:"8px",color:"#64748b",marginTop:"2px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:o.nama})]},o.id))})]})]})]})},eO=()=>{const{profile:n,updateProfile:e,updatePassword:t}=Us(),{success:r,error:i}=$a(),[s,o]=de.useState(n?.nama||""),[l,c]=de.useState(""),[h,d]=de.useState(""),[g,y]=de.useState(""),[m,_]=de.useState(!1),k=async P=>{if(P.preventDefault(),!s.trim()){i("Nama tidak boleh kosong");return}_(!0);try{const{error:O}=await e({nama:s});if(O)throw O;r("Profil berhasil diperbarui")}catch(O){i("Gagal memperbarui profil"),console.error(O)}_(!1)},N=async P=>{if(P.preventDefault(),h.length<6){i("Password baru minimal 6 karakter");return}if(h!==g){i("Konfirmasi password tidak cocok");return}_(!0);try{const{error:O}=await t(h);if(O)throw O;r("Password berhasil diperbarui"),d(""),y("")}catch(O){i(O.message||"Gagal memperbarui password"),console.error(O)}_(!1)};return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"page-header",children:b.jsxs("div",{children:[b.jsx("h1",{className:"page-title",children:"Profil Saya"}),b.jsx("p",{className:"page-subtitle",children:"Kelola informasi akun dan keamanan"})]})}),b.jsx("div",{className:"page-content",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-lg",children:[b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"card-header",children:b.jsxs("h3",{className:"card-title flex items-center gap-sm",children:[b.jsx(fd,{size:20}),"Informasi Akun"]})}),b.jsx("div",{className:"card-body",children:b.jsxs("form",{onSubmit:k,children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Email"}),b.jsx("input",{type:"email",className:"form-input",value:n?.email||"Loading...",disabled:!0,style:{backgroundColor:"var(--gray-50)",cursor:"not-allowed"}}),b.jsx("p",{className:"form-hint",children:"Email tidak dapat diubah"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Nama Lengkap"}),b.jsx("input",{type:"text",className:"form-input",value:s,onChange:P=>o(P.target.value),placeholder:"Nama lengkap Anda",required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Role"}),b.jsx("span",{className:"badge badge-primary inline-flex",children:n?.role?.toUpperCase()})]}),b.jsxs("button",{type:"submit",className:"btn btn-primary w-full mt-md",disabled:m,children:[b.jsx(zm,{size:18}),"Simpan Perubahan"]})]})})]}),b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"card-header",children:b.jsxs("h3",{className:"card-title flex items-center gap-sm",children:[b.jsx(x0,{size:20}),"Ganti Password"]})}),b.jsx("div",{className:"card-body",children:b.jsxs("form",{onSubmit:N,children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Password Baru"}),b.jsx("input",{type:"password",className:"form-input",value:h,onChange:P=>d(P.target.value),placeholder:"Minimal 6 karakter",minLength:6,required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Konfirmasi Password Baru"}),b.jsx("input",{type:"password",className:"form-input",value:g,onChange:P=>y(P.target.value),placeholder:"Ulangi password baru",minLength:6,required:!0})]}),b.jsx("div",{className:"alert alert-info mt-md",children:b.jsx("p",{className:"text-sm",children:"Pastikan password baru Anda aman dan mudah diingat."})}),b.jsxs("button",{type:"submit",className:"btn btn-primary w-full mt-md",disabled:m,children:[b.jsx(zm,{size:18}),"Update Password"]})]})})]})]})})]})},tO=()=>{const[n,e]=de.useState(!1),[t,r]=de.useState(null),[i,s]=de.useState(!1);de.useEffect(()=>{const c=h=>{h.preventDefault(),e(!0),r(h)};return window.matchMedia("(display-mode: standalone)").matches&&s(!0),window.addEventListener("beforeinstallprompt",c),()=>window.removeEventListener("beforeinstallprompt",c)},[]);const o=c=>{c.preventDefault(),t&&(t.prompt(),t.userChoice.then(h=>{h.outcome==="accepted"&&e(!1),r(null)}))},l=()=>{e(!1)};return!n||i?null:b.jsx("div",{className:"pwa-install-banner",children:b.jsxs("div",{className:"pwa-content",children:[b.jsxs("div",{className:"pwa-text",children:[b.jsx("strong",{children:"Install Aplikasi"}),b.jsx("p",{children:"Install aplikasi ini untuk pengalaman yang lebih baik dan akses lebih cepat."})]}),b.jsxs("div",{className:"pwa-actions",children:[b.jsx("button",{className:"btn btn-ghost btn-sm",onClick:l,children:"Nanti"}),b.jsx("button",{className:"btn btn-primary btn-sm",onClick:o,children:"Install"})]})]})})},nO=()=>{const{profile:n}=Us(),e=[{path:"/petugas",icon:m4,label:"Home",end:!0},{path:"/petugas/scan",icon:Xu,label:"Scan"},{path:"/petugas/search",icon:Ml,label:"Cari"},{path:"/petugas/history",icon:dd,label:"Riwayat"},{path:"/petugas/profile",icon:fd,label:"Profil"}];return b.jsxs("div",{className:"mobile-layout",children:[b.jsxs("header",{className:"mobile-header",children:[b.jsx("div",{className:"mobile-header-title",children:"RM Tracer"}),b.jsxs("div",{className:"mobile-header-subtitle",children:["Selamat datang, ",n?.nama||"Petugas"]})]}),b.jsx("main",{className:"mobile-content",children:b.jsx(B5,{})}),b.jsx("nav",{className:"bottom-nav",children:e.map(t=>b.jsxs(z5,{to:t.path,end:t.end,className:({isActive:r})=>`bottom-nav-item ${r?"active":""}`,children:[b.jsx(t.icon,{className:"bottom-nav-icon",size:24}),b.jsx("span",{children:t.label})]},t.path))})]})},rO=()=>{const{profile:n}=Us(),[e,t]=de.useState({todayScans:0,weekScans:0}),[r,i]=de.useState([]),[s,o]=de.useState(!0);de.useEffect(()=>{l()},[n]);const l=async()=>{if(n?.id){o(!0);try{const c=new Date;c.setHours(0,0,0,0);const h=new Date;h.setDate(h.getDate()-7),h.setHours(0,0,0,0);const{count:d}=await lt.from("activity_logs").select("*",{count:"exact",head:!0}).eq("user_id",n.id).eq("aksi","UPDATE_STATUS").gte("created_at",c.toISOString()),{count:g}=await lt.from("activity_logs").select("*",{count:"exact",head:!0}).eq("user_id",n.id).eq("aksi","UPDATE_STATUS").gte("created_at",h.toISOString());t({todayScans:d||0,weekScans:g||0});const{data:y}=await lt.from("activity_logs").select("*").eq("user_id",n.id).in("aksi",["UPDATE_STATUS","SCAN_QR"]).order("created_at",{ascending:!1}).limit(5);i(y||[])}catch(c){console.error("Error fetching data:",c)}o(!1)}};return b.jsxs("div",{className:"flex flex-col gap-lg",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-md",children:[b.jsxs("div",{className:"stat-card",children:[b.jsx("div",{className:"stat-value",children:e.todayScans}),b.jsx("div",{className:"stat-label",children:"Scan Hari Ini"}),b.jsx(Wm,{className:"stat-icon",size:40})]}),b.jsxs("div",{className:"stat-card success",children:[b.jsx("div",{className:"stat-value",children:e.weekScans}),b.jsx("div",{className:"stat-label",children:"Scan Minggu Ini"}),b.jsx(Bo,{className:"stat-icon",size:40})]})]}),b.jsxs(Io,{to:"/petugas/scan",className:"btn btn-action",children:[b.jsx(Xu,{size:32}),b.jsx("span",{children:"Scan QR Code"})]}),b.jsxs("div",{className:"card",children:[b.jsxs("div",{className:"card-header flex justify-between items-center",children:[b.jsx("h3",{style:{fontSize:"1rem",fontWeight:600},children:"Scan Terakhir"}),b.jsxs(Io,{to:"/petugas/history",className:"btn btn-ghost btn-sm",children:[b.jsx(dd,{size:16}),"Lihat Semua"]})]}),b.jsx("div",{className:"card-body",style:{padding:0},children:s?b.jsx("div",{style:{padding:"var(--spacing-md)"},children:[1,2,3].map(c=>b.jsx("div",{className:"skeleton skeleton-text mb-sm"},c))}):r.length===0?b.jsxs("div",{className:"empty-state",style:{padding:"var(--spacing-xl)"},children:[b.jsx(Xu,{size:40,style:{opacity:.3}}),b.jsx("p",{className:"text-secondary mt-md",children:"Belum ada scan hari ini"}),b.jsx("p",{className:"text-sm text-muted",children:"Mulai scan untuk melacak berkas"})]}):b.jsx("div",{className:"recent-list",style:{padding:"var(--spacing-sm)"},children:r.map(c=>b.jsxs(Io,{to:"/petugas/scan",state:{noRm:c.no_rm},className:"recent-item",children:[b.jsx("div",{className:"recent-item-dot",style:{backgroundColor:c.details?.status_lokasi?ha(c.details.status_lokasi,kn):"var(--gray-400)"}}),b.jsxs("div",{className:"recent-item-content",children:[b.jsx("div",{className:"recent-item-title",children:c.no_rm}),b.jsx("div",{className:"recent-item-subtitle",children:c.details?.status_lokasi?ws(c.details.status_lokasi,kn):c.aksi})]}),b.jsx("div",{className:"recent-item-time",children:Ew(c.created_at)})]},c.id))})})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-md",children:[b.jsx(Io,{to:"/petugas/search",className:"card",style:{textDecoration:"none"},children:b.jsxs("div",{className:"card-body text-center",children:[b.jsx(Bo,{size:32,style:{color:"var(--primary-500)",marginBottom:8}}),b.jsx("div",{className:"font-medium",children:"Cari Manual"}),b.jsx("div",{className:"text-sm text-secondary",children:"Input No. RM"})]})}),b.jsx(Io,{to:"/petugas/history",className:"card",style:{textDecoration:"none"},children:b.jsxs("div",{className:"card-body text-center",children:[b.jsx(dd,{size:32,style:{color:"var(--primary-500)",marginBottom:8}}),b.jsx("div",{className:"font-medium",children:"Riwayat"}),b.jsx("div",{className:"text-sm text-secondary",children:"Lihat aktivitas"})]})})]})]})},iO=()=>{const n=zl(),{profile:e}=Us(),{success:t,error:r,warning:i}=$a(),[s,o]=de.useState(!1),[l,c]=de.useState(null),[h,d]=de.useState(null),[g,y]=de.useState(null),[m,_]=de.useState(""),[k,N]=de.useState(!1),[P,O]=de.useState(null),[j,L]=de.useState(null),D=de.useRef(null),J=de.useRef(null),U=de.useRef(null);de.useEffect(()=>(n.state?.noRm?ne(n.state.noRm):H(),()=>{re(),j&&clearTimeout(j)}),[]);const H=async()=>{try{o(!0),c(null),y(null),_("");const he=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});J.current=he,D.current&&(D.current.srcObject=he,D.current.play(),W())}catch(he){console.error("Camera error:",he),r("Tidak dapat mengakses kamera. Pastikan izin kamera diaktifkan."),o(!1)}},W=()=>{const he=async()=>{if(D.current&&D.current.readyState===4){if("BarcodeDetector"in window)try{const se=await new BarcodeDetector({formats:["qr_code"]}).detect(D.current);if(se.length>0){const le=se[0].rawValue;re(),ne(le);return}}catch{}try{const $=D.current,se=document.createElement("canvas");se.width=$.videoWidth,se.height=$.videoHeight;const le=se.getContext("2d");le.drawImage($,0,0,se.width,se.height);const K=le.getImageData(0,0,se.width,se.height),T=await qf(()=>import("./jsQR-D_-jthiI.js").then(oe=>oe.j),[]),ee=(T.default||T)(K.data,K.width,K.height,{inversionAttempts:"dontInvert"});ee&&(re(),ne(ee.data))}catch($){console.error("jsQR error:",$)}}};U.current=setInterval(he,200)},re=()=>{U.current&&(clearInterval(U.current),U.current=null),J.current&&(J.current.getTracks().forEach(he=>he.stop()),J.current=null),o(!1)},{isOnline:I,addToQueue:q}=yw(),ne=async he=>{const $=MA(he);if(!$){r("QR Code tidak valid"),H();return}if(!I){c({id:"offline-"+$,no_rm:$,nama:`Pasien ${$}`,tanggal_lahir:new Date,offline:!0}),d(null),i("Mode Offline: Data pasien tidak dapat diverifikasi penuh");return}try{const{data:se,error:le}=await lt.from("patients").select("*").eq("no_rm",$).single();if(le||!se){r(`Pasien dengan No RM ${$} tidak ditemukan`),H();return}const{data:K}=await lt.from("tracer").select("*").eq("patient_id",se.id).order("updated_at",{ascending:!1}).limit(1).single();c(se),d(K?.status_lokasi||null)}catch(se){console.error("Error fetching patient:",se),r("Gagal memuat data pasien"),H()}},ie=async he=>{if(!(!l||!e)){if(y(he),N(!0),!I||l.offline){try{q({type:"SCAN_MUTATION",payload:{patient_id:l.offline?null:l.id,no_rm:l.no_rm,status_lokasi:he,keterangan:m||null,petugas_id:e.id}}),O({id:"offline-temp",patient:l,oldStatus:h,newStatus:he,keterangan:m}),d(he),t(`Disimpan ke antrian offline: ${ws(he,kn)}`),setTimeout(()=>{y(null),_(""),be()},1500)}catch($){console.error("Error queuing offline item:",$),r("Gagal menyimpan ke antrian offline")}N(!1);return}try{const{data:$,error:se}=await lt.from("tracer").insert({patient_id:l.id,status_lokasi:he,keterangan:m||null,petugas_id:e.id}).select().single();if(se)throw se;await lt.rpc("log_activity",{p_aksi:"UPDATE_STATUS",p_no_rm:l.no_rm,p_details:{status_lokasi:he,keterangan:m||null,previous_status:h}}),O({id:$.id,patient:l,oldStatus:h,newStatus:he,keterangan:m}),d(he),t(`Status diperbarui ke ${ws(he,kn)}`,{duration:Rv,onUndo:()=>ve($.id,h)});const le=setTimeout(()=>{O(null)},Rv);L(le),setTimeout(()=>{y(null),_("")},1e3)}catch($){console.error("Error updating status:",$),r("Gagal memperbarui status"),y(null)}N(!1)}},ve=async(he,$)=>{try{await lt.from("tracer").delete().eq("id",he),d($),O(null),j&&(clearTimeout(j),L(null)),t("Perubahan dibatalkan")}catch(se){console.error("Error undoing:",se),r("Gagal membatalkan perubahan")}},be=()=>{c(null),d(null),y(null),_(""),H()};return b.jsx("div",{className:"flex flex-col gap-md",children:s?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"qr-scanner-container",children:[b.jsx("video",{ref:D,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"100%",borderRadius:"var(--radius-xl)"}}),b.jsx("div",{className:"qr-scanner-overlay",children:b.jsx("div",{className:"qr-scanner-frame"})})]}),b.jsxs("div",{className:"text-center flex flex-col items-center gap-sm mt-md",children:[b.jsx("p",{className:"text-secondary",children:"Arahkan kamera ke QR Code"}),b.jsxs("div",{className:"flex gap-md",children:[b.jsxs("button",{className:"btn btn-ghost",onClick:re,children:[b.jsx(Ic,{size:18}),"Batal"]}),b.jsxs("button",{className:"btn btn-outline-primary",onClick:()=>{re(),window.location.href="/petugas/search"},children:[b.jsx(Ml,{size:18}),"Cari Manual"]})]})]})]}):l?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"patient-card",children:[b.jsxs("div",{className:"patient-card-header",children:[b.jsx("span",{className:"patient-no-rm",children:l.no_rm}),b.jsxs("button",{className:"btn btn-ghost btn-sm",onClick:be,children:[b.jsx(b4,{size:16}),"Scan Lagi"]})]}),b.jsx("h2",{className:"patient-name",children:l.nama}),b.jsxs("div",{className:"patient-info-row",children:[b.jsx(sw,{size:16}),b.jsx("span",{children:Fl(l.tanggal_lahir)}),b.jsx("span",{children:""}),b.jsx("span",{children:jp(l.tanggal_lahir)})]}),h&&b.jsxs("div",{className:"patient-current-status",children:[b.jsx("div",{className:"patient-current-status-dot",style:{backgroundColor:ha(h,kn)}}),b.jsxs("span",{className:"patient-current-status-label",children:["Lokasi saat ini: ",ws(h,kn)]})]})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"form-label mb-md",children:[b.jsx(Ju,{size:16,style:{display:"inline",marginRight:4}}),"Pilih Lokasi Tujuan"]}),b.jsx("div",{className:"status-buttons",children:kn.map(he=>b.jsxs("button",{className:`status-btn ${g===he.value?"active":""}`,onClick:()=>ie(he.value),disabled:k||g===he.value,style:{borderColor:g===he.value?he.color:void 0,background:g===he.value?`${he.color}10`:void 0},children:[b.jsx("div",{className:"status-btn-indicator",style:{backgroundColor:he.color}}),b.jsx("div",{children:b.jsx("div",{className:"status-btn-label",children:he.label})}),g===he.value&&b.jsx(b0,{size:20,style:{color:he.color,marginLeft:"auto"}})]},he.value))})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Keterangan (Opsional)"}),b.jsx("textarea",{className:"form-input form-textarea",value:m,onChange:he=>_(he.target.value),placeholder:"Tambahkan catatan jika diperlukan...",rows:2})]})]}):b.jsxs("div",{className:"text-center",style:{padding:"var(--spacing-2xl)"},children:[b.jsx(Mv,{size:64,style:{color:"var(--text-muted)",marginBottom:16}}),b.jsx("h3",{children:"Memuat Scanner..."}),b.jsx("p",{className:"text-secondary",children:"Izinkan akses kamera untuk memulai scan"}),b.jsxs("button",{className:"btn btn-primary mt-lg",onClick:H,children:[b.jsx(Mv,{size:18}),"Mulai Scan"]})]})})},sO=()=>{const n=Wl(),{error:e}=$a(),[t,r]=de.useState(""),[i,s]=de.useState([]),[o,l]=de.useState(!1),[c,h]=de.useState(!1),g=Ep(async _=>{if(!_||_.length<2){s([]),h(!1);return}l(!0),h(!0);try{const{data:k,error:N}=await lt.from("patients").select("*").or(`no_rm.ilike.%${_}%,nama.ilike.%${_}%`).order("created_at",{ascending:!1}).limit(20);if(N)throw N;const P=k.map(D=>D.id),{data:O}=await lt.from("tracer").select("patient_id, status_lokasi").in("patient_id",P).order("updated_at",{ascending:!1}),j={};O?.forEach(D=>{j[D.patient_id]||(j[D.patient_id]=D.status_lokasi)});const L=k.map(D=>({...D,current_status:j[D.id]||null}));s(L)}catch(k){console.error("Search error:",k),e("Gagal mencari pasien")}l(!1)},300),y=_=>{const k=_.target.value;r(k),g(k)},m=_=>{n("/petugas/scan",{state:{noRm:_.no_rm}})};return b.jsxs("div",{className:"flex flex-col gap-md",children:[b.jsxs("div",{className:"flex gap-sm",children:[b.jsxs("div",{className:"search-box flex-1",children:[b.jsx(Ml,{className:"search-box-icon",size:20}),b.jsx("input",{type:"text",className:"form-input",placeholder:"Cari No. RM atau nama pasien...",value:t,onChange:y,autoFocus:!0,style:{fontSize:"1rem",padding:"1rem 1rem 1rem 3rem"}})]}),b.jsxs("button",{className:"btn btn-primary",onClick:()=>n("/petugas/scan"),style:{aspectRatio:"1/1",padding:0,width:"48px"},title:"Scan QR Code",children:[b.jsx(Ml,{size:24,className:"hidden"})," ",b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("rect",{width:"5",height:"5",x:"3",y:"3"}),b.jsx("rect",{width:"5",height:"5",x:"16",y:"3"}),b.jsx("rect",{width:"5",height:"5",x:"3",y:"16"}),b.jsx("path",{d:"M21 16h-3a2 2 0 0 0-2 2v3"}),b.jsx("path",{d:"M21 21v.01"}),b.jsx("path",{d:"M12 7v3a2 2 0 0 1-2 2H7"}),b.jsx("path",{d:"M3 12h.01"}),b.jsx("path",{d:"M12 3h.01"}),b.jsx("path",{d:"M12 16v.01"}),b.jsx("path",{d:"M16 12h1"}),b.jsx("path",{d:"M21 12v.01"}),b.jsx("path",{d:"M12 21v-1"})]})]})]}),o?b.jsx("div",{className:"flex flex-col gap-sm",children:[1,2,3].map(_=>b.jsx("div",{className:"card",children:b.jsxs("div",{className:"card-body",children:[b.jsx("div",{className:"skeleton skeleton-text",style:{width:"40%"}}),b.jsx("div",{className:"skeleton skeleton-text mt-sm"})]})},_))}):i.length>0?b.jsx("div",{className:"flex flex-col gap-sm",children:i.map(_=>b.jsx("div",{className:"card",onClick:()=>m(_),style:{cursor:"pointer"},children:b.jsxs("div",{className:"card-body",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("span",{className:"badge badge-primary mb-xs",style:{fontSize:"0.75rem"},children:_.no_rm}),b.jsx("h3",{style:{fontSize:"1rem",fontWeight:600},children:_.nama}),b.jsxs("div",{className:"flex items-center gap-sm text-sm text-secondary mt-xs",children:[b.jsx("span",{children:Fl(_.tanggal_lahir)}),b.jsx("span",{children:""}),b.jsx("span",{children:jp(_.tanggal_lahir)})]})]}),_.current_status&&b.jsxs("div",{className:"badge",style:{backgroundColor:`${ha(_.current_status,kn)}20`,color:ha(_.current_status,kn)},children:[b.jsx(Ju,{size:12}),ws(_.current_status,kn)]})]}),b.jsx("div",{className:"mt-sm pt-sm border-t border-gray-100 flex justify-end",children:b.jsxs("button",{className:"btn btn-sm btn-outline-primary",onClick:k=>{k.stopPropagation(),m(_)},children:[b.jsx(Ju,{size:14}),"Update Lokasi"]})})]})},_.id))}):c?b.jsxs("div",{className:"empty-state",children:[b.jsx(Bo,{size:48,style:{opacity:.3}}),b.jsx("p",{className:"empty-state-title mt-md",children:"Tidak ditemukan"}),b.jsxs("p",{className:"empty-state-description",children:['Tidak ada pasien dengan kata kunci "',t,'"']})]}):b.jsxs("div",{className:"empty-state",children:[b.jsx(Ml,{size:48,style:{opacity:.3}}),b.jsx("p",{className:"text-secondary mt-md",children:"Ketik minimal 2 karakter untuk mencari"})]})]})},aO=()=>{const{profile:n}=Us(),[e,t]=de.useState([]),[r,i]=de.useState(!0),[s,o]=de.useState("today");de.useEffect(()=>{n?.id&&l()},[n,s]);const l=async()=>{i(!0);try{let h=lt.from("activity_logs").select("*").eq("user_id",n.id).in("aksi",["UPDATE_STATUS","SCAN_QR"]).order("created_at",{ascending:!1}).limit(50);const d=new Date;if(s==="today"){const _=new Date;_.setHours(0,0,0,0),h=h.gte("created_at",_.toISOString())}else if(s==="week"){const _=new Date;_.setDate(_.getDate()-7),h=h.gte("created_at",_.toISOString())}else if(s==="month"){const _=new Date;_.setMonth(_.getMonth()-1),h=h.gte("created_at",_.toISOString())}const{data:g,error:y}=await h;if(y)throw y;const m={};g?.forEach(_=>{const k=Fl(_.created_at,"yyyy-MM-dd");m[k]||(m[k]=[]),m[k].push(_)}),t(Object.entries(m).map(([_,k])=>({date:_,dateLabel:Fl(_,"EEEE, dd MMMM yyyy"),items:k})))}catch(h){console.error("Error fetching history:",h)}i(!1)},c=[{value:"today",label:"Hari Ini"},{value:"week",label:"Minggu Ini"},{value:"month",label:"Bulan Ini"}];return b.jsxs("div",{className:"flex flex-col gap-md",children:[b.jsx("div",{className:"flex gap-sm",children:c.map(h=>b.jsx("button",{className:`btn btn-sm ${s===h.value?"btn-primary":"btn-secondary"}`,onClick:()=>o(h.value),children:h.label},h.value))}),r?b.jsx("div",{className:"flex flex-col gap-md",children:[1,2,3].map(h=>b.jsxs("div",{children:[b.jsx("div",{className:"skeleton skeleton-text mb-sm",style:{width:"50%"}}),b.jsx("div",{className:"card",children:b.jsxs("div",{className:"card-body",children:[b.jsx("div",{className:"skeleton skeleton-text"}),b.jsx("div",{className:"skeleton skeleton-text mt-sm",style:{width:"70%"}})]})})]},h))}):e.length===0?b.jsxs("div",{className:"empty-state",children:[b.jsx(dd,{size:48,style:{opacity:.3}}),b.jsx("p",{className:"empty-state-title mt-md",children:"Belum ada riwayat"}),b.jsx("p",{className:"empty-state-description",children:"Aktivitas scan Anda akan muncul di sini"})]}):b.jsx("div",{className:"flex flex-col gap-lg",children:e.map(h=>b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-semibold text-secondary mb-sm",style:{paddingLeft:4},children:h.dateLabel}),b.jsx("div",{className:"card",children:b.jsx("div",{style:{padding:0},children:h.items.map((d,g)=>b.jsxs(Io,{to:"/petugas/scan",state:{noRm:d.no_rm},className:"flex items-center gap-md",style:{padding:"var(--spacing-md)",borderBottom:g<h.items.length-1?"1px solid var(--border)":"none",textDecoration:"none",color:"inherit"},children:[b.jsx("div",{style:{width:40,height:40,borderRadius:"var(--radius-lg)",background:d.details?.status_lokasi?`${ha(d.details.status_lokasi,kn)}20`:"var(--gray-100)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:d.aksi==="UPDATE_STATUS"?b.jsx(Ju,{size:18,style:{color:d.details?.status_lokasi?ha(d.details.status_lokasi,kn):"var(--gray-500)"}}):b.jsx(Bo,{size:18,style:{color:"var(--gray-500)"}})}),b.jsxs("div",{style:{flex:1,minWidth:0},children:[b.jsx("div",{className:"font-medium",children:d.no_rm}),b.jsx("div",{className:"text-sm text-secondary",children:d.aksi==="UPDATE_STATUS"&&d.details?.status_lokasi?ws(d.details.status_lokasi,kn):"Scan QR"})]}),b.jsx("div",{className:"text-sm text-muted",style:{flexShrink:0},children:Fu(d.created_at).split(", ")[1]}),b.jsx(Pp,{size:16,style:{color:"var(--text-muted)",flexShrink:0}})]},d.id))})})]},h.date))})]})},oO=()=>{const n=Wl(),{profile:e,signOut:t,updateProfile:r,updatePassword:i}=Us(),{success:s,error:o}=$a(),[l,c]=de.useState(!1),[h,d]=de.useState(!1),[g,y]=de.useState(!1),[m,_]=de.useState(!1),[k,N]=de.useState({nama:e?.nama||""}),[P,O]=de.useState({newPassword:"",confirmPassword:""}),j=async U=>{if(U.preventDefault(),!k.nama){o("Nama harus diisi");return}y(!0);const{error:H}=await r({nama:k.nama});H?o("Gagal memperbarui profil"):(s("Profil berhasil diperbarui"),c(!1)),y(!1)},L=async U=>{if(U.preventDefault(),P.newPassword.length<6){o("Password minimal 6 karakter");return}if(P.newPassword!==P.confirmPassword){o("Password tidak cocok");return}y(!0);const{error:H}=await i(P.newPassword);H?o("Gagal mengubah password"):(s("Password berhasil diubah"),d(!1),O({newPassword:"",confirmPassword:""})),y(!1)},D=async()=>{confirm("Apakah Anda yakin ingin keluar aplikasi?")&&(_(!0),await new Promise(U=>setTimeout(U,800)),await t(),n("/login"))},J=U=>U?U.split(" ").map(H=>H[0]).join("").toUpperCase().slice(0,2):"U";return b.jsxs("div",{className:"flex flex-col gap-lg",children:[m&&b.jsx(Wp,{}),b.jsx("div",{className:"card",children:b.jsxs("div",{className:"card-body text-center",children:[b.jsx("div",{style:{width:80,height:80,borderRadius:"var(--radius-full)",background:"linear-gradient(135deg, var(--primary-500), var(--primary-700))",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",fontWeight:600,margin:"0 auto var(--spacing-md)"},children:J(e?.nama)}),b.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:600},children:e?.nama||"User"}),b.jsxs("div",{className:"flex items-center justify-center gap-sm text-secondary mt-xs",children:[b.jsx(uw,{size:14}),b.jsx("span",{children:e?.email})]}),b.jsxs("div",{className:"badge badge-primary mt-md",style:{margin:"0 auto"},children:[b.jsx(pw,{size:12}),e?.role==="admin"?"Administrator":"Petugas"]})]})}),b.jsxs("div",{className:"card",children:[b.jsxs("div",{className:"card-header flex justify-between items-center",children:[b.jsx("h3",{style:{fontSize:"1rem",fontWeight:600},children:"Informasi Profil"}),!l&&b.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>c(!0),children:"Edit"})]}),b.jsx("div",{className:"card-body",children:l?b.jsxs("form",{onSubmit:j,children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Nama Lengkap"}),b.jsx("input",{type:"text",className:"form-input",value:k.nama,onChange:U=>N({...k,nama:U.target.value}),required:!0})]}),b.jsxs("div",{className:"flex gap-sm",children:[b.jsx("button",{type:"button",className:"btn btn-secondary flex-1",onClick:()=>{c(!1),N({nama:e?.nama||""})},children:"Batal"}),b.jsxs("button",{type:"submit",className:"btn btn-primary flex-1",disabled:g,children:[b.jsx(zm,{size:16}),g?"Menyimpan...":"Simpan"]})]})]}):b.jsxs("div",{className:"flex items-center gap-md",children:[b.jsx(fd,{size:20,style:{color:"var(--text-muted)"}}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm text-secondary",children:"Nama"}),b.jsx("div",{className:"font-medium",children:e?.nama})]})]})})]}),b.jsxs("div",{className:"card",children:[b.jsxs("div",{className:"card-header flex justify-between items-center",children:[b.jsx("h3",{style:{fontSize:"1rem",fontWeight:600},children:"Keamanan"}),!h&&b.jsxs("button",{className:"btn btn-ghost btn-sm",onClick:()=>d(!0),children:[b.jsx(lw,{size:14}),"Ganti Password"]})]}),h&&b.jsx("div",{className:"card-body",children:b.jsxs("form",{onSubmit:L,children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Password Baru"}),b.jsx("input",{type:"password",className:"form-input",value:P.newPassword,onChange:U=>O({...P,newPassword:U.target.value}),placeholder:"Minimal 6 karakter",minLength:6,required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Konfirmasi Password"}),b.jsx("input",{type:"password",className:"form-input",value:P.confirmPassword,onChange:U=>O({...P,confirmPassword:U.target.value}),placeholder:"Ulangi password baru",required:!0})]}),b.jsxs("div",{className:"flex gap-sm",children:[b.jsx("button",{type:"button",className:"btn btn-secondary flex-1",onClick:()=>{d(!1),O({newPassword:"",confirmPassword:""})},children:"Batal"}),b.jsx("button",{type:"submit",className:"btn btn-primary flex-1",disabled:g,children:g?"Menyimpan...":"Simpan Password"})]})]})})]}),b.jsxs("button",{className:"btn btn-danger btn-block",onClick:D,children:[b.jsx(cw,{size:18}),"Keluar dari Aplikasi"]})]})},Wp=()=>b.jsxs("div",{className:"loading-overlay",children:[b.jsx("div",{className:"spinner spinner-lg"}),b.jsx("p",{className:"loading-text",children:"Memuat..."})]}),C5=({children:n,allowedRoles:e=[]})=>{const{user:t,profile:r,loading:i,refreshProfile:s}=Us();return i?b.jsx(Wp,{}):t?t&&!r?b.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50",children:b.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md max-w-md w-full mx-4",children:[b.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Gagal Memuat Profil"}),b.jsx("p",{className:"text-gray-600 mb-6",children:"Terjadi kesalahan saat memuat data pengguna. Pastikan koneksi internet Anda stabil."}),b.jsxs("div",{className:"flex justify-center gap-3",children:[b.jsx("button",{onClick:s,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Coba Lagi"}),b.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Refresh Halaman"})]})]})}):e.length>0&&!e.includes(r?.role)?r?.role==="admin"?b.jsx(Oc,{to:"/admin",replace:!0}):b.jsx(Oc,{to:"/petugas",replace:!0}):n:b.jsx(Oc,{to:"/login",replace:!0})},lO=({children:n})=>{const{user:e,profile:t,loading:r}=Us();return r?b.jsx(Wp,{}):e&&t?t.role==="admin"?b.jsx(Oc,{to:"/admin",replace:!0}):b.jsx(Oc,{to:"/petugas",replace:!0}):n};function cO(){return b.jsxs(_S,{children:[b.jsx(Hr,{path:"/login",element:b.jsx(lO,{children:b.jsx(E4,{})})}),b.jsxs(Hr,{path:"/admin",element:b.jsx(C5,{allowedRoles:["admin"],children:b.jsx(j4,{})}),children:[b.jsx(Hr,{index:!0,element:b.jsx(mE,{})}),b.jsx(Hr,{path:"patients",element:b.jsx(_E,{})}),b.jsx(Hr,{path:"patients/print",element:b.jsx(ZT,{})}),b.jsx(Hr,{path:"patients/:id",element:b.jsx(xE,{})}),b.jsx(Hr,{path:"users",element:b.jsx(SE,{})}),b.jsx(Hr,{path:"logs",element:b.jsx(QT,{})}),b.jsx(Hr,{path:"profile",element:b.jsx(eO,{})})]}),b.jsxs(Hr,{path:"/petugas",element:b.jsx(C5,{allowedRoles:["petugas","admin"],children:b.jsx(nO,{})}),children:[b.jsx(Hr,{index:!0,element:b.jsx(rO,{})}),b.jsx(Hr,{path:"scan",element:b.jsx(iO,{})}),b.jsx(Hr,{path:"search",element:b.jsx(sO,{})}),b.jsx(Hr,{path:"history",element:b.jsx(aO,{})}),b.jsx(Hr,{path:"profile",element:b.jsx(oO,{})})]}),b.jsx(Hr,{path:"/",element:b.jsx(Oc,{to:"/login",replace:!0})}),b.jsx(Hr,{path:"*",element:b.jsx(Oc,{to:"/login",replace:!0})})]})}function uO(){return b.jsx(ES,{children:b.jsx(u4,{children:b.jsx(A4,{children:b.jsxs(P4,{children:[b.jsx(tO,{}),b.jsx(C4,{}),b.jsx(cO,{})]})})})})}Cx.createRoot(document.getElementById("root")).render(b.jsx(de.StrictMode,{children:b.jsx(uO,{})}));export{wn as _,hO as c,wx as g};
